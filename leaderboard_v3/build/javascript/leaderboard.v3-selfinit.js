/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 2);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/ansi-html/index.js":
/*!*****************************************!*\
  !*** ./node_modules/ansi-html/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = ansiHTML

// Reference to https://github.com/sindresorhus/ansi-regex
var _regANSI = /(?:(?:\u001b\[)|\u009b)(?:(?:[0-9]{1,3})?(?:(?:;[0-9]{0,3})*)?[A-M|f-m])|\u001b[A-M]/

var _defColors = {
  reset: ['fff', '000'], // [FOREGROUD_COLOR, BACKGROUND_COLOR]
  black: '000',
  red: 'ff0000',
  green: '209805',
  yellow: 'e8bf03',
  blue: '0000ff',
  magenta: 'ff00ff',
  cyan: '00ffee',
  lightgrey: 'f0f0f0',
  darkgrey: '888'
}
var _styles = {
  30: 'black',
  31: 'red',
  32: 'green',
  33: 'yellow',
  34: 'blue',
  35: 'magenta',
  36: 'cyan',
  37: 'lightgrey'
}
var _openTags = {
  '1': 'font-weight:bold', // bold
  '2': 'opacity:0.5', // dim
  '3': '<i>', // italic
  '4': '<u>', // underscore
  '8': 'display:none', // hidden
  '9': '<del>' // delete
}
var _closeTags = {
  '23': '</i>', // reset italic
  '24': '</u>', // reset underscore
  '29': '</del>' // reset delete
}

;[0, 21, 22, 27, 28, 39, 49].forEach(function (n) {
  _closeTags[n] = '</span>'
})

/**
 * Converts text with ANSI color codes to HTML markup.
 * @param {String} text
 * @returns {*}
 */
function ansiHTML (text) {
  // Returns the text if the string has no ANSI escape code.
  if (!_regANSI.test(text)) {
    return text
  }

  // Cache opened sequence.
  var ansiCodes = []
  // Replace with markup.
  var ret = text.replace(/\033\[(\d+)*m/g, function (match, seq) {
    var ot = _openTags[seq]
    if (ot) {
      // If current sequence has been opened, close it.
      if (!!~ansiCodes.indexOf(seq)) { // eslint-disable-line no-extra-boolean-cast
        ansiCodes.pop()
        return '</span>'
      }
      // Open tag.
      ansiCodes.push(seq)
      return ot[0] === '<' ? ot : '<span style="' + ot + ';">'
    }

    var ct = _closeTags[seq]
    if (ct) {
      // Pop sequence
      ansiCodes.pop()
      return ct
    }
    return ''
  })

  // Make sure tags are closed.
  var l = ansiCodes.length
  ;(l > 0) && (ret += Array(l + 1).join('</span>'))

  return ret
}

/**
 * Customize colors.
 * @param {Object} colors reference to _defColors
 */
ansiHTML.setColors = function (colors) {
  if (typeof colors !== 'object') {
    throw new Error('`colors` parameter must be an Object.')
  }

  var _finalColors = {}
  for (var key in _defColors) {
    var hex = colors.hasOwnProperty(key) ? colors[key] : null
    if (!hex) {
      _finalColors[key] = _defColors[key]
      continue
    }
    if ('reset' === key) {
      if (typeof hex === 'string') {
        hex = [hex]
      }
      if (!Array.isArray(hex) || hex.length === 0 || hex.some(function (h) {
        return typeof h !== 'string'
      })) {
        throw new Error('The value of `' + key + '` property must be an Array and each item could only be a hex string, e.g.: FF0000')
      }
      var defHexColor = _defColors[key]
      if (!hex[0]) {
        hex[0] = defHexColor[0]
      }
      if (hex.length === 1 || !hex[1]) {
        hex = [hex[0]]
        hex.push(defHexColor[1])
      }

      hex = hex.slice(0, 2)
    } else if (typeof hex !== 'string') {
      throw new Error('The value of `' + key + '` property must be a hex string, e.g.: FF0000')
    }
    _finalColors[key] = hex
  }
  _setTags(_finalColors)
}

/**
 * Reset colors.
 */
ansiHTML.reset = function () {
  _setTags(_defColors)
}

/**
 * Expose tags, including open and close.
 * @type {Object}
 */
ansiHTML.tags = {}

if (Object.defineProperty) {
  Object.defineProperty(ansiHTML.tags, 'open', {
    get: function () { return _openTags }
  })
  Object.defineProperty(ansiHTML.tags, 'close', {
    get: function () { return _closeTags }
  })
} else {
  ansiHTML.tags.open = _openTags
  ansiHTML.tags.close = _closeTags
}

function _setTags (colors) {
  // reset all
  _openTags['0'] = 'font-weight:normal;opacity:1;color:#' + colors.reset[0] + ';background:#' + colors.reset[1]
  // inverse
  _openTags['7'] = 'color:#' + colors.reset[1] + ';background:#' + colors.reset[0]
  // dark grey
  _openTags['90'] = 'color:#' + colors.darkgrey

  for (var code in _styles) {
    var color = _styles[code]
    var oriColor = colors[color] || '000'
    _openTags[code] = 'color:#' + oriColor
    code = parseInt(code)
    _openTags[(code + 10).toString()] = 'background:#' + oriColor
  }
}

ansiHTML.reset()


/***/ }),

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(
      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)
    ))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),

/***/ "./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



var base64 = __webpack_require__(/*! base64-js */ "./node_modules/base64-js/index.js")
var ieee754 = __webpack_require__(/*! ieee754 */ "./node_modules/ieee754/index.js")
var isArray = __webpack_require__(/*! isarray */ "./node_modules/isarray/index.js")

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * Due to various browser bugs, sometimes the Object implementation will be used even
 * when the browser supports typed arrays.
 *
 * Note:
 *
 *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,
 *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.
 *
 *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.
 *
 *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of
 *     incorrect length in some situations.

 * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they
 * get the Object implementation, which is slower but behaves correctly.
 */
Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined
  ? global.TYPED_ARRAY_SUPPORT
  : typedArraySupport()

/*
 * Export kMaxLength after typed array support is determined.
 */
exports.kMaxLength = kMaxLength()

function typedArraySupport () {
  try {
    var arr = new Uint8Array(1)
    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}
    return arr.foo() === 42 && // typed array instances can be augmented
        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`
        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`
  } catch (e) {
    return false
  }
}

function kMaxLength () {
  return Buffer.TYPED_ARRAY_SUPPORT
    ? 0x7fffffff
    : 0x3fffffff
}

function createBuffer (that, length) {
  if (kMaxLength() < length) {
    throw new RangeError('Invalid typed array length')
  }
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = new Uint8Array(length)
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    if (that === null) {
      that = new Buffer(length)
    }
    that.length = length
  }

  return that
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {
    return new Buffer(arg, encodingOrOffset, length)
  }

  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new Error(
        'If encoding is specified then the first argument must be a string'
      )
    }
    return allocUnsafe(this, arg)
  }
  return from(this, arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

// TODO: Legacy, not needed anymore. Remove in next major version.
Buffer._augment = function (arr) {
  arr.__proto__ = Buffer.prototype
  return arr
}

function from (that, value, encodingOrOffset, length) {
  if (typeof value === 'number') {
    throw new TypeError('"value" argument must not be a number')
  }

  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {
    return fromArrayBuffer(that, value, encodingOrOffset, length)
  }

  if (typeof value === 'string') {
    return fromString(that, value, encodingOrOffset)
  }

  return fromObject(that, value)
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(null, value, encodingOrOffset, length)
}

if (Buffer.TYPED_ARRAY_SUPPORT) {
  Buffer.prototype.__proto__ = Uint8Array.prototype
  Buffer.__proto__ = Uint8Array
  if (typeof Symbol !== 'undefined' && Symbol.species &&
      Buffer[Symbol.species] === Buffer) {
    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
    Object.defineProperty(Buffer, Symbol.species, {
      value: null,
      configurable: true
    })
  }
}

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be a number')
  } else if (size < 0) {
    throw new RangeError('"size" argument must not be negative')
  }
}

function alloc (that, size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(that, size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(that, size).fill(fill, encoding)
      : createBuffer(that, size).fill(fill)
  }
  return createBuffer(that, size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(null, size, fill, encoding)
}

function allocUnsafe (that, size) {
  assertSize(size)
  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) {
    for (var i = 0; i < size; ++i) {
      that[i] = 0
    }
  }
  return that
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(null, size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(null, size)
}

function fromString (that, string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('"encoding" must be a valid string encoding')
  }

  var length = byteLength(string, encoding) | 0
  that = createBuffer(that, length)

  var actual = that.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    that = that.slice(0, actual)
  }

  return that
}

function fromArrayLike (that, array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  that = createBuffer(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

function fromArrayBuffer (that, array, byteOffset, length) {
  array.byteLength // this throws if `array` is not a valid ArrayBuffer

  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('\'offset\' is out of bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('\'length\' is out of bounds')
  }

  if (byteOffset === undefined && length === undefined) {
    array = new Uint8Array(array)
  } else if (length === undefined) {
    array = new Uint8Array(array, byteOffset)
  } else {
    array = new Uint8Array(array, byteOffset, length)
  }

  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = array
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    that = fromArrayLike(that, array)
  }
  return that
}

function fromObject (that, obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    that = createBuffer(that, len)

    if (that.length === 0) {
      return that
    }

    obj.copy(that, 0, 0, len)
    return that
  }

  if (obj) {
    if ((typeof ArrayBuffer !== 'undefined' &&
        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {
      if (typeof obj.length !== 'number' || isnan(obj.length)) {
        return createBuffer(that, 0)
      }
      return fromArrayLike(that, obj)
    }

    if (obj.type === 'Buffer' && isArray(obj.data)) {
      return fromArrayLike(that, obj.data)
    }
  }

  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')
}

function checked (length) {
  // Note: cannot use `length < kMaxLength()` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= kMaxLength()) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + kMaxLength().toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return !!(b != null && b._isBuffer)
}

Buffer.compare = function compare (a, b) {
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('Arguments must be Buffers')
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    }
    buf.copy(buffer, pos)
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&
      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    string = '' + string
  }

  var len = string.length
  if (len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
      case undefined:
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) return utf8ToBytes(string).length // assume utf8
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect
// Buffer instances.
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length | 0
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  if (this.length > 0) {
    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')
    if (this.length > max) str += ' ... '
  }
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (!Buffer.isBuffer(target)) {
    throw new TypeError('Argument must be a Buffer')
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset  // Coerce to Number.
  if (isNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (Buffer.TYPED_ARRAY_SUPPORT &&
        typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (isNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function latin1Write (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset | 0
    if (isFinite(length)) {
      length = length | 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  // legacy write(string, encoding, offset, length) - remove in v0.13
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
      : (firstByte > 0xBF) ? 2
      : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    newBuf = this.subarray(start, end)
    newBuf.__proto__ = Buffer.prototype
  } else {
    var sliceLen = end - start
    newBuf = new Buffer(sliceLen, undefined)
    for (var i = 0; i < sliceLen; ++i) {
      newBuf[i] = this[i + start]
    }
  }

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  this[offset] = (value & 0xff)
  return offset + 1
}

function objectWriteUInt16 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {
    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
      (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

function objectWriteUInt32 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffffffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {
    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset + 3] = (value >>> 24)
    this[offset + 2] = (value >>> 16)
    this[offset + 1] = (value >>> 8)
    this[offset] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
    this[offset + 2] = (value >>> 16)
    this[offset + 3] = (value >>> 24)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start
  var i

  if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start]
    }
  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {
    // ascending copy from start
    for (i = 0; i < len; ++i) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, start + len),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if (code < 256) {
        val = code
      }
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
  } else if (typeof val === 'number') {
    val = val & 255
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : utf8ToBytes(new Buffer(val, encoding).toString())
    var len = bytes.length
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = stringtrim(str).replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

function isnan (val) {
  return val !== val // eslint-disable-line no-self-compare
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/events/events.js":
/*!***************************************!*\
  !*** ./node_modules/events/events.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var R = typeof Reflect === 'object' ? Reflect : null
var ReflectApply = R && typeof R.apply === 'function'
  ? R.apply
  : function ReflectApply(target, receiver, args) {
    return Function.prototype.apply.call(target, receiver, args);
  }

var ReflectOwnKeys
if (R && typeof R.ownKeys === 'function') {
  ReflectOwnKeys = R.ownKeys
} else if (Object.getOwnPropertySymbols) {
  ReflectOwnKeys = function ReflectOwnKeys(target) {
    return Object.getOwnPropertyNames(target)
      .concat(Object.getOwnPropertySymbols(target));
  };
} else {
  ReflectOwnKeys = function ReflectOwnKeys(target) {
    return Object.getOwnPropertyNames(target);
  };
}

function ProcessEmitWarning(warning) {
  if (console && console.warn) console.warn(warning);
}

var NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {
  return value !== value;
}

function EventEmitter() {
  EventEmitter.init.call(this);
}
module.exports = EventEmitter;
module.exports.once = once;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._eventsCount = 0;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
var defaultMaxListeners = 10;

function checkListener(listener) {
  if (typeof listener !== 'function') {
    throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof listener);
  }
}

Object.defineProperty(EventEmitter, 'defaultMaxListeners', {
  enumerable: true,
  get: function() {
    return defaultMaxListeners;
  },
  set: function(arg) {
    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {
      throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + arg + '.');
    }
    defaultMaxListeners = arg;
  }
});

EventEmitter.init = function() {

  if (this._events === undefined ||
      this._events === Object.getPrototypeOf(this)._events) {
    this._events = Object.create(null);
    this._eventsCount = 0;
  }

  this._maxListeners = this._maxListeners || undefined;
};

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {
  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {
    throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + n + '.');
  }
  this._maxListeners = n;
  return this;
};

function _getMaxListeners(that) {
  if (that._maxListeners === undefined)
    return EventEmitter.defaultMaxListeners;
  return that._maxListeners;
}

EventEmitter.prototype.getMaxListeners = function getMaxListeners() {
  return _getMaxListeners(this);
};

EventEmitter.prototype.emit = function emit(type) {
  var args = [];
  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);
  var doError = (type === 'error');

  var events = this._events;
  if (events !== undefined)
    doError = (doError && events.error === undefined);
  else if (!doError)
    return false;

  // If there is no 'error' event listener then throw.
  if (doError) {
    var er;
    if (args.length > 0)
      er = args[0];
    if (er instanceof Error) {
      // Note: The comments on the `throw` lines are intentional, they show
      // up in Node's output if this results in an unhandled exception.
      throw er; // Unhandled 'error' event
    }
    // At least give some kind of context to the user
    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));
    err.context = er;
    throw err; // Unhandled 'error' event
  }

  var handler = events[type];

  if (handler === undefined)
    return false;

  if (typeof handler === 'function') {
    ReflectApply(handler, this, args);
  } else {
    var len = handler.length;
    var listeners = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      ReflectApply(listeners[i], this, args);
  }

  return true;
};

function _addListener(target, type, listener, prepend) {
  var m;
  var events;
  var existing;

  checkListener(listener);

  events = target._events;
  if (events === undefined) {
    events = target._events = Object.create(null);
    target._eventsCount = 0;
  } else {
    // To avoid recursion in the case that type === "newListener"! Before
    // adding it to the listeners, first emit "newListener".
    if (events.newListener !== undefined) {
      target.emit('newListener', type,
                  listener.listener ? listener.listener : listener);

      // Re-assign `events` because a newListener handler could have caused the
      // this._events to be assigned to a new object
      events = target._events;
    }
    existing = events[type];
  }

  if (existing === undefined) {
    // Optimize the case of one listener. Don't need the extra array object.
    existing = events[type] = listener;
    ++target._eventsCount;
  } else {
    if (typeof existing === 'function') {
      // Adding the second element, need to change to array.
      existing = events[type] =
        prepend ? [listener, existing] : [existing, listener];
      // If we've already got an array, just append.
    } else if (prepend) {
      existing.unshift(listener);
    } else {
      existing.push(listener);
    }

    // Check for listener leak
    m = _getMaxListeners(target);
    if (m > 0 && existing.length > m && !existing.warned) {
      existing.warned = true;
      // No error code for this since it is a Warning
      // eslint-disable-next-line no-restricted-syntax
      var w = new Error('Possible EventEmitter memory leak detected. ' +
                          existing.length + ' ' + String(type) + ' listeners ' +
                          'added. Use emitter.setMaxListeners() to ' +
                          'increase limit');
      w.name = 'MaxListenersExceededWarning';
      w.emitter = target;
      w.type = type;
      w.count = existing.length;
      ProcessEmitWarning(w);
    }
  }

  return target;
}

EventEmitter.prototype.addListener = function addListener(type, listener) {
  return _addListener(this, type, listener, false);
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.prependListener =
    function prependListener(type, listener) {
      return _addListener(this, type, listener, true);
    };

function onceWrapper() {
  if (!this.fired) {
    this.target.removeListener(this.type, this.wrapFn);
    this.fired = true;
    if (arguments.length === 0)
      return this.listener.call(this.target);
    return this.listener.apply(this.target, arguments);
  }
}

function _onceWrap(target, type, listener) {
  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };
  var wrapped = onceWrapper.bind(state);
  wrapped.listener = listener;
  state.wrapFn = wrapped;
  return wrapped;
}

EventEmitter.prototype.once = function once(type, listener) {
  checkListener(listener);
  this.on(type, _onceWrap(this, type, listener));
  return this;
};

EventEmitter.prototype.prependOnceListener =
    function prependOnceListener(type, listener) {
      checkListener(listener);
      this.prependListener(type, _onceWrap(this, type, listener));
      return this;
    };

// Emits a 'removeListener' event if and only if the listener was removed.
EventEmitter.prototype.removeListener =
    function removeListener(type, listener) {
      var list, events, position, i, originalListener;

      checkListener(listener);

      events = this._events;
      if (events === undefined)
        return this;

      list = events[type];
      if (list === undefined)
        return this;

      if (list === listener || list.listener === listener) {
        if (--this._eventsCount === 0)
          this._events = Object.create(null);
        else {
          delete events[type];
          if (events.removeListener)
            this.emit('removeListener', type, list.listener || listener);
        }
      } else if (typeof list !== 'function') {
        position = -1;

        for (i = list.length - 1; i >= 0; i--) {
          if (list[i] === listener || list[i].listener === listener) {
            originalListener = list[i].listener;
            position = i;
            break;
          }
        }

        if (position < 0)
          return this;

        if (position === 0)
          list.shift();
        else {
          spliceOne(list, position);
        }

        if (list.length === 1)
          events[type] = list[0];

        if (events.removeListener !== undefined)
          this.emit('removeListener', type, originalListener || listener);
      }

      return this;
    };

EventEmitter.prototype.off = EventEmitter.prototype.removeListener;

EventEmitter.prototype.removeAllListeners =
    function removeAllListeners(type) {
      var listeners, events, i;

      events = this._events;
      if (events === undefined)
        return this;

      // not listening for removeListener, no need to emit
      if (events.removeListener === undefined) {
        if (arguments.length === 0) {
          this._events = Object.create(null);
          this._eventsCount = 0;
        } else if (events[type] !== undefined) {
          if (--this._eventsCount === 0)
            this._events = Object.create(null);
          else
            delete events[type];
        }
        return this;
      }

      // emit removeListener for all listeners on all events
      if (arguments.length === 0) {
        var keys = Object.keys(events);
        var key;
        for (i = 0; i < keys.length; ++i) {
          key = keys[i];
          if (key === 'removeListener') continue;
          this.removeAllListeners(key);
        }
        this.removeAllListeners('removeListener');
        this._events = Object.create(null);
        this._eventsCount = 0;
        return this;
      }

      listeners = events[type];

      if (typeof listeners === 'function') {
        this.removeListener(type, listeners);
      } else if (listeners !== undefined) {
        // LIFO order
        for (i = listeners.length - 1; i >= 0; i--) {
          this.removeListener(type, listeners[i]);
        }
      }

      return this;
    };

function _listeners(target, type, unwrap) {
  var events = target._events;

  if (events === undefined)
    return [];

  var evlistener = events[type];
  if (evlistener === undefined)
    return [];

  if (typeof evlistener === 'function')
    return unwrap ? [evlistener.listener || evlistener] : [evlistener];

  return unwrap ?
    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);
}

EventEmitter.prototype.listeners = function listeners(type) {
  return _listeners(this, type, true);
};

EventEmitter.prototype.rawListeners = function rawListeners(type) {
  return _listeners(this, type, false);
};

EventEmitter.listenerCount = function(emitter, type) {
  if (typeof emitter.listenerCount === 'function') {
    return emitter.listenerCount(type);
  } else {
    return listenerCount.call(emitter, type);
  }
};

EventEmitter.prototype.listenerCount = listenerCount;
function listenerCount(type) {
  var events = this._events;

  if (events !== undefined) {
    var evlistener = events[type];

    if (typeof evlistener === 'function') {
      return 1;
    } else if (evlistener !== undefined) {
      return evlistener.length;
    }
  }

  return 0;
}

EventEmitter.prototype.eventNames = function eventNames() {
  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];
};

function arrayClone(arr, n) {
  var copy = new Array(n);
  for (var i = 0; i < n; ++i)
    copy[i] = arr[i];
  return copy;
}

function spliceOne(list, index) {
  for (; index + 1 < list.length; index++)
    list[index] = list[index + 1];
  list.pop();
}

function unwrapListeners(arr) {
  var ret = new Array(arr.length);
  for (var i = 0; i < ret.length; ++i) {
    ret[i] = arr[i].listener || arr[i];
  }
  return ret;
}

function once(emitter, name) {
  return new Promise(function (resolve, reject) {
    function eventListener() {
      if (errorListener !== undefined) {
        emitter.removeListener('error', errorListener);
      }
      resolve([].slice.call(arguments));
    };
    var errorListener;

    // Adding an error listener is not optional because
    // if an error is thrown on an event emitter we cannot
    // guarantee that the actual event we are waiting will
    // be fired. The result could be a silent way to create
    // memory or file descriptor leaks, which is something
    // we should avoid.
    if (name !== 'error') {
      errorListener = function errorListener(err) {
        emitter.removeListener(name, eventListener);
        reject(err);
      };

      emitter.once('error', errorListener);
    }

    emitter.once(name, eventListener);
  });
}


/***/ }),

/***/ "./node_modules/html-entities/lib/html4-entities.js":
/*!**********************************************************!*\
  !*** ./node_modules/html-entities/lib/html4-entities.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var HTML_ALPHA = ['apos', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'Aelig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'acirc', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'quot', 'amp', 'lt', 'gt', 'OElig', 'oelig', 'Scaron', 'scaron', 'Yuml', 'circ', 'tilde', 'ensp', 'emsp', 'thinsp', 'zwnj', 'zwj', 'lrm', 'rlm', 'ndash', 'mdash', 'lsquo', 'rsquo', 'sbquo', 'ldquo', 'rdquo', 'bdquo', 'dagger', 'Dagger', 'permil', 'lsaquo', 'rsaquo', 'euro', 'fnof', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigmaf', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'thetasym', 'upsih', 'piv', 'bull', 'hellip', 'prime', 'Prime', 'oline', 'frasl', 'weierp', 'image', 'real', 'trade', 'alefsym', 'larr', 'uarr', 'rarr', 'darr', 'harr', 'crarr', 'lArr', 'uArr', 'rArr', 'dArr', 'hArr', 'forall', 'part', 'exist', 'empty', 'nabla', 'isin', 'notin', 'ni', 'prod', 'sum', 'minus', 'lowast', 'radic', 'prop', 'infin', 'ang', 'and', 'or', 'cap', 'cup', 'int', 'there4', 'sim', 'cong', 'asymp', 'ne', 'equiv', 'le', 'ge', 'sub', 'sup', 'nsub', 'sube', 'supe', 'oplus', 'otimes', 'perp', 'sdot', 'lceil', 'rceil', 'lfloor', 'rfloor', 'lang', 'rang', 'loz', 'spades', 'clubs', 'hearts', 'diams'];
var HTML_CODES = [39, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 34, 38, 60, 62, 338, 339, 352, 353, 376, 710, 732, 8194, 8195, 8201, 8204, 8205, 8206, 8207, 8211, 8212, 8216, 8217, 8218, 8220, 8221, 8222, 8224, 8225, 8240, 8249, 8250, 8364, 402, 913, 914, 915, 916, 917, 918, 919, 920, 921, 922, 923, 924, 925, 926, 927, 928, 929, 931, 932, 933, 934, 935, 936, 937, 945, 946, 947, 948, 949, 950, 951, 952, 953, 954, 955, 956, 957, 958, 959, 960, 961, 962, 963, 964, 965, 966, 967, 968, 969, 977, 978, 982, 8226, 8230, 8242, 8243, 8254, 8260, 8472, 8465, 8476, 8482, 8501, 8592, 8593, 8594, 8595, 8596, 8629, 8656, 8657, 8658, 8659, 8660, 8704, 8706, 8707, 8709, 8711, 8712, 8713, 8715, 8719, 8721, 8722, 8727, 8730, 8733, 8734, 8736, 8743, 8744, 8745, 8746, 8747, 8756, 8764, 8773, 8776, 8800, 8801, 8804, 8805, 8834, 8835, 8836, 8838, 8839, 8853, 8855, 8869, 8901, 8968, 8969, 8970, 8971, 9001, 9002, 9674, 9824, 9827, 9829, 9830];
var alphaIndex = {};
var numIndex = {};
(function () {
    var i = 0;
    var length = HTML_ALPHA.length;
    while (i < length) {
        var a = HTML_ALPHA[i];
        var c = HTML_CODES[i];
        alphaIndex[a] = String.fromCharCode(c);
        numIndex[c] = a;
        i++;
    }
})();
var Html4Entities = /** @class */ (function () {
    function Html4Entities() {
    }
    Html4Entities.prototype.decode = function (str) {
        if (!str || !str.length) {
            return '';
        }
        return str.replace(/&(#?[\w\d]+);?/g, function (s, entity) {
            var chr;
            if (entity.charAt(0) === "#") {
                var code = entity.charAt(1).toLowerCase() === 'x' ?
                    parseInt(entity.substr(2), 16) :
                    parseInt(entity.substr(1));
                if (!(isNaN(code) || code < -32768 || code > 65535)) {
                    chr = String.fromCharCode(code);
                }
            }
            else {
                chr = alphaIndex[entity];
            }
            return chr || s;
        });
    };
    Html4Entities.decode = function (str) {
        return new Html4Entities().decode(str);
    };
    Html4Entities.prototype.encode = function (str) {
        if (!str || !str.length) {
            return '';
        }
        var strLength = str.length;
        var result = '';
        var i = 0;
        while (i < strLength) {
            var alpha = numIndex[str.charCodeAt(i)];
            result += alpha ? "&" + alpha + ";" : str.charAt(i);
            i++;
        }
        return result;
    };
    Html4Entities.encode = function (str) {
        return new Html4Entities().encode(str);
    };
    Html4Entities.prototype.encodeNonUTF = function (str) {
        if (!str || !str.length) {
            return '';
        }
        var strLength = str.length;
        var result = '';
        var i = 0;
        while (i < strLength) {
            var cc = str.charCodeAt(i);
            var alpha = numIndex[cc];
            if (alpha) {
                result += "&" + alpha + ";";
            }
            else if (cc < 32 || cc > 126) {
                result += "&#" + cc + ";";
            }
            else {
                result += str.charAt(i);
            }
            i++;
        }
        return result;
    };
    Html4Entities.encodeNonUTF = function (str) {
        return new Html4Entities().encodeNonUTF(str);
    };
    Html4Entities.prototype.encodeNonASCII = function (str) {
        if (!str || !str.length) {
            return '';
        }
        var strLength = str.length;
        var result = '';
        var i = 0;
        while (i < strLength) {
            var c = str.charCodeAt(i);
            if (c <= 255) {
                result += str[i++];
                continue;
            }
            result += '&#' + c + ';';
            i++;
        }
        return result;
    };
    Html4Entities.encodeNonASCII = function (str) {
        return new Html4Entities().encodeNonASCII(str);
    };
    return Html4Entities;
}());
exports.Html4Entities = Html4Entities;


/***/ }),

/***/ "./node_modules/html-entities/lib/html5-entities.js":
/*!**********************************************************!*\
  !*** ./node_modules/html-entities/lib/html5-entities.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ENTITIES = [['Aacute', [193]], ['aacute', [225]], ['Abreve', [258]], ['abreve', [259]], ['ac', [8766]], ['acd', [8767]], ['acE', [8766, 819]], ['Acirc', [194]], ['acirc', [226]], ['acute', [180]], ['Acy', [1040]], ['acy', [1072]], ['AElig', [198]], ['aelig', [230]], ['af', [8289]], ['Afr', [120068]], ['afr', [120094]], ['Agrave', [192]], ['agrave', [224]], ['alefsym', [8501]], ['aleph', [8501]], ['Alpha', [913]], ['alpha', [945]], ['Amacr', [256]], ['amacr', [257]], ['amalg', [10815]], ['amp', [38]], ['AMP', [38]], ['andand', [10837]], ['And', [10835]], ['and', [8743]], ['andd', [10844]], ['andslope', [10840]], ['andv', [10842]], ['ang', [8736]], ['ange', [10660]], ['angle', [8736]], ['angmsdaa', [10664]], ['angmsdab', [10665]], ['angmsdac', [10666]], ['angmsdad', [10667]], ['angmsdae', [10668]], ['angmsdaf', [10669]], ['angmsdag', [10670]], ['angmsdah', [10671]], ['angmsd', [8737]], ['angrt', [8735]], ['angrtvb', [8894]], ['angrtvbd', [10653]], ['angsph', [8738]], ['angst', [197]], ['angzarr', [9084]], ['Aogon', [260]], ['aogon', [261]], ['Aopf', [120120]], ['aopf', [120146]], ['apacir', [10863]], ['ap', [8776]], ['apE', [10864]], ['ape', [8778]], ['apid', [8779]], ['apos', [39]], ['ApplyFunction', [8289]], ['approx', [8776]], ['approxeq', [8778]], ['Aring', [197]], ['aring', [229]], ['Ascr', [119964]], ['ascr', [119990]], ['Assign', [8788]], ['ast', [42]], ['asymp', [8776]], ['asympeq', [8781]], ['Atilde', [195]], ['atilde', [227]], ['Auml', [196]], ['auml', [228]], ['awconint', [8755]], ['awint', [10769]], ['backcong', [8780]], ['backepsilon', [1014]], ['backprime', [8245]], ['backsim', [8765]], ['backsimeq', [8909]], ['Backslash', [8726]], ['Barv', [10983]], ['barvee', [8893]], ['barwed', [8965]], ['Barwed', [8966]], ['barwedge', [8965]], ['bbrk', [9141]], ['bbrktbrk', [9142]], ['bcong', [8780]], ['Bcy', [1041]], ['bcy', [1073]], ['bdquo', [8222]], ['becaus', [8757]], ['because', [8757]], ['Because', [8757]], ['bemptyv', [10672]], ['bepsi', [1014]], ['bernou', [8492]], ['Bernoullis', [8492]], ['Beta', [914]], ['beta', [946]], ['beth', [8502]], ['between', [8812]], ['Bfr', [120069]], ['bfr', [120095]], ['bigcap', [8898]], ['bigcirc', [9711]], ['bigcup', [8899]], ['bigodot', [10752]], ['bigoplus', [10753]], ['bigotimes', [10754]], ['bigsqcup', [10758]], ['bigstar', [9733]], ['bigtriangledown', [9661]], ['bigtriangleup', [9651]], ['biguplus', [10756]], ['bigvee', [8897]], ['bigwedge', [8896]], ['bkarow', [10509]], ['blacklozenge', [10731]], ['blacksquare', [9642]], ['blacktriangle', [9652]], ['blacktriangledown', [9662]], ['blacktriangleleft', [9666]], ['blacktriangleright', [9656]], ['blank', [9251]], ['blk12', [9618]], ['blk14', [9617]], ['blk34', [9619]], ['block', [9608]], ['bne', [61, 8421]], ['bnequiv', [8801, 8421]], ['bNot', [10989]], ['bnot', [8976]], ['Bopf', [120121]], ['bopf', [120147]], ['bot', [8869]], ['bottom', [8869]], ['bowtie', [8904]], ['boxbox', [10697]], ['boxdl', [9488]], ['boxdL', [9557]], ['boxDl', [9558]], ['boxDL', [9559]], ['boxdr', [9484]], ['boxdR', [9554]], ['boxDr', [9555]], ['boxDR', [9556]], ['boxh', [9472]], ['boxH', [9552]], ['boxhd', [9516]], ['boxHd', [9572]], ['boxhD', [9573]], ['boxHD', [9574]], ['boxhu', [9524]], ['boxHu', [9575]], ['boxhU', [9576]], ['boxHU', [9577]], ['boxminus', [8863]], ['boxplus', [8862]], ['boxtimes', [8864]], ['boxul', [9496]], ['boxuL', [9563]], ['boxUl', [9564]], ['boxUL', [9565]], ['boxur', [9492]], ['boxuR', [9560]], ['boxUr', [9561]], ['boxUR', [9562]], ['boxv', [9474]], ['boxV', [9553]], ['boxvh', [9532]], ['boxvH', [9578]], ['boxVh', [9579]], ['boxVH', [9580]], ['boxvl', [9508]], ['boxvL', [9569]], ['boxVl', [9570]], ['boxVL', [9571]], ['boxvr', [9500]], ['boxvR', [9566]], ['boxVr', [9567]], ['boxVR', [9568]], ['bprime', [8245]], ['breve', [728]], ['Breve', [728]], ['brvbar', [166]], ['bscr', [119991]], ['Bscr', [8492]], ['bsemi', [8271]], ['bsim', [8765]], ['bsime', [8909]], ['bsolb', [10693]], ['bsol', [92]], ['bsolhsub', [10184]], ['bull', [8226]], ['bullet', [8226]], ['bump', [8782]], ['bumpE', [10926]], ['bumpe', [8783]], ['Bumpeq', [8782]], ['bumpeq', [8783]], ['Cacute', [262]], ['cacute', [263]], ['capand', [10820]], ['capbrcup', [10825]], ['capcap', [10827]], ['cap', [8745]], ['Cap', [8914]], ['capcup', [10823]], ['capdot', [10816]], ['CapitalDifferentialD', [8517]], ['caps', [8745, 65024]], ['caret', [8257]], ['caron', [711]], ['Cayleys', [8493]], ['ccaps', [10829]], ['Ccaron', [268]], ['ccaron', [269]], ['Ccedil', [199]], ['ccedil', [231]], ['Ccirc', [264]], ['ccirc', [265]], ['Cconint', [8752]], ['ccups', [10828]], ['ccupssm', [10832]], ['Cdot', [266]], ['cdot', [267]], ['cedil', [184]], ['Cedilla', [184]], ['cemptyv', [10674]], ['cent', [162]], ['centerdot', [183]], ['CenterDot', [183]], ['cfr', [120096]], ['Cfr', [8493]], ['CHcy', [1063]], ['chcy', [1095]], ['check', [10003]], ['checkmark', [10003]], ['Chi', [935]], ['chi', [967]], ['circ', [710]], ['circeq', [8791]], ['circlearrowleft', [8634]], ['circlearrowright', [8635]], ['circledast', [8859]], ['circledcirc', [8858]], ['circleddash', [8861]], ['CircleDot', [8857]], ['circledR', [174]], ['circledS', [9416]], ['CircleMinus', [8854]], ['CirclePlus', [8853]], ['CircleTimes', [8855]], ['cir', [9675]], ['cirE', [10691]], ['cire', [8791]], ['cirfnint', [10768]], ['cirmid', [10991]], ['cirscir', [10690]], ['ClockwiseContourIntegral', [8754]], ['clubs', [9827]], ['clubsuit', [9827]], ['colon', [58]], ['Colon', [8759]], ['Colone', [10868]], ['colone', [8788]], ['coloneq', [8788]], ['comma', [44]], ['commat', [64]], ['comp', [8705]], ['compfn', [8728]], ['complement', [8705]], ['complexes', [8450]], ['cong', [8773]], ['congdot', [10861]], ['Congruent', [8801]], ['conint', [8750]], ['Conint', [8751]], ['ContourIntegral', [8750]], ['copf', [120148]], ['Copf', [8450]], ['coprod', [8720]], ['Coproduct', [8720]], ['copy', [169]], ['COPY', [169]], ['copysr', [8471]], ['CounterClockwiseContourIntegral', [8755]], ['crarr', [8629]], ['cross', [10007]], ['Cross', [10799]], ['Cscr', [119966]], ['cscr', [119992]], ['csub', [10959]], ['csube', [10961]], ['csup', [10960]], ['csupe', [10962]], ['ctdot', [8943]], ['cudarrl', [10552]], ['cudarrr', [10549]], ['cuepr', [8926]], ['cuesc', [8927]], ['cularr', [8630]], ['cularrp', [10557]], ['cupbrcap', [10824]], ['cupcap', [10822]], ['CupCap', [8781]], ['cup', [8746]], ['Cup', [8915]], ['cupcup', [10826]], ['cupdot', [8845]], ['cupor', [10821]], ['cups', [8746, 65024]], ['curarr', [8631]], ['curarrm', [10556]], ['curlyeqprec', [8926]], ['curlyeqsucc', [8927]], ['curlyvee', [8910]], ['curlywedge', [8911]], ['curren', [164]], ['curvearrowleft', [8630]], ['curvearrowright', [8631]], ['cuvee', [8910]], ['cuwed', [8911]], ['cwconint', [8754]], ['cwint', [8753]], ['cylcty', [9005]], ['dagger', [8224]], ['Dagger', [8225]], ['daleth', [8504]], ['darr', [8595]], ['Darr', [8609]], ['dArr', [8659]], ['dash', [8208]], ['Dashv', [10980]], ['dashv', [8867]], ['dbkarow', [10511]], ['dblac', [733]], ['Dcaron', [270]], ['dcaron', [271]], ['Dcy', [1044]], ['dcy', [1076]], ['ddagger', [8225]], ['ddarr', [8650]], ['DD', [8517]], ['dd', [8518]], ['DDotrahd', [10513]], ['ddotseq', [10871]], ['deg', [176]], ['Del', [8711]], ['Delta', [916]], ['delta', [948]], ['demptyv', [10673]], ['dfisht', [10623]], ['Dfr', [120071]], ['dfr', [120097]], ['dHar', [10597]], ['dharl', [8643]], ['dharr', [8642]], ['DiacriticalAcute', [180]], ['DiacriticalDot', [729]], ['DiacriticalDoubleAcute', [733]], ['DiacriticalGrave', [96]], ['DiacriticalTilde', [732]], ['diam', [8900]], ['diamond', [8900]], ['Diamond', [8900]], ['diamondsuit', [9830]], ['diams', [9830]], ['die', [168]], ['DifferentialD', [8518]], ['digamma', [989]], ['disin', [8946]], ['div', [247]], ['divide', [247]], ['divideontimes', [8903]], ['divonx', [8903]], ['DJcy', [1026]], ['djcy', [1106]], ['dlcorn', [8990]], ['dlcrop', [8973]], ['dollar', [36]], ['Dopf', [120123]], ['dopf', [120149]], ['Dot', [168]], ['dot', [729]], ['DotDot', [8412]], ['doteq', [8784]], ['doteqdot', [8785]], ['DotEqual', [8784]], ['dotminus', [8760]], ['dotplus', [8724]], ['dotsquare', [8865]], ['doublebarwedge', [8966]], ['DoubleContourIntegral', [8751]], ['DoubleDot', [168]], ['DoubleDownArrow', [8659]], ['DoubleLeftArrow', [8656]], ['DoubleLeftRightArrow', [8660]], ['DoubleLeftTee', [10980]], ['DoubleLongLeftArrow', [10232]], ['DoubleLongLeftRightArrow', [10234]], ['DoubleLongRightArrow', [10233]], ['DoubleRightArrow', [8658]], ['DoubleRightTee', [8872]], ['DoubleUpArrow', [8657]], ['DoubleUpDownArrow', [8661]], ['DoubleVerticalBar', [8741]], ['DownArrowBar', [10515]], ['downarrow', [8595]], ['DownArrow', [8595]], ['Downarrow', [8659]], ['DownArrowUpArrow', [8693]], ['DownBreve', [785]], ['downdownarrows', [8650]], ['downharpoonleft', [8643]], ['downharpoonright', [8642]], ['DownLeftRightVector', [10576]], ['DownLeftTeeVector', [10590]], ['DownLeftVectorBar', [10582]], ['DownLeftVector', [8637]], ['DownRightTeeVector', [10591]], ['DownRightVectorBar', [10583]], ['DownRightVector', [8641]], ['DownTeeArrow', [8615]], ['DownTee', [8868]], ['drbkarow', [10512]], ['drcorn', [8991]], ['drcrop', [8972]], ['Dscr', [119967]], ['dscr', [119993]], ['DScy', [1029]], ['dscy', [1109]], ['dsol', [10742]], ['Dstrok', [272]], ['dstrok', [273]], ['dtdot', [8945]], ['dtri', [9663]], ['dtrif', [9662]], ['duarr', [8693]], ['duhar', [10607]], ['dwangle', [10662]], ['DZcy', [1039]], ['dzcy', [1119]], ['dzigrarr', [10239]], ['Eacute', [201]], ['eacute', [233]], ['easter', [10862]], ['Ecaron', [282]], ['ecaron', [283]], ['Ecirc', [202]], ['ecirc', [234]], ['ecir', [8790]], ['ecolon', [8789]], ['Ecy', [1069]], ['ecy', [1101]], ['eDDot', [10871]], ['Edot', [278]], ['edot', [279]], ['eDot', [8785]], ['ee', [8519]], ['efDot', [8786]], ['Efr', [120072]], ['efr', [120098]], ['eg', [10906]], ['Egrave', [200]], ['egrave', [232]], ['egs', [10902]], ['egsdot', [10904]], ['el', [10905]], ['Element', [8712]], ['elinters', [9191]], ['ell', [8467]], ['els', [10901]], ['elsdot', [10903]], ['Emacr', [274]], ['emacr', [275]], ['empty', [8709]], ['emptyset', [8709]], ['EmptySmallSquare', [9723]], ['emptyv', [8709]], ['EmptyVerySmallSquare', [9643]], ['emsp13', [8196]], ['emsp14', [8197]], ['emsp', [8195]], ['ENG', [330]], ['eng', [331]], ['ensp', [8194]], ['Eogon', [280]], ['eogon', [281]], ['Eopf', [120124]], ['eopf', [120150]], ['epar', [8917]], ['eparsl', [10723]], ['eplus', [10865]], ['epsi', [949]], ['Epsilon', [917]], ['epsilon', [949]], ['epsiv', [1013]], ['eqcirc', [8790]], ['eqcolon', [8789]], ['eqsim', [8770]], ['eqslantgtr', [10902]], ['eqslantless', [10901]], ['Equal', [10869]], ['equals', [61]], ['EqualTilde', [8770]], ['equest', [8799]], ['Equilibrium', [8652]], ['equiv', [8801]], ['equivDD', [10872]], ['eqvparsl', [10725]], ['erarr', [10609]], ['erDot', [8787]], ['escr', [8495]], ['Escr', [8496]], ['esdot', [8784]], ['Esim', [10867]], ['esim', [8770]], ['Eta', [919]], ['eta', [951]], ['ETH', [208]], ['eth', [240]], ['Euml', [203]], ['euml', [235]], ['euro', [8364]], ['excl', [33]], ['exist', [8707]], ['Exists', [8707]], ['expectation', [8496]], ['exponentiale', [8519]], ['ExponentialE', [8519]], ['fallingdotseq', [8786]], ['Fcy', [1060]], ['fcy', [1092]], ['female', [9792]], ['ffilig', [64259]], ['fflig', [64256]], ['ffllig', [64260]], ['Ffr', [120073]], ['ffr', [120099]], ['filig', [64257]], ['FilledSmallSquare', [9724]], ['FilledVerySmallSquare', [9642]], ['fjlig', [102, 106]], ['flat', [9837]], ['fllig', [64258]], ['fltns', [9649]], ['fnof', [402]], ['Fopf', [120125]], ['fopf', [120151]], ['forall', [8704]], ['ForAll', [8704]], ['fork', [8916]], ['forkv', [10969]], ['Fouriertrf', [8497]], ['fpartint', [10765]], ['frac12', [189]], ['frac13', [8531]], ['frac14', [188]], ['frac15', [8533]], ['frac16', [8537]], ['frac18', [8539]], ['frac23', [8532]], ['frac25', [8534]], ['frac34', [190]], ['frac35', [8535]], ['frac38', [8540]], ['frac45', [8536]], ['frac56', [8538]], ['frac58', [8541]], ['frac78', [8542]], ['frasl', [8260]], ['frown', [8994]], ['fscr', [119995]], ['Fscr', [8497]], ['gacute', [501]], ['Gamma', [915]], ['gamma', [947]], ['Gammad', [988]], ['gammad', [989]], ['gap', [10886]], ['Gbreve', [286]], ['gbreve', [287]], ['Gcedil', [290]], ['Gcirc', [284]], ['gcirc', [285]], ['Gcy', [1043]], ['gcy', [1075]], ['Gdot', [288]], ['gdot', [289]], ['ge', [8805]], ['gE', [8807]], ['gEl', [10892]], ['gel', [8923]], ['geq', [8805]], ['geqq', [8807]], ['geqslant', [10878]], ['gescc', [10921]], ['ges', [10878]], ['gesdot', [10880]], ['gesdoto', [10882]], ['gesdotol', [10884]], ['gesl', [8923, 65024]], ['gesles', [10900]], ['Gfr', [120074]], ['gfr', [120100]], ['gg', [8811]], ['Gg', [8921]], ['ggg', [8921]], ['gimel', [8503]], ['GJcy', [1027]], ['gjcy', [1107]], ['gla', [10917]], ['gl', [8823]], ['glE', [10898]], ['glj', [10916]], ['gnap', [10890]], ['gnapprox', [10890]], ['gne', [10888]], ['gnE', [8809]], ['gneq', [10888]], ['gneqq', [8809]], ['gnsim', [8935]], ['Gopf', [120126]], ['gopf', [120152]], ['grave', [96]], ['GreaterEqual', [8805]], ['GreaterEqualLess', [8923]], ['GreaterFullEqual', [8807]], ['GreaterGreater', [10914]], ['GreaterLess', [8823]], ['GreaterSlantEqual', [10878]], ['GreaterTilde', [8819]], ['Gscr', [119970]], ['gscr', [8458]], ['gsim', [8819]], ['gsime', [10894]], ['gsiml', [10896]], ['gtcc', [10919]], ['gtcir', [10874]], ['gt', [62]], ['GT', [62]], ['Gt', [8811]], ['gtdot', [8919]], ['gtlPar', [10645]], ['gtquest', [10876]], ['gtrapprox', [10886]], ['gtrarr', [10616]], ['gtrdot', [8919]], ['gtreqless', [8923]], ['gtreqqless', [10892]], ['gtrless', [8823]], ['gtrsim', [8819]], ['gvertneqq', [8809, 65024]], ['gvnE', [8809, 65024]], ['Hacek', [711]], ['hairsp', [8202]], ['half', [189]], ['hamilt', [8459]], ['HARDcy', [1066]], ['hardcy', [1098]], ['harrcir', [10568]], ['harr', [8596]], ['hArr', [8660]], ['harrw', [8621]], ['Hat', [94]], ['hbar', [8463]], ['Hcirc', [292]], ['hcirc', [293]], ['hearts', [9829]], ['heartsuit', [9829]], ['hellip', [8230]], ['hercon', [8889]], ['hfr', [120101]], ['Hfr', [8460]], ['HilbertSpace', [8459]], ['hksearow', [10533]], ['hkswarow', [10534]], ['hoarr', [8703]], ['homtht', [8763]], ['hookleftarrow', [8617]], ['hookrightarrow', [8618]], ['hopf', [120153]], ['Hopf', [8461]], ['horbar', [8213]], ['HorizontalLine', [9472]], ['hscr', [119997]], ['Hscr', [8459]], ['hslash', [8463]], ['Hstrok', [294]], ['hstrok', [295]], ['HumpDownHump', [8782]], ['HumpEqual', [8783]], ['hybull', [8259]], ['hyphen', [8208]], ['Iacute', [205]], ['iacute', [237]], ['ic', [8291]], ['Icirc', [206]], ['icirc', [238]], ['Icy', [1048]], ['icy', [1080]], ['Idot', [304]], ['IEcy', [1045]], ['iecy', [1077]], ['iexcl', [161]], ['iff', [8660]], ['ifr', [120102]], ['Ifr', [8465]], ['Igrave', [204]], ['igrave', [236]], ['ii', [8520]], ['iiiint', [10764]], ['iiint', [8749]], ['iinfin', [10716]], ['iiota', [8489]], ['IJlig', [306]], ['ijlig', [307]], ['Imacr', [298]], ['imacr', [299]], ['image', [8465]], ['ImaginaryI', [8520]], ['imagline', [8464]], ['imagpart', [8465]], ['imath', [305]], ['Im', [8465]], ['imof', [8887]], ['imped', [437]], ['Implies', [8658]], ['incare', [8453]], ['in', [8712]], ['infin', [8734]], ['infintie', [10717]], ['inodot', [305]], ['intcal', [8890]], ['int', [8747]], ['Int', [8748]], ['integers', [8484]], ['Integral', [8747]], ['intercal', [8890]], ['Intersection', [8898]], ['intlarhk', [10775]], ['intprod', [10812]], ['InvisibleComma', [8291]], ['InvisibleTimes', [8290]], ['IOcy', [1025]], ['iocy', [1105]], ['Iogon', [302]], ['iogon', [303]], ['Iopf', [120128]], ['iopf', [120154]], ['Iota', [921]], ['iota', [953]], ['iprod', [10812]], ['iquest', [191]], ['iscr', [119998]], ['Iscr', [8464]], ['isin', [8712]], ['isindot', [8949]], ['isinE', [8953]], ['isins', [8948]], ['isinsv', [8947]], ['isinv', [8712]], ['it', [8290]], ['Itilde', [296]], ['itilde', [297]], ['Iukcy', [1030]], ['iukcy', [1110]], ['Iuml', [207]], ['iuml', [239]], ['Jcirc', [308]], ['jcirc', [309]], ['Jcy', [1049]], ['jcy', [1081]], ['Jfr', [120077]], ['jfr', [120103]], ['jmath', [567]], ['Jopf', [120129]], ['jopf', [120155]], ['Jscr', [119973]], ['jscr', [119999]], ['Jsercy', [1032]], ['jsercy', [1112]], ['Jukcy', [1028]], ['jukcy', [1108]], ['Kappa', [922]], ['kappa', [954]], ['kappav', [1008]], ['Kcedil', [310]], ['kcedil', [311]], ['Kcy', [1050]], ['kcy', [1082]], ['Kfr', [120078]], ['kfr', [120104]], ['kgreen', [312]], ['KHcy', [1061]], ['khcy', [1093]], ['KJcy', [1036]], ['kjcy', [1116]], ['Kopf', [120130]], ['kopf', [120156]], ['Kscr', [119974]], ['kscr', [120000]], ['lAarr', [8666]], ['Lacute', [313]], ['lacute', [314]], ['laemptyv', [10676]], ['lagran', [8466]], ['Lambda', [923]], ['lambda', [955]], ['lang', [10216]], ['Lang', [10218]], ['langd', [10641]], ['langle', [10216]], ['lap', [10885]], ['Laplacetrf', [8466]], ['laquo', [171]], ['larrb', [8676]], ['larrbfs', [10527]], ['larr', [8592]], ['Larr', [8606]], ['lArr', [8656]], ['larrfs', [10525]], ['larrhk', [8617]], ['larrlp', [8619]], ['larrpl', [10553]], ['larrsim', [10611]], ['larrtl', [8610]], ['latail', [10521]], ['lAtail', [10523]], ['lat', [10923]], ['late', [10925]], ['lates', [10925, 65024]], ['lbarr', [10508]], ['lBarr', [10510]], ['lbbrk', [10098]], ['lbrace', [123]], ['lbrack', [91]], ['lbrke', [10635]], ['lbrksld', [10639]], ['lbrkslu', [10637]], ['Lcaron', [317]], ['lcaron', [318]], ['Lcedil', [315]], ['lcedil', [316]], ['lceil', [8968]], ['lcub', [123]], ['Lcy', [1051]], ['lcy', [1083]], ['ldca', [10550]], ['ldquo', [8220]], ['ldquor', [8222]], ['ldrdhar', [10599]], ['ldrushar', [10571]], ['ldsh', [8626]], ['le', [8804]], ['lE', [8806]], ['LeftAngleBracket', [10216]], ['LeftArrowBar', [8676]], ['leftarrow', [8592]], ['LeftArrow', [8592]], ['Leftarrow', [8656]], ['LeftArrowRightArrow', [8646]], ['leftarrowtail', [8610]], ['LeftCeiling', [8968]], ['LeftDoubleBracket', [10214]], ['LeftDownTeeVector', [10593]], ['LeftDownVectorBar', [10585]], ['LeftDownVector', [8643]], ['LeftFloor', [8970]], ['leftharpoondown', [8637]], ['leftharpoonup', [8636]], ['leftleftarrows', [8647]], ['leftrightarrow', [8596]], ['LeftRightArrow', [8596]], ['Leftrightarrow', [8660]], ['leftrightarrows', [8646]], ['leftrightharpoons', [8651]], ['leftrightsquigarrow', [8621]], ['LeftRightVector', [10574]], ['LeftTeeArrow', [8612]], ['LeftTee', [8867]], ['LeftTeeVector', [10586]], ['leftthreetimes', [8907]], ['LeftTriangleBar', [10703]], ['LeftTriangle', [8882]], ['LeftTriangleEqual', [8884]], ['LeftUpDownVector', [10577]], ['LeftUpTeeVector', [10592]], ['LeftUpVectorBar', [10584]], ['LeftUpVector', [8639]], ['LeftVectorBar', [10578]], ['LeftVector', [8636]], ['lEg', [10891]], ['leg', [8922]], ['leq', [8804]], ['leqq', [8806]], ['leqslant', [10877]], ['lescc', [10920]], ['les', [10877]], ['lesdot', [10879]], ['lesdoto', [10881]], ['lesdotor', [10883]], ['lesg', [8922, 65024]], ['lesges', [10899]], ['lessapprox', [10885]], ['lessdot', [8918]], ['lesseqgtr', [8922]], ['lesseqqgtr', [10891]], ['LessEqualGreater', [8922]], ['LessFullEqual', [8806]], ['LessGreater', [8822]], ['lessgtr', [8822]], ['LessLess', [10913]], ['lesssim', [8818]], ['LessSlantEqual', [10877]], ['LessTilde', [8818]], ['lfisht', [10620]], ['lfloor', [8970]], ['Lfr', [120079]], ['lfr', [120105]], ['lg', [8822]], ['lgE', [10897]], ['lHar', [10594]], ['lhard', [8637]], ['lharu', [8636]], ['lharul', [10602]], ['lhblk', [9604]], ['LJcy', [1033]], ['ljcy', [1113]], ['llarr', [8647]], ['ll', [8810]], ['Ll', [8920]], ['llcorner', [8990]], ['Lleftarrow', [8666]], ['llhard', [10603]], ['lltri', [9722]], ['Lmidot', [319]], ['lmidot', [320]], ['lmoustache', [9136]], ['lmoust', [9136]], ['lnap', [10889]], ['lnapprox', [10889]], ['lne', [10887]], ['lnE', [8808]], ['lneq', [10887]], ['lneqq', [8808]], ['lnsim', [8934]], ['loang', [10220]], ['loarr', [8701]], ['lobrk', [10214]], ['longleftarrow', [10229]], ['LongLeftArrow', [10229]], ['Longleftarrow', [10232]], ['longleftrightarrow', [10231]], ['LongLeftRightArrow', [10231]], ['Longleftrightarrow', [10234]], ['longmapsto', [10236]], ['longrightarrow', [10230]], ['LongRightArrow', [10230]], ['Longrightarrow', [10233]], ['looparrowleft', [8619]], ['looparrowright', [8620]], ['lopar', [10629]], ['Lopf', [120131]], ['lopf', [120157]], ['loplus', [10797]], ['lotimes', [10804]], ['lowast', [8727]], ['lowbar', [95]], ['LowerLeftArrow', [8601]], ['LowerRightArrow', [8600]], ['loz', [9674]], ['lozenge', [9674]], ['lozf', [10731]], ['lpar', [40]], ['lparlt', [10643]], ['lrarr', [8646]], ['lrcorner', [8991]], ['lrhar', [8651]], ['lrhard', [10605]], ['lrm', [8206]], ['lrtri', [8895]], ['lsaquo', [8249]], ['lscr', [120001]], ['Lscr', [8466]], ['lsh', [8624]], ['Lsh', [8624]], ['lsim', [8818]], ['lsime', [10893]], ['lsimg', [10895]], ['lsqb', [91]], ['lsquo', [8216]], ['lsquor', [8218]], ['Lstrok', [321]], ['lstrok', [322]], ['ltcc', [10918]], ['ltcir', [10873]], ['lt', [60]], ['LT', [60]], ['Lt', [8810]], ['ltdot', [8918]], ['lthree', [8907]], ['ltimes', [8905]], ['ltlarr', [10614]], ['ltquest', [10875]], ['ltri', [9667]], ['ltrie', [8884]], ['ltrif', [9666]], ['ltrPar', [10646]], ['lurdshar', [10570]], ['luruhar', [10598]], ['lvertneqq', [8808, 65024]], ['lvnE', [8808, 65024]], ['macr', [175]], ['male', [9794]], ['malt', [10016]], ['maltese', [10016]], ['Map', [10501]], ['map', [8614]], ['mapsto', [8614]], ['mapstodown', [8615]], ['mapstoleft', [8612]], ['mapstoup', [8613]], ['marker', [9646]], ['mcomma', [10793]], ['Mcy', [1052]], ['mcy', [1084]], ['mdash', [8212]], ['mDDot', [8762]], ['measuredangle', [8737]], ['MediumSpace', [8287]], ['Mellintrf', [8499]], ['Mfr', [120080]], ['mfr', [120106]], ['mho', [8487]], ['micro', [181]], ['midast', [42]], ['midcir', [10992]], ['mid', [8739]], ['middot', [183]], ['minusb', [8863]], ['minus', [8722]], ['minusd', [8760]], ['minusdu', [10794]], ['MinusPlus', [8723]], ['mlcp', [10971]], ['mldr', [8230]], ['mnplus', [8723]], ['models', [8871]], ['Mopf', [120132]], ['mopf', [120158]], ['mp', [8723]], ['mscr', [120002]], ['Mscr', [8499]], ['mstpos', [8766]], ['Mu', [924]], ['mu', [956]], ['multimap', [8888]], ['mumap', [8888]], ['nabla', [8711]], ['Nacute', [323]], ['nacute', [324]], ['nang', [8736, 8402]], ['nap', [8777]], ['napE', [10864, 824]], ['napid', [8779, 824]], ['napos', [329]], ['napprox', [8777]], ['natural', [9838]], ['naturals', [8469]], ['natur', [9838]], ['nbsp', [160]], ['nbump', [8782, 824]], ['nbumpe', [8783, 824]], ['ncap', [10819]], ['Ncaron', [327]], ['ncaron', [328]], ['Ncedil', [325]], ['ncedil', [326]], ['ncong', [8775]], ['ncongdot', [10861, 824]], ['ncup', [10818]], ['Ncy', [1053]], ['ncy', [1085]], ['ndash', [8211]], ['nearhk', [10532]], ['nearr', [8599]], ['neArr', [8663]], ['nearrow', [8599]], ['ne', [8800]], ['nedot', [8784, 824]], ['NegativeMediumSpace', [8203]], ['NegativeThickSpace', [8203]], ['NegativeThinSpace', [8203]], ['NegativeVeryThinSpace', [8203]], ['nequiv', [8802]], ['nesear', [10536]], ['nesim', [8770, 824]], ['NestedGreaterGreater', [8811]], ['NestedLessLess', [8810]], ['nexist', [8708]], ['nexists', [8708]], ['Nfr', [120081]], ['nfr', [120107]], ['ngE', [8807, 824]], ['nge', [8817]], ['ngeq', [8817]], ['ngeqq', [8807, 824]], ['ngeqslant', [10878, 824]], ['nges', [10878, 824]], ['nGg', [8921, 824]], ['ngsim', [8821]], ['nGt', [8811, 8402]], ['ngt', [8815]], ['ngtr', [8815]], ['nGtv', [8811, 824]], ['nharr', [8622]], ['nhArr', [8654]], ['nhpar', [10994]], ['ni', [8715]], ['nis', [8956]], ['nisd', [8954]], ['niv', [8715]], ['NJcy', [1034]], ['njcy', [1114]], ['nlarr', [8602]], ['nlArr', [8653]], ['nldr', [8229]], ['nlE', [8806, 824]], ['nle', [8816]], ['nleftarrow', [8602]], ['nLeftarrow', [8653]], ['nleftrightarrow', [8622]], ['nLeftrightarrow', [8654]], ['nleq', [8816]], ['nleqq', [8806, 824]], ['nleqslant', [10877, 824]], ['nles', [10877, 824]], ['nless', [8814]], ['nLl', [8920, 824]], ['nlsim', [8820]], ['nLt', [8810, 8402]], ['nlt', [8814]], ['nltri', [8938]], ['nltrie', [8940]], ['nLtv', [8810, 824]], ['nmid', [8740]], ['NoBreak', [8288]], ['NonBreakingSpace', [160]], ['nopf', [120159]], ['Nopf', [8469]], ['Not', [10988]], ['not', [172]], ['NotCongruent', [8802]], ['NotCupCap', [8813]], ['NotDoubleVerticalBar', [8742]], ['NotElement', [8713]], ['NotEqual', [8800]], ['NotEqualTilde', [8770, 824]], ['NotExists', [8708]], ['NotGreater', [8815]], ['NotGreaterEqual', [8817]], ['NotGreaterFullEqual', [8807, 824]], ['NotGreaterGreater', [8811, 824]], ['NotGreaterLess', [8825]], ['NotGreaterSlantEqual', [10878, 824]], ['NotGreaterTilde', [8821]], ['NotHumpDownHump', [8782, 824]], ['NotHumpEqual', [8783, 824]], ['notin', [8713]], ['notindot', [8949, 824]], ['notinE', [8953, 824]], ['notinva', [8713]], ['notinvb', [8951]], ['notinvc', [8950]], ['NotLeftTriangleBar', [10703, 824]], ['NotLeftTriangle', [8938]], ['NotLeftTriangleEqual', [8940]], ['NotLess', [8814]], ['NotLessEqual', [8816]], ['NotLessGreater', [8824]], ['NotLessLess', [8810, 824]], ['NotLessSlantEqual', [10877, 824]], ['NotLessTilde', [8820]], ['NotNestedGreaterGreater', [10914, 824]], ['NotNestedLessLess', [10913, 824]], ['notni', [8716]], ['notniva', [8716]], ['notnivb', [8958]], ['notnivc', [8957]], ['NotPrecedes', [8832]], ['NotPrecedesEqual', [10927, 824]], ['NotPrecedesSlantEqual', [8928]], ['NotReverseElement', [8716]], ['NotRightTriangleBar', [10704, 824]], ['NotRightTriangle', [8939]], ['NotRightTriangleEqual', [8941]], ['NotSquareSubset', [8847, 824]], ['NotSquareSubsetEqual', [8930]], ['NotSquareSuperset', [8848, 824]], ['NotSquareSupersetEqual', [8931]], ['NotSubset', [8834, 8402]], ['NotSubsetEqual', [8840]], ['NotSucceeds', [8833]], ['NotSucceedsEqual', [10928, 824]], ['NotSucceedsSlantEqual', [8929]], ['NotSucceedsTilde', [8831, 824]], ['NotSuperset', [8835, 8402]], ['NotSupersetEqual', [8841]], ['NotTilde', [8769]], ['NotTildeEqual', [8772]], ['NotTildeFullEqual', [8775]], ['NotTildeTilde', [8777]], ['NotVerticalBar', [8740]], ['nparallel', [8742]], ['npar', [8742]], ['nparsl', [11005, 8421]], ['npart', [8706, 824]], ['npolint', [10772]], ['npr', [8832]], ['nprcue', [8928]], ['nprec', [8832]], ['npreceq', [10927, 824]], ['npre', [10927, 824]], ['nrarrc', [10547, 824]], ['nrarr', [8603]], ['nrArr', [8655]], ['nrarrw', [8605, 824]], ['nrightarrow', [8603]], ['nRightarrow', [8655]], ['nrtri', [8939]], ['nrtrie', [8941]], ['nsc', [8833]], ['nsccue', [8929]], ['nsce', [10928, 824]], ['Nscr', [119977]], ['nscr', [120003]], ['nshortmid', [8740]], ['nshortparallel', [8742]], ['nsim', [8769]], ['nsime', [8772]], ['nsimeq', [8772]], ['nsmid', [8740]], ['nspar', [8742]], ['nsqsube', [8930]], ['nsqsupe', [8931]], ['nsub', [8836]], ['nsubE', [10949, 824]], ['nsube', [8840]], ['nsubset', [8834, 8402]], ['nsubseteq', [8840]], ['nsubseteqq', [10949, 824]], ['nsucc', [8833]], ['nsucceq', [10928, 824]], ['nsup', [8837]], ['nsupE', [10950, 824]], ['nsupe', [8841]], ['nsupset', [8835, 8402]], ['nsupseteq', [8841]], ['nsupseteqq', [10950, 824]], ['ntgl', [8825]], ['Ntilde', [209]], ['ntilde', [241]], ['ntlg', [8824]], ['ntriangleleft', [8938]], ['ntrianglelefteq', [8940]], ['ntriangleright', [8939]], ['ntrianglerighteq', [8941]], ['Nu', [925]], ['nu', [957]], ['num', [35]], ['numero', [8470]], ['numsp', [8199]], ['nvap', [8781, 8402]], ['nvdash', [8876]], ['nvDash', [8877]], ['nVdash', [8878]], ['nVDash', [8879]], ['nvge', [8805, 8402]], ['nvgt', [62, 8402]], ['nvHarr', [10500]], ['nvinfin', [10718]], ['nvlArr', [10498]], ['nvle', [8804, 8402]], ['nvlt', [60, 8402]], ['nvltrie', [8884, 8402]], ['nvrArr', [10499]], ['nvrtrie', [8885, 8402]], ['nvsim', [8764, 8402]], ['nwarhk', [10531]], ['nwarr', [8598]], ['nwArr', [8662]], ['nwarrow', [8598]], ['nwnear', [10535]], ['Oacute', [211]], ['oacute', [243]], ['oast', [8859]], ['Ocirc', [212]], ['ocirc', [244]], ['ocir', [8858]], ['Ocy', [1054]], ['ocy', [1086]], ['odash', [8861]], ['Odblac', [336]], ['odblac', [337]], ['odiv', [10808]], ['odot', [8857]], ['odsold', [10684]], ['OElig', [338]], ['oelig', [339]], ['ofcir', [10687]], ['Ofr', [120082]], ['ofr', [120108]], ['ogon', [731]], ['Ograve', [210]], ['ograve', [242]], ['ogt', [10689]], ['ohbar', [10677]], ['ohm', [937]], ['oint', [8750]], ['olarr', [8634]], ['olcir', [10686]], ['olcross', [10683]], ['oline', [8254]], ['olt', [10688]], ['Omacr', [332]], ['omacr', [333]], ['Omega', [937]], ['omega', [969]], ['Omicron', [927]], ['omicron', [959]], ['omid', [10678]], ['ominus', [8854]], ['Oopf', [120134]], ['oopf', [120160]], ['opar', [10679]], ['OpenCurlyDoubleQuote', [8220]], ['OpenCurlyQuote', [8216]], ['operp', [10681]], ['oplus', [8853]], ['orarr', [8635]], ['Or', [10836]], ['or', [8744]], ['ord', [10845]], ['order', [8500]], ['orderof', [8500]], ['ordf', [170]], ['ordm', [186]], ['origof', [8886]], ['oror', [10838]], ['orslope', [10839]], ['orv', [10843]], ['oS', [9416]], ['Oscr', [119978]], ['oscr', [8500]], ['Oslash', [216]], ['oslash', [248]], ['osol', [8856]], ['Otilde', [213]], ['otilde', [245]], ['otimesas', [10806]], ['Otimes', [10807]], ['otimes', [8855]], ['Ouml', [214]], ['ouml', [246]], ['ovbar', [9021]], ['OverBar', [8254]], ['OverBrace', [9182]], ['OverBracket', [9140]], ['OverParenthesis', [9180]], ['para', [182]], ['parallel', [8741]], ['par', [8741]], ['parsim', [10995]], ['parsl', [11005]], ['part', [8706]], ['PartialD', [8706]], ['Pcy', [1055]], ['pcy', [1087]], ['percnt', [37]], ['period', [46]], ['permil', [8240]], ['perp', [8869]], ['pertenk', [8241]], ['Pfr', [120083]], ['pfr', [120109]], ['Phi', [934]], ['phi', [966]], ['phiv', [981]], ['phmmat', [8499]], ['phone', [9742]], ['Pi', [928]], ['pi', [960]], ['pitchfork', [8916]], ['piv', [982]], ['planck', [8463]], ['planckh', [8462]], ['plankv', [8463]], ['plusacir', [10787]], ['plusb', [8862]], ['pluscir', [10786]], ['plus', [43]], ['plusdo', [8724]], ['plusdu', [10789]], ['pluse', [10866]], ['PlusMinus', [177]], ['plusmn', [177]], ['plussim', [10790]], ['plustwo', [10791]], ['pm', [177]], ['Poincareplane', [8460]], ['pointint', [10773]], ['popf', [120161]], ['Popf', [8473]], ['pound', [163]], ['prap', [10935]], ['Pr', [10939]], ['pr', [8826]], ['prcue', [8828]], ['precapprox', [10935]], ['prec', [8826]], ['preccurlyeq', [8828]], ['Precedes', [8826]], ['PrecedesEqual', [10927]], ['PrecedesSlantEqual', [8828]], ['PrecedesTilde', [8830]], ['preceq', [10927]], ['precnapprox', [10937]], ['precneqq', [10933]], ['precnsim', [8936]], ['pre', [10927]], ['prE', [10931]], ['precsim', [8830]], ['prime', [8242]], ['Prime', [8243]], ['primes', [8473]], ['prnap', [10937]], ['prnE', [10933]], ['prnsim', [8936]], ['prod', [8719]], ['Product', [8719]], ['profalar', [9006]], ['profline', [8978]], ['profsurf', [8979]], ['prop', [8733]], ['Proportional', [8733]], ['Proportion', [8759]], ['propto', [8733]], ['prsim', [8830]], ['prurel', [8880]], ['Pscr', [119979]], ['pscr', [120005]], ['Psi', [936]], ['psi', [968]], ['puncsp', [8200]], ['Qfr', [120084]], ['qfr', [120110]], ['qint', [10764]], ['qopf', [120162]], ['Qopf', [8474]], ['qprime', [8279]], ['Qscr', [119980]], ['qscr', [120006]], ['quaternions', [8461]], ['quatint', [10774]], ['quest', [63]], ['questeq', [8799]], ['quot', [34]], ['QUOT', [34]], ['rAarr', [8667]], ['race', [8765, 817]], ['Racute', [340]], ['racute', [341]], ['radic', [8730]], ['raemptyv', [10675]], ['rang', [10217]], ['Rang', [10219]], ['rangd', [10642]], ['range', [10661]], ['rangle', [10217]], ['raquo', [187]], ['rarrap', [10613]], ['rarrb', [8677]], ['rarrbfs', [10528]], ['rarrc', [10547]], ['rarr', [8594]], ['Rarr', [8608]], ['rArr', [8658]], ['rarrfs', [10526]], ['rarrhk', [8618]], ['rarrlp', [8620]], ['rarrpl', [10565]], ['rarrsim', [10612]], ['Rarrtl', [10518]], ['rarrtl', [8611]], ['rarrw', [8605]], ['ratail', [10522]], ['rAtail', [10524]], ['ratio', [8758]], ['rationals', [8474]], ['rbarr', [10509]], ['rBarr', [10511]], ['RBarr', [10512]], ['rbbrk', [10099]], ['rbrace', [125]], ['rbrack', [93]], ['rbrke', [10636]], ['rbrksld', [10638]], ['rbrkslu', [10640]], ['Rcaron', [344]], ['rcaron', [345]], ['Rcedil', [342]], ['rcedil', [343]], ['rceil', [8969]], ['rcub', [125]], ['Rcy', [1056]], ['rcy', [1088]], ['rdca', [10551]], ['rdldhar', [10601]], ['rdquo', [8221]], ['rdquor', [8221]], ['CloseCurlyDoubleQuote', [8221]], ['rdsh', [8627]], ['real', [8476]], ['realine', [8475]], ['realpart', [8476]], ['reals', [8477]], ['Re', [8476]], ['rect', [9645]], ['reg', [174]], ['REG', [174]], ['ReverseElement', [8715]], ['ReverseEquilibrium', [8651]], ['ReverseUpEquilibrium', [10607]], ['rfisht', [10621]], ['rfloor', [8971]], ['rfr', [120111]], ['Rfr', [8476]], ['rHar', [10596]], ['rhard', [8641]], ['rharu', [8640]], ['rharul', [10604]], ['Rho', [929]], ['rho', [961]], ['rhov', [1009]], ['RightAngleBracket', [10217]], ['RightArrowBar', [8677]], ['rightarrow', [8594]], ['RightArrow', [8594]], ['Rightarrow', [8658]], ['RightArrowLeftArrow', [8644]], ['rightarrowtail', [8611]], ['RightCeiling', [8969]], ['RightDoubleBracket', [10215]], ['RightDownTeeVector', [10589]], ['RightDownVectorBar', [10581]], ['RightDownVector', [8642]], ['RightFloor', [8971]], ['rightharpoondown', [8641]], ['rightharpoonup', [8640]], ['rightleftarrows', [8644]], ['rightleftharpoons', [8652]], ['rightrightarrows', [8649]], ['rightsquigarrow', [8605]], ['RightTeeArrow', [8614]], ['RightTee', [8866]], ['RightTeeVector', [10587]], ['rightthreetimes', [8908]], ['RightTriangleBar', [10704]], ['RightTriangle', [8883]], ['RightTriangleEqual', [8885]], ['RightUpDownVector', [10575]], ['RightUpTeeVector', [10588]], ['RightUpVectorBar', [10580]], ['RightUpVector', [8638]], ['RightVectorBar', [10579]], ['RightVector', [8640]], ['ring', [730]], ['risingdotseq', [8787]], ['rlarr', [8644]], ['rlhar', [8652]], ['rlm', [8207]], ['rmoustache', [9137]], ['rmoust', [9137]], ['rnmid', [10990]], ['roang', [10221]], ['roarr', [8702]], ['robrk', [10215]], ['ropar', [10630]], ['ropf', [120163]], ['Ropf', [8477]], ['roplus', [10798]], ['rotimes', [10805]], ['RoundImplies', [10608]], ['rpar', [41]], ['rpargt', [10644]], ['rppolint', [10770]], ['rrarr', [8649]], ['Rrightarrow', [8667]], ['rsaquo', [8250]], ['rscr', [120007]], ['Rscr', [8475]], ['rsh', [8625]], ['Rsh', [8625]], ['rsqb', [93]], ['rsquo', [8217]], ['rsquor', [8217]], ['CloseCurlyQuote', [8217]], ['rthree', [8908]], ['rtimes', [8906]], ['rtri', [9657]], ['rtrie', [8885]], ['rtrif', [9656]], ['rtriltri', [10702]], ['RuleDelayed', [10740]], ['ruluhar', [10600]], ['rx', [8478]], ['Sacute', [346]], ['sacute', [347]], ['sbquo', [8218]], ['scap', [10936]], ['Scaron', [352]], ['scaron', [353]], ['Sc', [10940]], ['sc', [8827]], ['sccue', [8829]], ['sce', [10928]], ['scE', [10932]], ['Scedil', [350]], ['scedil', [351]], ['Scirc', [348]], ['scirc', [349]], ['scnap', [10938]], ['scnE', [10934]], ['scnsim', [8937]], ['scpolint', [10771]], ['scsim', [8831]], ['Scy', [1057]], ['scy', [1089]], ['sdotb', [8865]], ['sdot', [8901]], ['sdote', [10854]], ['searhk', [10533]], ['searr', [8600]], ['seArr', [8664]], ['searrow', [8600]], ['sect', [167]], ['semi', [59]], ['seswar', [10537]], ['setminus', [8726]], ['setmn', [8726]], ['sext', [10038]], ['Sfr', [120086]], ['sfr', [120112]], ['sfrown', [8994]], ['sharp', [9839]], ['SHCHcy', [1065]], ['shchcy', [1097]], ['SHcy', [1064]], ['shcy', [1096]], ['ShortDownArrow', [8595]], ['ShortLeftArrow', [8592]], ['shortmid', [8739]], ['shortparallel', [8741]], ['ShortRightArrow', [8594]], ['ShortUpArrow', [8593]], ['shy', [173]], ['Sigma', [931]], ['sigma', [963]], ['sigmaf', [962]], ['sigmav', [962]], ['sim', [8764]], ['simdot', [10858]], ['sime', [8771]], ['simeq', [8771]], ['simg', [10910]], ['simgE', [10912]], ['siml', [10909]], ['simlE', [10911]], ['simne', [8774]], ['simplus', [10788]], ['simrarr', [10610]], ['slarr', [8592]], ['SmallCircle', [8728]], ['smallsetminus', [8726]], ['smashp', [10803]], ['smeparsl', [10724]], ['smid', [8739]], ['smile', [8995]], ['smt', [10922]], ['smte', [10924]], ['smtes', [10924, 65024]], ['SOFTcy', [1068]], ['softcy', [1100]], ['solbar', [9023]], ['solb', [10692]], ['sol', [47]], ['Sopf', [120138]], ['sopf', [120164]], ['spades', [9824]], ['spadesuit', [9824]], ['spar', [8741]], ['sqcap', [8851]], ['sqcaps', [8851, 65024]], ['sqcup', [8852]], ['sqcups', [8852, 65024]], ['Sqrt', [8730]], ['sqsub', [8847]], ['sqsube', [8849]], ['sqsubset', [8847]], ['sqsubseteq', [8849]], ['sqsup', [8848]], ['sqsupe', [8850]], ['sqsupset', [8848]], ['sqsupseteq', [8850]], ['square', [9633]], ['Square', [9633]], ['SquareIntersection', [8851]], ['SquareSubset', [8847]], ['SquareSubsetEqual', [8849]], ['SquareSuperset', [8848]], ['SquareSupersetEqual', [8850]], ['SquareUnion', [8852]], ['squarf', [9642]], ['squ', [9633]], ['squf', [9642]], ['srarr', [8594]], ['Sscr', [119982]], ['sscr', [120008]], ['ssetmn', [8726]], ['ssmile', [8995]], ['sstarf', [8902]], ['Star', [8902]], ['star', [9734]], ['starf', [9733]], ['straightepsilon', [1013]], ['straightphi', [981]], ['strns', [175]], ['sub', [8834]], ['Sub', [8912]], ['subdot', [10941]], ['subE', [10949]], ['sube', [8838]], ['subedot', [10947]], ['submult', [10945]], ['subnE', [10955]], ['subne', [8842]], ['subplus', [10943]], ['subrarr', [10617]], ['subset', [8834]], ['Subset', [8912]], ['subseteq', [8838]], ['subseteqq', [10949]], ['SubsetEqual', [8838]], ['subsetneq', [8842]], ['subsetneqq', [10955]], ['subsim', [10951]], ['subsub', [10965]], ['subsup', [10963]], ['succapprox', [10936]], ['succ', [8827]], ['succcurlyeq', [8829]], ['Succeeds', [8827]], ['SucceedsEqual', [10928]], ['SucceedsSlantEqual', [8829]], ['SucceedsTilde', [8831]], ['succeq', [10928]], ['succnapprox', [10938]], ['succneqq', [10934]], ['succnsim', [8937]], ['succsim', [8831]], ['SuchThat', [8715]], ['sum', [8721]], ['Sum', [8721]], ['sung', [9834]], ['sup1', [185]], ['sup2', [178]], ['sup3', [179]], ['sup', [8835]], ['Sup', [8913]], ['supdot', [10942]], ['supdsub', [10968]], ['supE', [10950]], ['supe', [8839]], ['supedot', [10948]], ['Superset', [8835]], ['SupersetEqual', [8839]], ['suphsol', [10185]], ['suphsub', [10967]], ['suplarr', [10619]], ['supmult', [10946]], ['supnE', [10956]], ['supne', [8843]], ['supplus', [10944]], ['supset', [8835]], ['Supset', [8913]], ['supseteq', [8839]], ['supseteqq', [10950]], ['supsetneq', [8843]], ['supsetneqq', [10956]], ['supsim', [10952]], ['supsub', [10964]], ['supsup', [10966]], ['swarhk', [10534]], ['swarr', [8601]], ['swArr', [8665]], ['swarrow', [8601]], ['swnwar', [10538]], ['szlig', [223]], ['Tab', [9]], ['target', [8982]], ['Tau', [932]], ['tau', [964]], ['tbrk', [9140]], ['Tcaron', [356]], ['tcaron', [357]], ['Tcedil', [354]], ['tcedil', [355]], ['Tcy', [1058]], ['tcy', [1090]], ['tdot', [8411]], ['telrec', [8981]], ['Tfr', [120087]], ['tfr', [120113]], ['there4', [8756]], ['therefore', [8756]], ['Therefore', [8756]], ['Theta', [920]], ['theta', [952]], ['thetasym', [977]], ['thetav', [977]], ['thickapprox', [8776]], ['thicksim', [8764]], ['ThickSpace', [8287, 8202]], ['ThinSpace', [8201]], ['thinsp', [8201]], ['thkap', [8776]], ['thksim', [8764]], ['THORN', [222]], ['thorn', [254]], ['tilde', [732]], ['Tilde', [8764]], ['TildeEqual', [8771]], ['TildeFullEqual', [8773]], ['TildeTilde', [8776]], ['timesbar', [10801]], ['timesb', [8864]], ['times', [215]], ['timesd', [10800]], ['tint', [8749]], ['toea', [10536]], ['topbot', [9014]], ['topcir', [10993]], ['top', [8868]], ['Topf', [120139]], ['topf', [120165]], ['topfork', [10970]], ['tosa', [10537]], ['tprime', [8244]], ['trade', [8482]], ['TRADE', [8482]], ['triangle', [9653]], ['triangledown', [9663]], ['triangleleft', [9667]], ['trianglelefteq', [8884]], ['triangleq', [8796]], ['triangleright', [9657]], ['trianglerighteq', [8885]], ['tridot', [9708]], ['trie', [8796]], ['triminus', [10810]], ['TripleDot', [8411]], ['triplus', [10809]], ['trisb', [10701]], ['tritime', [10811]], ['trpezium', [9186]], ['Tscr', [119983]], ['tscr', [120009]], ['TScy', [1062]], ['tscy', [1094]], ['TSHcy', [1035]], ['tshcy', [1115]], ['Tstrok', [358]], ['tstrok', [359]], ['twixt', [8812]], ['twoheadleftarrow', [8606]], ['twoheadrightarrow', [8608]], ['Uacute', [218]], ['uacute', [250]], ['uarr', [8593]], ['Uarr', [8607]], ['uArr', [8657]], ['Uarrocir', [10569]], ['Ubrcy', [1038]], ['ubrcy', [1118]], ['Ubreve', [364]], ['ubreve', [365]], ['Ucirc', [219]], ['ucirc', [251]], ['Ucy', [1059]], ['ucy', [1091]], ['udarr', [8645]], ['Udblac', [368]], ['udblac', [369]], ['udhar', [10606]], ['ufisht', [10622]], ['Ufr', [120088]], ['ufr', [120114]], ['Ugrave', [217]], ['ugrave', [249]], ['uHar', [10595]], ['uharl', [8639]], ['uharr', [8638]], ['uhblk', [9600]], ['ulcorn', [8988]], ['ulcorner', [8988]], ['ulcrop', [8975]], ['ultri', [9720]], ['Umacr', [362]], ['umacr', [363]], ['uml', [168]], ['UnderBar', [95]], ['UnderBrace', [9183]], ['UnderBracket', [9141]], ['UnderParenthesis', [9181]], ['Union', [8899]], ['UnionPlus', [8846]], ['Uogon', [370]], ['uogon', [371]], ['Uopf', [120140]], ['uopf', [120166]], ['UpArrowBar', [10514]], ['uparrow', [8593]], ['UpArrow', [8593]], ['Uparrow', [8657]], ['UpArrowDownArrow', [8645]], ['updownarrow', [8597]], ['UpDownArrow', [8597]], ['Updownarrow', [8661]], ['UpEquilibrium', [10606]], ['upharpoonleft', [8639]], ['upharpoonright', [8638]], ['uplus', [8846]], ['UpperLeftArrow', [8598]], ['UpperRightArrow', [8599]], ['upsi', [965]], ['Upsi', [978]], ['upsih', [978]], ['Upsilon', [933]], ['upsilon', [965]], ['UpTeeArrow', [8613]], ['UpTee', [8869]], ['upuparrows', [8648]], ['urcorn', [8989]], ['urcorner', [8989]], ['urcrop', [8974]], ['Uring', [366]], ['uring', [367]], ['urtri', [9721]], ['Uscr', [119984]], ['uscr', [120010]], ['utdot', [8944]], ['Utilde', [360]], ['utilde', [361]], ['utri', [9653]], ['utrif', [9652]], ['uuarr', [8648]], ['Uuml', [220]], ['uuml', [252]], ['uwangle', [10663]], ['vangrt', [10652]], ['varepsilon', [1013]], ['varkappa', [1008]], ['varnothing', [8709]], ['varphi', [981]], ['varpi', [982]], ['varpropto', [8733]], ['varr', [8597]], ['vArr', [8661]], ['varrho', [1009]], ['varsigma', [962]], ['varsubsetneq', [8842, 65024]], ['varsubsetneqq', [10955, 65024]], ['varsupsetneq', [8843, 65024]], ['varsupsetneqq', [10956, 65024]], ['vartheta', [977]], ['vartriangleleft', [8882]], ['vartriangleright', [8883]], ['vBar', [10984]], ['Vbar', [10987]], ['vBarv', [10985]], ['Vcy', [1042]], ['vcy', [1074]], ['vdash', [8866]], ['vDash', [8872]], ['Vdash', [8873]], ['VDash', [8875]], ['Vdashl', [10982]], ['veebar', [8891]], ['vee', [8744]], ['Vee', [8897]], ['veeeq', [8794]], ['vellip', [8942]], ['verbar', [124]], ['Verbar', [8214]], ['vert', [124]], ['Vert', [8214]], ['VerticalBar', [8739]], ['VerticalLine', [124]], ['VerticalSeparator', [10072]], ['VerticalTilde', [8768]], ['VeryThinSpace', [8202]], ['Vfr', [120089]], ['vfr', [120115]], ['vltri', [8882]], ['vnsub', [8834, 8402]], ['vnsup', [8835, 8402]], ['Vopf', [120141]], ['vopf', [120167]], ['vprop', [8733]], ['vrtri', [8883]], ['Vscr', [119985]], ['vscr', [120011]], ['vsubnE', [10955, 65024]], ['vsubne', [8842, 65024]], ['vsupnE', [10956, 65024]], ['vsupne', [8843, 65024]], ['Vvdash', [8874]], ['vzigzag', [10650]], ['Wcirc', [372]], ['wcirc', [373]], ['wedbar', [10847]], ['wedge', [8743]], ['Wedge', [8896]], ['wedgeq', [8793]], ['weierp', [8472]], ['Wfr', [120090]], ['wfr', [120116]], ['Wopf', [120142]], ['wopf', [120168]], ['wp', [8472]], ['wr', [8768]], ['wreath', [8768]], ['Wscr', [119986]], ['wscr', [120012]], ['xcap', [8898]], ['xcirc', [9711]], ['xcup', [8899]], ['xdtri', [9661]], ['Xfr', [120091]], ['xfr', [120117]], ['xharr', [10231]], ['xhArr', [10234]], ['Xi', [926]], ['xi', [958]], ['xlarr', [10229]], ['xlArr', [10232]], ['xmap', [10236]], ['xnis', [8955]], ['xodot', [10752]], ['Xopf', [120143]], ['xopf', [120169]], ['xoplus', [10753]], ['xotime', [10754]], ['xrarr', [10230]], ['xrArr', [10233]], ['Xscr', [119987]], ['xscr', [120013]], ['xsqcup', [10758]], ['xuplus', [10756]], ['xutri', [9651]], ['xvee', [8897]], ['xwedge', [8896]], ['Yacute', [221]], ['yacute', [253]], ['YAcy', [1071]], ['yacy', [1103]], ['Ycirc', [374]], ['ycirc', [375]], ['Ycy', [1067]], ['ycy', [1099]], ['yen', [165]], ['Yfr', [120092]], ['yfr', [120118]], ['YIcy', [1031]], ['yicy', [1111]], ['Yopf', [120144]], ['yopf', [120170]], ['Yscr', [119988]], ['yscr', [120014]], ['YUcy', [1070]], ['yucy', [1102]], ['yuml', [255]], ['Yuml', [376]], ['Zacute', [377]], ['zacute', [378]], ['Zcaron', [381]], ['zcaron', [382]], ['Zcy', [1047]], ['zcy', [1079]], ['Zdot', [379]], ['zdot', [380]], ['zeetrf', [8488]], ['ZeroWidthSpace', [8203]], ['Zeta', [918]], ['zeta', [950]], ['zfr', [120119]], ['Zfr', [8488]], ['ZHcy', [1046]], ['zhcy', [1078]], ['zigrarr', [8669]], ['zopf', [120171]], ['Zopf', [8484]], ['Zscr', [119989]], ['zscr', [120015]], ['zwj', [8205]], ['zwnj', [8204]]];
var alphaIndex = {};
var charIndex = {};
createIndexes(alphaIndex, charIndex);
var Html5Entities = /** @class */ (function () {
    function Html5Entities() {
    }
    Html5Entities.prototype.decode = function (str) {
        if (!str || !str.length) {
            return '';
        }
        return str.replace(/&(#?[\w\d]+);?/g, function (s, entity) {
            var chr;
            if (entity.charAt(0) === "#") {
                var code = entity.charAt(1) === 'x' ?
                    parseInt(entity.substr(2).toLowerCase(), 16) :
                    parseInt(entity.substr(1));
                if (!(isNaN(code) || code < -32768 || code > 65535)) {
                    chr = String.fromCharCode(code);
                }
            }
            else {
                chr = alphaIndex[entity];
            }
            return chr || s;
        });
    };
    Html5Entities.decode = function (str) {
        return new Html5Entities().decode(str);
    };
    Html5Entities.prototype.encode = function (str) {
        if (!str || !str.length) {
            return '';
        }
        var strLength = str.length;
        var result = '';
        var i = 0;
        while (i < strLength) {
            var charInfo = charIndex[str.charCodeAt(i)];
            if (charInfo) {
                var alpha = charInfo[str.charCodeAt(i + 1)];
                if (alpha) {
                    i++;
                }
                else {
                    alpha = charInfo[''];
                }
                if (alpha) {
                    result += "&" + alpha + ";";
                    i++;
                    continue;
                }
            }
            result += str.charAt(i);
            i++;
        }
        return result;
    };
    Html5Entities.encode = function (str) {
        return new Html5Entities().encode(str);
    };
    Html5Entities.prototype.encodeNonUTF = function (str) {
        if (!str || !str.length) {
            return '';
        }
        var strLength = str.length;
        var result = '';
        var i = 0;
        while (i < strLength) {
            var c = str.charCodeAt(i);
            var charInfo = charIndex[c];
            if (charInfo) {
                var alpha = charInfo[str.charCodeAt(i + 1)];
                if (alpha) {
                    i++;
                }
                else {
                    alpha = charInfo[''];
                }
                if (alpha) {
                    result += "&" + alpha + ";";
                    i++;
                    continue;
                }
            }
            if (c < 32 || c > 126) {
                result += '&#' + c + ';';
            }
            else {
                result += str.charAt(i);
            }
            i++;
        }
        return result;
    };
    Html5Entities.encodeNonUTF = function (str) {
        return new Html5Entities().encodeNonUTF(str);
    };
    Html5Entities.prototype.encodeNonASCII = function (str) {
        if (!str || !str.length) {
            return '';
        }
        var strLength = str.length;
        var result = '';
        var i = 0;
        while (i < strLength) {
            var c = str.charCodeAt(i);
            if (c <= 255) {
                result += str[i++];
                continue;
            }
            result += '&#' + c + ';';
            i++;
        }
        return result;
    };
    Html5Entities.encodeNonASCII = function (str) {
        return new Html5Entities().encodeNonASCII(str);
    };
    return Html5Entities;
}());
exports.Html5Entities = Html5Entities;
function createIndexes(alphaIndex, charIndex) {
    var i = ENTITIES.length;
    while (i--) {
        var e = ENTITIES[i];
        var alpha = e[0];
        var chars = e[1];
        var chr = chars[0];
        var addChar = (chr < 32 || chr > 126) || chr === 62 || chr === 60 || chr === 38 || chr === 34 || chr === 39;
        var charInfo = void 0;
        if (addChar) {
            charInfo = charIndex[chr] = charIndex[chr] || {};
        }
        if (chars[1]) {
            var chr2 = chars[1];
            alphaIndex[alpha] = String.fromCharCode(chr) + String.fromCharCode(chr2);
            addChar && (charInfo[chr2] = alpha);
        }
        else {
            alphaIndex[alpha] = String.fromCharCode(chr);
            addChar && (charInfo[''] = alpha);
        }
    }
}


/***/ }),

/***/ "./node_modules/html-entities/lib/index.js":
/*!*************************************************!*\
  !*** ./node_modules/html-entities/lib/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var xml_entities_1 = __webpack_require__(/*! ./xml-entities */ "./node_modules/html-entities/lib/xml-entities.js");
exports.XmlEntities = xml_entities_1.XmlEntities;
var html4_entities_1 = __webpack_require__(/*! ./html4-entities */ "./node_modules/html-entities/lib/html4-entities.js");
exports.Html4Entities = html4_entities_1.Html4Entities;
var html5_entities_1 = __webpack_require__(/*! ./html5-entities */ "./node_modules/html-entities/lib/html5-entities.js");
exports.Html5Entities = html5_entities_1.Html5Entities;
exports.AllHtmlEntities = html5_entities_1.Html5Entities;


/***/ }),

/***/ "./node_modules/html-entities/lib/xml-entities.js":
/*!********************************************************!*\
  !*** ./node_modules/html-entities/lib/xml-entities.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ALPHA_INDEX = {
    '&lt': '<',
    '&gt': '>',
    '&quot': '"',
    '&apos': '\'',
    '&amp': '&',
    '&lt;': '<',
    '&gt;': '>',
    '&quot;': '"',
    '&apos;': '\'',
    '&amp;': '&'
};
var CHAR_INDEX = {
    60: 'lt',
    62: 'gt',
    34: 'quot',
    39: 'apos',
    38: 'amp'
};
var CHAR_S_INDEX = {
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    '\'': '&apos;',
    '&': '&amp;'
};
var XmlEntities = /** @class */ (function () {
    function XmlEntities() {
    }
    XmlEntities.prototype.encode = function (str) {
        if (!str || !str.length) {
            return '';
        }
        return str.replace(/[<>"'&]/g, function (s) {
            return CHAR_S_INDEX[s];
        });
    };
    XmlEntities.encode = function (str) {
        return new XmlEntities().encode(str);
    };
    XmlEntities.prototype.decode = function (str) {
        if (!str || !str.length) {
            return '';
        }
        return str.replace(/&#?[0-9a-zA-Z]+;?/g, function (s) {
            if (s.charAt(1) === '#') {
                var code = s.charAt(2).toLowerCase() === 'x' ?
                    parseInt(s.substr(3), 16) :
                    parseInt(s.substr(2));
                if (isNaN(code) || code < -32768 || code > 65535) {
                    return '';
                }
                return String.fromCharCode(code);
            }
            return ALPHA_INDEX[s] || s;
        });
    };
    XmlEntities.decode = function (str) {
        return new XmlEntities().decode(str);
    };
    XmlEntities.prototype.encodeNonUTF = function (str) {
        if (!str || !str.length) {
            return '';
        }
        var strLength = str.length;
        var result = '';
        var i = 0;
        while (i < strLength) {
            var c = str.charCodeAt(i);
            var alpha = CHAR_INDEX[c];
            if (alpha) {
                result += "&" + alpha + ";";
                i++;
                continue;
            }
            if (c < 32 || c > 126) {
                result += '&#' + c + ';';
            }
            else {
                result += str.charAt(i);
            }
            i++;
        }
        return result;
    };
    XmlEntities.encodeNonUTF = function (str) {
        return new XmlEntities().encodeNonUTF(str);
    };
    XmlEntities.prototype.encodeNonASCII = function (str) {
        if (!str || !str.length) {
            return '';
        }
        var strLenght = str.length;
        var result = '';
        var i = 0;
        while (i < strLenght) {
            var c = str.charCodeAt(i);
            if (c <= 255) {
                result += str[i++];
                continue;
            }
            result += '&#' + c + ';';
            i++;
        }
        return result;
    };
    XmlEntities.encodeNonASCII = function (str) {
        return new XmlEntities().encodeNonASCII(str);
    };
    return XmlEntities;
}());
exports.XmlEntities = XmlEntities;


/***/ }),

/***/ "./node_modules/identicon.js/identicon.js":
/*!************************************************!*\
  !*** ./node_modules/identicon.js/identicon.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Buffer) {/**
 * Identicon.js 2.3.3
 * http://github.com/stewartlord/identicon.js
 *
 * PNGLib required for PNG output
 * http://www.xarg.org/download/pnglib.js
 *
 * Copyright 2018, Stewart Lord
 * Released under the BSD license
 * http://www.opensource.org/licenses/bsd-license.php
 */

(function() {
    var PNGlib;
    if ( true && typeof module.exports !== 'undefined') {
        PNGlib = __webpack_require__(/*! ./pnglib */ "./node_modules/identicon.js/pnglib.js");
    } else {
        PNGlib = window.PNGlib;
    }

    var Identicon = function(hash, options){
        if (typeof(hash) !== 'string' || hash.length < 15) {
            throw 'A hash of at least 15 characters is required.';
        }

        this.defaults = {
            background: [240, 240, 240, 255],
            margin:     0.08,
            size:       64,
            saturation: 0.7,
            brightness: 0.5,
            format:     'png'
        };

        this.options = typeof(options) === 'object' ? options : this.defaults;

        // backward compatibility with old constructor (hash, size, margin)
        if (typeof(arguments[1]) === 'number') { this.options.size   = arguments[1]; }
        if (arguments[2])                      { this.options.margin = arguments[2]; }

        this.hash        = hash
        this.background  = this.options.background || this.defaults.background;
        this.size        = this.options.size       || this.defaults.size;
        this.format      = this.options.format     || this.defaults.format;
        this.margin      = this.options.margin !== undefined ? this.options.margin : this.defaults.margin;

        // foreground defaults to last 7 chars as hue at 70% saturation, 50% brightness
        var hue          = parseInt(this.hash.substr(-7), 16) / 0xfffffff;
        var saturation   = this.options.saturation || this.defaults.saturation;
        var brightness   = this.options.brightness || this.defaults.brightness;
        this.foreground  = this.options.foreground || this.hsl2rgb(hue, saturation, brightness);
    };

    Identicon.prototype = {
        background: null,
        foreground: null,
        hash:       null,
        margin:     null,
        size:       null,
        format:     null,

        image: function(){
            return this.isSvg()
                ? new Svg(this.size, this.foreground, this.background)
                : new PNGlib(this.size, this.size, 256);
        },

        render: function(){
            var image      = this.image(),
                size       = this.size,
                baseMargin = Math.floor(size * this.margin),
                cell       = Math.floor((size - (baseMargin * 2)) / 5),
                margin     = Math.floor((size - cell * 5) / 2),
                bg         = image.color.apply(image, this.background),
                fg         = image.color.apply(image, this.foreground);

            // the first 15 characters of the hash control the pixels (even/odd)
            // they are drawn down the middle first, then mirrored outwards
            var i, color;
            for (i = 0; i < 15; i++) {
                color = parseInt(this.hash.charAt(i), 16) % 2 ? bg : fg;
                if (i < 5) {
                    this.rectangle(2 * cell + margin, i * cell + margin, cell, cell, color, image);
                } else if (i < 10) {
                    this.rectangle(1 * cell + margin, (i - 5) * cell + margin, cell, cell, color, image);
                    this.rectangle(3 * cell + margin, (i - 5) * cell + margin, cell, cell, color, image);
                } else if (i < 15) {
                    this.rectangle(0 * cell + margin, (i - 10) * cell + margin, cell, cell, color, image);
                    this.rectangle(4 * cell + margin, (i - 10) * cell + margin, cell, cell, color, image);
                }
            }

            return image;
        },

        rectangle: function(x, y, w, h, color, image){
            if (this.isSvg()) {
                image.rectangles.push({x: x, y: y, w: w, h: h, color: color});
            } else {
                var i, j;
                for (i = x; i < x + w; i++) {
                    for (j = y; j < y + h; j++) {
                        image.buffer[image.index(i, j)] = color;
                    }
                }
            }
        },

        // adapted from: https://gist.github.com/aemkei/1325937
        hsl2rgb: function(h, s, b){
            h *= 6;
            s = [
                b += s *= b < .5 ? b : 1 - b,
                b - h % 1 * s * 2,
                b -= s *= 2,
                b,
                b + h % 1 * s,
                b + s
            ];

            return[
                s[ ~~h    % 6 ] * 255, // red
                s[ (h|16) % 6 ] * 255, // green
                s[ (h|8)  % 6 ] * 255  // blue
            ];
        },

        toString: function(raw){
            // backward compatibility with old toString, default to base64
            if (raw) {
                return this.render().getDump();
            } else {
                return this.render().getBase64();
            }
        },

        isSvg: function(){
            return this.format.match(/svg/i)
        }
    };

    var Svg = function(size, foreground, background){
        this.size       = size;
        this.foreground = this.color.apply(this, foreground);
        this.background = this.color.apply(this, background);
        this.rectangles = [];
    };

    Svg.prototype = {
        size:       null,
        foreground: null,
        background: null,
        rectangles: null,

        color: function(r, g, b, a){
            var values = [r, g, b].map(Math.round);
            values.push((a >= 0) && (a <= 255) ? a/255 : 1);
            return 'rgba(' + values.join(',') + ')';
        },

        getDump: function(){
          var i,
                xml,
                rect,
                fg     = this.foreground,
                bg     = this.background,
                stroke = this.size * 0.005;

            xml = "<svg xmlns='http://www.w3.org/2000/svg'"
                + " width='" + this.size + "' height='" + this.size + "'"
                + " style='background-color:" + bg + ";'>"
                + "<g style='fill:" + fg + "; stroke:" + fg + "; stroke-width:" + stroke + ";'>";

            for (i = 0; i < this.rectangles.length; i++) {
                rect = this.rectangles[i];
                if (rect.color == bg) continue;
                xml += "<rect "
                    + " x='"      + rect.x + "'"
                    + " y='"      + rect.y + "'"
                    + " width='"  + rect.w + "'"
                    + " height='" + rect.h + "'"
                    + "/>";
            }
            xml += "</g></svg>"

            return xml;
        },

        getBase64: function(){
            if ('function' === typeof btoa) {
                return btoa(this.getDump());
            } else if (Buffer) {
                return new Buffer(this.getDump(), 'binary').toString('base64');
            } else {
                throw 'Cannot generate base64 output';
            }
        }
    };

    if ( true && typeof module.exports !== 'undefined') {
        module.exports = Identicon;
    } else {
        window.Identicon = Identicon;
    }
})();

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../buffer/index.js */ "./node_modules/buffer/index.js").Buffer))

/***/ }),

/***/ "./node_modules/identicon.js/pnglib.js":
/*!*********************************************!*\
  !*** ./node_modules/identicon.js/pnglib.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
* A handy class to calculate color values.
*
* @version 1.0
* @author Robert Eisele <robert@xarg.org>
* @copyright Copyright (c) 2010, Robert Eisele
* @link http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/
* @license http://www.opensource.org/licenses/bsd-license.php BSD License
*
*/

(function() {

	// helper functions for that ctx
	function write(buffer, offs) {
		for (var i = 2; i < arguments.length; i++) {
			for (var j = 0; j < arguments[i].length; j++) {
				buffer[offs++] = arguments[i].charAt(j);
			}
		}
	}

	function byte2(w) {
		return String.fromCharCode((w >> 8) & 255, w & 255);
	}

	function byte4(w) {
		return String.fromCharCode((w >> 24) & 255, (w >> 16) & 255, (w >> 8) & 255, w & 255);
	}

	function byte2lsb(w) {
		return String.fromCharCode(w & 255, (w >> 8) & 255);
	}

	// modified from original source to support NPM
	var PNGlib = function(width,height,depth) {

		this.width   = width;
		this.height  = height;
		this.depth   = depth;

		// pixel data and row filter identifier size
		this.pix_size = height * (width + 1);

		// deflate header, pix_size, block headers, adler32 checksum
		this.data_size = 2 + this.pix_size + 5 * Math.floor((0xfffe + this.pix_size) / 0xffff) + 4;

		// offsets and sizes of Png chunks
		this.ihdr_offs = 0;									// IHDR offset and size
		this.ihdr_size = 4 + 4 + 13 + 4;
		this.plte_offs = this.ihdr_offs + this.ihdr_size;	// PLTE offset and size
		this.plte_size = 4 + 4 + 3 * depth + 4;
		this.trns_offs = this.plte_offs + this.plte_size;	// tRNS offset and size
		this.trns_size = 4 + 4 + depth + 4;
		this.idat_offs = this.trns_offs + this.trns_size;	// IDAT offset and size
		this.idat_size = 4 + 4 + this.data_size + 4;
		this.iend_offs = this.idat_offs + this.idat_size;	// IEND offset and size
		this.iend_size = 4 + 4 + 4;
		this.buffer_size  = this.iend_offs + this.iend_size;	// total PNG size

		this.buffer  = new Array();
		this.palette = new Object();
		this.pindex  = 0;

		var _crc32 = new Array();

		// initialize buffer with zero bytes
		for (var i = 0; i < this.buffer_size; i++) {
			this.buffer[i] = "\x00";
		}

		// initialize non-zero elements
		write(this.buffer, this.ihdr_offs, byte4(this.ihdr_size - 12), 'IHDR', byte4(width), byte4(height), "\x08\x03");
		write(this.buffer, this.plte_offs, byte4(this.plte_size - 12), 'PLTE');
		write(this.buffer, this.trns_offs, byte4(this.trns_size - 12), 'tRNS');
		write(this.buffer, this.idat_offs, byte4(this.idat_size - 12), 'IDAT');
		write(this.buffer, this.iend_offs, byte4(this.iend_size - 12), 'IEND');

		// initialize deflate header
		var header = ((8 + (7 << 4)) << 8) | (3 << 6);
		header+= 31 - (header % 31);

		write(this.buffer, this.idat_offs + 8, byte2(header));

		// initialize deflate block headers
		for (var i = 0; (i << 16) - 1 < this.pix_size; i++) {
			var size, bits;
			if (i + 0xffff < this.pix_size) {
				size = 0xffff;
				bits = "\x00";
			} else {
				size = this.pix_size - (i << 16) - i;
				bits = "\x01";
			}
			write(this.buffer, this.idat_offs + 8 + 2 + (i << 16) + (i << 2), bits, byte2lsb(size), byte2lsb(~size));
		}

		/* Create crc32 lookup table */
		for (var i = 0; i < 256; i++) {
			var c = i;
			for (var j = 0; j < 8; j++) {
				if (c & 1) {
					c = -306674912 ^ ((c >> 1) & 0x7fffffff);
				} else {
					c = (c >> 1) & 0x7fffffff;
				}
			}
			_crc32[i] = c;
		}

		// compute the index into a png for a given pixel
		this.index = function(x,y) {
			var i = y * (this.width + 1) + x + 1;
			var j = this.idat_offs + 8 + 2 + 5 * Math.floor((i / 0xffff) + 1) + i;
			return j;
		}

		// convert a color and build up the palette
		this.color = function(red, green, blue, alpha) {

			alpha = alpha >= 0 ? alpha : 255;
			var color = (((((alpha << 8) | red) << 8) | green) << 8) | blue;

			if (typeof this.palette[color] == "undefined") {
				if (this.pindex == this.depth) return "\x00";

				var ndx = this.plte_offs + 8 + 3 * this.pindex;

				this.buffer[ndx + 0] = String.fromCharCode(red);
				this.buffer[ndx + 1] = String.fromCharCode(green);
				this.buffer[ndx + 2] = String.fromCharCode(blue);
				this.buffer[this.trns_offs+8+this.pindex] = String.fromCharCode(alpha);

				this.palette[color] = String.fromCharCode(this.pindex++);
			}
			return this.palette[color];
		}

		// output a PNG string, Base64 encoded
		this.getBase64 = function() {

			var s = this.getDump();

			var ch = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
			var c1, c2, c3, e1, e2, e3, e4;
			var l = s.length;
			var i = 0;
			var r = "";

			do {
				c1 = s.charCodeAt(i);
				e1 = c1 >> 2;
				c2 = s.charCodeAt(i+1);
				e2 = ((c1 & 3) << 4) | (c2 >> 4);
				c3 = s.charCodeAt(i+2);
				if (l < i+2) { e3 = 64; } else { e3 = ((c2 & 0xf) << 2) | (c3 >> 6); }
				if (l < i+3) { e4 = 64; } else { e4 = c3 & 0x3f; }
				r+= ch.charAt(e1) + ch.charAt(e2) + ch.charAt(e3) + ch.charAt(e4);
			} while ((i+= 3) < l);
			return r;
		}

		// output a PNG string
		this.getDump = function() {

			// compute adler32 of output pixels + row filter bytes
			var BASE = 65521; /* largest prime smaller than 65536 */
			var NMAX = 5552;  /* NMAX is the largest n such that 255n(n+1)/2 + (n+1)(BASE-1) <= 2^32-1 */
			var s1 = 1;
			var s2 = 0;
			var n = NMAX;

			for (var y = 0; y < this.height; y++) {
				for (var x = -1; x < this.width; x++) {
					s1+= this.buffer[this.index(x, y)].charCodeAt(0);
					s2+= s1;
					if ((n-= 1) == 0) {
						s1%= BASE;
						s2%= BASE;
						n = NMAX;
					}
				}
			}
			s1%= BASE;
			s2%= BASE;
			write(this.buffer, this.idat_offs + this.idat_size - 8, byte4((s2 << 16) | s1));

			// compute crc32 of the PNG chunks
			function crc32(png, offs, size) {
				var crc = -1;
				for (var i = 4; i < size-4; i += 1) {
					crc = _crc32[(crc ^ png[offs+i].charCodeAt(0)) & 0xff] ^ ((crc >> 8) & 0x00ffffff);
				}
				write(png, offs+size-4, byte4(crc ^ -1));
			}

			crc32(this.buffer, this.ihdr_offs, this.ihdr_size);
			crc32(this.buffer, this.plte_offs, this.plte_size);
			crc32(this.buffer, this.trns_offs, this.trns_size);
			crc32(this.buffer, this.idat_offs, this.idat_size);
			crc32(this.buffer, this.iend_offs, this.iend_size);

			// convert PNG to string
			return "\x89PNG\r\n\x1a\n"+this.buffer.join('');
		}
	}

	// modified from original source to support NPM
	if ( true && typeof module.exports !== 'undefined') {
		module.exports = PNGlib;
	} else {
		window.PNGlib = PNGlib;
	}
})();


/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),

/***/ "./node_modules/isarray/index.js":
/*!***************************************!*\
  !*** ./node_modules/isarray/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = Array.isArray || function (arr) {
  return toString.call(arr) == '[object Array]';
};


/***/ }),

/***/ "./node_modules/jssha/dist/sha.mjs":
/*!*****************************************!*\
  !*** ./node_modules/jssha/dist/sha.mjs ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * A JavaScript implementation of the SHA family of hashes - defined in FIPS PUB 180-4, FIPS PUB 202,
 * and SP 800-185 - as well as the corresponding HMAC implementation as defined in FIPS PUB 198-1.
 *
 * Copyright 2008-2020 Brian Turek, 1998-2009 Paul Johnston & Contributors
 * Distributed under the BSD License
 * See http://caligatio.github.com/jsSHA/ for more information
 */
const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function n(t,n,e,r){let i,s,o;const h=n||[0],u=(e=e||0)>>>3,w=-1===r?3:0;for(i=0;i<t.length;i+=1)o=i+u,s=o>>>2,h.length<=s&&h.push(0),h[s]|=t[i]<<8*(w+r*(o%4));return{value:h,binLen:8*t.length+e}}function e(e,r,i){switch(r){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":return function(t,n,e){return function(t,n,e,r){let i,s,o,h;if(0!=t.length%2)throw new Error("String of HEX type must be in byte increments");const u=n||[0],w=(e=e||0)>>>3,c=-1===r?3:0;for(i=0;i<t.length;i+=2){if(s=parseInt(t.substr(i,2),16),isNaN(s))throw new Error("String of HEX type contains invalid characters");for(h=(i>>>1)+w,o=h>>>2;u.length<=o;)u.push(0);u[o]|=s<<8*(c+r*(h%4))}return{value:u,binLen:4*t.length+e}}(t,n,e,i)};case"TEXT":return function(t,n,e){return function(t,n,e,r,i){let s,o,h,u,w,c,f,a,l=0;const A=e||[0],E=(r=r||0)>>>3;if("UTF8"===n)for(f=-1===i?3:0,h=0;h<t.length;h+=1)for(s=t.charCodeAt(h),o=[],128>s?o.push(s):2048>s?(o.push(192|s>>>6),o.push(128|63&s)):55296>s||57344<=s?o.push(224|s>>>12,128|s>>>6&63,128|63&s):(h+=1,s=65536+((1023&s)<<10|1023&t.charCodeAt(h)),o.push(240|s>>>18,128|s>>>12&63,128|s>>>6&63,128|63&s)),u=0;u<o.length;u+=1){for(c=l+E,w=c>>>2;A.length<=w;)A.push(0);A[w]|=o[u]<<8*(f+i*(c%4)),l+=1}else for(f=-1===i?2:0,a="UTF16LE"===n&&1!==i||"UTF16LE"!==n&&1===i,h=0;h<t.length;h+=1){for(s=t.charCodeAt(h),!0===a&&(u=255&s,s=u<<8|s>>>8),c=l+E,w=c>>>2;A.length<=w;)A.push(0);A[w]|=s<<8*(f+i*(c%4)),l+=2}return{value:A,binLen:8*l+r}}(t,r,n,e,i)};case"B64":return function(n,e,r){return function(n,e,r,i){let s,o,h,u,w,c,f,a=0;const l=e||[0],A=(r=r||0)>>>3,E=-1===i?3:0,H=n.indexOf("=");if(-1===n.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(n=n.replace(/=/g,""),-1!==H&&H<n.length)throw new Error("Invalid '=' found in base-64 string");for(o=0;o<n.length;o+=4){for(w=n.substr(o,4),u=0,h=0;h<w.length;h+=1)s=t.indexOf(w.charAt(h)),u|=s<<18-6*h;for(h=0;h<w.length-1;h+=1){for(f=a+A,c=f>>>2;l.length<=c;)l.push(0);l[c]|=(u>>>16-8*h&255)<<8*(E+i*(f%4)),a+=1}}return{value:l,binLen:8*a+r}}(n,e,r,i)};case"BYTES":return function(t,n,e){return function(t,n,e,r){let i,s,o,h;const u=n||[0],w=(e=e||0)>>>3,c=-1===r?3:0;for(s=0;s<t.length;s+=1)i=t.charCodeAt(s),h=s+w,o=h>>>2,u.length<=o&&u.push(0),u[o]|=i<<8*(c+r*(h%4));return{value:u,binLen:8*t.length+e}}(t,n,e,i)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error("ARRAYBUFFER not supported by this environment")}return function(t,e,r){return function(t,e,r,i){return n(new Uint8Array(t),e,r,i)}(t,e,r,i)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error("UINT8ARRAY not supported by this environment")}return function(t,e,r){return n(t,e,r,i)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function r(n,e,r,i){switch(n){case"HEX":return function(t){return function(t,n,e,r){let i,s,o="";const h=n/8,u=-1===e?3:0;for(i=0;i<h;i+=1)s=t[i>>>2]>>>8*(u+e*(i%4)),o+="0123456789abcdef".charAt(s>>>4&15)+"0123456789abcdef".charAt(15&s);return r.outputUpper?o.toUpperCase():o}(t,e,r,i)};case"B64":return function(n){return function(n,e,r,i){let s,o,h,u,w,c="";const f=e/8,a=-1===r?3:0;for(s=0;s<f;s+=3)for(u=s+1<f?n[s+1>>>2]:0,w=s+2<f?n[s+2>>>2]:0,h=(n[s>>>2]>>>8*(a+r*(s%4))&255)<<16|(u>>>8*(a+r*((s+1)%4))&255)<<8|w>>>8*(a+r*((s+2)%4))&255,o=0;o<4;o+=1)c+=8*s+6*o<=e?t.charAt(h>>>6*(3-o)&63):i.b64Pad;return c}(n,e,r,i)};case"BYTES":return function(t){return function(t,n,e){let r,i,s="";const o=n/8,h=-1===e?3:0;for(r=0;r<o;r+=1)i=t[r>>>2]>>>8*(h+e*(r%4))&255,s+=String.fromCharCode(i);return s}(t,e,r)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error("ARRAYBUFFER not supported by this environment")}return function(t){return function(t,n,e){let r;const i=n/8,s=new ArrayBuffer(i),o=new Uint8Array(s),h=-1===e?3:0;for(r=0;r<i;r+=1)o[r]=t[r>>>2]>>>8*(h+e*(r%4))&255;return s}(t,e,r)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error("UINT8ARRAY not supported by this environment")}return function(t){return function(t,n,e){let r;const i=n/8,s=-1===e?3:0,o=new Uint8Array(i);for(r=0;r<i;r+=1)o[r]=t[r>>>2]>>>8*(s+e*(r%4))&255;return o}(t,e,r)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],o=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],h="Chosen SHA variant is not supported";function u(t,n){let e,r;const i=t.binLen>>>3,s=n.binLen>>>3,o=i<<3,h=4-i<<3;if(i%4!=0){for(e=0;e<s;e+=4)r=i+e>>>2,t.value[r]|=n.value[e>>>2]<<o,t.value.push(0),t.value[r+1]|=n.value[e>>>2]>>>h;return(t.value.length<<2)-4>=s+i&&t.value.pop(),{value:t.value,binLen:t.binLen+n.binLen}}return{value:t.value.concat(n.value),binLen:t.binLen+n.binLen}}function w(t){const n={outputUpper:!1,b64Pad:"=",outputLen:-1},e=t||{},r="Output length must be a multiple of 8";if(n.outputUpper=e.outputUpper||!1,e.b64Pad&&(n.b64Pad=e.b64Pad),e.outputLen){if(e.outputLen%8!=0)throw new Error(r);n.outputLen=e.outputLen}else if(e.shakeLen){if(e.shakeLen%8!=0)throw new Error(r);n.outputLen=e.shakeLen}if("boolean"!=typeof n.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof n.b64Pad)throw new Error("Invalid b64Pad formatting option");return n}function c(t,n,r,i){const s=t+" must include a value and format";if(!n){if(!i)throw new Error(s);return i}if(void 0===n.value||!n.format)throw new Error(s);return e(n.format,n.encoding||"UTF8",r)(n.value)}class f{constructor(t,n,e){const r=e||{};if(this.t=n,this.i=r.encoding||"UTF8",this.numRounds=r.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.s=t,this.o=[],this.h=0,this.u=!1,this.l=0,this.A=!1,this.H=[],this.S=[]}update(t){let n,e=0;const r=this.p>>>5,i=this.m(t,this.o,this.h),s=i.binLen,o=i.value,h=s>>>5;for(n=0;n<h;n+=r)e+this.p<=s&&(this.C=this.R(o.slice(n,n+r),this.C),e+=this.p);this.l+=e,this.o=o.slice(e>>>5),this.h=s%this.p,this.u=!0}getHash(t,n){let e,i,s=this.U;const o=w(n);if(this.v){if(-1===o.outputLen)throw new Error("Output length must be specified in options");s=o.outputLen}const h=r(t,s,this.K,o);if(this.A&&this.T)return h(this.T(o));for(i=this.F(this.o.slice(),this.h,this.l,this.g(this.C),s),e=1;e<this.numRounds;e+=1)this.v&&s%32!=0&&(i[i.length-1]&=16777215>>>24-s%32),i=this.F(i,s,0,this.B(this.s),s);return h(i)}setHMACKey(t,n,r){if(!this.L)throw new Error("Variant does not support HMAC");if(this.u)throw new Error("Cannot set MAC key after calling update");const i=e(n,(r||{}).encoding||"UTF8",this.K);this.M(i(t))}M(t){const n=this.p>>>3,e=n/4-1;let r;if(1!==this.numRounds)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(n<t.binLen/8&&(t.value=this.F(t.value,t.binLen,0,this.B(this.s),this.U));t.value.length<=e;)t.value.push(0);for(r=0;r<=e;r+=1)this.H[r]=909522486^t.value[r],this.S[r]=1549556828^t.value[r];this.C=this.R(this.H,this.C),this.l=this.p,this.A=!0}getHMAC(t,n){const e=w(n);return r(t,this.U,this.K,e)(this.k())}k(){let t;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");const n=this.F(this.o.slice(),this.h,this.l,this.g(this.C),this.U);return t=this.R(this.S,this.B(this.s)),t=this.F(n,this.U,this.p,t,this.U),t}}function a(t,n){return t<<n|t>>>32-n}function l(t,n){return t>>>n|t<<32-n}function A(t,n){return t>>>n}function E(t,n,e){return t^n^e}function H(t,n,e){return t&n^~t&e}function S(t,n,e){return t&n^t&e^n&e}function b(t){return l(t,2)^l(t,13)^l(t,22)}function p(t,n){const e=(65535&t)+(65535&n);return(65535&(t>>>16)+(n>>>16)+(e>>>16))<<16|65535&e}function d(t,n,e,r){const i=(65535&t)+(65535&n)+(65535&e)+(65535&r);return(65535&(t>>>16)+(n>>>16)+(e>>>16)+(r>>>16)+(i>>>16))<<16|65535&i}function m(t,n,e,r,i){const s=(65535&t)+(65535&n)+(65535&e)+(65535&r)+(65535&i);return(65535&(t>>>16)+(n>>>16)+(e>>>16)+(r>>>16)+(i>>>16)+(s>>>16))<<16|65535&s}function C(t){return l(t,7)^l(t,18)^A(t,3)}function y(t){return l(t,6)^l(t,11)^l(t,25)}function R(t){return[1732584193,4023233417,2562383102,271733878,3285377520]}function U(t,n){let e,r,i,s,o,h,u;const w=[];for(e=n[0],r=n[1],i=n[2],s=n[3],o=n[4],u=0;u<80;u+=1)w[u]=u<16?t[u]:a(w[u-3]^w[u-8]^w[u-14]^w[u-16],1),h=u<20?m(a(e,5),H(r,i,s),o,1518500249,w[u]):u<40?m(a(e,5),E(r,i,s),o,1859775393,w[u]):u<60?m(a(e,5),S(r,i,s),o,2400959708,w[u]):m(a(e,5),E(r,i,s),o,3395469782,w[u]),o=s,s=i,i=a(r,30),r=e,e=h;return n[0]=p(e,n[0]),n[1]=p(r,n[1]),n[2]=p(i,n[2]),n[3]=p(s,n[3]),n[4]=p(o,n[4]),n}function v(t,n,e,r){let i;const s=15+(n+65>>>9<<4),o=n+e;for(;t.length<=s;)t.push(0);for(t[n>>>5]|=128<<24-n%32,t[s]=4294967295&o,t[s-1]=o/4294967296|0,i=0;i<t.length;i+=16)r=U(t.slice(i,i+16),r);return r}class K extends f{constructor(t,n,r){if("SHA-1"!==t)throw new Error(h);super(t,n,r);const i=r||{};this.L=!0,this.T=this.k,this.K=-1,this.m=e(this.t,this.i,this.K),this.R=U,this.g=function(t){return t.slice()},this.B=R,this.F=v,this.C=[1732584193,4023233417,2562383102,271733878,3285377520],this.p=512,this.U=160,this.v=!1,i.hmacKey&&this.M(c("hmacKey",i.hmacKey,this.K))}}function T(t){let n;return n="SHA-224"==t?s.slice():o.slice(),n}function F(t,n){let e,r,s,o,h,u,w,c,f,a,E;const R=[];for(e=n[0],r=n[1],s=n[2],o=n[3],h=n[4],u=n[5],w=n[6],c=n[7],E=0;E<64;E+=1)R[E]=E<16?t[E]:d(l(U=R[E-2],17)^l(U,19)^A(U,10),R[E-7],C(R[E-15]),R[E-16]),f=m(c,y(h),H(h,u,w),i[E],R[E]),a=p(b(e),S(e,r,s)),c=w,w=u,u=h,h=p(o,f),o=s,s=r,r=e,e=p(f,a);var U;return n[0]=p(e,n[0]),n[1]=p(r,n[1]),n[2]=p(s,n[2]),n[3]=p(o,n[3]),n[4]=p(h,n[4]),n[5]=p(u,n[5]),n[6]=p(w,n[6]),n[7]=p(c,n[7]),n}class g extends f{constructor(t,n,r){if("SHA-224"!==t&&"SHA-256"!==t)throw new Error(h);super(t,n,r);const i=r||{};this.T=this.k,this.L=!0,this.K=-1,this.m=e(this.t,this.i,this.K),this.R=F,this.g=function(t){return t.slice()},this.B=T,this.F=function(n,e,r,i){return function(t,n,e,r,i){let s,o;const h=15+(n+65>>>9<<4),u=n+e;for(;t.length<=h;)t.push(0);for(t[n>>>5]|=128<<24-n%32,t[h]=4294967295&u,t[h-1]=u/4294967296|0,s=0;s<t.length;s+=16)r=F(t.slice(s,s+16),r);return o="SHA-224"===i?[r[0],r[1],r[2],r[3],r[4],r[5],r[6]]:r,o}(n,e,r,i,t)},this.C=T(t),this.p=512,this.U="SHA-224"===t?224:256,this.v=!1,i.hmacKey&&this.M(c("hmacKey",i.hmacKey,this.K))}}class B{constructor(t,n){this.Y=t,this.N=n}}function L(t,n){let e;return n>32?(e=64-n,new B(t.N<<n|t.Y>>>e,t.Y<<n|t.N>>>e)):0!==n?(e=32-n,new B(t.Y<<n|t.N>>>e,t.N<<n|t.Y>>>e)):t}function M(t,n){let e;return n<32?(e=32-n,new B(t.Y>>>n|t.N<<e,t.N>>>n|t.Y<<e)):(e=64-n,new B(t.N>>>n|t.Y<<e,t.Y>>>n|t.N<<e))}function k(t,n){return new B(t.Y>>>n,t.N>>>n|t.Y<<32-n)}function Y(t,n,e){return new B(t.Y&n.Y^t.Y&e.Y^n.Y&e.Y,t.N&n.N^t.N&e.N^n.N&e.N)}function N(t){const n=M(t,28),e=M(t,34),r=M(t,39);return new B(n.Y^e.Y^r.Y,n.N^e.N^r.N)}function I(t,n){let e,r;e=(65535&t.N)+(65535&n.N),r=(t.N>>>16)+(n.N>>>16)+(e>>>16);const i=(65535&r)<<16|65535&e;return e=(65535&t.Y)+(65535&n.Y)+(r>>>16),r=(t.Y>>>16)+(n.Y>>>16)+(e>>>16),new B((65535&r)<<16|65535&e,i)}function X(t,n,e,r){let i,s;i=(65535&t.N)+(65535&n.N)+(65535&e.N)+(65535&r.N),s=(t.N>>>16)+(n.N>>>16)+(e.N>>>16)+(r.N>>>16)+(i>>>16);const o=(65535&s)<<16|65535&i;return i=(65535&t.Y)+(65535&n.Y)+(65535&e.Y)+(65535&r.Y)+(s>>>16),s=(t.Y>>>16)+(n.Y>>>16)+(e.Y>>>16)+(r.Y>>>16)+(i>>>16),new B((65535&s)<<16|65535&i,o)}function z(t,n,e,r,i){let s,o;s=(65535&t.N)+(65535&n.N)+(65535&e.N)+(65535&r.N)+(65535&i.N),o=(t.N>>>16)+(n.N>>>16)+(e.N>>>16)+(r.N>>>16)+(i.N>>>16)+(s>>>16);const h=(65535&o)<<16|65535&s;return s=(65535&t.Y)+(65535&n.Y)+(65535&e.Y)+(65535&r.Y)+(65535&i.Y)+(o>>>16),o=(t.Y>>>16)+(n.Y>>>16)+(e.Y>>>16)+(r.Y>>>16)+(i.Y>>>16)+(s>>>16),new B((65535&o)<<16|65535&s,h)}function x(t,n){return new B(t.Y^n.Y,t.N^n.N)}function _(t){const n=M(t,19),e=M(t,61),r=k(t,6);return new B(n.Y^e.Y^r.Y,n.N^e.N^r.N)}function O(t){const n=M(t,1),e=M(t,8),r=k(t,7);return new B(n.Y^e.Y^r.Y,n.N^e.N^r.N)}function P(t){const n=M(t,14),e=M(t,18),r=M(t,41);return new B(n.Y^e.Y^r.Y,n.N^e.N^r.N)}const V=[new B(i[0],3609767458),new B(i[1],602891725),new B(i[2],3964484399),new B(i[3],2173295548),new B(i[4],4081628472),new B(i[5],3053834265),new B(i[6],2937671579),new B(i[7],3664609560),new B(i[8],2734883394),new B(i[9],1164996542),new B(i[10],1323610764),new B(i[11],3590304994),new B(i[12],4068182383),new B(i[13],991336113),new B(i[14],633803317),new B(i[15],3479774868),new B(i[16],2666613458),new B(i[17],944711139),new B(i[18],2341262773),new B(i[19],2007800933),new B(i[20],1495990901),new B(i[21],1856431235),new B(i[22],3175218132),new B(i[23],2198950837),new B(i[24],3999719339),new B(i[25],766784016),new B(i[26],2566594879),new B(i[27],3203337956),new B(i[28],1034457026),new B(i[29],2466948901),new B(i[30],3758326383),new B(i[31],168717936),new B(i[32],1188179964),new B(i[33],1546045734),new B(i[34],1522805485),new B(i[35],2643833823),new B(i[36],2343527390),new B(i[37],1014477480),new B(i[38],1206759142),new B(i[39],344077627),new B(i[40],1290863460),new B(i[41],3158454273),new B(i[42],3505952657),new B(i[43],106217008),new B(i[44],3606008344),new B(i[45],1432725776),new B(i[46],1467031594),new B(i[47],851169720),new B(i[48],3100823752),new B(i[49],1363258195),new B(i[50],3750685593),new B(i[51],3785050280),new B(i[52],3318307427),new B(i[53],3812723403),new B(i[54],2003034995),new B(i[55],3602036899),new B(i[56],1575990012),new B(i[57],1125592928),new B(i[58],2716904306),new B(i[59],442776044),new B(i[60],593698344),new B(i[61],3733110249),new B(i[62],2999351573),new B(i[63],3815920427),new B(3391569614,3928383900),new B(3515267271,566280711),new B(3940187606,3454069534),new B(4118630271,4000239992),new B(116418474,1914138554),new B(174292421,2731055270),new B(289380356,3203993006),new B(460393269,320620315),new B(685471733,587496836),new B(852142971,1086792851),new B(1017036298,365543100),new B(1126000580,2618297676),new B(1288033470,3409855158),new B(1501505948,4234509866),new B(1607167915,987167468),new B(1816402316,1246189591)];function Z(t){return"SHA-384"===t?[new B(3418070365,s[0]),new B(1654270250,s[1]),new B(2438529370,s[2]),new B(355462360,s[3]),new B(1731405415,s[4]),new B(41048885895,s[5]),new B(3675008525,s[6]),new B(1203062813,s[7])]:[new B(o[0],4089235720),new B(o[1],2227873595),new B(o[2],4271175723),new B(o[3],1595750129),new B(o[4],2917565137),new B(o[5],725511199),new B(o[6],4215389547),new B(o[7],327033209)]}function j(t,n){let e,r,i,s,o,h,u,w,c,f,a,l;const A=[];for(e=n[0],r=n[1],i=n[2],s=n[3],o=n[4],h=n[5],u=n[6],w=n[7],a=0;a<80;a+=1)a<16?(l=2*a,A[a]=new B(t[l],t[l+1])):A[a]=X(_(A[a-2]),A[a-7],O(A[a-15]),A[a-16]),c=z(w,P(o),(H=h,S=u,new B((E=o).Y&H.Y^~E.Y&S.Y,E.N&H.N^~E.N&S.N)),V[a],A[a]),f=I(N(e),Y(e,r,i)),w=u,u=h,h=o,o=I(s,c),s=i,i=r,r=e,e=I(c,f);var E,H,S;return n[0]=I(e,n[0]),n[1]=I(r,n[1]),n[2]=I(i,n[2]),n[3]=I(s,n[3]),n[4]=I(o,n[4]),n[5]=I(h,n[5]),n[6]=I(u,n[6]),n[7]=I(w,n[7]),n}class q extends f{constructor(t,n,r){if("SHA-384"!==t&&"SHA-512"!==t)throw new Error(h);super(t,n,r);const i=r||{};this.T=this.k,this.L=!0,this.K=-1,this.m=e(this.t,this.i,this.K),this.R=j,this.g=function(t){return t.slice()},this.B=Z,this.F=function(n,e,r,i){return function(t,n,e,r,i){let s,o;const h=31+(n+129>>>10<<5),u=n+e;for(;t.length<=h;)t.push(0);for(t[n>>>5]|=128<<24-n%32,t[h]=4294967295&u,t[h-1]=u/4294967296|0,s=0;s<t.length;s+=32)r=j(t.slice(s,s+32),r);return o="SHA-384"===i?[(r=r)[0].Y,r[0].N,r[1].Y,r[1].N,r[2].Y,r[2].N,r[3].Y,r[3].N,r[4].Y,r[4].N,r[5].Y,r[5].N]:[r[0].Y,r[0].N,r[1].Y,r[1].N,r[2].Y,r[2].N,r[3].Y,r[3].N,r[4].Y,r[4].N,r[5].Y,r[5].N,r[6].Y,r[6].N,r[7].Y,r[7].N],o}(n,e,r,i,t)},this.C=Z(t),this.p=1024,this.U="SHA-384"===t?384:512,this.v=!1,i.hmacKey&&this.M(c("hmacKey",i.hmacKey,this.K))}}const D=[new B(0,1),new B(0,32898),new B(2147483648,32906),new B(2147483648,2147516416),new B(0,32907),new B(0,2147483649),new B(2147483648,2147516545),new B(2147483648,32777),new B(0,138),new B(0,136),new B(0,2147516425),new B(0,2147483658),new B(0,2147516555),new B(2147483648,139),new B(2147483648,32905),new B(2147483648,32771),new B(2147483648,32770),new B(2147483648,128),new B(0,32778),new B(2147483648,2147483658),new B(2147483648,2147516545),new B(2147483648,32896),new B(0,2147483649),new B(2147483648,2147516424)],G=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function J(t){let n;const e=[];for(n=0;n<5;n+=1)e[n]=[new B(0,0),new B(0,0),new B(0,0),new B(0,0),new B(0,0)];return e}function Q(t){let n;const e=[];for(n=0;n<5;n+=1)e[n]=t[n].slice();return e}function W(t,n){let e,r,i,s;const o=[],h=[];if(null!==t)for(r=0;r<t.length;r+=2)n[(r>>>1)%5][(r>>>1)/5|0]=x(n[(r>>>1)%5][(r>>>1)/5|0],new B(t[r+1],t[r]));for(e=0;e<24;e+=1){for(s=J(),r=0;r<5;r+=1)o[r]=(u=n[r][0],w=n[r][1],c=n[r][2],f=n[r][3],a=n[r][4],new B(u.Y^w.Y^c.Y^f.Y^a.Y,u.N^w.N^c.N^f.N^a.N));for(r=0;r<5;r+=1)h[r]=x(o[(r+4)%5],L(o[(r+1)%5],1));for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)n[r][i]=x(n[r][i],h[r]);for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)s[i][(2*r+3*i)%5]=L(n[r][i],G[r][i]);for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)n[r][i]=x(s[r][i],new B(~s[(r+1)%5][i].Y&s[(r+2)%5][i].Y,~s[(r+1)%5][i].N&s[(r+2)%5][i].N));n[0][0]=x(n[0][0],D[e])}var u,w,c,f,a;return n}function $(t){let n,e,r=0;const i=[0,0],s=[4294967295&t,t/4294967296&2097151];for(n=6;n>=0;n--)e=s[n>>2]>>>8*n&255,0===e&&0===r||(i[r+1>>2]|=e<<8*(r+1),r+=1);return r=0!==r?r:1,i[0]|=r,{value:r+1>4?i:[i[0]],binLen:8+8*r}}function tt(t){return u($(t.binLen),t)}function nt(t,n){let e,r=$(n);r=u(r,t);const i=n>>>2,s=(i-r.value.length%i)%i;for(e=0;e<s;e++)r.value.push(0);return r.value}class et extends f{constructor(t,n,r){let i=6,s=0;super(t,n,r);const o=r||{};if(1!==this.numRounds){if(o.kmacKey||o.hmacKey)throw new Error("Cannot set numRounds with MAC");if("CSHAKE128"===this.s||"CSHAKE256"===this.s)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.K=1,this.m=e(this.t,this.i,this.K),this.R=W,this.g=Q,this.B=J,this.C=J(),this.v=!1,t){case"SHA3-224":this.p=s=1152,this.U=224,this.L=!0,this.T=this.k;break;case"SHA3-256":this.p=s=1088,this.U=256,this.L=!0,this.T=this.k;break;case"SHA3-384":this.p=s=832,this.U=384,this.L=!0,this.T=this.k;break;case"SHA3-512":this.p=s=576,this.U=512,this.L=!0,this.T=this.k;break;case"SHAKE128":i=31,this.p=s=1344,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"SHAKE256":i=31,this.p=s=1088,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"KMAC128":i=4,this.p=s=1344,this.I(r),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"KMAC256":i=4,this.p=s=1088,this.I(r),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"CSHAKE128":this.p=s=1344,i=this._(r),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"CSHAKE256":this.p=s=1088,i=this._(r),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;default:throw new Error(h)}this.F=function(t,n,e,r,o){return function(t,n,e,r,i,s,o){let h,u,w=0;const c=[],f=i>>>5,a=n>>>5;for(h=0;h<a&&n>=i;h+=f)r=W(t.slice(h,h+f),r),n-=i;for(t=t.slice(h),n%=i;t.length<f;)t.push(0);for(h=n>>>3,t[h>>2]^=s<<h%4*8,t[f-1]^=2147483648,r=W(t,r);32*c.length<o&&(u=r[w%5][w/5|0],c.push(u.N),!(32*c.length>=o));)c.push(u.Y),w+=1,0==64*w%i&&(W(null,r),w=0);return c}(t,n,0,r,s,i,o)},o.hmacKey&&this.M(c("hmacKey",o.hmacKey,this.K))}_(t,n){const e=function(t){const n=t||{};return{funcName:c("funcName",n.funcName,1,{value:[],binLen:0}),customization:c("Customization",n.customization,1,{value:[],binLen:0})}}(t||{});n&&(e.funcName=n);const r=u(tt(e.funcName),tt(e.customization));if(0!==e.customization.binLen||0!==e.funcName.binLen){const t=nt(r,this.p>>>3);for(let n=0;n<t.length;n+=this.p>>>5)this.C=this.R(t.slice(n,n+(this.p>>>5)),this.C),this.l+=this.p;return 4}return 31}I(t){const n=function(t){const n=t||{};return{kmacKey:c("kmacKey",n.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:c("Customization",n.customization,1,{value:[],binLen:0})}}(t||{});this._(t,n.funcName);const e=nt(tt(n.kmacKey),this.p>>>3);for(let t=0;t<e.length;t+=this.p>>>5)this.C=this.R(e.slice(t,t+(this.p>>>5)),this.C),this.l+=this.p;this.A=!0}X(t){const n=u({value:this.o.slice(),binLen:this.h},function(t){let n,e,r=0;const i=[0,0],s=[4294967295&t,t/4294967296&2097151];for(n=6;n>=0;n--)e=s[n>>2]>>>8*n&255,0===e&&0===r||(i[r>>2]|=e<<8*r,r+=1);return r=0!==r?r:1,i[r>>2]|=r<<8*r,{value:r+1>4?i:[i[0]],binLen:8+8*r}}(t.outputLen));return this.F(n.value,n.binLen,this.l,this.g(this.C),t.outputLen)}}/* harmony default export */ __webpack_exports__["default"] = (class{constructor(t,n,e){if("SHA-1"==t)this.O=new K(t,n,e);else if("SHA-224"==t||"SHA-256"==t)this.O=new g(t,n,e);else if("SHA-384"==t||"SHA-512"==t)this.O=new q(t,n,e);else{if("SHA3-224"!=t&&"SHA3-256"!=t&&"SHA3-384"!=t&&"SHA3-512"!=t&&"SHAKE128"!=t&&"SHAKE256"!=t&&"CSHAKE128"!=t&&"CSHAKE256"!=t&&"KMAC128"!=t&&"KMAC256"!=t)throw new Error(h);this.O=new et(t,n,e)}}update(t){this.O.update(t)}getHash(t,n){return this.O.getHash(t,n)}setHMACKey(t,n,e){this.O.setHMACKey(t,n,e)}getHMAC(t,n){return this.O.getHMAC(t,n)}});
//# sourceMappingURL=sha.mjs.map


/***/ }),

/***/ "./node_modules/loglevel/lib/loglevel.js":
/*!***********************************************!*\
  !*** ./node_modules/loglevel/lib/loglevel.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*
* loglevel - https://github.com/pimterry/loglevel
*
* Copyright (c) 2013 Tim Perry
* Licensed under the MIT license.
*/
(function (root, definition) {
    "use strict";
    if (true) {
        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
				__WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {}
}(this, function () {
    "use strict";

    // Slightly dubious tricks to cut down minimized file size
    var noop = function() {};
    var undefinedType = "undefined";
    var isIE = (typeof window !== undefinedType) && (typeof window.navigator !== undefinedType) && (
        /Trident\/|MSIE /.test(window.navigator.userAgent)
    );

    var logMethods = [
        "trace",
        "debug",
        "info",
        "warn",
        "error"
    ];

    // Cross-browser bind equivalent that works at least back to IE6
    function bindMethod(obj, methodName) {
        var method = obj[methodName];
        if (typeof method.bind === 'function') {
            return method.bind(obj);
        } else {
            try {
                return Function.prototype.bind.call(method, obj);
            } catch (e) {
                // Missing bind shim or IE8 + Modernizr, fallback to wrapping
                return function() {
                    return Function.prototype.apply.apply(method, [obj, arguments]);
                };
            }
        }
    }

    // Trace() doesn't print the message in IE, so for that case we need to wrap it
    function traceForIE() {
        if (console.log) {
            if (console.log.apply) {
                console.log.apply(console, arguments);
            } else {
                // In old IE, native console methods themselves don't have apply().
                Function.prototype.apply.apply(console.log, [console, arguments]);
            }
        }
        if (console.trace) console.trace();
    }

    // Build the best logging method possible for this env
    // Wherever possible we want to bind, not wrap, to preserve stack traces
    function realMethod(methodName) {
        if (methodName === 'debug') {
            methodName = 'log';
        }

        if (typeof console === undefinedType) {
            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives
        } else if (methodName === 'trace' && isIE) {
            return traceForIE;
        } else if (console[methodName] !== undefined) {
            return bindMethod(console, methodName);
        } else if (console.log !== undefined) {
            return bindMethod(console, 'log');
        } else {
            return noop;
        }
    }

    // These private functions always need `this` to be set properly

    function replaceLoggingMethods(level, loggerName) {
        /*jshint validthis:true */
        for (var i = 0; i < logMethods.length; i++) {
            var methodName = logMethods[i];
            this[methodName] = (i < level) ?
                noop :
                this.methodFactory(methodName, level, loggerName);
        }

        // Define log.log as an alias for log.debug
        this.log = this.debug;
    }

    // In old IE versions, the console isn't present until you first open it.
    // We build realMethod() replacements here that regenerate logging methods
    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {
        return function () {
            if (typeof console !== undefinedType) {
                replaceLoggingMethods.call(this, level, loggerName);
                this[methodName].apply(this, arguments);
            }
        };
    }

    // By default, we use closely bound real methods wherever possible, and
    // otherwise we wait for a console to appear, and then try again.
    function defaultMethodFactory(methodName, level, loggerName) {
        /*jshint validthis:true */
        return realMethod(methodName) ||
               enableLoggingWhenConsoleArrives.apply(this, arguments);
    }

    function Logger(name, defaultLevel, factory) {
      var self = this;
      var currentLevel;
      var storageKey = "loglevel";
      if (name) {
        storageKey += ":" + name;
      }

      function persistLevelIfPossible(levelNum) {
          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();

          if (typeof window === undefinedType) return;

          // Use localStorage if available
          try {
              window.localStorage[storageKey] = levelName;
              return;
          } catch (ignore) {}

          // Use session cookie as fallback
          try {
              window.document.cookie =
                encodeURIComponent(storageKey) + "=" + levelName + ";";
          } catch (ignore) {}
      }

      function getPersistedLevel() {
          var storedLevel;

          if (typeof window === undefinedType) return;

          try {
              storedLevel = window.localStorage[storageKey];
          } catch (ignore) {}

          // Fallback to cookies if local storage gives us nothing
          if (typeof storedLevel === undefinedType) {
              try {
                  var cookie = window.document.cookie;
                  var location = cookie.indexOf(
                      encodeURIComponent(storageKey) + "=");
                  if (location !== -1) {
                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];
                  }
              } catch (ignore) {}
          }

          // If the stored level is not valid, treat it as if nothing was stored.
          if (self.levels[storedLevel] === undefined) {
              storedLevel = undefined;
          }

          return storedLevel;
      }

      /*
       *
       * Public logger API - see https://github.com/pimterry/loglevel for details
       *
       */

      self.name = name;

      self.levels = { "TRACE": 0, "DEBUG": 1, "INFO": 2, "WARN": 3,
          "ERROR": 4, "SILENT": 5};

      self.methodFactory = factory || defaultMethodFactory;

      self.getLevel = function () {
          return currentLevel;
      };

      self.setLevel = function (level, persist) {
          if (typeof level === "string" && self.levels[level.toUpperCase()] !== undefined) {
              level = self.levels[level.toUpperCase()];
          }
          if (typeof level === "number" && level >= 0 && level <= self.levels.SILENT) {
              currentLevel = level;
              if (persist !== false) {  // defaults to true
                  persistLevelIfPossible(level);
              }
              replaceLoggingMethods.call(self, level, name);
              if (typeof console === undefinedType && level < self.levels.SILENT) {
                  return "No console available for logging";
              }
          } else {
              throw "log.setLevel() called with invalid level: " + level;
          }
      };

      self.setDefaultLevel = function (level) {
          if (!getPersistedLevel()) {
              self.setLevel(level, false);
          }
      };

      self.enableAll = function(persist) {
          self.setLevel(self.levels.TRACE, persist);
      };

      self.disableAll = function(persist) {
          self.setLevel(self.levels.SILENT, persist);
      };

      // Initialize with the right level
      var initialLevel = getPersistedLevel();
      if (initialLevel == null) {
          initialLevel = defaultLevel == null ? "WARN" : defaultLevel;
      }
      self.setLevel(initialLevel, false);
    }

    /*
     *
     * Top-level API
     *
     */

    var defaultLogger = new Logger();

    var _loggersByName = {};
    defaultLogger.getLogger = function getLogger(name) {
        if (typeof name !== "string" || name === "") {
          throw new TypeError("You must supply a name when creating a logger.");
        }

        var logger = _loggersByName[name];
        if (!logger) {
          logger = _loggersByName[name] = new Logger(
            name, defaultLogger.getLevel(), defaultLogger.methodFactory);
        }
        return logger;
    };

    // Grab the current global log variable in case of overwrite
    var _log = (typeof window !== undefinedType) ? window.log : undefined;
    defaultLogger.noConflict = function() {
        if (typeof window !== undefinedType &&
               window.log === defaultLogger) {
            window.log = _log;
        }

        return defaultLogger;
    };

    defaultLogger.getLoggers = function getLoggers() {
        return _loggersByName;
    };

    return defaultLogger;
}));


/***/ }),

/***/ "./node_modules/moment/moment.js":
/*!***************************************!*\
  !*** ./node_modules/moment/moment.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {var require;//! moment.js

;(function (global, factory) {
     true ? module.exports = factory() :
    undefined
}(this, (function () { 'use strict';

    var hookCallback;

    function hooks () {
        return hookCallback.apply(null, arguments);
    }

    // This is done to register the method called with moment()
    // without creating circular dependencies.
    function setHookCallback (callback) {
        hookCallback = callback;
    }

    function isArray(input) {
        return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';
    }

    function isObject(input) {
        // IE8 will treat undefined and null as object if it wasn't for
        // input != null
        return input != null && Object.prototype.toString.call(input) === '[object Object]';
    }

    function isObjectEmpty(obj) {
        if (Object.getOwnPropertyNames) {
            return (Object.getOwnPropertyNames(obj).length === 0);
        } else {
            var k;
            for (k in obj) {
                if (obj.hasOwnProperty(k)) {
                    return false;
                }
            }
            return true;
        }
    }

    function isUndefined(input) {
        return input === void 0;
    }

    function isNumber(input) {
        return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';
    }

    function isDate(input) {
        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';
    }

    function map(arr, fn) {
        var res = [], i;
        for (i = 0; i < arr.length; ++i) {
            res.push(fn(arr[i], i));
        }
        return res;
    }

    function hasOwnProp(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b);
    }

    function extend(a, b) {
        for (var i in b) {
            if (hasOwnProp(b, i)) {
                a[i] = b[i];
            }
        }

        if (hasOwnProp(b, 'toString')) {
            a.toString = b.toString;
        }

        if (hasOwnProp(b, 'valueOf')) {
            a.valueOf = b.valueOf;
        }

        return a;
    }

    function createUTC (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, true).utc();
    }

    function defaultParsingFlags() {
        // We need to deep clone this object.
        return {
            empty           : false,
            unusedTokens    : [],
            unusedInput     : [],
            overflow        : -2,
            charsLeftOver   : 0,
            nullInput       : false,
            invalidMonth    : null,
            invalidFormat   : false,
            userInvalidated : false,
            iso             : false,
            parsedDateParts : [],
            meridiem        : null,
            rfc2822         : false,
            weekdayMismatch : false
        };
    }

    function getParsingFlags(m) {
        if (m._pf == null) {
            m._pf = defaultParsingFlags();
        }
        return m._pf;
    }

    var some;
    if (Array.prototype.some) {
        some = Array.prototype.some;
    } else {
        some = function (fun) {
            var t = Object(this);
            var len = t.length >>> 0;

            for (var i = 0; i < len; i++) {
                if (i in t && fun.call(this, t[i], i, t)) {
                    return true;
                }
            }

            return false;
        };
    }

    function isValid(m) {
        if (m._isValid == null) {
            var flags = getParsingFlags(m);
            var parsedParts = some.call(flags.parsedDateParts, function (i) {
                return i != null;
            });
            var isNowValid = !isNaN(m._d.getTime()) &&
                flags.overflow < 0 &&
                !flags.empty &&
                !flags.invalidMonth &&
                !flags.invalidWeekday &&
                !flags.weekdayMismatch &&
                !flags.nullInput &&
                !flags.invalidFormat &&
                !flags.userInvalidated &&
                (!flags.meridiem || (flags.meridiem && parsedParts));

            if (m._strict) {
                isNowValid = isNowValid &&
                    flags.charsLeftOver === 0 &&
                    flags.unusedTokens.length === 0 &&
                    flags.bigHour === undefined;
            }

            if (Object.isFrozen == null || !Object.isFrozen(m)) {
                m._isValid = isNowValid;
            }
            else {
                return isNowValid;
            }
        }
        return m._isValid;
    }

    function createInvalid (flags) {
        var m = createUTC(NaN);
        if (flags != null) {
            extend(getParsingFlags(m), flags);
        }
        else {
            getParsingFlags(m).userInvalidated = true;
        }

        return m;
    }

    // Plugins that add properties should also add the key here (null value),
    // so we can properly clone ourselves.
    var momentProperties = hooks.momentProperties = [];

    function copyConfig(to, from) {
        var i, prop, val;

        if (!isUndefined(from._isAMomentObject)) {
            to._isAMomentObject = from._isAMomentObject;
        }
        if (!isUndefined(from._i)) {
            to._i = from._i;
        }
        if (!isUndefined(from._f)) {
            to._f = from._f;
        }
        if (!isUndefined(from._l)) {
            to._l = from._l;
        }
        if (!isUndefined(from._strict)) {
            to._strict = from._strict;
        }
        if (!isUndefined(from._tzm)) {
            to._tzm = from._tzm;
        }
        if (!isUndefined(from._isUTC)) {
            to._isUTC = from._isUTC;
        }
        if (!isUndefined(from._offset)) {
            to._offset = from._offset;
        }
        if (!isUndefined(from._pf)) {
            to._pf = getParsingFlags(from);
        }
        if (!isUndefined(from._locale)) {
            to._locale = from._locale;
        }

        if (momentProperties.length > 0) {
            for (i = 0; i < momentProperties.length; i++) {
                prop = momentProperties[i];
                val = from[prop];
                if (!isUndefined(val)) {
                    to[prop] = val;
                }
            }
        }

        return to;
    }

    var updateInProgress = false;

    // Moment prototype object
    function Moment(config) {
        copyConfig(this, config);
        this._d = new Date(config._d != null ? config._d.getTime() : NaN);
        if (!this.isValid()) {
            this._d = new Date(NaN);
        }
        // Prevent infinite loop in case updateOffset creates new moment
        // objects.
        if (updateInProgress === false) {
            updateInProgress = true;
            hooks.updateOffset(this);
            updateInProgress = false;
        }
    }

    function isMoment (obj) {
        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);
    }

    function absFloor (number) {
        if (number < 0) {
            // -0 -> 0
            return Math.ceil(number) || 0;
        } else {
            return Math.floor(number);
        }
    }

    function toInt(argumentForCoercion) {
        var coercedNumber = +argumentForCoercion,
            value = 0;

        if (coercedNumber !== 0 && isFinite(coercedNumber)) {
            value = absFloor(coercedNumber);
        }

        return value;
    }

    // compare two arrays, return the number of differences
    function compareArrays(array1, array2, dontConvert) {
        var len = Math.min(array1.length, array2.length),
            lengthDiff = Math.abs(array1.length - array2.length),
            diffs = 0,
            i;
        for (i = 0; i < len; i++) {
            if ((dontConvert && array1[i] !== array2[i]) ||
                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {
                diffs++;
            }
        }
        return diffs + lengthDiff;
    }

    function warn(msg) {
        if (hooks.suppressDeprecationWarnings === false &&
                (typeof console !==  'undefined') && console.warn) {
            console.warn('Deprecation warning: ' + msg);
        }
    }

    function deprecate(msg, fn) {
        var firstTime = true;

        return extend(function () {
            if (hooks.deprecationHandler != null) {
                hooks.deprecationHandler(null, msg);
            }
            if (firstTime) {
                var args = [];
                var arg;
                for (var i = 0; i < arguments.length; i++) {
                    arg = '';
                    if (typeof arguments[i] === 'object') {
                        arg += '\n[' + i + '] ';
                        for (var key in arguments[0]) {
                            arg += key + ': ' + arguments[0][key] + ', ';
                        }
                        arg = arg.slice(0, -2); // Remove trailing comma and space
                    } else {
                        arg = arguments[i];
                    }
                    args.push(arg);
                }
                warn(msg + '\nArguments: ' + Array.prototype.slice.call(args).join('') + '\n' + (new Error()).stack);
                firstTime = false;
            }
            return fn.apply(this, arguments);
        }, fn);
    }

    var deprecations = {};

    function deprecateSimple(name, msg) {
        if (hooks.deprecationHandler != null) {
            hooks.deprecationHandler(name, msg);
        }
        if (!deprecations[name]) {
            warn(msg);
            deprecations[name] = true;
        }
    }

    hooks.suppressDeprecationWarnings = false;
    hooks.deprecationHandler = null;

    function isFunction(input) {
        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';
    }

    function set (config) {
        var prop, i;
        for (i in config) {
            prop = config[i];
            if (isFunction(prop)) {
                this[i] = prop;
            } else {
                this['_' + i] = prop;
            }
        }
        this._config = config;
        // Lenient ordinal parsing accepts just a number in addition to
        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.
        // TODO: Remove "ordinalParse" fallback in next major release.
        this._dayOfMonthOrdinalParseLenient = new RegExp(
            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +
                '|' + (/\d{1,2}/).source);
    }

    function mergeConfigs(parentConfig, childConfig) {
        var res = extend({}, parentConfig), prop;
        for (prop in childConfig) {
            if (hasOwnProp(childConfig, prop)) {
                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
                    res[prop] = {};
                    extend(res[prop], parentConfig[prop]);
                    extend(res[prop], childConfig[prop]);
                } else if (childConfig[prop] != null) {
                    res[prop] = childConfig[prop];
                } else {
                    delete res[prop];
                }
            }
        }
        for (prop in parentConfig) {
            if (hasOwnProp(parentConfig, prop) &&
                    !hasOwnProp(childConfig, prop) &&
                    isObject(parentConfig[prop])) {
                // make sure changes to properties don't modify parent config
                res[prop] = extend({}, res[prop]);
            }
        }
        return res;
    }

    function Locale(config) {
        if (config != null) {
            this.set(config);
        }
    }

    var keys;

    if (Object.keys) {
        keys = Object.keys;
    } else {
        keys = function (obj) {
            var i, res = [];
            for (i in obj) {
                if (hasOwnProp(obj, i)) {
                    res.push(i);
                }
            }
            return res;
        };
    }

    var defaultCalendar = {
        sameDay : '[Today at] LT',
        nextDay : '[Tomorrow at] LT',
        nextWeek : 'dddd [at] LT',
        lastDay : '[Yesterday at] LT',
        lastWeek : '[Last] dddd [at] LT',
        sameElse : 'L'
    };

    function calendar (key, mom, now) {
        var output = this._calendar[key] || this._calendar['sameElse'];
        return isFunction(output) ? output.call(mom, now) : output;
    }

    var defaultLongDateFormat = {
        LTS  : 'h:mm:ss A',
        LT   : 'h:mm A',
        L    : 'MM/DD/YYYY',
        LL   : 'MMMM D, YYYY',
        LLL  : 'MMMM D, YYYY h:mm A',
        LLLL : 'dddd, MMMM D, YYYY h:mm A'
    };

    function longDateFormat (key) {
        var format = this._longDateFormat[key],
            formatUpper = this._longDateFormat[key.toUpperCase()];

        if (format || !formatUpper) {
            return format;
        }

        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {
            return val.slice(1);
        });

        return this._longDateFormat[key];
    }

    var defaultInvalidDate = 'Invalid date';

    function invalidDate () {
        return this._invalidDate;
    }

    var defaultOrdinal = '%d';
    var defaultDayOfMonthOrdinalParse = /\d{1,2}/;

    function ordinal (number) {
        return this._ordinal.replace('%d', number);
    }

    var defaultRelativeTime = {
        future : 'in %s',
        past   : '%s ago',
        s  : 'a few seconds',
        ss : '%d seconds',
        m  : 'a minute',
        mm : '%d minutes',
        h  : 'an hour',
        hh : '%d hours',
        d  : 'a day',
        dd : '%d days',
        M  : 'a month',
        MM : '%d months',
        y  : 'a year',
        yy : '%d years'
    };

    function relativeTime (number, withoutSuffix, string, isFuture) {
        var output = this._relativeTime[string];
        return (isFunction(output)) ?
            output(number, withoutSuffix, string, isFuture) :
            output.replace(/%d/i, number);
    }

    function pastFuture (diff, output) {
        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
        return isFunction(format) ? format(output) : format.replace(/%s/i, output);
    }

    var aliases = {};

    function addUnitAlias (unit, shorthand) {
        var lowerCase = unit.toLowerCase();
        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;
    }

    function normalizeUnits(units) {
        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;
    }

    function normalizeObjectUnits(inputObject) {
        var normalizedInput = {},
            normalizedProp,
            prop;

        for (prop in inputObject) {
            if (hasOwnProp(inputObject, prop)) {
                normalizedProp = normalizeUnits(prop);
                if (normalizedProp) {
                    normalizedInput[normalizedProp] = inputObject[prop];
                }
            }
        }

        return normalizedInput;
    }

    var priorities = {};

    function addUnitPriority(unit, priority) {
        priorities[unit] = priority;
    }

    function getPrioritizedUnits(unitsObj) {
        var units = [];
        for (var u in unitsObj) {
            units.push({unit: u, priority: priorities[u]});
        }
        units.sort(function (a, b) {
            return a.priority - b.priority;
        });
        return units;
    }

    function zeroFill(number, targetLength, forceSign) {
        var absNumber = '' + Math.abs(number),
            zerosToFill = targetLength - absNumber.length,
            sign = number >= 0;
        return (sign ? (forceSign ? '+' : '') : '-') +
            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
    }

    var formattingTokens = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;

    var localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;

    var formatFunctions = {};

    var formatTokenFunctions = {};

    // token:    'M'
    // padded:   ['MM', 2]
    // ordinal:  'Mo'
    // callback: function () { this.month() + 1 }
    function addFormatToken (token, padded, ordinal, callback) {
        var func = callback;
        if (typeof callback === 'string') {
            func = function () {
                return this[callback]();
            };
        }
        if (token) {
            formatTokenFunctions[token] = func;
        }
        if (padded) {
            formatTokenFunctions[padded[0]] = function () {
                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
            };
        }
        if (ordinal) {
            formatTokenFunctions[ordinal] = function () {
                return this.localeData().ordinal(func.apply(this, arguments), token);
            };
        }
    }

    function removeFormattingTokens(input) {
        if (input.match(/\[[\s\S]/)) {
            return input.replace(/^\[|\]$/g, '');
        }
        return input.replace(/\\/g, '');
    }

    function makeFormatFunction(format) {
        var array = format.match(formattingTokens), i, length;

        for (i = 0, length = array.length; i < length; i++) {
            if (formatTokenFunctions[array[i]]) {
                array[i] = formatTokenFunctions[array[i]];
            } else {
                array[i] = removeFormattingTokens(array[i]);
            }
        }

        return function (mom) {
            var output = '', i;
            for (i = 0; i < length; i++) {
                output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];
            }
            return output;
        };
    }

    // format date using native date object
    function formatMoment(m, format) {
        if (!m.isValid()) {
            return m.localeData().invalidDate();
        }

        format = expandFormat(format, m.localeData());
        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);

        return formatFunctions[format](m);
    }

    function expandFormat(format, locale) {
        var i = 5;

        function replaceLongDateFormatTokens(input) {
            return locale.longDateFormat(input) || input;
        }

        localFormattingTokens.lastIndex = 0;
        while (i >= 0 && localFormattingTokens.test(format)) {
            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
            localFormattingTokens.lastIndex = 0;
            i -= 1;
        }

        return format;
    }

    var match1         = /\d/;            //       0 - 9
    var match2         = /\d\d/;          //      00 - 99
    var match3         = /\d{3}/;         //     000 - 999
    var match4         = /\d{4}/;         //    0000 - 9999
    var match6         = /[+-]?\d{6}/;    // -999999 - 999999
    var match1to2      = /\d\d?/;         //       0 - 99
    var match3to4      = /\d\d\d\d?/;     //     999 - 9999
    var match5to6      = /\d\d\d\d\d\d?/; //   99999 - 999999
    var match1to3      = /\d{1,3}/;       //       0 - 999
    var match1to4      = /\d{1,4}/;       //       0 - 9999
    var match1to6      = /[+-]?\d{1,6}/;  // -999999 - 999999

    var matchUnsigned  = /\d+/;           //       0 - inf
    var matchSigned    = /[+-]?\d+/;      //    -inf - inf

    var matchOffset    = /Z|[+-]\d\d:?\d\d/gi; // +00:00 -00:00 +0000 -0000 or Z
    var matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z

    var matchTimestamp = /[+-]?\d+(\.\d{1,3})?/; // 123456789 123456789.123

    // any word (or two) characters or numbers including two/three word month in arabic.
    // includes scottish gaelic two word and hyphenated months
    var matchWord = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;

    var regexes = {};

    function addRegexToken (token, regex, strictRegex) {
        regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {
            return (isStrict && strictRegex) ? strictRegex : regex;
        };
    }

    function getParseRegexForToken (token, config) {
        if (!hasOwnProp(regexes, token)) {
            return new RegExp(unescapeFormat(token));
        }

        return regexes[token](config._strict, config._locale);
    }

    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
    function unescapeFormat(s) {
        return regexEscape(s.replace('\\', '').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (matched, p1, p2, p3, p4) {
            return p1 || p2 || p3 || p4;
        }));
    }

    function regexEscape(s) {
        return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    var tokens = {};

    function addParseToken (token, callback) {
        var i, func = callback;
        if (typeof token === 'string') {
            token = [token];
        }
        if (isNumber(callback)) {
            func = function (input, array) {
                array[callback] = toInt(input);
            };
        }
        for (i = 0; i < token.length; i++) {
            tokens[token[i]] = func;
        }
    }

    function addWeekParseToken (token, callback) {
        addParseToken(token, function (input, array, config, token) {
            config._w = config._w || {};
            callback(input, config._w, config, token);
        });
    }

    function addTimeToArrayFromToken(token, input, config) {
        if (input != null && hasOwnProp(tokens, token)) {
            tokens[token](input, config._a, config, token);
        }
    }

    var YEAR = 0;
    var MONTH = 1;
    var DATE = 2;
    var HOUR = 3;
    var MINUTE = 4;
    var SECOND = 5;
    var MILLISECOND = 6;
    var WEEK = 7;
    var WEEKDAY = 8;

    // FORMATTING

    addFormatToken('Y', 0, 0, function () {
        var y = this.year();
        return y <= 9999 ? '' + y : '+' + y;
    });

    addFormatToken(0, ['YY', 2], 0, function () {
        return this.year() % 100;
    });

    addFormatToken(0, ['YYYY',   4],       0, 'year');
    addFormatToken(0, ['YYYYY',  5],       0, 'year');
    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');

    // ALIASES

    addUnitAlias('year', 'y');

    // PRIORITIES

    addUnitPriority('year', 1);

    // PARSING

    addRegexToken('Y',      matchSigned);
    addRegexToken('YY',     match1to2, match2);
    addRegexToken('YYYY',   match1to4, match4);
    addRegexToken('YYYYY',  match1to6, match6);
    addRegexToken('YYYYYY', match1to6, match6);

    addParseToken(['YYYYY', 'YYYYYY'], YEAR);
    addParseToken('YYYY', function (input, array) {
        array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);
    });
    addParseToken('YY', function (input, array) {
        array[YEAR] = hooks.parseTwoDigitYear(input);
    });
    addParseToken('Y', function (input, array) {
        array[YEAR] = parseInt(input, 10);
    });

    // HELPERS

    function daysInYear(year) {
        return isLeapYear(year) ? 366 : 365;
    }

    function isLeapYear(year) {
        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
    }

    // HOOKS

    hooks.parseTwoDigitYear = function (input) {
        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
    };

    // MOMENTS

    var getSetYear = makeGetSet('FullYear', true);

    function getIsLeapYear () {
        return isLeapYear(this.year());
    }

    function makeGetSet (unit, keepTime) {
        return function (value) {
            if (value != null) {
                set$1(this, unit, value);
                hooks.updateOffset(this, keepTime);
                return this;
            } else {
                return get(this, unit);
            }
        };
    }

    function get (mom, unit) {
        return mom.isValid() ?
            mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;
    }

    function set$1 (mom, unit, value) {
        if (mom.isValid() && !isNaN(value)) {
            if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {
                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));
            }
            else {
                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);
            }
        }
    }

    // MOMENTS

    function stringGet (units) {
        units = normalizeUnits(units);
        if (isFunction(this[units])) {
            return this[units]();
        }
        return this;
    }


    function stringSet (units, value) {
        if (typeof units === 'object') {
            units = normalizeObjectUnits(units);
            var prioritized = getPrioritizedUnits(units);
            for (var i = 0; i < prioritized.length; i++) {
                this[prioritized[i].unit](units[prioritized[i].unit]);
            }
        } else {
            units = normalizeUnits(units);
            if (isFunction(this[units])) {
                return this[units](value);
            }
        }
        return this;
    }

    function mod(n, x) {
        return ((n % x) + x) % x;
    }

    var indexOf;

    if (Array.prototype.indexOf) {
        indexOf = Array.prototype.indexOf;
    } else {
        indexOf = function (o) {
            // I know
            var i;
            for (i = 0; i < this.length; ++i) {
                if (this[i] === o) {
                    return i;
                }
            }
            return -1;
        };
    }

    function daysInMonth(year, month) {
        if (isNaN(year) || isNaN(month)) {
            return NaN;
        }
        var modMonth = mod(month, 12);
        year += (month - modMonth) / 12;
        return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);
    }

    // FORMATTING

    addFormatToken('M', ['MM', 2], 'Mo', function () {
        return this.month() + 1;
    });

    addFormatToken('MMM', 0, 0, function (format) {
        return this.localeData().monthsShort(this, format);
    });

    addFormatToken('MMMM', 0, 0, function (format) {
        return this.localeData().months(this, format);
    });

    // ALIASES

    addUnitAlias('month', 'M');

    // PRIORITY

    addUnitPriority('month', 8);

    // PARSING

    addRegexToken('M',    match1to2);
    addRegexToken('MM',   match1to2, match2);
    addRegexToken('MMM',  function (isStrict, locale) {
        return locale.monthsShortRegex(isStrict);
    });
    addRegexToken('MMMM', function (isStrict, locale) {
        return locale.monthsRegex(isStrict);
    });

    addParseToken(['M', 'MM'], function (input, array) {
        array[MONTH] = toInt(input) - 1;
    });

    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {
        var month = config._locale.monthsParse(input, token, config._strict);
        // if we didn't find a month name, mark the date as invalid.
        if (month != null) {
            array[MONTH] = month;
        } else {
            getParsingFlags(config).invalidMonth = input;
        }
    });

    // LOCALES

    var MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;
    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');
    function localeMonths (m, format) {
        if (!m) {
            return isArray(this._months) ? this._months :
                this._months['standalone'];
        }
        return isArray(this._months) ? this._months[m.month()] :
            this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];
    }

    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');
    function localeMonthsShort (m, format) {
        if (!m) {
            return isArray(this._monthsShort) ? this._monthsShort :
                this._monthsShort['standalone'];
        }
        return isArray(this._monthsShort) ? this._monthsShort[m.month()] :
            this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];
    }

    function handleStrictParse(monthName, format, strict) {
        var i, ii, mom, llc = monthName.toLocaleLowerCase();
        if (!this._monthsParse) {
            // this is not used
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
            for (i = 0; i < 12; ++i) {
                mom = createUTC([2000, i]);
                this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();
                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeMonthsParse (monthName, format, strict) {
        var i, mom, regex;

        if (this._monthsParseExact) {
            return handleStrictParse.call(this, monthName, format, strict);
        }

        if (!this._monthsParse) {
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
        }

        // TODO: add sorting
        // Sorting makes sure if one month (or abbr) is a prefix of another
        // see sorting in computeMonthsParse
        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, i]);
            if (strict && !this._longMonthsParse[i]) {
                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');
                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');
            }
            if (!strict && !this._monthsParse[i]) {
                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {
                return i;
            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {
                return i;
            } else if (!strict && this._monthsParse[i].test(monthName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function setMonth (mom, value) {
        var dayOfMonth;

        if (!mom.isValid()) {
            // No op
            return mom;
        }

        if (typeof value === 'string') {
            if (/^\d+$/.test(value)) {
                value = toInt(value);
            } else {
                value = mom.localeData().monthsParse(value);
                // TODO: Another silent failure?
                if (!isNumber(value)) {
                    return mom;
                }
            }
        }

        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));
        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);
        return mom;
    }

    function getSetMonth (value) {
        if (value != null) {
            setMonth(this, value);
            hooks.updateOffset(this, true);
            return this;
        } else {
            return get(this, 'Month');
        }
    }

    function getDaysInMonth () {
        return daysInMonth(this.year(), this.month());
    }

    var defaultMonthsShortRegex = matchWord;
    function monthsShortRegex (isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsShortStrictRegex;
            } else {
                return this._monthsShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsShortRegex')) {
                this._monthsShortRegex = defaultMonthsShortRegex;
            }
            return this._monthsShortStrictRegex && isStrict ?
                this._monthsShortStrictRegex : this._monthsShortRegex;
        }
    }

    var defaultMonthsRegex = matchWord;
    function monthsRegex (isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsStrictRegex;
            } else {
                return this._monthsRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsRegex')) {
                this._monthsRegex = defaultMonthsRegex;
            }
            return this._monthsStrictRegex && isStrict ?
                this._monthsStrictRegex : this._monthsRegex;
        }
    }

    function computeMonthsParse () {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var shortPieces = [], longPieces = [], mixedPieces = [],
            i, mom;
        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, i]);
            shortPieces.push(this.monthsShort(mom, ''));
            longPieces.push(this.months(mom, ''));
            mixedPieces.push(this.months(mom, ''));
            mixedPieces.push(this.monthsShort(mom, ''));
        }
        // Sorting makes sure if one month (or abbr) is a prefix of another it
        // will match the longer piece.
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        for (i = 0; i < 12; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
        }
        for (i = 0; i < 24; i++) {
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }

        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._monthsShortRegex = this._monthsRegex;
        this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
        this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
    }

    function createDate (y, m, d, h, M, s, ms) {
        // can't just apply() to create a date:
        // https://stackoverflow.com/q/181348
        var date;
        // the date constructor remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            // preserve leap years using a full 400 year cycle, then reset
            date = new Date(y + 400, m, d, h, M, s, ms);
            if (isFinite(date.getFullYear())) {
                date.setFullYear(y);
            }
        } else {
            date = new Date(y, m, d, h, M, s, ms);
        }

        return date;
    }

    function createUTCDate (y) {
        var date;
        // the Date.UTC function remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            var args = Array.prototype.slice.call(arguments);
            // preserve leap years using a full 400 year cycle, then reset
            args[0] = y + 400;
            date = new Date(Date.UTC.apply(null, args));
            if (isFinite(date.getUTCFullYear())) {
                date.setUTCFullYear(y);
            }
        } else {
            date = new Date(Date.UTC.apply(null, arguments));
        }

        return date;
    }

    // start-of-first-week - start-of-year
    function firstWeekOffset(year, dow, doy) {
        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)
            fwd = 7 + dow - doy,
            // first-week day local weekday -- which local weekday is fwd
            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;

        return -fwdlw + fwd - 1;
    }

    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
        var localWeekday = (7 + weekday - dow) % 7,
            weekOffset = firstWeekOffset(year, dow, doy),
            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,
            resYear, resDayOfYear;

        if (dayOfYear <= 0) {
            resYear = year - 1;
            resDayOfYear = daysInYear(resYear) + dayOfYear;
        } else if (dayOfYear > daysInYear(year)) {
            resYear = year + 1;
            resDayOfYear = dayOfYear - daysInYear(year);
        } else {
            resYear = year;
            resDayOfYear = dayOfYear;
        }

        return {
            year: resYear,
            dayOfYear: resDayOfYear
        };
    }

    function weekOfYear(mom, dow, doy) {
        var weekOffset = firstWeekOffset(mom.year(), dow, doy),
            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,
            resWeek, resYear;

        if (week < 1) {
            resYear = mom.year() - 1;
            resWeek = week + weeksInYear(resYear, dow, doy);
        } else if (week > weeksInYear(mom.year(), dow, doy)) {
            resWeek = week - weeksInYear(mom.year(), dow, doy);
            resYear = mom.year() + 1;
        } else {
            resYear = mom.year();
            resWeek = week;
        }

        return {
            week: resWeek,
            year: resYear
        };
    }

    function weeksInYear(year, dow, doy) {
        var weekOffset = firstWeekOffset(year, dow, doy),
            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
    }

    // FORMATTING

    addFormatToken('w', ['ww', 2], 'wo', 'week');
    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');

    // ALIASES

    addUnitAlias('week', 'w');
    addUnitAlias('isoWeek', 'W');

    // PRIORITIES

    addUnitPriority('week', 5);
    addUnitPriority('isoWeek', 5);

    // PARSING

    addRegexToken('w',  match1to2);
    addRegexToken('ww', match1to2, match2);
    addRegexToken('W',  match1to2);
    addRegexToken('WW', match1to2, match2);

    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {
        week[token.substr(0, 1)] = toInt(input);
    });

    // HELPERS

    // LOCALES

    function localeWeek (mom) {
        return weekOfYear(mom, this._week.dow, this._week.doy).week;
    }

    var defaultLocaleWeek = {
        dow : 0, // Sunday is the first day of the week.
        doy : 6  // The week that contains Jan 6th is the first week of the year.
    };

    function localeFirstDayOfWeek () {
        return this._week.dow;
    }

    function localeFirstDayOfYear () {
        return this._week.doy;
    }

    // MOMENTS

    function getSetWeek (input) {
        var week = this.localeData().week(this);
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    function getSetISOWeek (input) {
        var week = weekOfYear(this, 1, 4).week;
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    // FORMATTING

    addFormatToken('d', 0, 'do', 'day');

    addFormatToken('dd', 0, 0, function (format) {
        return this.localeData().weekdaysMin(this, format);
    });

    addFormatToken('ddd', 0, 0, function (format) {
        return this.localeData().weekdaysShort(this, format);
    });

    addFormatToken('dddd', 0, 0, function (format) {
        return this.localeData().weekdays(this, format);
    });

    addFormatToken('e', 0, 0, 'weekday');
    addFormatToken('E', 0, 0, 'isoWeekday');

    // ALIASES

    addUnitAlias('day', 'd');
    addUnitAlias('weekday', 'e');
    addUnitAlias('isoWeekday', 'E');

    // PRIORITY
    addUnitPriority('day', 11);
    addUnitPriority('weekday', 11);
    addUnitPriority('isoWeekday', 11);

    // PARSING

    addRegexToken('d',    match1to2);
    addRegexToken('e',    match1to2);
    addRegexToken('E',    match1to2);
    addRegexToken('dd',   function (isStrict, locale) {
        return locale.weekdaysMinRegex(isStrict);
    });
    addRegexToken('ddd',   function (isStrict, locale) {
        return locale.weekdaysShortRegex(isStrict);
    });
    addRegexToken('dddd',   function (isStrict, locale) {
        return locale.weekdaysRegex(isStrict);
    });

    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {
        var weekday = config._locale.weekdaysParse(input, token, config._strict);
        // if we didn't get a weekday name, mark the date as invalid
        if (weekday != null) {
            week.d = weekday;
        } else {
            getParsingFlags(config).invalidWeekday = input;
        }
    });

    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {
        week[token] = toInt(input);
    });

    // HELPERS

    function parseWeekday(input, locale) {
        if (typeof input !== 'string') {
            return input;
        }

        if (!isNaN(input)) {
            return parseInt(input, 10);
        }

        input = locale.weekdaysParse(input);
        if (typeof input === 'number') {
            return input;
        }

        return null;
    }

    function parseIsoWeekday(input, locale) {
        if (typeof input === 'string') {
            return locale.weekdaysParse(input) % 7 || 7;
        }
        return isNaN(input) ? null : input;
    }

    // LOCALES
    function shiftWeekdays (ws, n) {
        return ws.slice(n, 7).concat(ws.slice(0, n));
    }

    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');
    function localeWeekdays (m, format) {
        var weekdays = isArray(this._weekdays) ? this._weekdays :
            this._weekdays[(m && m !== true && this._weekdays.isFormat.test(format)) ? 'format' : 'standalone'];
        return (m === true) ? shiftWeekdays(weekdays, this._week.dow)
            : (m) ? weekdays[m.day()] : weekdays;
    }

    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');
    function localeWeekdaysShort (m) {
        return (m === true) ? shiftWeekdays(this._weekdaysShort, this._week.dow)
            : (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;
    }

    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');
    function localeWeekdaysMin (m) {
        return (m === true) ? shiftWeekdays(this._weekdaysMin, this._week.dow)
            : (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;
    }

    function handleStrictParse$1(weekdayName, format, strict) {
        var i, ii, mom, llc = weekdayName.toLocaleLowerCase();
        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._minWeekdaysParse = [];

            for (i = 0; i < 7; ++i) {
                mom = createUTC([2000, 1]).day(i);
                this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();
                this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();
                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeWeekdaysParse (weekdayName, format, strict) {
        var i, mom, regex;

        if (this._weekdaysParseExact) {
            return handleStrictParse$1.call(this, weekdayName, format, strict);
        }

        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._minWeekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._fullWeekdaysParse = [];
        }

        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already

            mom = createUTC([2000, 1]).day(i);
            if (strict && !this._fullWeekdaysParse[i]) {
                this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');
                this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');
                this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');
            }
            if (!this._weekdaysParse[i]) {
                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');
                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function getSetDayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        if (input != null) {
            input = parseWeekday(input, this.localeData());
            return this.add(input - day, 'd');
        } else {
            return day;
        }
    }

    function getSetLocaleDayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return input == null ? weekday : this.add(input - weekday, 'd');
    }

    function getSetISODayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }

        // behaves the same as moment#day except
        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
        // as a setter, sunday should belong to the previous week.

        if (input != null) {
            var weekday = parseIsoWeekday(input, this.localeData());
            return this.day(this.day() % 7 ? weekday : weekday - 7);
        } else {
            return this.day() || 7;
        }
    }

    var defaultWeekdaysRegex = matchWord;
    function weekdaysRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysStrictRegex;
            } else {
                return this._weekdaysRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                this._weekdaysRegex = defaultWeekdaysRegex;
            }
            return this._weekdaysStrictRegex && isStrict ?
                this._weekdaysStrictRegex : this._weekdaysRegex;
        }
    }

    var defaultWeekdaysShortRegex = matchWord;
    function weekdaysShortRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysShortStrictRegex;
            } else {
                return this._weekdaysShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysShortRegex')) {
                this._weekdaysShortRegex = defaultWeekdaysShortRegex;
            }
            return this._weekdaysShortStrictRegex && isStrict ?
                this._weekdaysShortStrictRegex : this._weekdaysShortRegex;
        }
    }

    var defaultWeekdaysMinRegex = matchWord;
    function weekdaysMinRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysMinStrictRegex;
            } else {
                return this._weekdaysMinRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysMinRegex')) {
                this._weekdaysMinRegex = defaultWeekdaysMinRegex;
            }
            return this._weekdaysMinStrictRegex && isStrict ?
                this._weekdaysMinStrictRegex : this._weekdaysMinRegex;
        }
    }


    function computeWeekdaysParse () {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],
            i, mom, minp, shortp, longp;
        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, 1]).day(i);
            minp = this.weekdaysMin(mom, '');
            shortp = this.weekdaysShort(mom, '');
            longp = this.weekdays(mom, '');
            minPieces.push(minp);
            shortPieces.push(shortp);
            longPieces.push(longp);
            mixedPieces.push(minp);
            mixedPieces.push(shortp);
            mixedPieces.push(longp);
        }
        // Sorting makes sure if one weekday (or abbr) is a prefix of another it
        // will match the longer piece.
        minPieces.sort(cmpLenRev);
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        for (i = 0; i < 7; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }

        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._weekdaysShortRegex = this._weekdaysRegex;
        this._weekdaysMinRegex = this._weekdaysRegex;

        this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
        this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
        this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');
    }

    // FORMATTING

    function hFormat() {
        return this.hours() % 12 || 12;
    }

    function kFormat() {
        return this.hours() || 24;
    }

    addFormatToken('H', ['HH', 2], 0, 'hour');
    addFormatToken('h', ['hh', 2], 0, hFormat);
    addFormatToken('k', ['kk', 2], 0, kFormat);

    addFormatToken('hmm', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);
    });

    addFormatToken('hmmss', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2);
    });

    addFormatToken('Hmm', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2);
    });

    addFormatToken('Hmmss', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2);
    });

    function meridiem (token, lowercase) {
        addFormatToken(token, 0, 0, function () {
            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);
        });
    }

    meridiem('a', true);
    meridiem('A', false);

    // ALIASES

    addUnitAlias('hour', 'h');

    // PRIORITY
    addUnitPriority('hour', 13);

    // PARSING

    function matchMeridiem (isStrict, locale) {
        return locale._meridiemParse;
    }

    addRegexToken('a',  matchMeridiem);
    addRegexToken('A',  matchMeridiem);
    addRegexToken('H',  match1to2);
    addRegexToken('h',  match1to2);
    addRegexToken('k',  match1to2);
    addRegexToken('HH', match1to2, match2);
    addRegexToken('hh', match1to2, match2);
    addRegexToken('kk', match1to2, match2);

    addRegexToken('hmm', match3to4);
    addRegexToken('hmmss', match5to6);
    addRegexToken('Hmm', match3to4);
    addRegexToken('Hmmss', match5to6);

    addParseToken(['H', 'HH'], HOUR);
    addParseToken(['k', 'kk'], function (input, array, config) {
        var kInput = toInt(input);
        array[HOUR] = kInput === 24 ? 0 : kInput;
    });
    addParseToken(['a', 'A'], function (input, array, config) {
        config._isPm = config._locale.isPM(input);
        config._meridiem = input;
    });
    addParseToken(['h', 'hh'], function (input, array, config) {
        array[HOUR] = toInt(input);
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmmss', function (input, array, config) {
        var pos1 = input.length - 4;
        var pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('Hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
    });
    addParseToken('Hmmss', function (input, array, config) {
        var pos1 = input.length - 4;
        var pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
    });

    // LOCALES

    function localeIsPM (input) {
        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
        // Using charAt should be more compatible.
        return ((input + '').toLowerCase().charAt(0) === 'p');
    }

    var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i;
    function localeMeridiem (hours, minutes, isLower) {
        if (hours > 11) {
            return isLower ? 'pm' : 'PM';
        } else {
            return isLower ? 'am' : 'AM';
        }
    }


    // MOMENTS

    // Setting the hour should keep the time, because the user explicitly
    // specified which hour they want. So trying to maintain the same hour (in
    // a new timezone) makes sense. Adding/subtracting hours does not follow
    // this rule.
    var getSetHour = makeGetSet('Hours', true);

    var baseConfig = {
        calendar: defaultCalendar,
        longDateFormat: defaultLongDateFormat,
        invalidDate: defaultInvalidDate,
        ordinal: defaultOrdinal,
        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,
        relativeTime: defaultRelativeTime,

        months: defaultLocaleMonths,
        monthsShort: defaultLocaleMonthsShort,

        week: defaultLocaleWeek,

        weekdays: defaultLocaleWeekdays,
        weekdaysMin: defaultLocaleWeekdaysMin,
        weekdaysShort: defaultLocaleWeekdaysShort,

        meridiemParse: defaultLocaleMeridiemParse
    };

    // internal storage for locale config files
    var locales = {};
    var localeFamilies = {};
    var globalLocale;

    function normalizeLocale(key) {
        return key ? key.toLowerCase().replace('_', '-') : key;
    }

    // pick the locale from the array
    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
    function chooseLocale(names) {
        var i = 0, j, next, locale, split;

        while (i < names.length) {
            split = normalizeLocale(names[i]).split('-');
            j = split.length;
            next = normalizeLocale(names[i + 1]);
            next = next ? next.split('-') : null;
            while (j > 0) {
                locale = loadLocale(split.slice(0, j).join('-'));
                if (locale) {
                    return locale;
                }
                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {
                    //the next array item is better than a shallower substring of this one
                    break;
                }
                j--;
            }
            i++;
        }
        return globalLocale;
    }

    function loadLocale(name) {
        var oldLocale = null;
        // TODO: Find a better way to register and load all the locales in Node
        if (!locales[name] && (typeof module !== 'undefined') &&
                module && module.exports) {
            try {
                oldLocale = globalLocale._abbr;
                var aliasedRequire = require;
                !(function webpackMissingModule() { var e = new Error("Cannot find module 'undefined'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
                getSetGlobalLocale(oldLocale);
            } catch (e) {}
        }
        return locales[name];
    }

    // This function will load locale and then set the global locale.  If
    // no arguments are passed in, it will simply return the current global
    // locale key.
    function getSetGlobalLocale (key, values) {
        var data;
        if (key) {
            if (isUndefined(values)) {
                data = getLocale(key);
            }
            else {
                data = defineLocale(key, values);
            }

            if (data) {
                // moment.duration._locale = moment._locale = data;
                globalLocale = data;
            }
            else {
                if ((typeof console !==  'undefined') && console.warn) {
                    //warn user if arguments are passed but the locale could not be set
                    console.warn('Locale ' + key +  ' not found. Did you forget to load it?');
                }
            }
        }

        return globalLocale._abbr;
    }

    function defineLocale (name, config) {
        if (config !== null) {
            var locale, parentConfig = baseConfig;
            config.abbr = name;
            if (locales[name] != null) {
                deprecateSimple('defineLocaleOverride',
                        'use moment.updateLocale(localeName, config) to change ' +
                        'an existing locale. moment.defineLocale(localeName, ' +
                        'config) should only be used for creating a new locale ' +
                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');
                parentConfig = locales[name]._config;
            } else if (config.parentLocale != null) {
                if (locales[config.parentLocale] != null) {
                    parentConfig = locales[config.parentLocale]._config;
                } else {
                    locale = loadLocale(config.parentLocale);
                    if (locale != null) {
                        parentConfig = locale._config;
                    } else {
                        if (!localeFamilies[config.parentLocale]) {
                            localeFamilies[config.parentLocale] = [];
                        }
                        localeFamilies[config.parentLocale].push({
                            name: name,
                            config: config
                        });
                        return null;
                    }
                }
            }
            locales[name] = new Locale(mergeConfigs(parentConfig, config));

            if (localeFamilies[name]) {
                localeFamilies[name].forEach(function (x) {
                    defineLocale(x.name, x.config);
                });
            }

            // backwards compat for now: also set the locale
            // make sure we set the locale AFTER all child locales have been
            // created, so we won't end up with the child locale set.
            getSetGlobalLocale(name);


            return locales[name];
        } else {
            // useful for testing
            delete locales[name];
            return null;
        }
    }

    function updateLocale(name, config) {
        if (config != null) {
            var locale, tmpLocale, parentConfig = baseConfig;
            // MERGE
            tmpLocale = loadLocale(name);
            if (tmpLocale != null) {
                parentConfig = tmpLocale._config;
            }
            config = mergeConfigs(parentConfig, config);
            locale = new Locale(config);
            locale.parentLocale = locales[name];
            locales[name] = locale;

            // backwards compat for now: also set the locale
            getSetGlobalLocale(name);
        } else {
            // pass null for config to unupdate, useful for tests
            if (locales[name] != null) {
                if (locales[name].parentLocale != null) {
                    locales[name] = locales[name].parentLocale;
                } else if (locales[name] != null) {
                    delete locales[name];
                }
            }
        }
        return locales[name];
    }

    // returns locale data
    function getLocale (key) {
        var locale;

        if (key && key._locale && key._locale._abbr) {
            key = key._locale._abbr;
        }

        if (!key) {
            return globalLocale;
        }

        if (!isArray(key)) {
            //short-circuit everything else
            locale = loadLocale(key);
            if (locale) {
                return locale;
            }
            key = [key];
        }

        return chooseLocale(key);
    }

    function listLocales() {
        return keys(locales);
    }

    function checkOverflow (m) {
        var overflow;
        var a = m._a;

        if (a && getParsingFlags(m).overflow === -2) {
            overflow =
                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :
                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :
                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :
                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :
                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :
                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :
                -1;

            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
                overflow = DATE;
            }
            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
                overflow = WEEK;
            }
            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
                overflow = WEEKDAY;
            }

            getParsingFlags(m).overflow = overflow;
        }

        return m;
    }

    // Pick the first defined of two or three arguments.
    function defaults(a, b, c) {
        if (a != null) {
            return a;
        }
        if (b != null) {
            return b;
        }
        return c;
    }

    function currentDateArray(config) {
        // hooks is actually the exported moment object
        var nowValue = new Date(hooks.now());
        if (config._useUTC) {
            return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];
        }
        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
    }

    // convert an array to a date.
    // the array should mirror the parameters below
    // note: all values past the year are optional and will default to the lowest possible value.
    // [year, month, day , hour, minute, second, millisecond]
    function configFromArray (config) {
        var i, date, input = [], currentDate, expectedWeekday, yearToUse;

        if (config._d) {
            return;
        }

        currentDate = currentDateArray(config);

        //compute day of the year from weeks and weekdays
        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
            dayOfYearFromWeekInfo(config);
        }

        //if the day of the year is set, figure out what it is
        if (config._dayOfYear != null) {
            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);

            if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {
                getParsingFlags(config)._overflowDayOfYear = true;
            }

            date = createUTCDate(yearToUse, 0, config._dayOfYear);
            config._a[MONTH] = date.getUTCMonth();
            config._a[DATE] = date.getUTCDate();
        }

        // Default to current date.
        // * if no year, month, day of month are given, default to today
        // * if day of month is given, default month and year
        // * if month is given, default only year
        // * if year is given, don't default anything
        for (i = 0; i < 3 && config._a[i] == null; ++i) {
            config._a[i] = input[i] = currentDate[i];
        }

        // Zero out whatever was not defaulted, including time
        for (; i < 7; i++) {
            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
        }

        // Check for 24:00:00.000
        if (config._a[HOUR] === 24 &&
                config._a[MINUTE] === 0 &&
                config._a[SECOND] === 0 &&
                config._a[MILLISECOND] === 0) {
            config._nextDay = true;
            config._a[HOUR] = 0;
        }

        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);
        expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();

        // Apply timezone offset from input. The actual utcOffset can be changed
        // with parseZone.
        if (config._tzm != null) {
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
        }

        if (config._nextDay) {
            config._a[HOUR] = 24;
        }

        // check for mismatching day of week
        if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {
            getParsingFlags(config).weekdayMismatch = true;
        }
    }

    function dayOfYearFromWeekInfo(config) {
        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;

        w = config._w;
        if (w.GG != null || w.W != null || w.E != null) {
            dow = 1;
            doy = 4;

            // TODO: We need to take the current isoWeekYear, but that depends on
            // how we interpret now (local, utc, fixed offset). So create
            // a now version of current config (take local/utc/offset flags, and
            // create now).
            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);
            week = defaults(w.W, 1);
            weekday = defaults(w.E, 1);
            if (weekday < 1 || weekday > 7) {
                weekdayOverflow = true;
            }
        } else {
            dow = config._locale._week.dow;
            doy = config._locale._week.doy;

            var curWeek = weekOfYear(createLocal(), dow, doy);

            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);

            // Default to current week.
            week = defaults(w.w, curWeek.week);

            if (w.d != null) {
                // weekday -- low day numbers are considered next week
                weekday = w.d;
                if (weekday < 0 || weekday > 6) {
                    weekdayOverflow = true;
                }
            } else if (w.e != null) {
                // local weekday -- counting starts from beginning of week
                weekday = w.e + dow;
                if (w.e < 0 || w.e > 6) {
                    weekdayOverflow = true;
                }
            } else {
                // default to beginning of week
                weekday = dow;
            }
        }
        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
            getParsingFlags(config)._overflowWeeks = true;
        } else if (weekdayOverflow != null) {
            getParsingFlags(config)._overflowWeekday = true;
        } else {
            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
            config._a[YEAR] = temp.year;
            config._dayOfYear = temp.dayOfYear;
        }
    }

    // iso 8601 regex
    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)
    var extendedIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;
    var basicIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;

    var tzRegex = /Z|[+-]\d\d(?::?\d\d)?/;

    var isoDates = [
        ['YYYYYY-MM-DD', /[+-]\d{6}-\d\d-\d\d/],
        ['YYYY-MM-DD', /\d{4}-\d\d-\d\d/],
        ['GGGG-[W]WW-E', /\d{4}-W\d\d-\d/],
        ['GGGG-[W]WW', /\d{4}-W\d\d/, false],
        ['YYYY-DDD', /\d{4}-\d{3}/],
        ['YYYY-MM', /\d{4}-\d\d/, false],
        ['YYYYYYMMDD', /[+-]\d{10}/],
        ['YYYYMMDD', /\d{8}/],
        // YYYYMM is NOT allowed by the standard
        ['GGGG[W]WWE', /\d{4}W\d{3}/],
        ['GGGG[W]WW', /\d{4}W\d{2}/, false],
        ['YYYYDDD', /\d{7}/]
    ];

    // iso time formats and regexes
    var isoTimes = [
        ['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/],
        ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/],
        ['HH:mm:ss', /\d\d:\d\d:\d\d/],
        ['HH:mm', /\d\d:\d\d/],
        ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/],
        ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/],
        ['HHmmss', /\d\d\d\d\d\d/],
        ['HHmm', /\d\d\d\d/],
        ['HH', /\d\d/]
    ];

    var aspNetJsonRegex = /^\/?Date\((\-?\d+)/i;

    // date from iso format
    function configFromISO(config) {
        var i, l,
            string = config._i,
            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),
            allowTime, dateFormat, timeFormat, tzFormat;

        if (match) {
            getParsingFlags(config).iso = true;

            for (i = 0, l = isoDates.length; i < l; i++) {
                if (isoDates[i][1].exec(match[1])) {
                    dateFormat = isoDates[i][0];
                    allowTime = isoDates[i][2] !== false;
                    break;
                }
            }
            if (dateFormat == null) {
                config._isValid = false;
                return;
            }
            if (match[3]) {
                for (i = 0, l = isoTimes.length; i < l; i++) {
                    if (isoTimes[i][1].exec(match[3])) {
                        // match[2] should be 'T' or space
                        timeFormat = (match[2] || ' ') + isoTimes[i][0];
                        break;
                    }
                }
                if (timeFormat == null) {
                    config._isValid = false;
                    return;
                }
            }
            if (!allowTime && timeFormat != null) {
                config._isValid = false;
                return;
            }
            if (match[4]) {
                if (tzRegex.exec(match[4])) {
                    tzFormat = 'Z';
                } else {
                    config._isValid = false;
                    return;
                }
            }
            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');
            configFromStringAndFormat(config);
        } else {
            config._isValid = false;
        }
    }

    // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3
    var rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;

    function extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {
        var result = [
            untruncateYear(yearStr),
            defaultLocaleMonthsShort.indexOf(monthStr),
            parseInt(dayStr, 10),
            parseInt(hourStr, 10),
            parseInt(minuteStr, 10)
        ];

        if (secondStr) {
            result.push(parseInt(secondStr, 10));
        }

        return result;
    }

    function untruncateYear(yearStr) {
        var year = parseInt(yearStr, 10);
        if (year <= 49) {
            return 2000 + year;
        } else if (year <= 999) {
            return 1900 + year;
        }
        return year;
    }

    function preprocessRFC2822(s) {
        // Remove comments and folding whitespace and replace multiple-spaces with a single space
        return s.replace(/\([^)]*\)|[\n\t]/g, ' ').replace(/(\s\s+)/g, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    }

    function checkWeekday(weekdayStr, parsedInput, config) {
        if (weekdayStr) {
            // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.
            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),
                weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();
            if (weekdayProvided !== weekdayActual) {
                getParsingFlags(config).weekdayMismatch = true;
                config._isValid = false;
                return false;
            }
        }
        return true;
    }

    var obsOffsets = {
        UT: 0,
        GMT: 0,
        EDT: -4 * 60,
        EST: -5 * 60,
        CDT: -5 * 60,
        CST: -6 * 60,
        MDT: -6 * 60,
        MST: -7 * 60,
        PDT: -7 * 60,
        PST: -8 * 60
    };

    function calculateOffset(obsOffset, militaryOffset, numOffset) {
        if (obsOffset) {
            return obsOffsets[obsOffset];
        } else if (militaryOffset) {
            // the only allowed military tz is Z
            return 0;
        } else {
            var hm = parseInt(numOffset, 10);
            var m = hm % 100, h = (hm - m) / 100;
            return h * 60 + m;
        }
    }

    // date and time from ref 2822 format
    function configFromRFC2822(config) {
        var match = rfc2822.exec(preprocessRFC2822(config._i));
        if (match) {
            var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);
            if (!checkWeekday(match[1], parsedArray, config)) {
                return;
            }

            config._a = parsedArray;
            config._tzm = calculateOffset(match[8], match[9], match[10]);

            config._d = createUTCDate.apply(null, config._a);
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);

            getParsingFlags(config).rfc2822 = true;
        } else {
            config._isValid = false;
        }
    }

    // date from iso format or fallback
    function configFromString(config) {
        var matched = aspNetJsonRegex.exec(config._i);

        if (matched !== null) {
            config._d = new Date(+matched[1]);
            return;
        }

        configFromISO(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        configFromRFC2822(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        // Final attempt, use Input Fallback
        hooks.createFromInputFallback(config);
    }

    hooks.createFromInputFallback = deprecate(
        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +
        'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +
        'discouraged and will be removed in an upcoming major release. Please refer to ' +
        'http://momentjs.com/guides/#/warnings/js-date/ for more info.',
        function (config) {
            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
        }
    );

    // constant that refers to the ISO standard
    hooks.ISO_8601 = function () {};

    // constant that refers to the RFC 2822 form
    hooks.RFC_2822 = function () {};

    // date from string and format string
    function configFromStringAndFormat(config) {
        // TODO: Move this to another part of the creation flow to prevent circular deps
        if (config._f === hooks.ISO_8601) {
            configFromISO(config);
            return;
        }
        if (config._f === hooks.RFC_2822) {
            configFromRFC2822(config);
            return;
        }
        config._a = [];
        getParsingFlags(config).empty = true;

        // This array is used to make a Date, either with `new Date` or `Date.UTC`
        var string = '' + config._i,
            i, parsedInput, tokens, token, skipped,
            stringLength = string.length,
            totalParsedInputLength = 0;

        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];

        for (i = 0; i < tokens.length; i++) {
            token = tokens[i];
            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];
            // console.log('token', token, 'parsedInput', parsedInput,
            //         'regex', getParseRegexForToken(token, config));
            if (parsedInput) {
                skipped = string.substr(0, string.indexOf(parsedInput));
                if (skipped.length > 0) {
                    getParsingFlags(config).unusedInput.push(skipped);
                }
                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
                totalParsedInputLength += parsedInput.length;
            }
            // don't parse if it's not a known token
            if (formatTokenFunctions[token]) {
                if (parsedInput) {
                    getParsingFlags(config).empty = false;
                }
                else {
                    getParsingFlags(config).unusedTokens.push(token);
                }
                addTimeToArrayFromToken(token, parsedInput, config);
            }
            else if (config._strict && !parsedInput) {
                getParsingFlags(config).unusedTokens.push(token);
            }
        }

        // add remaining unparsed input length to the string
        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
        if (string.length > 0) {
            getParsingFlags(config).unusedInput.push(string);
        }

        // clear _12h flag if hour is <= 12
        if (config._a[HOUR] <= 12 &&
            getParsingFlags(config).bigHour === true &&
            config._a[HOUR] > 0) {
            getParsingFlags(config).bigHour = undefined;
        }

        getParsingFlags(config).parsedDateParts = config._a.slice(0);
        getParsingFlags(config).meridiem = config._meridiem;
        // handle meridiem
        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);

        configFromArray(config);
        checkOverflow(config);
    }


    function meridiemFixWrap (locale, hour, meridiem) {
        var isPm;

        if (meridiem == null) {
            // nothing to do
            return hour;
        }
        if (locale.meridiemHour != null) {
            return locale.meridiemHour(hour, meridiem);
        } else if (locale.isPM != null) {
            // Fallback
            isPm = locale.isPM(meridiem);
            if (isPm && hour < 12) {
                hour += 12;
            }
            if (!isPm && hour === 12) {
                hour = 0;
            }
            return hour;
        } else {
            // this is not supposed to happen
            return hour;
        }
    }

    // date from string and array of format strings
    function configFromStringAndArray(config) {
        var tempConfig,
            bestMoment,

            scoreToBeat,
            i,
            currentScore;

        if (config._f.length === 0) {
            getParsingFlags(config).invalidFormat = true;
            config._d = new Date(NaN);
            return;
        }

        for (i = 0; i < config._f.length; i++) {
            currentScore = 0;
            tempConfig = copyConfig({}, config);
            if (config._useUTC != null) {
                tempConfig._useUTC = config._useUTC;
            }
            tempConfig._f = config._f[i];
            configFromStringAndFormat(tempConfig);

            if (!isValid(tempConfig)) {
                continue;
            }

            // if there is any input that was not parsed add a penalty for that format
            currentScore += getParsingFlags(tempConfig).charsLeftOver;

            //or tokens
            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;

            getParsingFlags(tempConfig).score = currentScore;

            if (scoreToBeat == null || currentScore < scoreToBeat) {
                scoreToBeat = currentScore;
                bestMoment = tempConfig;
            }
        }

        extend(config, bestMoment || tempConfig);
    }

    function configFromObject(config) {
        if (config._d) {
            return;
        }

        var i = normalizeObjectUnits(config._i);
        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {
            return obj && parseInt(obj, 10);
        });

        configFromArray(config);
    }

    function createFromConfig (config) {
        var res = new Moment(checkOverflow(prepareConfig(config)));
        if (res._nextDay) {
            // Adding is smart enough around DST
            res.add(1, 'd');
            res._nextDay = undefined;
        }

        return res;
    }

    function prepareConfig (config) {
        var input = config._i,
            format = config._f;

        config._locale = config._locale || getLocale(config._l);

        if (input === null || (format === undefined && input === '')) {
            return createInvalid({nullInput: true});
        }

        if (typeof input === 'string') {
            config._i = input = config._locale.preparse(input);
        }

        if (isMoment(input)) {
            return new Moment(checkOverflow(input));
        } else if (isDate(input)) {
            config._d = input;
        } else if (isArray(format)) {
            configFromStringAndArray(config);
        } else if (format) {
            configFromStringAndFormat(config);
        }  else {
            configFromInput(config);
        }

        if (!isValid(config)) {
            config._d = null;
        }

        return config;
    }

    function configFromInput(config) {
        var input = config._i;
        if (isUndefined(input)) {
            config._d = new Date(hooks.now());
        } else if (isDate(input)) {
            config._d = new Date(input.valueOf());
        } else if (typeof input === 'string') {
            configFromString(config);
        } else if (isArray(input)) {
            config._a = map(input.slice(0), function (obj) {
                return parseInt(obj, 10);
            });
            configFromArray(config);
        } else if (isObject(input)) {
            configFromObject(config);
        } else if (isNumber(input)) {
            // from milliseconds
            config._d = new Date(input);
        } else {
            hooks.createFromInputFallback(config);
        }
    }

    function createLocalOrUTC (input, format, locale, strict, isUTC) {
        var c = {};

        if (locale === true || locale === false) {
            strict = locale;
            locale = undefined;
        }

        if ((isObject(input) && isObjectEmpty(input)) ||
                (isArray(input) && input.length === 0)) {
            input = undefined;
        }
        // object construction must be done this way.
        // https://github.com/moment/moment/issues/1423
        c._isAMomentObject = true;
        c._useUTC = c._isUTC = isUTC;
        c._l = locale;
        c._i = input;
        c._f = format;
        c._strict = strict;

        return createFromConfig(c);
    }

    function createLocal (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, false);
    }

    var prototypeMin = deprecate(
        'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',
        function () {
            var other = createLocal.apply(null, arguments);
            if (this.isValid() && other.isValid()) {
                return other < this ? this : other;
            } else {
                return createInvalid();
            }
        }
    );

    var prototypeMax = deprecate(
        'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',
        function () {
            var other = createLocal.apply(null, arguments);
            if (this.isValid() && other.isValid()) {
                return other > this ? this : other;
            } else {
                return createInvalid();
            }
        }
    );

    // Pick a moment m from moments so that m[fn](other) is true for all
    // other. This relies on the function fn to be transitive.
    //
    // moments should either be an array of moment objects or an array, whose
    // first element is an array of moment objects.
    function pickBy(fn, moments) {
        var res, i;
        if (moments.length === 1 && isArray(moments[0])) {
            moments = moments[0];
        }
        if (!moments.length) {
            return createLocal();
        }
        res = moments[0];
        for (i = 1; i < moments.length; ++i) {
            if (!moments[i].isValid() || moments[i][fn](res)) {
                res = moments[i];
            }
        }
        return res;
    }

    // TODO: Use [].sort instead?
    function min () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isBefore', args);
    }

    function max () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isAfter', args);
    }

    var now = function () {
        return Date.now ? Date.now() : +(new Date());
    };

    var ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];

    function isDurationValid(m) {
        for (var key in m) {
            if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {
                return false;
            }
        }

        var unitHasDecimal = false;
        for (var i = 0; i < ordering.length; ++i) {
            if (m[ordering[i]]) {
                if (unitHasDecimal) {
                    return false; // only allow non-integers for smallest unit
                }
                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {
                    unitHasDecimal = true;
                }
            }
        }

        return true;
    }

    function isValid$1() {
        return this._isValid;
    }

    function createInvalid$1() {
        return createDuration(NaN);
    }

    function Duration (duration) {
        var normalizedInput = normalizeObjectUnits(duration),
            years = normalizedInput.year || 0,
            quarters = normalizedInput.quarter || 0,
            months = normalizedInput.month || 0,
            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,
            days = normalizedInput.day || 0,
            hours = normalizedInput.hour || 0,
            minutes = normalizedInput.minute || 0,
            seconds = normalizedInput.second || 0,
            milliseconds = normalizedInput.millisecond || 0;

        this._isValid = isDurationValid(normalizedInput);

        // representation for dateAddRemove
        this._milliseconds = +milliseconds +
            seconds * 1e3 + // 1000
            minutes * 6e4 + // 1000 * 60
            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978
        // Because of dateAddRemove treats 24 hours as different from a
        // day when working around DST, we need to store them separately
        this._days = +days +
            weeks * 7;
        // It is impossible to translate months into days without knowing
        // which months you are are talking about, so we have to store
        // it separately.
        this._months = +months +
            quarters * 3 +
            years * 12;

        this._data = {};

        this._locale = getLocale();

        this._bubble();
    }

    function isDuration (obj) {
        return obj instanceof Duration;
    }

    function absRound (number) {
        if (number < 0) {
            return Math.round(-1 * number) * -1;
        } else {
            return Math.round(number);
        }
    }

    // FORMATTING

    function offset (token, separator) {
        addFormatToken(token, 0, 0, function () {
            var offset = this.utcOffset();
            var sign = '+';
            if (offset < 0) {
                offset = -offset;
                sign = '-';
            }
            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);
        });
    }

    offset('Z', ':');
    offset('ZZ', '');

    // PARSING

    addRegexToken('Z',  matchShortOffset);
    addRegexToken('ZZ', matchShortOffset);
    addParseToken(['Z', 'ZZ'], function (input, array, config) {
        config._useUTC = true;
        config._tzm = offsetFromString(matchShortOffset, input);
    });

    // HELPERS

    // timezone chunker
    // '+10:00' > ['10',  '00']
    // '-1530'  > ['-15', '30']
    var chunkOffset = /([\+\-]|\d\d)/gi;

    function offsetFromString(matcher, string) {
        var matches = (string || '').match(matcher);

        if (matches === null) {
            return null;
        }

        var chunk   = matches[matches.length - 1] || [];
        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];
        var minutes = +(parts[1] * 60) + toInt(parts[2]);

        return minutes === 0 ?
          0 :
          parts[0] === '+' ? minutes : -minutes;
    }

    // Return a moment from input, that is local/utc/zone equivalent to model.
    function cloneWithOffset(input, model) {
        var res, diff;
        if (model._isUTC) {
            res = model.clone();
            diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();
            // Use low-level api, because this fn is low-level api.
            res._d.setTime(res._d.valueOf() + diff);
            hooks.updateOffset(res, false);
            return res;
        } else {
            return createLocal(input).local();
        }
    }

    function getDateOffset (m) {
        // On Firefox.24 Date#getTimezoneOffset returns a floating point.
        // https://github.com/moment/moment/pull/1871
        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;
    }

    // HOOKS

    // This function will be called whenever a moment is mutated.
    // It is intended to keep the offset in sync with the timezone.
    hooks.updateOffset = function () {};

    // MOMENTS

    // keepLocalTime = true means only change the timezone, without
    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
    // +0200, so we adjust the time as needed, to be valid.
    //
    // Keeping the time actually adds/subtracts (one hour)
    // from the actual represented time. That is why we call updateOffset
    // a second time. In case it wants us to change the offset again
    // _changeInProgress == true case, then we have to adjust, because
    // there is no such time in the given timezone.
    function getSetOffset (input, keepLocalTime, keepMinutes) {
        var offset = this._offset || 0,
            localAdjust;
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        if (input != null) {
            if (typeof input === 'string') {
                input = offsetFromString(matchShortOffset, input);
                if (input === null) {
                    return this;
                }
            } else if (Math.abs(input) < 16 && !keepMinutes) {
                input = input * 60;
            }
            if (!this._isUTC && keepLocalTime) {
                localAdjust = getDateOffset(this);
            }
            this._offset = input;
            this._isUTC = true;
            if (localAdjust != null) {
                this.add(localAdjust, 'm');
            }
            if (offset !== input) {
                if (!keepLocalTime || this._changeInProgress) {
                    addSubtract(this, createDuration(input - offset, 'm'), 1, false);
                } else if (!this._changeInProgress) {
                    this._changeInProgress = true;
                    hooks.updateOffset(this, true);
                    this._changeInProgress = null;
                }
            }
            return this;
        } else {
            return this._isUTC ? offset : getDateOffset(this);
        }
    }

    function getSetZone (input, keepLocalTime) {
        if (input != null) {
            if (typeof input !== 'string') {
                input = -input;
            }

            this.utcOffset(input, keepLocalTime);

            return this;
        } else {
            return -this.utcOffset();
        }
    }

    function setOffsetToUTC (keepLocalTime) {
        return this.utcOffset(0, keepLocalTime);
    }

    function setOffsetToLocal (keepLocalTime) {
        if (this._isUTC) {
            this.utcOffset(0, keepLocalTime);
            this._isUTC = false;

            if (keepLocalTime) {
                this.subtract(getDateOffset(this), 'm');
            }
        }
        return this;
    }

    function setOffsetToParsedOffset () {
        if (this._tzm != null) {
            this.utcOffset(this._tzm, false, true);
        } else if (typeof this._i === 'string') {
            var tZone = offsetFromString(matchOffset, this._i);
            if (tZone != null) {
                this.utcOffset(tZone);
            }
            else {
                this.utcOffset(0, true);
            }
        }
        return this;
    }

    function hasAlignedHourOffset (input) {
        if (!this.isValid()) {
            return false;
        }
        input = input ? createLocal(input).utcOffset() : 0;

        return (this.utcOffset() - input) % 60 === 0;
    }

    function isDaylightSavingTime () {
        return (
            this.utcOffset() > this.clone().month(0).utcOffset() ||
            this.utcOffset() > this.clone().month(5).utcOffset()
        );
    }

    function isDaylightSavingTimeShifted () {
        if (!isUndefined(this._isDSTShifted)) {
            return this._isDSTShifted;
        }

        var c = {};

        copyConfig(c, this);
        c = prepareConfig(c);

        if (c._a) {
            var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
            this._isDSTShifted = this.isValid() &&
                compareArrays(c._a, other.toArray()) > 0;
        } else {
            this._isDSTShifted = false;
        }

        return this._isDSTShifted;
    }

    function isLocal () {
        return this.isValid() ? !this._isUTC : false;
    }

    function isUtcOffset () {
        return this.isValid() ? this._isUTC : false;
    }

    function isUtc () {
        return this.isValid() ? this._isUTC && this._offset === 0 : false;
    }

    // ASP.NET json date format regex
    var aspNetRegex = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;

    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
    // and further modified to allow for strings containing both week and day
    var isoRegex = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;

    function createDuration (input, key) {
        var duration = input,
            // matching against regexp is expensive, do it on demand
            match = null,
            sign,
            ret,
            diffRes;

        if (isDuration(input)) {
            duration = {
                ms : input._milliseconds,
                d  : input._days,
                M  : input._months
            };
        } else if (isNumber(input)) {
            duration = {};
            if (key) {
                duration[key] = input;
            } else {
                duration.milliseconds = input;
            }
        } else if (!!(match = aspNetRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            duration = {
                y  : 0,
                d  : toInt(match[DATE])                         * sign,
                h  : toInt(match[HOUR])                         * sign,
                m  : toInt(match[MINUTE])                       * sign,
                s  : toInt(match[SECOND])                       * sign,
                ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match
            };
        } else if (!!(match = isoRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            duration = {
                y : parseIso(match[2], sign),
                M : parseIso(match[3], sign),
                w : parseIso(match[4], sign),
                d : parseIso(match[5], sign),
                h : parseIso(match[6], sign),
                m : parseIso(match[7], sign),
                s : parseIso(match[8], sign)
            };
        } else if (duration == null) {// checks for null or undefined
            duration = {};
        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {
            diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));

            duration = {};
            duration.ms = diffRes.milliseconds;
            duration.M = diffRes.months;
        }

        ret = new Duration(duration);

        if (isDuration(input) && hasOwnProp(input, '_locale')) {
            ret._locale = input._locale;
        }

        return ret;
    }

    createDuration.fn = Duration.prototype;
    createDuration.invalid = createInvalid$1;

    function parseIso (inp, sign) {
        // We'd normally use ~~inp for this, but unfortunately it also
        // converts floats to ints.
        // inp may be undefined, so careful calling replace on it.
        var res = inp && parseFloat(inp.replace(',', '.'));
        // apply sign while we're at it
        return (isNaN(res) ? 0 : res) * sign;
    }

    function positiveMomentsDifference(base, other) {
        var res = {};

        res.months = other.month() - base.month() +
            (other.year() - base.year()) * 12;
        if (base.clone().add(res.months, 'M').isAfter(other)) {
            --res.months;
        }

        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));

        return res;
    }

    function momentsDifference(base, other) {
        var res;
        if (!(base.isValid() && other.isValid())) {
            return {milliseconds: 0, months: 0};
        }

        other = cloneWithOffset(other, base);
        if (base.isBefore(other)) {
            res = positiveMomentsDifference(base, other);
        } else {
            res = positiveMomentsDifference(other, base);
            res.milliseconds = -res.milliseconds;
            res.months = -res.months;
        }

        return res;
    }

    // TODO: remove 'name' arg after deprecation is removed
    function createAdder(direction, name) {
        return function (val, period) {
            var dur, tmp;
            //invert the arguments, but complain about it
            if (period !== null && !isNaN(+period)) {
                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +
                'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');
                tmp = val; val = period; period = tmp;
            }

            val = typeof val === 'string' ? +val : val;
            dur = createDuration(val, period);
            addSubtract(this, dur, direction);
            return this;
        };
    }

    function addSubtract (mom, duration, isAdding, updateOffset) {
        var milliseconds = duration._milliseconds,
            days = absRound(duration._days),
            months = absRound(duration._months);

        if (!mom.isValid()) {
            // No op
            return;
        }

        updateOffset = updateOffset == null ? true : updateOffset;

        if (months) {
            setMonth(mom, get(mom, 'Month') + months * isAdding);
        }
        if (days) {
            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);
        }
        if (milliseconds) {
            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);
        }
        if (updateOffset) {
            hooks.updateOffset(mom, days || months);
        }
    }

    var add      = createAdder(1, 'add');
    var subtract = createAdder(-1, 'subtract');

    function getCalendarFormat(myMoment, now) {
        var diff = myMoment.diff(now, 'days', true);
        return diff < -6 ? 'sameElse' :
                diff < -1 ? 'lastWeek' :
                diff < 0 ? 'lastDay' :
                diff < 1 ? 'sameDay' :
                diff < 2 ? 'nextDay' :
                diff < 7 ? 'nextWeek' : 'sameElse';
    }

    function calendar$1 (time, formats) {
        // We want to compare the start of today, vs this.
        // Getting start-of-today depends on whether we're local/utc/offset or not.
        var now = time || createLocal(),
            sod = cloneWithOffset(now, this).startOf('day'),
            format = hooks.calendarFormat(this, sod) || 'sameElse';

        var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);

        return this.format(output || this.localeData().calendar(format, this, createLocal(now)));
    }

    function clone () {
        return new Moment(this);
    }

    function isAfter (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() > localInput.valueOf();
        } else {
            return localInput.valueOf() < this.clone().startOf(units).valueOf();
        }
    }

    function isBefore (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() < localInput.valueOf();
        } else {
            return this.clone().endOf(units).valueOf() < localInput.valueOf();
        }
    }

    function isBetween (from, to, units, inclusivity) {
        var localFrom = isMoment(from) ? from : createLocal(from),
            localTo = isMoment(to) ? to : createLocal(to);
        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {
            return false;
        }
        inclusivity = inclusivity || '()';
        return (inclusivity[0] === '(' ? this.isAfter(localFrom, units) : !this.isBefore(localFrom, units)) &&
            (inclusivity[1] === ')' ? this.isBefore(localTo, units) : !this.isAfter(localTo, units));
    }

    function isSame (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input),
            inputMs;
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() === localInput.valueOf();
        } else {
            inputMs = localInput.valueOf();
            return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();
        }
    }

    function isSameOrAfter (input, units) {
        return this.isSame(input, units) || this.isAfter(input, units);
    }

    function isSameOrBefore (input, units) {
        return this.isSame(input, units) || this.isBefore(input, units);
    }

    function diff (input, units, asFloat) {
        var that,
            zoneDelta,
            output;

        if (!this.isValid()) {
            return NaN;
        }

        that = cloneWithOffset(input, this);

        if (!that.isValid()) {
            return NaN;
        }

        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;

        units = normalizeUnits(units);

        switch (units) {
            case 'year': output = monthDiff(this, that) / 12; break;
            case 'month': output = monthDiff(this, that); break;
            case 'quarter': output = monthDiff(this, that) / 3; break;
            case 'second': output = (this - that) / 1e3; break; // 1000
            case 'minute': output = (this - that) / 6e4; break; // 1000 * 60
            case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60
            case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst
            case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst
            default: output = this - that;
        }

        return asFloat ? output : absFloor(output);
    }

    function monthDiff (a, b) {
        // difference in months
        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),
            // b is in (anchor - 1 month, anchor + 1 month)
            anchor = a.clone().add(wholeMonthDiff, 'months'),
            anchor2, adjust;

        if (b - anchor < 0) {
            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor - anchor2);
        } else {
            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor2 - anchor);
        }

        //check for negative zero, return zero if negative zero
        return -(wholeMonthDiff + adjust) || 0;
    }

    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';
    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';

    function toString () {
        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
    }

    function toISOString(keepOffset) {
        if (!this.isValid()) {
            return null;
        }
        var utc = keepOffset !== true;
        var m = utc ? this.clone().utc() : this;
        if (m.year() < 0 || m.year() > 9999) {
            return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');
        }
        if (isFunction(Date.prototype.toISOString)) {
            // native implementation is ~50x faster, use it when we can
            if (utc) {
                return this.toDate().toISOString();
            } else {
                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000).toISOString().replace('Z', formatMoment(m, 'Z'));
            }
        }
        return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');
    }

    /**
     * Return a human readable representation of a moment that can
     * also be evaluated to get a new moment which is the same
     *
     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects
     */
    function inspect () {
        if (!this.isValid()) {
            return 'moment.invalid(/* ' + this._i + ' */)';
        }
        var func = 'moment';
        var zone = '';
        if (!this.isLocal()) {
            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';
            zone = 'Z';
        }
        var prefix = '[' + func + '("]';
        var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';
        var datetime = '-MM-DD[T]HH:mm:ss.SSS';
        var suffix = zone + '[")]';

        return this.format(prefix + year + datetime + suffix);
    }

    function format (inputString) {
        if (!inputString) {
            inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;
        }
        var output = formatMoment(this, inputString);
        return this.localeData().postformat(output);
    }

    function from (time, withoutSuffix) {
        if (this.isValid() &&
                ((isMoment(time) && time.isValid()) ||
                 createLocal(time).isValid())) {
            return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function fromNow (withoutSuffix) {
        return this.from(createLocal(), withoutSuffix);
    }

    function to (time, withoutSuffix) {
        if (this.isValid() &&
                ((isMoment(time) && time.isValid()) ||
                 createLocal(time).isValid())) {
            return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function toNow (withoutSuffix) {
        return this.to(createLocal(), withoutSuffix);
    }

    // If passed a locale key, it will set the locale for this
    // instance.  Otherwise, it will return the locale configuration
    // variables for this instance.
    function locale (key) {
        var newLocaleData;

        if (key === undefined) {
            return this._locale._abbr;
        } else {
            newLocaleData = getLocale(key);
            if (newLocaleData != null) {
                this._locale = newLocaleData;
            }
            return this;
        }
    }

    var lang = deprecate(
        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
        function (key) {
            if (key === undefined) {
                return this.localeData();
            } else {
                return this.locale(key);
            }
        }
    );

    function localeData () {
        return this._locale;
    }

    var MS_PER_SECOND = 1000;
    var MS_PER_MINUTE = 60 * MS_PER_SECOND;
    var MS_PER_HOUR = 60 * MS_PER_MINUTE;
    var MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;

    // actual modulo - handles negative numbers (for dates before 1970):
    function mod$1(dividend, divisor) {
        return (dividend % divisor + divisor) % divisor;
    }

    function localStartOfDate(y, m, d) {
        // the date constructor remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            // preserve leap years using a full 400 year cycle, then reset
            return new Date(y + 400, m, d) - MS_PER_400_YEARS;
        } else {
            return new Date(y, m, d).valueOf();
        }
    }

    function utcStartOfDate(y, m, d) {
        // Date.UTC remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            // preserve leap years using a full 400 year cycle, then reset
            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;
        } else {
            return Date.UTC(y, m, d);
        }
    }

    function startOf (units) {
        var time;
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond' || !this.isValid()) {
            return this;
        }

        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;

        switch (units) {
            case 'year':
                time = startOfDate(this.year(), 0, 1);
                break;
            case 'quarter':
                time = startOfDate(this.year(), this.month() - this.month() % 3, 1);
                break;
            case 'month':
                time = startOfDate(this.year(), this.month(), 1);
                break;
            case 'week':
                time = startOfDate(this.year(), this.month(), this.date() - this.weekday());
                break;
            case 'isoWeek':
                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1));
                break;
            case 'day':
            case 'date':
                time = startOfDate(this.year(), this.month(), this.date());
                break;
            case 'hour':
                time = this._d.valueOf();
                time -= mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR);
                break;
            case 'minute':
                time = this._d.valueOf();
                time -= mod$1(time, MS_PER_MINUTE);
                break;
            case 'second':
                time = this._d.valueOf();
                time -= mod$1(time, MS_PER_SECOND);
                break;
        }

        this._d.setTime(time);
        hooks.updateOffset(this, true);
        return this;
    }

    function endOf (units) {
        var time;
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond' || !this.isValid()) {
            return this;
        }

        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;

        switch (units) {
            case 'year':
                time = startOfDate(this.year() + 1, 0, 1) - 1;
                break;
            case 'quarter':
                time = startOfDate(this.year(), this.month() - this.month() % 3 + 3, 1) - 1;
                break;
            case 'month':
                time = startOfDate(this.year(), this.month() + 1, 1) - 1;
                break;
            case 'week':
                time = startOfDate(this.year(), this.month(), this.date() - this.weekday() + 7) - 1;
                break;
            case 'isoWeek':
                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1;
                break;
            case 'day':
            case 'date':
                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;
                break;
            case 'hour':
                time = this._d.valueOf();
                time += MS_PER_HOUR - mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR) - 1;
                break;
            case 'minute':
                time = this._d.valueOf();
                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;
                break;
            case 'second':
                time = this._d.valueOf();
                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;
                break;
        }

        this._d.setTime(time);
        hooks.updateOffset(this, true);
        return this;
    }

    function valueOf () {
        return this._d.valueOf() - ((this._offset || 0) * 60000);
    }

    function unix () {
        return Math.floor(this.valueOf() / 1000);
    }

    function toDate () {
        return new Date(this.valueOf());
    }

    function toArray () {
        var m = this;
        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];
    }

    function toObject () {
        var m = this;
        return {
            years: m.year(),
            months: m.month(),
            date: m.date(),
            hours: m.hours(),
            minutes: m.minutes(),
            seconds: m.seconds(),
            milliseconds: m.milliseconds()
        };
    }

    function toJSON () {
        // new Date(NaN).toJSON() === null
        return this.isValid() ? this.toISOString() : null;
    }

    function isValid$2 () {
        return isValid(this);
    }

    function parsingFlags () {
        return extend({}, getParsingFlags(this));
    }

    function invalidAt () {
        return getParsingFlags(this).overflow;
    }

    function creationData() {
        return {
            input: this._i,
            format: this._f,
            locale: this._locale,
            isUTC: this._isUTC,
            strict: this._strict
        };
    }

    // FORMATTING

    addFormatToken(0, ['gg', 2], 0, function () {
        return this.weekYear() % 100;
    });

    addFormatToken(0, ['GG', 2], 0, function () {
        return this.isoWeekYear() % 100;
    });

    function addWeekYearFormatToken (token, getter) {
        addFormatToken(0, [token, token.length], 0, getter);
    }

    addWeekYearFormatToken('gggg',     'weekYear');
    addWeekYearFormatToken('ggggg',    'weekYear');
    addWeekYearFormatToken('GGGG',  'isoWeekYear');
    addWeekYearFormatToken('GGGGG', 'isoWeekYear');

    // ALIASES

    addUnitAlias('weekYear', 'gg');
    addUnitAlias('isoWeekYear', 'GG');

    // PRIORITY

    addUnitPriority('weekYear', 1);
    addUnitPriority('isoWeekYear', 1);


    // PARSING

    addRegexToken('G',      matchSigned);
    addRegexToken('g',      matchSigned);
    addRegexToken('GG',     match1to2, match2);
    addRegexToken('gg',     match1to2, match2);
    addRegexToken('GGGG',   match1to4, match4);
    addRegexToken('gggg',   match1to4, match4);
    addRegexToken('GGGGG',  match1to6, match6);
    addRegexToken('ggggg',  match1to6, match6);

    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {
        week[token.substr(0, 2)] = toInt(input);
    });

    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {
        week[token] = hooks.parseTwoDigitYear(input);
    });

    // MOMENTS

    function getSetWeekYear (input) {
        return getSetWeekYearHelper.call(this,
                input,
                this.week(),
                this.weekday(),
                this.localeData()._week.dow,
                this.localeData()._week.doy);
    }

    function getSetISOWeekYear (input) {
        return getSetWeekYearHelper.call(this,
                input, this.isoWeek(), this.isoWeekday(), 1, 4);
    }

    function getISOWeeksInYear () {
        return weeksInYear(this.year(), 1, 4);
    }

    function getWeeksInYear () {
        var weekInfo = this.localeData()._week;
        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
    }

    function getSetWeekYearHelper(input, week, weekday, dow, doy) {
        var weeksTarget;
        if (input == null) {
            return weekOfYear(this, dow, doy).year;
        } else {
            weeksTarget = weeksInYear(input, dow, doy);
            if (week > weeksTarget) {
                week = weeksTarget;
            }
            return setWeekAll.call(this, input, week, weekday, dow, doy);
        }
    }

    function setWeekAll(weekYear, week, weekday, dow, doy) {
        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);

        this.year(date.getUTCFullYear());
        this.month(date.getUTCMonth());
        this.date(date.getUTCDate());
        return this;
    }

    // FORMATTING

    addFormatToken('Q', 0, 'Qo', 'quarter');

    // ALIASES

    addUnitAlias('quarter', 'Q');

    // PRIORITY

    addUnitPriority('quarter', 7);

    // PARSING

    addRegexToken('Q', match1);
    addParseToken('Q', function (input, array) {
        array[MONTH] = (toInt(input) - 1) * 3;
    });

    // MOMENTS

    function getSetQuarter (input) {
        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
    }

    // FORMATTING

    addFormatToken('D', ['DD', 2], 'Do', 'date');

    // ALIASES

    addUnitAlias('date', 'D');

    // PRIORITY
    addUnitPriority('date', 9);

    // PARSING

    addRegexToken('D',  match1to2);
    addRegexToken('DD', match1to2, match2);
    addRegexToken('Do', function (isStrict, locale) {
        // TODO: Remove "ordinalParse" fallback in next major release.
        return isStrict ?
          (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :
          locale._dayOfMonthOrdinalParseLenient;
    });

    addParseToken(['D', 'DD'], DATE);
    addParseToken('Do', function (input, array) {
        array[DATE] = toInt(input.match(match1to2)[0]);
    });

    // MOMENTS

    var getSetDayOfMonth = makeGetSet('Date', true);

    // FORMATTING

    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');

    // ALIASES

    addUnitAlias('dayOfYear', 'DDD');

    // PRIORITY
    addUnitPriority('dayOfYear', 4);

    // PARSING

    addRegexToken('DDD',  match1to3);
    addRegexToken('DDDD', match3);
    addParseToken(['DDD', 'DDDD'], function (input, array, config) {
        config._dayOfYear = toInt(input);
    });

    // HELPERS

    // MOMENTS

    function getSetDayOfYear (input) {
        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;
        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');
    }

    // FORMATTING

    addFormatToken('m', ['mm', 2], 0, 'minute');

    // ALIASES

    addUnitAlias('minute', 'm');

    // PRIORITY

    addUnitPriority('minute', 14);

    // PARSING

    addRegexToken('m',  match1to2);
    addRegexToken('mm', match1to2, match2);
    addParseToken(['m', 'mm'], MINUTE);

    // MOMENTS

    var getSetMinute = makeGetSet('Minutes', false);

    // FORMATTING

    addFormatToken('s', ['ss', 2], 0, 'second');

    // ALIASES

    addUnitAlias('second', 's');

    // PRIORITY

    addUnitPriority('second', 15);

    // PARSING

    addRegexToken('s',  match1to2);
    addRegexToken('ss', match1to2, match2);
    addParseToken(['s', 'ss'], SECOND);

    // MOMENTS

    var getSetSecond = makeGetSet('Seconds', false);

    // FORMATTING

    addFormatToken('S', 0, 0, function () {
        return ~~(this.millisecond() / 100);
    });

    addFormatToken(0, ['SS', 2], 0, function () {
        return ~~(this.millisecond() / 10);
    });

    addFormatToken(0, ['SSS', 3], 0, 'millisecond');
    addFormatToken(0, ['SSSS', 4], 0, function () {
        return this.millisecond() * 10;
    });
    addFormatToken(0, ['SSSSS', 5], 0, function () {
        return this.millisecond() * 100;
    });
    addFormatToken(0, ['SSSSSS', 6], 0, function () {
        return this.millisecond() * 1000;
    });
    addFormatToken(0, ['SSSSSSS', 7], 0, function () {
        return this.millisecond() * 10000;
    });
    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {
        return this.millisecond() * 100000;
    });
    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {
        return this.millisecond() * 1000000;
    });


    // ALIASES

    addUnitAlias('millisecond', 'ms');

    // PRIORITY

    addUnitPriority('millisecond', 16);

    // PARSING

    addRegexToken('S',    match1to3, match1);
    addRegexToken('SS',   match1to3, match2);
    addRegexToken('SSS',  match1to3, match3);

    var token;
    for (token = 'SSSS'; token.length <= 9; token += 'S') {
        addRegexToken(token, matchUnsigned);
    }

    function parseMs(input, array) {
        array[MILLISECOND] = toInt(('0.' + input) * 1000);
    }

    for (token = 'S'; token.length <= 9; token += 'S') {
        addParseToken(token, parseMs);
    }
    // MOMENTS

    var getSetMillisecond = makeGetSet('Milliseconds', false);

    // FORMATTING

    addFormatToken('z',  0, 0, 'zoneAbbr');
    addFormatToken('zz', 0, 0, 'zoneName');

    // MOMENTS

    function getZoneAbbr () {
        return this._isUTC ? 'UTC' : '';
    }

    function getZoneName () {
        return this._isUTC ? 'Coordinated Universal Time' : '';
    }

    var proto = Moment.prototype;

    proto.add               = add;
    proto.calendar          = calendar$1;
    proto.clone             = clone;
    proto.diff              = diff;
    proto.endOf             = endOf;
    proto.format            = format;
    proto.from              = from;
    proto.fromNow           = fromNow;
    proto.to                = to;
    proto.toNow             = toNow;
    proto.get               = stringGet;
    proto.invalidAt         = invalidAt;
    proto.isAfter           = isAfter;
    proto.isBefore          = isBefore;
    proto.isBetween         = isBetween;
    proto.isSame            = isSame;
    proto.isSameOrAfter     = isSameOrAfter;
    proto.isSameOrBefore    = isSameOrBefore;
    proto.isValid           = isValid$2;
    proto.lang              = lang;
    proto.locale            = locale;
    proto.localeData        = localeData;
    proto.max               = prototypeMax;
    proto.min               = prototypeMin;
    proto.parsingFlags      = parsingFlags;
    proto.set               = stringSet;
    proto.startOf           = startOf;
    proto.subtract          = subtract;
    proto.toArray           = toArray;
    proto.toObject          = toObject;
    proto.toDate            = toDate;
    proto.toISOString       = toISOString;
    proto.inspect           = inspect;
    proto.toJSON            = toJSON;
    proto.toString          = toString;
    proto.unix              = unix;
    proto.valueOf           = valueOf;
    proto.creationData      = creationData;
    proto.year       = getSetYear;
    proto.isLeapYear = getIsLeapYear;
    proto.weekYear    = getSetWeekYear;
    proto.isoWeekYear = getSetISOWeekYear;
    proto.quarter = proto.quarters = getSetQuarter;
    proto.month       = getSetMonth;
    proto.daysInMonth = getDaysInMonth;
    proto.week           = proto.weeks        = getSetWeek;
    proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;
    proto.weeksInYear    = getWeeksInYear;
    proto.isoWeeksInYear = getISOWeeksInYear;
    proto.date       = getSetDayOfMonth;
    proto.day        = proto.days             = getSetDayOfWeek;
    proto.weekday    = getSetLocaleDayOfWeek;
    proto.isoWeekday = getSetISODayOfWeek;
    proto.dayOfYear  = getSetDayOfYear;
    proto.hour = proto.hours = getSetHour;
    proto.minute = proto.minutes = getSetMinute;
    proto.second = proto.seconds = getSetSecond;
    proto.millisecond = proto.milliseconds = getSetMillisecond;
    proto.utcOffset            = getSetOffset;
    proto.utc                  = setOffsetToUTC;
    proto.local                = setOffsetToLocal;
    proto.parseZone            = setOffsetToParsedOffset;
    proto.hasAlignedHourOffset = hasAlignedHourOffset;
    proto.isDST                = isDaylightSavingTime;
    proto.isLocal              = isLocal;
    proto.isUtcOffset          = isUtcOffset;
    proto.isUtc                = isUtc;
    proto.isUTC                = isUtc;
    proto.zoneAbbr = getZoneAbbr;
    proto.zoneName = getZoneName;
    proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);
    proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);
    proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);
    proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);
    proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);

    function createUnix (input) {
        return createLocal(input * 1000);
    }

    function createInZone () {
        return createLocal.apply(null, arguments).parseZone();
    }

    function preParsePostFormat (string) {
        return string;
    }

    var proto$1 = Locale.prototype;

    proto$1.calendar        = calendar;
    proto$1.longDateFormat  = longDateFormat;
    proto$1.invalidDate     = invalidDate;
    proto$1.ordinal         = ordinal;
    proto$1.preparse        = preParsePostFormat;
    proto$1.postformat      = preParsePostFormat;
    proto$1.relativeTime    = relativeTime;
    proto$1.pastFuture      = pastFuture;
    proto$1.set             = set;

    proto$1.months            =        localeMonths;
    proto$1.monthsShort       =        localeMonthsShort;
    proto$1.monthsParse       =        localeMonthsParse;
    proto$1.monthsRegex       = monthsRegex;
    proto$1.monthsShortRegex  = monthsShortRegex;
    proto$1.week = localeWeek;
    proto$1.firstDayOfYear = localeFirstDayOfYear;
    proto$1.firstDayOfWeek = localeFirstDayOfWeek;

    proto$1.weekdays       =        localeWeekdays;
    proto$1.weekdaysMin    =        localeWeekdaysMin;
    proto$1.weekdaysShort  =        localeWeekdaysShort;
    proto$1.weekdaysParse  =        localeWeekdaysParse;

    proto$1.weekdaysRegex       =        weekdaysRegex;
    proto$1.weekdaysShortRegex  =        weekdaysShortRegex;
    proto$1.weekdaysMinRegex    =        weekdaysMinRegex;

    proto$1.isPM = localeIsPM;
    proto$1.meridiem = localeMeridiem;

    function get$1 (format, index, field, setter) {
        var locale = getLocale();
        var utc = createUTC().set(setter, index);
        return locale[field](utc, format);
    }

    function listMonthsImpl (format, index, field) {
        if (isNumber(format)) {
            index = format;
            format = undefined;
        }

        format = format || '';

        if (index != null) {
            return get$1(format, index, field, 'month');
        }

        var i;
        var out = [];
        for (i = 0; i < 12; i++) {
            out[i] = get$1(format, i, field, 'month');
        }
        return out;
    }

    // ()
    // (5)
    // (fmt, 5)
    // (fmt)
    // (true)
    // (true, 5)
    // (true, fmt, 5)
    // (true, fmt)
    function listWeekdaysImpl (localeSorted, format, index, field) {
        if (typeof localeSorted === 'boolean') {
            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        } else {
            format = localeSorted;
            index = format;
            localeSorted = false;

            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        }

        var locale = getLocale(),
            shift = localeSorted ? locale._week.dow : 0;

        if (index != null) {
            return get$1(format, (index + shift) % 7, field, 'day');
        }

        var i;
        var out = [];
        for (i = 0; i < 7; i++) {
            out[i] = get$1(format, (i + shift) % 7, field, 'day');
        }
        return out;
    }

    function listMonths (format, index) {
        return listMonthsImpl(format, index, 'months');
    }

    function listMonthsShort (format, index) {
        return listMonthsImpl(format, index, 'monthsShort');
    }

    function listWeekdays (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');
    }

    function listWeekdaysShort (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');
    }

    function listWeekdaysMin (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');
    }

    getSetGlobalLocale('en', {
        dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (toInt(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        }
    });

    // Side effect imports

    hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);
    hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);

    var mathAbs = Math.abs;

    function abs () {
        var data           = this._data;

        this._milliseconds = mathAbs(this._milliseconds);
        this._days         = mathAbs(this._days);
        this._months       = mathAbs(this._months);

        data.milliseconds  = mathAbs(data.milliseconds);
        data.seconds       = mathAbs(data.seconds);
        data.minutes       = mathAbs(data.minutes);
        data.hours         = mathAbs(data.hours);
        data.months        = mathAbs(data.months);
        data.years         = mathAbs(data.years);

        return this;
    }

    function addSubtract$1 (duration, input, value, direction) {
        var other = createDuration(input, value);

        duration._milliseconds += direction * other._milliseconds;
        duration._days         += direction * other._days;
        duration._months       += direction * other._months;

        return duration._bubble();
    }

    // supports only 2.0-style add(1, 's') or add(duration)
    function add$1 (input, value) {
        return addSubtract$1(this, input, value, 1);
    }

    // supports only 2.0-style subtract(1, 's') or subtract(duration)
    function subtract$1 (input, value) {
        return addSubtract$1(this, input, value, -1);
    }

    function absCeil (number) {
        if (number < 0) {
            return Math.floor(number);
        } else {
            return Math.ceil(number);
        }
    }

    function bubble () {
        var milliseconds = this._milliseconds;
        var days         = this._days;
        var months       = this._months;
        var data         = this._data;
        var seconds, minutes, hours, years, monthsFromDays;

        // if we have a mix of positive and negative values, bubble down first
        // check: https://github.com/moment/moment/issues/2166
        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||
                (milliseconds <= 0 && days <= 0 && months <= 0))) {
            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
            days = 0;
            months = 0;
        }

        // The following code bubbles up values, see the tests for
        // examples of what that means.
        data.milliseconds = milliseconds % 1000;

        seconds           = absFloor(milliseconds / 1000);
        data.seconds      = seconds % 60;

        minutes           = absFloor(seconds / 60);
        data.minutes      = minutes % 60;

        hours             = absFloor(minutes / 60);
        data.hours        = hours % 24;

        days += absFloor(hours / 24);

        // convert days to months
        monthsFromDays = absFloor(daysToMonths(days));
        months += monthsFromDays;
        days -= absCeil(monthsToDays(monthsFromDays));

        // 12 months -> 1 year
        years = absFloor(months / 12);
        months %= 12;

        data.days   = days;
        data.months = months;
        data.years  = years;

        return this;
    }

    function daysToMonths (days) {
        // 400 years have 146097 days (taking into account leap year rules)
        // 400 years have 12 months === 4800
        return days * 4800 / 146097;
    }

    function monthsToDays (months) {
        // the reverse of daysToMonths
        return months * 146097 / 4800;
    }

    function as (units) {
        if (!this.isValid()) {
            return NaN;
        }
        var days;
        var months;
        var milliseconds = this._milliseconds;

        units = normalizeUnits(units);

        if (units === 'month' || units === 'quarter' || units === 'year') {
            days = this._days + milliseconds / 864e5;
            months = this._months + daysToMonths(days);
            switch (units) {
                case 'month':   return months;
                case 'quarter': return months / 3;
                case 'year':    return months / 12;
            }
        } else {
            // handle milliseconds separately because of floating point math errors (issue #1867)
            days = this._days + Math.round(monthsToDays(this._months));
            switch (units) {
                case 'week'   : return days / 7     + milliseconds / 6048e5;
                case 'day'    : return days         + milliseconds / 864e5;
                case 'hour'   : return days * 24    + milliseconds / 36e5;
                case 'minute' : return days * 1440  + milliseconds / 6e4;
                case 'second' : return days * 86400 + milliseconds / 1000;
                // Math.floor prevents floating point math errors here
                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;
                default: throw new Error('Unknown unit ' + units);
            }
        }
    }

    // TODO: Use this.as('ms')?
    function valueOf$1 () {
        if (!this.isValid()) {
            return NaN;
        }
        return (
            this._milliseconds +
            this._days * 864e5 +
            (this._months % 12) * 2592e6 +
            toInt(this._months / 12) * 31536e6
        );
    }

    function makeAs (alias) {
        return function () {
            return this.as(alias);
        };
    }

    var asMilliseconds = makeAs('ms');
    var asSeconds      = makeAs('s');
    var asMinutes      = makeAs('m');
    var asHours        = makeAs('h');
    var asDays         = makeAs('d');
    var asWeeks        = makeAs('w');
    var asMonths       = makeAs('M');
    var asQuarters     = makeAs('Q');
    var asYears        = makeAs('y');

    function clone$1 () {
        return createDuration(this);
    }

    function get$2 (units) {
        units = normalizeUnits(units);
        return this.isValid() ? this[units + 's']() : NaN;
    }

    function makeGetter(name) {
        return function () {
            return this.isValid() ? this._data[name] : NaN;
        };
    }

    var milliseconds = makeGetter('milliseconds');
    var seconds      = makeGetter('seconds');
    var minutes      = makeGetter('minutes');
    var hours        = makeGetter('hours');
    var days         = makeGetter('days');
    var months       = makeGetter('months');
    var years        = makeGetter('years');

    function weeks () {
        return absFloor(this.days() / 7);
    }

    var round = Math.round;
    var thresholds = {
        ss: 44,         // a few seconds to seconds
        s : 45,         // seconds to minute
        m : 45,         // minutes to hour
        h : 22,         // hours to day
        d : 26,         // days to month
        M : 11          // months to year
    };

    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
    }

    function relativeTime$1 (posNegDuration, withoutSuffix, locale) {
        var duration = createDuration(posNegDuration).abs();
        var seconds  = round(duration.as('s'));
        var minutes  = round(duration.as('m'));
        var hours    = round(duration.as('h'));
        var days     = round(duration.as('d'));
        var months   = round(duration.as('M'));
        var years    = round(duration.as('y'));

        var a = seconds <= thresholds.ss && ['s', seconds]  ||
                seconds < thresholds.s   && ['ss', seconds] ||
                minutes <= 1             && ['m']           ||
                minutes < thresholds.m   && ['mm', minutes] ||
                hours   <= 1             && ['h']           ||
                hours   < thresholds.h   && ['hh', hours]   ||
                days    <= 1             && ['d']           ||
                days    < thresholds.d   && ['dd', days]    ||
                months  <= 1             && ['M']           ||
                months  < thresholds.M   && ['MM', months]  ||
                years   <= 1             && ['y']           || ['yy', years];

        a[2] = withoutSuffix;
        a[3] = +posNegDuration > 0;
        a[4] = locale;
        return substituteTimeAgo.apply(null, a);
    }

    // This function allows you to set the rounding function for relative time strings
    function getSetRelativeTimeRounding (roundingFunction) {
        if (roundingFunction === undefined) {
            return round;
        }
        if (typeof(roundingFunction) === 'function') {
            round = roundingFunction;
            return true;
        }
        return false;
    }

    // This function allows you to set a threshold for relative time strings
    function getSetRelativeTimeThreshold (threshold, limit) {
        if (thresholds[threshold] === undefined) {
            return false;
        }
        if (limit === undefined) {
            return thresholds[threshold];
        }
        thresholds[threshold] = limit;
        if (threshold === 's') {
            thresholds.ss = limit - 1;
        }
        return true;
    }

    function humanize (withSuffix) {
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var locale = this.localeData();
        var output = relativeTime$1(this, !withSuffix, locale);

        if (withSuffix) {
            output = locale.pastFuture(+this, output);
        }

        return locale.postformat(output);
    }

    var abs$1 = Math.abs;

    function sign(x) {
        return ((x > 0) - (x < 0)) || +x;
    }

    function toISOString$1() {
        // for ISO strings we do not use the normal bubbling rules:
        //  * milliseconds bubble up until they become hours
        //  * days do not bubble at all
        //  * months bubble up until they become years
        // This is because there is no context-free conversion between hours and days
        // (think of clock changes)
        // and also not between days and months (28-31 days per month)
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var seconds = abs$1(this._milliseconds) / 1000;
        var days         = abs$1(this._days);
        var months       = abs$1(this._months);
        var minutes, hours, years;

        // 3600 seconds -> 60 minutes -> 1 hour
        minutes           = absFloor(seconds / 60);
        hours             = absFloor(minutes / 60);
        seconds %= 60;
        minutes %= 60;

        // 12 months -> 1 year
        years  = absFloor(months / 12);
        months %= 12;


        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
        var Y = years;
        var M = months;
        var D = days;
        var h = hours;
        var m = minutes;
        var s = seconds ? seconds.toFixed(3).replace(/\.?0+$/, '') : '';
        var total = this.asSeconds();

        if (!total) {
            // this is the same as C#'s (Noda) and python (isodate)...
            // but not other JS (goog.date)
            return 'P0D';
        }

        var totalSign = total < 0 ? '-' : '';
        var ymSign = sign(this._months) !== sign(total) ? '-' : '';
        var daysSign = sign(this._days) !== sign(total) ? '-' : '';
        var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';

        return totalSign + 'P' +
            (Y ? ymSign + Y + 'Y' : '') +
            (M ? ymSign + M + 'M' : '') +
            (D ? daysSign + D + 'D' : '') +
            ((h || m || s) ? 'T' : '') +
            (h ? hmsSign + h + 'H' : '') +
            (m ? hmsSign + m + 'M' : '') +
            (s ? hmsSign + s + 'S' : '');
    }

    var proto$2 = Duration.prototype;

    proto$2.isValid        = isValid$1;
    proto$2.abs            = abs;
    proto$2.add            = add$1;
    proto$2.subtract       = subtract$1;
    proto$2.as             = as;
    proto$2.asMilliseconds = asMilliseconds;
    proto$2.asSeconds      = asSeconds;
    proto$2.asMinutes      = asMinutes;
    proto$2.asHours        = asHours;
    proto$2.asDays         = asDays;
    proto$2.asWeeks        = asWeeks;
    proto$2.asMonths       = asMonths;
    proto$2.asQuarters     = asQuarters;
    proto$2.asYears        = asYears;
    proto$2.valueOf        = valueOf$1;
    proto$2._bubble        = bubble;
    proto$2.clone          = clone$1;
    proto$2.get            = get$2;
    proto$2.milliseconds   = milliseconds;
    proto$2.seconds        = seconds;
    proto$2.minutes        = minutes;
    proto$2.hours          = hours;
    proto$2.days           = days;
    proto$2.weeks          = weeks;
    proto$2.months         = months;
    proto$2.years          = years;
    proto$2.humanize       = humanize;
    proto$2.toISOString    = toISOString$1;
    proto$2.toString       = toISOString$1;
    proto$2.toJSON         = toISOString$1;
    proto$2.locale         = locale;
    proto$2.localeData     = localeData;

    proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);
    proto$2.lang = lang;

    // Side effect imports

    // FORMATTING

    addFormatToken('X', 0, 0, 'unix');
    addFormatToken('x', 0, 0, 'valueOf');

    // PARSING

    addRegexToken('x', matchSigned);
    addRegexToken('X', matchTimestamp);
    addParseToken('X', function (input, array, config) {
        config._d = new Date(parseFloat(input, 10) * 1000);
    });
    addParseToken('x', function (input, array, config) {
        config._d = new Date(toInt(input));
    });

    // Side effect imports


    hooks.version = '2.24.0';

    setHookCallback(createLocal);

    hooks.fn                    = proto;
    hooks.min                   = min;
    hooks.max                   = max;
    hooks.now                   = now;
    hooks.utc                   = createUTC;
    hooks.unix                  = createUnix;
    hooks.months                = listMonths;
    hooks.isDate                = isDate;
    hooks.locale                = getSetGlobalLocale;
    hooks.invalid               = createInvalid;
    hooks.duration              = createDuration;
    hooks.isMoment              = isMoment;
    hooks.weekdays              = listWeekdays;
    hooks.parseZone             = createInZone;
    hooks.localeData            = getLocale;
    hooks.isDuration            = isDuration;
    hooks.monthsShort           = listMonthsShort;
    hooks.weekdaysMin           = listWeekdaysMin;
    hooks.defineLocale          = defineLocale;
    hooks.updateLocale          = updateLocale;
    hooks.locales               = listLocales;
    hooks.weekdaysShort         = listWeekdaysShort;
    hooks.normalizeUnits        = normalizeUnits;
    hooks.relativeTimeRounding  = getSetRelativeTimeRounding;
    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
    hooks.calendarFormat        = getCalendarFormat;
    hooks.prototype             = proto;

    // currently HTML5 input type only supports 24-hour formats
    hooks.HTML5_FMT = {
        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',             // <input type="datetime-local" />
        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',  // <input type="datetime-local" step="1" />
        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',   // <input type="datetime-local" step="0.001" />
        DATE: 'YYYY-MM-DD',                             // <input type="date" />
        TIME: 'HH:mm',                                  // <input type="time" />
        TIME_SECONDS: 'HH:mm:ss',                       // <input type="time" step="1" />
        TIME_MS: 'HH:mm:ss.SSS',                        // <input type="time" step="0.001" />
        WEEK: 'GGGG-[W]WW',                             // <input type="week" />
        MONTH: 'YYYY-MM'                                // <input type="month" />
    };

    return hooks;

})));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/node-libs-browser/node_modules/punycode/punycode.js":
/*!**************************************************************************!*\
  !*** ./node_modules/node-libs-browser/node_modules/punycode/punycode.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module, global) {var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.4.1 by @mathias */
;(function(root) {

	/** Detect free variables */
	var freeExports =  true && exports &&
		!exports.nodeType && exports;
	var freeModule =  true && module &&
		!module.nodeType && module;
	var freeGlobal = typeof global == 'object' && global;
	if (
		freeGlobal.global === freeGlobal ||
		freeGlobal.window === freeGlobal ||
		freeGlobal.self === freeGlobal
	) {
		root = freeGlobal;
	}

	/**
	 * The `punycode` object.
	 * @name punycode
	 * @type Object
	 */
	var punycode,

	/** Highest positive signed 32-bit float value */
	maxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1

	/** Bootstring parameters */
	base = 36,
	tMin = 1,
	tMax = 26,
	skew = 38,
	damp = 700,
	initialBias = 72,
	initialN = 128, // 0x80
	delimiter = '-', // '\x2D'

	/** Regular expressions */
	regexPunycode = /^xn--/,
	regexNonASCII = /[^\x20-\x7E]/, // unprintable ASCII chars + non-ASCII chars
	regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g, // RFC 3490 separators

	/** Error messages */
	errors = {
		'overflow': 'Overflow: input needs wider integers to process',
		'not-basic': 'Illegal input >= 0x80 (not a basic code point)',
		'invalid-input': 'Invalid input'
	},

	/** Convenience shortcuts */
	baseMinusTMin = base - tMin,
	floor = Math.floor,
	stringFromCharCode = String.fromCharCode,

	/** Temporary variable */
	key;

	/*--------------------------------------------------------------------------*/

	/**
	 * A generic error utility function.
	 * @private
	 * @param {String} type The error type.
	 * @returns {Error} Throws a `RangeError` with the applicable error message.
	 */
	function error(type) {
		throw new RangeError(errors[type]);
	}

	/**
	 * A generic `Array#map` utility function.
	 * @private
	 * @param {Array} array The array to iterate over.
	 * @param {Function} callback The function that gets called for every array
	 * item.
	 * @returns {Array} A new array of values returned by the callback function.
	 */
	function map(array, fn) {
		var length = array.length;
		var result = [];
		while (length--) {
			result[length] = fn(array[length]);
		}
		return result;
	}

	/**
	 * A simple `Array#map`-like wrapper to work with domain name strings or email
	 * addresses.
	 * @private
	 * @param {String} domain The domain name or email address.
	 * @param {Function} callback The function that gets called for every
	 * character.
	 * @returns {Array} A new string of characters returned by the callback
	 * function.
	 */
	function mapDomain(string, fn) {
		var parts = string.split('@');
		var result = '';
		if (parts.length > 1) {
			// In email addresses, only the domain name should be punycoded. Leave
			// the local part (i.e. everything up to `@`) intact.
			result = parts[0] + '@';
			string = parts[1];
		}
		// Avoid `split(regex)` for IE8 compatibility. See #17.
		string = string.replace(regexSeparators, '\x2E');
		var labels = string.split('.');
		var encoded = map(labels, fn).join('.');
		return result + encoded;
	}

	/**
	 * Creates an array containing the numeric code points of each Unicode
	 * character in the string. While JavaScript uses UCS-2 internally,
	 * this function will convert a pair of surrogate halves (each of which
	 * UCS-2 exposes as separate characters) into a single code point,
	 * matching UTF-16.
	 * @see `punycode.ucs2.encode`
	 * @see <https://mathiasbynens.be/notes/javascript-encoding>
	 * @memberOf punycode.ucs2
	 * @name decode
	 * @param {String} string The Unicode input string (UCS-2).
	 * @returns {Array} The new array of code points.
	 */
	function ucs2decode(string) {
		var output = [],
		    counter = 0,
		    length = string.length,
		    value,
		    extra;
		while (counter < length) {
			value = string.charCodeAt(counter++);
			if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
				// high surrogate, and there is a next character
				extra = string.charCodeAt(counter++);
				if ((extra & 0xFC00) == 0xDC00) { // low surrogate
					output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
				} else {
					// unmatched surrogate; only append this code unit, in case the next
					// code unit is the high surrogate of a surrogate pair
					output.push(value);
					counter--;
				}
			} else {
				output.push(value);
			}
		}
		return output;
	}

	/**
	 * Creates a string based on an array of numeric code points.
	 * @see `punycode.ucs2.decode`
	 * @memberOf punycode.ucs2
	 * @name encode
	 * @param {Array} codePoints The array of numeric code points.
	 * @returns {String} The new Unicode string (UCS-2).
	 */
	function ucs2encode(array) {
		return map(array, function(value) {
			var output = '';
			if (value > 0xFFFF) {
				value -= 0x10000;
				output += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);
				value = 0xDC00 | value & 0x3FF;
			}
			output += stringFromCharCode(value);
			return output;
		}).join('');
	}

	/**
	 * Converts a basic code point into a digit/integer.
	 * @see `digitToBasic()`
	 * @private
	 * @param {Number} codePoint The basic numeric code point value.
	 * @returns {Number} The numeric value of a basic code point (for use in
	 * representing integers) in the range `0` to `base - 1`, or `base` if
	 * the code point does not represent a value.
	 */
	function basicToDigit(codePoint) {
		if (codePoint - 48 < 10) {
			return codePoint - 22;
		}
		if (codePoint - 65 < 26) {
			return codePoint - 65;
		}
		if (codePoint - 97 < 26) {
			return codePoint - 97;
		}
		return base;
	}

	/**
	 * Converts a digit/integer into a basic code point.
	 * @see `basicToDigit()`
	 * @private
	 * @param {Number} digit The numeric value of a basic code point.
	 * @returns {Number} The basic code point whose value (when used for
	 * representing integers) is `digit`, which needs to be in the range
	 * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is
	 * used; else, the lowercase form is used. The behavior is undefined
	 * if `flag` is non-zero and `digit` has no uppercase form.
	 */
	function digitToBasic(digit, flag) {
		//  0..25 map to ASCII a..z or A..Z
		// 26..35 map to ASCII 0..9
		return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
	}

	/**
	 * Bias adaptation function as per section 3.4 of RFC 3492.
	 * https://tools.ietf.org/html/rfc3492#section-3.4
	 * @private
	 */
	function adapt(delta, numPoints, firstTime) {
		var k = 0;
		delta = firstTime ? floor(delta / damp) : delta >> 1;
		delta += floor(delta / numPoints);
		for (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {
			delta = floor(delta / baseMinusTMin);
		}
		return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
	}

	/**
	 * Converts a Punycode string of ASCII-only symbols to a string of Unicode
	 * symbols.
	 * @memberOf punycode
	 * @param {String} input The Punycode string of ASCII-only symbols.
	 * @returns {String} The resulting string of Unicode symbols.
	 */
	function decode(input) {
		// Don't use UCS-2
		var output = [],
		    inputLength = input.length,
		    out,
		    i = 0,
		    n = initialN,
		    bias = initialBias,
		    basic,
		    j,
		    index,
		    oldi,
		    w,
		    k,
		    digit,
		    t,
		    /** Cached calculation results */
		    baseMinusT;

		// Handle the basic code points: let `basic` be the number of input code
		// points before the last delimiter, or `0` if there is none, then copy
		// the first basic code points to the output.

		basic = input.lastIndexOf(delimiter);
		if (basic < 0) {
			basic = 0;
		}

		for (j = 0; j < basic; ++j) {
			// if it's not a basic code point
			if (input.charCodeAt(j) >= 0x80) {
				error('not-basic');
			}
			output.push(input.charCodeAt(j));
		}

		// Main decoding loop: start just after the last delimiter if any basic code
		// points were copied; start at the beginning otherwise.

		for (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {

			// `index` is the index of the next character to be consumed.
			// Decode a generalized variable-length integer into `delta`,
			// which gets added to `i`. The overflow checking is easier
			// if we increase `i` as we go, then subtract off its starting
			// value at the end to obtain `delta`.
			for (oldi = i, w = 1, k = base; /* no condition */; k += base) {

				if (index >= inputLength) {
					error('invalid-input');
				}

				digit = basicToDigit(input.charCodeAt(index++));

				if (digit >= base || digit > floor((maxInt - i) / w)) {
					error('overflow');
				}

				i += digit * w;
				t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);

				if (digit < t) {
					break;
				}

				baseMinusT = base - t;
				if (w > floor(maxInt / baseMinusT)) {
					error('overflow');
				}

				w *= baseMinusT;

			}

			out = output.length + 1;
			bias = adapt(i - oldi, out, oldi == 0);

			// `i` was supposed to wrap around from `out` to `0`,
			// incrementing `n` each time, so we'll fix that now:
			if (floor(i / out) > maxInt - n) {
				error('overflow');
			}

			n += floor(i / out);
			i %= out;

			// Insert `n` at position `i` of the output
			output.splice(i++, 0, n);

		}

		return ucs2encode(output);
	}

	/**
	 * Converts a string of Unicode symbols (e.g. a domain name label) to a
	 * Punycode string of ASCII-only symbols.
	 * @memberOf punycode
	 * @param {String} input The string of Unicode symbols.
	 * @returns {String} The resulting Punycode string of ASCII-only symbols.
	 */
	function encode(input) {
		var n,
		    delta,
		    handledCPCount,
		    basicLength,
		    bias,
		    j,
		    m,
		    q,
		    k,
		    t,
		    currentValue,
		    output = [],
		    /** `inputLength` will hold the number of code points in `input`. */
		    inputLength,
		    /** Cached calculation results */
		    handledCPCountPlusOne,
		    baseMinusT,
		    qMinusT;

		// Convert the input in UCS-2 to Unicode
		input = ucs2decode(input);

		// Cache the length
		inputLength = input.length;

		// Initialize the state
		n = initialN;
		delta = 0;
		bias = initialBias;

		// Handle the basic code points
		for (j = 0; j < inputLength; ++j) {
			currentValue = input[j];
			if (currentValue < 0x80) {
				output.push(stringFromCharCode(currentValue));
			}
		}

		handledCPCount = basicLength = output.length;

		// `handledCPCount` is the number of code points that have been handled;
		// `basicLength` is the number of basic code points.

		// Finish the basic string - if it is not empty - with a delimiter
		if (basicLength) {
			output.push(delimiter);
		}

		// Main encoding loop:
		while (handledCPCount < inputLength) {

			// All non-basic code points < n have been handled already. Find the next
			// larger one:
			for (m = maxInt, j = 0; j < inputLength; ++j) {
				currentValue = input[j];
				if (currentValue >= n && currentValue < m) {
					m = currentValue;
				}
			}

			// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,
			// but guard against overflow
			handledCPCountPlusOne = handledCPCount + 1;
			if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
				error('overflow');
			}

			delta += (m - n) * handledCPCountPlusOne;
			n = m;

			for (j = 0; j < inputLength; ++j) {
				currentValue = input[j];

				if (currentValue < n && ++delta > maxInt) {
					error('overflow');
				}

				if (currentValue == n) {
					// Represent delta as a generalized variable-length integer
					for (q = delta, k = base; /* no condition */; k += base) {
						t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);
						if (q < t) {
							break;
						}
						qMinusT = q - t;
						baseMinusT = base - t;
						output.push(
							stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))
						);
						q = floor(qMinusT / baseMinusT);
					}

					output.push(stringFromCharCode(digitToBasic(q, 0)));
					bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
					delta = 0;
					++handledCPCount;
				}
			}

			++delta;
			++n;

		}
		return output.join('');
	}

	/**
	 * Converts a Punycode string representing a domain name or an email address
	 * to Unicode. Only the Punycoded parts of the input will be converted, i.e.
	 * it doesn't matter if you call it on a string that has already been
	 * converted to Unicode.
	 * @memberOf punycode
	 * @param {String} input The Punycoded domain name or email address to
	 * convert to Unicode.
	 * @returns {String} The Unicode representation of the given Punycode
	 * string.
	 */
	function toUnicode(input) {
		return mapDomain(input, function(string) {
			return regexPunycode.test(string)
				? decode(string.slice(4).toLowerCase())
				: string;
		});
	}

	/**
	 * Converts a Unicode string representing a domain name or an email address to
	 * Punycode. Only the non-ASCII parts of the domain name will be converted,
	 * i.e. it doesn't matter if you call it with a domain that's already in
	 * ASCII.
	 * @memberOf punycode
	 * @param {String} input The domain name or email address to convert, as a
	 * Unicode string.
	 * @returns {String} The Punycode representation of the given domain name or
	 * email address.
	 */
	function toASCII(input) {
		return mapDomain(input, function(string) {
			return regexNonASCII.test(string)
				? 'xn--' + encode(string)
				: string;
		});
	}

	/*--------------------------------------------------------------------------*/

	/** Define the public API */
	punycode = {
		/**
		 * A string representing the current Punycode.js version number.
		 * @memberOf punycode
		 * @type String
		 */
		'version': '1.4.1',
		/**
		 * An object of methods to convert from JavaScript's internal character
		 * representation (UCS-2) to Unicode code points, and back.
		 * @see <https://mathiasbynens.be/notes/javascript-encoding>
		 * @memberOf punycode
		 * @type Object
		 */
		'ucs2': {
			'decode': ucs2decode,
			'encode': ucs2encode
		},
		'decode': decode,
		'encode': encode,
		'toASCII': toASCII,
		'toUnicode': toUnicode
	};

	/** Expose `punycode` */
	// Some AMD build optimizers, like r.js, check for specific condition patterns
	// like the following:
	if (
		true
	) {
		!(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {
			return punycode;
		}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}

}(this));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module), __webpack_require__(/*! ./../../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/querystring-es3/decode.js":
/*!************************************************!*\
  !*** ./node_modules/querystring-es3/decode.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



// If obj.hasOwnProperty has been overridden, then calling
// obj.hasOwnProperty(prop) will break.
// See: https://github.com/joyent/node/issues/1707
function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

module.exports = function(qs, sep, eq, options) {
  sep = sep || '&';
  eq = eq || '=';
  var obj = {};

  if (typeof qs !== 'string' || qs.length === 0) {
    return obj;
  }

  var regexp = /\+/g;
  qs = qs.split(sep);

  var maxKeys = 1000;
  if (options && typeof options.maxKeys === 'number') {
    maxKeys = options.maxKeys;
  }

  var len = qs.length;
  // maxKeys <= 0 means that we should not limit keys count
  if (maxKeys > 0 && len > maxKeys) {
    len = maxKeys;
  }

  for (var i = 0; i < len; ++i) {
    var x = qs[i].replace(regexp, '%20'),
        idx = x.indexOf(eq),
        kstr, vstr, k, v;

    if (idx >= 0) {
      kstr = x.substr(0, idx);
      vstr = x.substr(idx + 1);
    } else {
      kstr = x;
      vstr = '';
    }

    k = decodeURIComponent(kstr);
    v = decodeURIComponent(vstr);

    if (!hasOwnProperty(obj, k)) {
      obj[k] = v;
    } else if (isArray(obj[k])) {
      obj[k].push(v);
    } else {
      obj[k] = [obj[k], v];
    }
  }

  return obj;
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};


/***/ }),

/***/ "./node_modules/querystring-es3/encode.js":
/*!************************************************!*\
  !*** ./node_modules/querystring-es3/encode.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var stringifyPrimitive = function(v) {
  switch (typeof v) {
    case 'string':
      return v;

    case 'boolean':
      return v ? 'true' : 'false';

    case 'number':
      return isFinite(v) ? v : '';

    default:
      return '';
  }
};

module.exports = function(obj, sep, eq, name) {
  sep = sep || '&';
  eq = eq || '=';
  if (obj === null) {
    obj = undefined;
  }

  if (typeof obj === 'object') {
    return map(objectKeys(obj), function(k) {
      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;
      if (isArray(obj[k])) {
        return map(obj[k], function(v) {
          return ks + encodeURIComponent(stringifyPrimitive(v));
        }).join(sep);
      } else {
        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));
      }
    }).join(sep);

  }

  if (!name) return '';
  return encodeURIComponent(stringifyPrimitive(name)) + eq +
         encodeURIComponent(stringifyPrimitive(obj));
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};

function map (xs, f) {
  if (xs.map) return xs.map(f);
  var res = [];
  for (var i = 0; i < xs.length; i++) {
    res.push(f(xs[i], i));
  }
  return res;
}

var objectKeys = Object.keys || function (obj) {
  var res = [];
  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);
  }
  return res;
};


/***/ }),

/***/ "./node_modules/querystring-es3/index.js":
/*!***********************************************!*\
  !*** ./node_modules/querystring-es3/index.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.decode = exports.parse = __webpack_require__(/*! ./decode */ "./node_modules/querystring-es3/decode.js");
exports.encode = exports.stringify = __webpack_require__(/*! ./encode */ "./node_modules/querystring-es3/encode.js");


/***/ }),

/***/ "./node_modules/sockjs-client/dist/sockjs.js":
/*!***************************************************!*\
  !*** ./node_modules/sockjs-client/dist/sockjs.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var require;var require;/* sockjs-client v1.4.0 | http://sockjs.org | MIT license */
(function(f){if(true){module.exports=f()}else { var g; }})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return require(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
(function (global){
'use strict';

var transportList = require('./transport-list');

module.exports = require('./main')(transportList);

// TODO can't get rid of this until all servers do
if ('_sockjs_onload' in global) {
  setTimeout(global._sockjs_onload, 1);
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./main":14,"./transport-list":16}],2:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , Event = require('./event')
  ;

function CloseEvent() {
  Event.call(this);
  this.initEvent('close', false, false);
  this.wasClean = false;
  this.code = 0;
  this.reason = '';
}

inherits(CloseEvent, Event);

module.exports = CloseEvent;

},{"./event":4,"inherits":57}],3:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , EventTarget = require('./eventtarget')
  ;

function EventEmitter() {
  EventTarget.call(this);
}

inherits(EventEmitter, EventTarget);

EventEmitter.prototype.removeAllListeners = function(type) {
  if (type) {
    delete this._listeners[type];
  } else {
    this._listeners = {};
  }
};

EventEmitter.prototype.once = function(type, listener) {
  var self = this
    , fired = false;

  function g() {
    self.removeListener(type, g);

    if (!fired) {
      fired = true;
      listener.apply(this, arguments);
    }
  }

  this.on(type, g);
};

EventEmitter.prototype.emit = function() {
  var type = arguments[0];
  var listeners = this._listeners[type];
  if (!listeners) {
    return;
  }
  // equivalent of Array.prototype.slice.call(arguments, 1);
  var l = arguments.length;
  var args = new Array(l - 1);
  for (var ai = 1; ai < l; ai++) {
    args[ai - 1] = arguments[ai];
  }
  for (var i = 0; i < listeners.length; i++) {
    listeners[i].apply(this, args);
  }
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener = EventTarget.prototype.addEventListener;
EventEmitter.prototype.removeListener = EventTarget.prototype.removeEventListener;

module.exports.EventEmitter = EventEmitter;

},{"./eventtarget":5,"inherits":57}],4:[function(require,module,exports){
'use strict';

function Event(eventType) {
  this.type = eventType;
}

Event.prototype.initEvent = function(eventType, canBubble, cancelable) {
  this.type = eventType;
  this.bubbles = canBubble;
  this.cancelable = cancelable;
  this.timeStamp = +new Date();
  return this;
};

Event.prototype.stopPropagation = function() {};
Event.prototype.preventDefault = function() {};

Event.CAPTURING_PHASE = 1;
Event.AT_TARGET = 2;
Event.BUBBLING_PHASE = 3;

module.exports = Event;

},{}],5:[function(require,module,exports){
'use strict';

/* Simplified implementation of DOM2 EventTarget.
 *   http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget
 */

function EventTarget() {
  this._listeners = {};
}

EventTarget.prototype.addEventListener = function(eventType, listener) {
  if (!(eventType in this._listeners)) {
    this._listeners[eventType] = [];
  }
  var arr = this._listeners[eventType];
  // #4
  if (arr.indexOf(listener) === -1) {
    // Make a copy so as not to interfere with a current dispatchEvent.
    arr = arr.concat([listener]);
  }
  this._listeners[eventType] = arr;
};

EventTarget.prototype.removeEventListener = function(eventType, listener) {
  var arr = this._listeners[eventType];
  if (!arr) {
    return;
  }
  var idx = arr.indexOf(listener);
  if (idx !== -1) {
    if (arr.length > 1) {
      // Make a copy so as not to interfere with a current dispatchEvent.
      this._listeners[eventType] = arr.slice(0, idx).concat(arr.slice(idx + 1));
    } else {
      delete this._listeners[eventType];
    }
    return;
  }
};

EventTarget.prototype.dispatchEvent = function() {
  var event = arguments[0];
  var t = event.type;
  // equivalent of Array.prototype.slice.call(arguments, 0);
  var args = arguments.length === 1 ? [event] : Array.apply(null, arguments);
  // TODO: This doesn't match the real behavior; per spec, onfoo get
  // their place in line from the /first/ time they're set from
  // non-null. Although WebKit bumps it to the end every time it's
  // set.
  if (this['on' + t]) {
    this['on' + t].apply(this, args);
  }
  if (t in this._listeners) {
    // Grab a reference to the listeners list. removeEventListener may alter the list.
    var listeners = this._listeners[t];
    for (var i = 0; i < listeners.length; i++) {
      listeners[i].apply(this, args);
    }
  }
};

module.exports = EventTarget;

},{}],6:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , Event = require('./event')
  ;

function TransportMessageEvent(data) {
  Event.call(this);
  this.initEvent('message', false, false);
  this.data = data;
}

inherits(TransportMessageEvent, Event);

module.exports = TransportMessageEvent;

},{"./event":4,"inherits":57}],7:[function(require,module,exports){
'use strict';

var JSON3 = require('json3')
  , iframeUtils = require('./utils/iframe')
  ;

function FacadeJS(transport) {
  this._transport = transport;
  transport.on('message', this._transportMessage.bind(this));
  transport.on('close', this._transportClose.bind(this));
}

FacadeJS.prototype._transportClose = function(code, reason) {
  iframeUtils.postMessage('c', JSON3.stringify([code, reason]));
};
FacadeJS.prototype._transportMessage = function(frame) {
  iframeUtils.postMessage('t', frame);
};
FacadeJS.prototype._send = function(data) {
  this._transport.send(data);
};
FacadeJS.prototype._close = function() {
  this._transport.close();
  this._transport.removeAllListeners();
};

module.exports = FacadeJS;

},{"./utils/iframe":47,"json3":58}],8:[function(require,module,exports){
(function (process){
'use strict';

var urlUtils = require('./utils/url')
  , eventUtils = require('./utils/event')
  , JSON3 = require('json3')
  , FacadeJS = require('./facade')
  , InfoIframeReceiver = require('./info-iframe-receiver')
  , iframeUtils = require('./utils/iframe')
  , loc = require('./location')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:iframe-bootstrap');
}

module.exports = function(SockJS, availableTransports) {
  var transportMap = {};
  availableTransports.forEach(function(at) {
    if (at.facadeTransport) {
      transportMap[at.facadeTransport.transportName] = at.facadeTransport;
    }
  });

  // hard-coded for the info iframe
  // TODO see if we can make this more dynamic
  transportMap[InfoIframeReceiver.transportName] = InfoIframeReceiver;
  var parentOrigin;

  /* eslint-disable camelcase */
  SockJS.bootstrap_iframe = function() {
    /* eslint-enable camelcase */
    var facade;
    iframeUtils.currentWindowId = loc.hash.slice(1);
    var onMessage = function(e) {
      if (e.source !== parent) {
        return;
      }
      if (typeof parentOrigin === 'undefined') {
        parentOrigin = e.origin;
      }
      if (e.origin !== parentOrigin) {
        return;
      }

      var iframeMessage;
      try {
        iframeMessage = JSON3.parse(e.data);
      } catch (ignored) {
        debug('bad json', e.data);
        return;
      }

      if (iframeMessage.windowId !== iframeUtils.currentWindowId) {
        return;
      }
      switch (iframeMessage.type) {
      case 's':
        var p;
        try {
          p = JSON3.parse(iframeMessage.data);
        } catch (ignored) {
          debug('bad json', iframeMessage.data);
          break;
        }
        var version = p[0];
        var transport = p[1];
        var transUrl = p[2];
        var baseUrl = p[3];
        debug(version, transport, transUrl, baseUrl);
        // change this to semver logic
        if (version !== SockJS.version) {
          throw new Error('Incompatible SockJS! Main site uses:' +
                    ' "' + version + '", the iframe:' +
                    ' "' + SockJS.version + '".');
        }

        if (!urlUtils.isOriginEqual(transUrl, loc.href) ||
            !urlUtils.isOriginEqual(baseUrl, loc.href)) {
          throw new Error('Can\'t connect to different domain from within an ' +
                    'iframe. (' + loc.href + ', ' + transUrl + ', ' + baseUrl + ')');
        }
        facade = new FacadeJS(new transportMap[transport](transUrl, baseUrl));
        break;
      case 'm':
        facade._send(iframeMessage.data);
        break;
      case 'c':
        if (facade) {
          facade._close();
        }
        facade = null;
        break;
      }
    };

    eventUtils.attachEvent('message', onMessage);

    // Start
    iframeUtils.postMessage('s');
  };
};

}).call(this,{ env: {} })

},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,"debug":55,"json3":58}],9:[function(require,module,exports){
(function (process){
'use strict';

var EventEmitter = require('events').EventEmitter
  , inherits = require('inherits')
  , JSON3 = require('json3')
  , objectUtils = require('./utils/object')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:info-ajax');
}

function InfoAjax(url, AjaxObject) {
  EventEmitter.call(this);

  var self = this;
  var t0 = +new Date();
  this.xo = new AjaxObject('GET', url);

  this.xo.once('finish', function(status, text) {
    var info, rtt;
    if (status === 200) {
      rtt = (+new Date()) - t0;
      if (text) {
        try {
          info = JSON3.parse(text);
        } catch (e) {
          debug('bad json', text);
        }
      }

      if (!objectUtils.isObject(info)) {
        info = {};
      }
    }
    self.emit('finish', info, rtt);
    self.removeAllListeners();
  });
}

inherits(InfoAjax, EventEmitter);

InfoAjax.prototype.close = function() {
  this.removeAllListeners();
  this.xo.close();
};

module.exports = InfoAjax;

}).call(this,{ env: {} })

},{"./utils/object":49,"debug":55,"events":3,"inherits":57,"json3":58}],10:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , EventEmitter = require('events').EventEmitter
  , JSON3 = require('json3')
  , XHRLocalObject = require('./transport/sender/xhr-local')
  , InfoAjax = require('./info-ajax')
  ;

function InfoReceiverIframe(transUrl) {
  var self = this;
  EventEmitter.call(this);

  this.ir = new InfoAjax(transUrl, XHRLocalObject);
  this.ir.once('finish', function(info, rtt) {
    self.ir = null;
    self.emit('message', JSON3.stringify([info, rtt]));
  });
}

inherits(InfoReceiverIframe, EventEmitter);

InfoReceiverIframe.transportName = 'iframe-info-receiver';

InfoReceiverIframe.prototype.close = function() {
  if (this.ir) {
    this.ir.close();
    this.ir = null;
  }
  this.removeAllListeners();
};

module.exports = InfoReceiverIframe;

},{"./info-ajax":9,"./transport/sender/xhr-local":37,"events":3,"inherits":57,"json3":58}],11:[function(require,module,exports){
(function (process,global){
'use strict';

var EventEmitter = require('events').EventEmitter
  , inherits = require('inherits')
  , JSON3 = require('json3')
  , utils = require('./utils/event')
  , IframeTransport = require('./transport/iframe')
  , InfoReceiverIframe = require('./info-iframe-receiver')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:info-iframe');
}

function InfoIframe(baseUrl, url) {
  var self = this;
  EventEmitter.call(this);

  var go = function() {
    var ifr = self.ifr = new IframeTransport(InfoReceiverIframe.transportName, url, baseUrl);

    ifr.once('message', function(msg) {
      if (msg) {
        var d;
        try {
          d = JSON3.parse(msg);
        } catch (e) {
          debug('bad json', msg);
          self.emit('finish');
          self.close();
          return;
        }

        var info = d[0], rtt = d[1];
        self.emit('finish', info, rtt);
      }
      self.close();
    });

    ifr.once('close', function() {
      self.emit('finish');
      self.close();
    });
  };

  // TODO this seems the same as the 'needBody' from transports
  if (!global.document.body) {
    utils.attachEvent('load', go);
  } else {
    go();
  }
}

inherits(InfoIframe, EventEmitter);

InfoIframe.enabled = function() {
  return IframeTransport.enabled();
};

InfoIframe.prototype.close = function() {
  if (this.ifr) {
    this.ifr.close();
  }
  this.removeAllListeners();
  this.ifr = null;
};

module.exports = InfoIframe;

}).call(this,{ env: {} },typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,"debug":55,"events":3,"inherits":57,"json3":58}],12:[function(require,module,exports){
(function (process){
'use strict';

var EventEmitter = require('events').EventEmitter
  , inherits = require('inherits')
  , urlUtils = require('./utils/url')
  , XDR = require('./transport/sender/xdr')
  , XHRCors = require('./transport/sender/xhr-cors')
  , XHRLocal = require('./transport/sender/xhr-local')
  , XHRFake = require('./transport/sender/xhr-fake')
  , InfoIframe = require('./info-iframe')
  , InfoAjax = require('./info-ajax')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:info-receiver');
}

function InfoReceiver(baseUrl, urlInfo) {
  debug(baseUrl);
  var self = this;
  EventEmitter.call(this);

  setTimeout(function() {
    self.doXhr(baseUrl, urlInfo);
  }, 0);
}

inherits(InfoReceiver, EventEmitter);

// TODO this is currently ignoring the list of available transports and the whitelist

InfoReceiver._getReceiver = function(baseUrl, url, urlInfo) {
  // determine method of CORS support (if needed)
  if (urlInfo.sameOrigin) {
    return new InfoAjax(url, XHRLocal);
  }
  if (XHRCors.enabled) {
    return new InfoAjax(url, XHRCors);
  }
  if (XDR.enabled && urlInfo.sameScheme) {
    return new InfoAjax(url, XDR);
  }
  if (InfoIframe.enabled()) {
    return new InfoIframe(baseUrl, url);
  }
  return new InfoAjax(url, XHRFake);
};

InfoReceiver.prototype.doXhr = function(baseUrl, urlInfo) {
  var self = this
    , url = urlUtils.addPath(baseUrl, '/info')
    ;
  debug('doXhr', url);

  this.xo = InfoReceiver._getReceiver(baseUrl, url, urlInfo);

  this.timeoutRef = setTimeout(function() {
    debug('timeout');
    self._cleanup(false);
    self.emit('finish');
  }, InfoReceiver.timeout);

  this.xo.once('finish', function(info, rtt) {
    debug('finish', info, rtt);
    self._cleanup(true);
    self.emit('finish', info, rtt);
  });
};

InfoReceiver.prototype._cleanup = function(wasClean) {
  debug('_cleanup');
  clearTimeout(this.timeoutRef);
  this.timeoutRef = null;
  if (!wasClean && this.xo) {
    this.xo.close();
  }
  this.xo = null;
};

InfoReceiver.prototype.close = function() {
  debug('close');
  this.removeAllListeners();
  this._cleanup(false);
};

InfoReceiver.timeout = 8000;

module.exports = InfoReceiver;

}).call(this,{ env: {} })

},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,"debug":55,"events":3,"inherits":57}],13:[function(require,module,exports){
(function (global){
'use strict';

module.exports = global.location || {
  origin: 'http://localhost:80'
, protocol: 'http:'
, host: 'localhost'
, port: 80
, href: 'http://localhost/'
, hash: ''
};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],14:[function(require,module,exports){
(function (process,global){
'use strict';

require('./shims');

var URL = require('url-parse')
  , inherits = require('inherits')
  , JSON3 = require('json3')
  , random = require('./utils/random')
  , escape = require('./utils/escape')
  , urlUtils = require('./utils/url')
  , eventUtils = require('./utils/event')
  , transport = require('./utils/transport')
  , objectUtils = require('./utils/object')
  , browser = require('./utils/browser')
  , log = require('./utils/log')
  , Event = require('./event/event')
  , EventTarget = require('./event/eventtarget')
  , loc = require('./location')
  , CloseEvent = require('./event/close')
  , TransportMessageEvent = require('./event/trans-message')
  , InfoReceiver = require('./info-receiver')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:main');
}

var transports;

// follow constructor steps defined at http://dev.w3.org/html5/websockets/#the-websocket-interface
function SockJS(url, protocols, options) {
  if (!(this instanceof SockJS)) {
    return new SockJS(url, protocols, options);
  }
  if (arguments.length < 1) {
    throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");
  }
  EventTarget.call(this);

  this.readyState = SockJS.CONNECTING;
  this.extensions = '';
  this.protocol = '';

  // non-standard extension
  options = options || {};
  if (options.protocols_whitelist) {
    log.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead.");
  }
  this._transportsWhitelist = options.transports;
  this._transportOptions = options.transportOptions || {};
  this._timeout = options.timeout || 0;

  var sessionId = options.sessionId || 8;
  if (typeof sessionId === 'function') {
    this._generateSessionId = sessionId;
  } else if (typeof sessionId === 'number') {
    this._generateSessionId = function() {
      return random.string(sessionId);
    };
  } else {
    throw new TypeError('If sessionId is used in the options, it needs to be a number or a function.');
  }

  this._server = options.server || random.numberString(1000);

  // Step 1 of WS spec - parse and validate the url. Issue #8
  var parsedUrl = new URL(url);
  if (!parsedUrl.host || !parsedUrl.protocol) {
    throw new SyntaxError("The URL '" + url + "' is invalid");
  } else if (parsedUrl.hash) {
    throw new SyntaxError('The URL must not contain a fragment');
  } else if (parsedUrl.protocol !== 'http:' && parsedUrl.protocol !== 'https:') {
    throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '" + parsedUrl.protocol + "' is not allowed.");
  }

  var secure = parsedUrl.protocol === 'https:';
  // Step 2 - don't allow secure origin with an insecure protocol
  if (loc.protocol === 'https:' && !secure) {
    throw new Error('SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS');
  }

  // Step 3 - check port access - no need here
  // Step 4 - parse protocols argument
  if (!protocols) {
    protocols = [];
  } else if (!Array.isArray(protocols)) {
    protocols = [protocols];
  }

  // Step 5 - check protocols argument
  var sortedProtocols = protocols.sort();
  sortedProtocols.forEach(function(proto, i) {
    if (!proto) {
      throw new SyntaxError("The protocols entry '" + proto + "' is invalid.");
    }
    if (i < (sortedProtocols.length - 1) && proto === sortedProtocols[i + 1]) {
      throw new SyntaxError("The protocols entry '" + proto + "' is duplicated.");
    }
  });

  // Step 6 - convert origin
  var o = urlUtils.getOrigin(loc.href);
  this._origin = o ? o.toLowerCase() : null;

  // remove the trailing slash
  parsedUrl.set('pathname', parsedUrl.pathname.replace(/\/+$/, ''));

  // store the sanitized url
  this.url = parsedUrl.href;
  debug('using url', this.url);

  // Step 7 - start connection in background
  // obtain server info
  // http://sockjs.github.io/sockjs-protocol/sockjs-protocol-0.3.3.html#section-26
  this._urlInfo = {
    nullOrigin: !browser.hasDomain()
  , sameOrigin: urlUtils.isOriginEqual(this.url, loc.href)
  , sameScheme: urlUtils.isSchemeEqual(this.url, loc.href)
  };

  this._ir = new InfoReceiver(this.url, this._urlInfo);
  this._ir.once('finish', this._receiveInfo.bind(this));
}

inherits(SockJS, EventTarget);

function userSetCode(code) {
  return code === 1000 || (code >= 3000 && code <= 4999);
}

SockJS.prototype.close = function(code, reason) {
  // Step 1
  if (code && !userSetCode(code)) {
    throw new Error('InvalidAccessError: Invalid code');
  }
  // Step 2.4 states the max is 123 bytes, but we are just checking length
  if (reason && reason.length > 123) {
    throw new SyntaxError('reason argument has an invalid length');
  }

  // Step 3.1
  if (this.readyState === SockJS.CLOSING || this.readyState === SockJS.CLOSED) {
    return;
  }

  // TODO look at docs to determine how to set this
  var wasClean = true;
  this._close(code || 1000, reason || 'Normal closure', wasClean);
};

SockJS.prototype.send = function(data) {
  // #13 - convert anything non-string to string
  // TODO this currently turns objects into [object Object]
  if (typeof data !== 'string') {
    data = '' + data;
  }
  if (this.readyState === SockJS.CONNECTING) {
    throw new Error('InvalidStateError: The connection has not been established yet');
  }
  if (this.readyState !== SockJS.OPEN) {
    return;
  }
  this._transport.send(escape.quote(data));
};

SockJS.version = require('./version');

SockJS.CONNECTING = 0;
SockJS.OPEN = 1;
SockJS.CLOSING = 2;
SockJS.CLOSED = 3;

SockJS.prototype._receiveInfo = function(info, rtt) {
  debug('_receiveInfo', rtt);
  this._ir = null;
  if (!info) {
    this._close(1002, 'Cannot connect to server');
    return;
  }

  // establish a round-trip timeout (RTO) based on the
  // round-trip time (RTT)
  this._rto = this.countRTO(rtt);
  // allow server to override url used for the actual transport
  this._transUrl = info.base_url ? info.base_url : this.url;
  info = objectUtils.extend(info, this._urlInfo);
  debug('info', info);
  // determine list of desired and supported transports
  var enabledTransports = transports.filterToEnabled(this._transportsWhitelist, info);
  this._transports = enabledTransports.main;
  debug(this._transports.length + ' enabled transports');

  this._connect();
};

SockJS.prototype._connect = function() {
  for (var Transport = this._transports.shift(); Transport; Transport = this._transports.shift()) {
    debug('attempt', Transport.transportName);
    if (Transport.needBody) {
      if (!global.document.body ||
          (typeof global.document.readyState !== 'undefined' &&
            global.document.readyState !== 'complete' &&
            global.document.readyState !== 'interactive')) {
        debug('waiting for body');
        this._transports.unshift(Transport);
        eventUtils.attachEvent('load', this._connect.bind(this));
        return;
      }
    }

    // calculate timeout based on RTO and round trips. Default to 5s
    var timeoutMs = Math.max(this._timeout, (this._rto * Transport.roundTrips) || 5000);
    this._transportTimeoutId = setTimeout(this._transportTimeout.bind(this), timeoutMs);
    debug('using timeout', timeoutMs);

    var transportUrl = urlUtils.addPath(this._transUrl, '/' + this._server + '/' + this._generateSessionId());
    var options = this._transportOptions[Transport.transportName];
    debug('transport url', transportUrl);
    var transportObj = new Transport(transportUrl, this._transUrl, options);
    transportObj.on('message', this._transportMessage.bind(this));
    transportObj.once('close', this._transportClose.bind(this));
    transportObj.transportName = Transport.transportName;
    this._transport = transportObj;

    return;
  }
  this._close(2000, 'All transports failed', false);
};

SockJS.prototype._transportTimeout = function() {
  debug('_transportTimeout');
  if (this.readyState === SockJS.CONNECTING) {
    if (this._transport) {
      this._transport.close();
    }

    this._transportClose(2007, 'Transport timed out');
  }
};

SockJS.prototype._transportMessage = function(msg) {
  debug('_transportMessage', msg);
  var self = this
    , type = msg.slice(0, 1)
    , content = msg.slice(1)
    , payload
    ;

  // first check for messages that don't need a payload
  switch (type) {
    case 'o':
      this._open();
      return;
    case 'h':
      this.dispatchEvent(new Event('heartbeat'));
      debug('heartbeat', this.transport);
      return;
  }

  if (content) {
    try {
      payload = JSON3.parse(content);
    } catch (e) {
      debug('bad json', content);
    }
  }

  if (typeof payload === 'undefined') {
    debug('empty payload', content);
    return;
  }

  switch (type) {
    case 'a':
      if (Array.isArray(payload)) {
        payload.forEach(function(p) {
          debug('message', self.transport, p);
          self.dispatchEvent(new TransportMessageEvent(p));
        });
      }
      break;
    case 'm':
      debug('message', this.transport, payload);
      this.dispatchEvent(new TransportMessageEvent(payload));
      break;
    case 'c':
      if (Array.isArray(payload) && payload.length === 2) {
        this._close(payload[0], payload[1], true);
      }
      break;
  }
};

SockJS.prototype._transportClose = function(code, reason) {
  debug('_transportClose', this.transport, code, reason);
  if (this._transport) {
    this._transport.removeAllListeners();
    this._transport = null;
    this.transport = null;
  }

  if (!userSetCode(code) && code !== 2000 && this.readyState === SockJS.CONNECTING) {
    this._connect();
    return;
  }

  this._close(code, reason);
};

SockJS.prototype._open = function() {
  debug('_open', this._transport && this._transport.transportName, this.readyState);
  if (this.readyState === SockJS.CONNECTING) {
    if (this._transportTimeoutId) {
      clearTimeout(this._transportTimeoutId);
      this._transportTimeoutId = null;
    }
    this.readyState = SockJS.OPEN;
    this.transport = this._transport.transportName;
    this.dispatchEvent(new Event('open'));
    debug('connected', this.transport);
  } else {
    // The server might have been restarted, and lost track of our
    // connection.
    this._close(1006, 'Server lost session');
  }
};

SockJS.prototype._close = function(code, reason, wasClean) {
  debug('_close', this.transport, code, reason, wasClean, this.readyState);
  var forceFail = false;

  if (this._ir) {
    forceFail = true;
    this._ir.close();
    this._ir = null;
  }
  if (this._transport) {
    this._transport.close();
    this._transport = null;
    this.transport = null;
  }

  if (this.readyState === SockJS.CLOSED) {
    throw new Error('InvalidStateError: SockJS has already been closed');
  }

  this.readyState = SockJS.CLOSING;
  setTimeout(function() {
    this.readyState = SockJS.CLOSED;

    if (forceFail) {
      this.dispatchEvent(new Event('error'));
    }

    var e = new CloseEvent('close');
    e.wasClean = wasClean || false;
    e.code = code || 1000;
    e.reason = reason;

    this.dispatchEvent(e);
    this.onmessage = this.onclose = this.onerror = null;
    debug('disconnected');
  }.bind(this), 0);
};

// See: http://www.erg.abdn.ac.uk/~gerrit/dccp/notes/ccid2/rto_estimator/
// and RFC 2988.
SockJS.prototype.countRTO = function(rtt) {
  // In a local environment, when using IE8/9 and the `jsonp-polling`
  // transport the time needed to establish a connection (the time that pass
  // from the opening of the transport to the call of `_dispatchOpen`) is
  // around 200msec (the lower bound used in the article above) and this
  // causes spurious timeouts. For this reason we calculate a value slightly
  // larger than that used in the article.
  if (rtt > 100) {
    return 4 * rtt; // rto > 400msec
  }
  return 300 + rtt; // 300msec < rto <= 400msec
};

module.exports = function(availableTransports) {
  transports = transport(availableTransports);
  require('./iframe-bootstrap')(SockJS, availableTransports);
  return SockJS;
};

}).call(this,{ env: {} },typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,"debug":55,"inherits":57,"json3":58,"url-parse":61}],15:[function(require,module,exports){
/* eslint-disable */
/* jscs: disable */
'use strict';

// pulled specific shims from https://github.com/es-shims/es5-shim

var ArrayPrototype = Array.prototype;
var ObjectPrototype = Object.prototype;
var FunctionPrototype = Function.prototype;
var StringPrototype = String.prototype;
var array_slice = ArrayPrototype.slice;

var _toString = ObjectPrototype.toString;
var isFunction = function (val) {
    return ObjectPrototype.toString.call(val) === '[object Function]';
};
var isArray = function isArray(obj) {
    return _toString.call(obj) === '[object Array]';
};
var isString = function isString(obj) {
    return _toString.call(obj) === '[object String]';
};

var supportsDescriptors = Object.defineProperty && (function () {
    try {
        Object.defineProperty({}, 'x', {});
        return true;
    } catch (e) { /* this is ES3 */
        return false;
    }
}());

// Define configurable, writable and non-enumerable props
// if they don't exist.
var defineProperty;
if (supportsDescriptors) {
    defineProperty = function (object, name, method, forceAssign) {
        if (!forceAssign && (name in object)) { return; }
        Object.defineProperty(object, name, {
            configurable: true,
            enumerable: false,
            writable: true,
            value: method
        });
    };
} else {
    defineProperty = function (object, name, method, forceAssign) {
        if (!forceAssign && (name in object)) { return; }
        object[name] = method;
    };
}
var defineProperties = function (object, map, forceAssign) {
    for (var name in map) {
        if (ObjectPrototype.hasOwnProperty.call(map, name)) {
          defineProperty(object, name, map[name], forceAssign);
        }
    }
};

var toObject = function (o) {
    if (o == null) { // this matches both null and undefined
        throw new TypeError("can't convert " + o + ' to object');
    }
    return Object(o);
};

//
// Util
// ======
//

// ES5 9.4
// http://es5.github.com/#x9.4
// http://jsperf.com/to-integer

function toInteger(num) {
    var n = +num;
    if (n !== n) { // isNaN
        n = 0;
    } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {
        n = (n > 0 || -1) * Math.floor(Math.abs(n));
    }
    return n;
}

function ToUint32(x) {
    return x >>> 0;
}

//
// Function
// ========
//

// ES-5 15.3.4.5
// http://es5.github.com/#x15.3.4.5

function Empty() {}

defineProperties(FunctionPrototype, {
    bind: function bind(that) { // .length is 1
        // 1. Let Target be the this value.
        var target = this;
        // 2. If IsCallable(Target) is false, throw a TypeError exception.
        if (!isFunction(target)) {
            throw new TypeError('Function.prototype.bind called on incompatible ' + target);
        }
        // 3. Let A be a new (possibly empty) internal list of all of the
        //   argument values provided after thisArg (arg1, arg2 etc), in order.
        // XXX slicedArgs will stand in for "A" if used
        var args = array_slice.call(arguments, 1); // for normal call
        // 4. Let F be a new native ECMAScript object.
        // 11. Set the [[Prototype]] internal property of F to the standard
        //   built-in Function prototype object as specified in 15.3.3.1.
        // 12. Set the [[Call]] internal property of F as described in
        //   15.3.4.5.1.
        // 13. Set the [[Construct]] internal property of F as described in
        //   15.3.4.5.2.
        // 14. Set the [[HasInstance]] internal property of F as described in
        //   15.3.4.5.3.
        var binder = function () {

            if (this instanceof bound) {
                // 15.3.4.5.2 [[Construct]]
                // When the [[Construct]] internal method of a function object,
                // F that was created using the bind function is called with a
                // list of arguments ExtraArgs, the following steps are taken:
                // 1. Let target be the value of F's [[TargetFunction]]
                //   internal property.
                // 2. If target has no [[Construct]] internal method, a
                //   TypeError exception is thrown.
                // 3. Let boundArgs be the value of F's [[BoundArgs]] internal
                //   property.
                // 4. Let args be a new list containing the same values as the
                //   list boundArgs in the same order followed by the same
                //   values as the list ExtraArgs in the same order.
                // 5. Return the result of calling the [[Construct]] internal
                //   method of target providing args as the arguments.

                var result = target.apply(
                    this,
                    args.concat(array_slice.call(arguments))
                );
                if (Object(result) === result) {
                    return result;
                }
                return this;

            } else {
                // 15.3.4.5.1 [[Call]]
                // When the [[Call]] internal method of a function object, F,
                // which was created using the bind function is called with a
                // this value and a list of arguments ExtraArgs, the following
                // steps are taken:
                // 1. Let boundArgs be the value of F's [[BoundArgs]] internal
                //   property.
                // 2. Let boundThis be the value of F's [[BoundThis]] internal
                //   property.
                // 3. Let target be the value of F's [[TargetFunction]] internal
                //   property.
                // 4. Let args be a new list containing the same values as the
                //   list boundArgs in the same order followed by the same
                //   values as the list ExtraArgs in the same order.
                // 5. Return the result of calling the [[Call]] internal method
                //   of target providing boundThis as the this value and
                //   providing args as the arguments.

                // equiv: target.call(this, ...boundArgs, ...args)
                return target.apply(
                    that,
                    args.concat(array_slice.call(arguments))
                );

            }

        };

        // 15. If the [[Class]] internal property of Target is "Function", then
        //     a. Let L be the length property of Target minus the length of A.
        //     b. Set the length own property of F to either 0 or L, whichever is
        //       larger.
        // 16. Else set the length own property of F to 0.

        var boundLength = Math.max(0, target.length - args.length);

        // 17. Set the attributes of the length own property of F to the values
        //   specified in 15.3.5.1.
        var boundArgs = [];
        for (var i = 0; i < boundLength; i++) {
            boundArgs.push('$' + i);
        }

        // XXX Build a dynamic function with desired amount of arguments is the only
        // way to set the length property of a function.
        // In environments where Content Security Policies enabled (Chrome extensions,
        // for ex.) all use of eval or Function costructor throws an exception.
        // However in all of these environments Function.prototype.bind exists
        // and so this code will never be executed.
        var bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this, arguments); }')(binder);

        if (target.prototype) {
            Empty.prototype = target.prototype;
            bound.prototype = new Empty();
            // Clean up dangling references.
            Empty.prototype = null;
        }

        // TODO
        // 18. Set the [[Extensible]] internal property of F to true.

        // TODO
        // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).
        // 20. Call the [[DefineOwnProperty]] internal method of F with
        //   arguments "caller", PropertyDescriptor {[[Get]]: thrower, [[Set]]:
        //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and
        //   false.
        // 21. Call the [[DefineOwnProperty]] internal method of F with
        //   arguments "arguments", PropertyDescriptor {[[Get]]: thrower,
        //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},
        //   and false.

        // TODO
        // NOTE Function objects created using Function.prototype.bind do not
        // have a prototype property or the [[Code]], [[FormalParameters]], and
        // [[Scope]] internal properties.
        // XXX can't delete prototype in pure-js.

        // 22. Return F.
        return bound;
    }
});

//
// Array
// =====
//

// ES5 15.4.3.2
// http://es5.github.com/#x15.4.3.2
// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray
defineProperties(Array, { isArray: isArray });


var boxedString = Object('a');
var splitString = boxedString[0] !== 'a' || !(0 in boxedString);

var properlyBoxesContext = function properlyBoxed(method) {
    // Check node 0.6.21 bug where third parameter is not boxed
    var properlyBoxesNonStrict = true;
    var properlyBoxesStrict = true;
    if (method) {
        method.call('foo', function (_, __, context) {
            if (typeof context !== 'object') { properlyBoxesNonStrict = false; }
        });

        method.call([1], function () {
            'use strict';
            properlyBoxesStrict = typeof this === 'string';
        }, 'x');
    }
    return !!method && properlyBoxesNonStrict && properlyBoxesStrict;
};

defineProperties(ArrayPrototype, {
    forEach: function forEach(fun /*, thisp*/) {
        var object = toObject(this),
            self = splitString && isString(this) ? this.split('') : object,
            thisp = arguments[1],
            i = -1,
            length = self.length >>> 0;

        // If no callback function or if callback is not a callable function
        if (!isFunction(fun)) {
            throw new TypeError(); // TODO message
        }

        while (++i < length) {
            if (i in self) {
                // Invoke the callback function with call, passing arguments:
                // context, property value, property key, thisArg object
                // context
                fun.call(thisp, self[i], i, object);
            }
        }
    }
}, !properlyBoxesContext(ArrayPrototype.forEach));

// ES5 15.4.4.14
// http://es5.github.com/#x15.4.4.14
// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf
var hasFirefox2IndexOfBug = Array.prototype.indexOf && [0, 1].indexOf(1, 2) !== -1;
defineProperties(ArrayPrototype, {
    indexOf: function indexOf(sought /*, fromIndex */ ) {
        var self = splitString && isString(this) ? this.split('') : toObject(this),
            length = self.length >>> 0;

        if (!length) {
            return -1;
        }

        var i = 0;
        if (arguments.length > 1) {
            i = toInteger(arguments[1]);
        }

        // handle negative indices
        i = i >= 0 ? i : Math.max(0, length + i);
        for (; i < length; i++) {
            if (i in self && self[i] === sought) {
                return i;
            }
        }
        return -1;
    }
}, hasFirefox2IndexOfBug);

//
// String
// ======
//

// ES5 15.5.4.14
// http://es5.github.com/#x15.5.4.14

// [bugfix, IE lt 9, firefox 4, Konqueror, Opera, obscure browsers]
// Many browsers do not split properly with regular expressions or they
// do not perform the split correctly under obscure conditions.
// See http://blog.stevenlevithan.com/archives/cross-browser-split
// I've tested in many browsers and this seems to cover the deviant ones:
//    'ab'.split(/(?:ab)*/) should be ["", ""], not [""]
//    '.'.split(/(.?)(.?)/) should be ["", ".", "", ""], not ["", ""]
//    'tesst'.split(/(s)*/) should be ["t", undefined, "e", "s", "t"], not
//       [undefined, "t", undefined, "e", ...]
//    ''.split(/.?/) should be [], not [""]
//    '.'.split(/()()/) should be ["."], not ["", "", "."]

var string_split = StringPrototype.split;
if (
    'ab'.split(/(?:ab)*/).length !== 2 ||
    '.'.split(/(.?)(.?)/).length !== 4 ||
    'tesst'.split(/(s)*/)[1] === 't' ||
    'test'.split(/(?:)/, -1).length !== 4 ||
    ''.split(/.?/).length ||
    '.'.split(/()()/).length > 1
) {
    (function () {
        var compliantExecNpcg = /()??/.exec('')[1] === void 0; // NPCG: nonparticipating capturing group

        StringPrototype.split = function (separator, limit) {
            var string = this;
            if (separator === void 0 && limit === 0) {
                return [];
            }

            // If `separator` is not a regex, use native split
            if (_toString.call(separator) !== '[object RegExp]') {
                return string_split.call(this, separator, limit);
            }

            var output = [],
                flags = (separator.ignoreCase ? 'i' : '') +
                        (separator.multiline  ? 'm' : '') +
                        (separator.extended   ? 'x' : '') + // Proposed for ES6
                        (separator.sticky     ? 'y' : ''), // Firefox 3+
                lastLastIndex = 0,
                // Make `global` and avoid `lastIndex` issues by working with a copy
                separator2, match, lastIndex, lastLength;
            separator = new RegExp(separator.source, flags + 'g');
            string += ''; // Type-convert
            if (!compliantExecNpcg) {
                // Doesn't need flags gy, but they don't hurt
                separator2 = new RegExp('^' + separator.source + '$(?!\\s)', flags);
            }
            /* Values for `limit`, per the spec:
             * If undefined: 4294967295 // Math.pow(2, 32) - 1
             * If 0, Infinity, or NaN: 0
             * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;
             * If negative number: 4294967296 - Math.floor(Math.abs(limit))
             * If other: Type-convert, then use the above rules
             */
            limit = limit === void 0 ?
                -1 >>> 0 : // Math.pow(2, 32) - 1
                ToUint32(limit);
            while (match = separator.exec(string)) {
                // `separator.lastIndex` is not reliable cross-browser
                lastIndex = match.index + match[0].length;
                if (lastIndex > lastLastIndex) {
                    output.push(string.slice(lastLastIndex, match.index));
                    // Fix browsers whose `exec` methods don't consistently return `undefined` for
                    // nonparticipating capturing groups
                    if (!compliantExecNpcg && match.length > 1) {
                        match[0].replace(separator2, function () {
                            for (var i = 1; i < arguments.length - 2; i++) {
                                if (arguments[i] === void 0) {
                                    match[i] = void 0;
                                }
                            }
                        });
                    }
                    if (match.length > 1 && match.index < string.length) {
                        ArrayPrototype.push.apply(output, match.slice(1));
                    }
                    lastLength = match[0].length;
                    lastLastIndex = lastIndex;
                    if (output.length >= limit) {
                        break;
                    }
                }
                if (separator.lastIndex === match.index) {
                    separator.lastIndex++; // Avoid an infinite loop
                }
            }
            if (lastLastIndex === string.length) {
                if (lastLength || !separator.test('')) {
                    output.push('');
                }
            } else {
                output.push(string.slice(lastLastIndex));
            }
            return output.length > limit ? output.slice(0, limit) : output;
        };
    }());

// [bugfix, chrome]
// If separator is undefined, then the result array contains just one String,
// which is the this value (converted to a String). If limit is not undefined,
// then the output array is truncated so that it contains no more than limit
// elements.
// "0".split(undefined, 0) -> []
} else if ('0'.split(void 0, 0).length) {
    StringPrototype.split = function split(separator, limit) {
        if (separator === void 0 && limit === 0) { return []; }
        return string_split.call(this, separator, limit);
    };
}

// ECMA-262, 3rd B.2.3
// Not an ECMAScript standard, although ECMAScript 3rd Edition has a
// non-normative section suggesting uniform semantics and it should be
// normalized across all browsers
// [bugfix, IE lt 9] IE < 9 substr() with negative value not working in IE
var string_substr = StringPrototype.substr;
var hasNegativeSubstrBug = ''.substr && '0b'.substr(-1) !== 'b';
defineProperties(StringPrototype, {
    substr: function substr(start, length) {
        return string_substr.call(
            this,
            start < 0 ? ((start = this.length + start) < 0 ? 0 : start) : start,
            length
        );
    }
}, hasNegativeSubstrBug);

},{}],16:[function(require,module,exports){
'use strict';

module.exports = [
  // streaming transports
  require('./transport/websocket')
, require('./transport/xhr-streaming')
, require('./transport/xdr-streaming')
, require('./transport/eventsource')
, require('./transport/lib/iframe-wrap')(require('./transport/eventsource'))

  // polling transports
, require('./transport/htmlfile')
, require('./transport/lib/iframe-wrap')(require('./transport/htmlfile'))
, require('./transport/xhr-polling')
, require('./transport/xdr-polling')
, require('./transport/lib/iframe-wrap')(require('./transport/xhr-polling'))
, require('./transport/jsonp-polling')
];

},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(require,module,exports){
(function (process,global){
'use strict';

var EventEmitter = require('events').EventEmitter
  , inherits = require('inherits')
  , utils = require('../../utils/event')
  , urlUtils = require('../../utils/url')
  , XHR = global.XMLHttpRequest
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:browser:xhr');
}

function AbstractXHRObject(method, url, payload, opts) {
  debug(method, url);
  var self = this;
  EventEmitter.call(this);

  setTimeout(function () {
    self._start(method, url, payload, opts);
  }, 0);
}

inherits(AbstractXHRObject, EventEmitter);

AbstractXHRObject.prototype._start = function(method, url, payload, opts) {
  var self = this;

  try {
    this.xhr = new XHR();
  } catch (x) {
    // intentionally empty
  }

  if (!this.xhr) {
    debug('no xhr');
    this.emit('finish', 0, 'no xhr support');
    this._cleanup();
    return;
  }

  // several browsers cache POSTs
  url = urlUtils.addQuery(url, 't=' + (+new Date()));

  // Explorer tends to keep connection open, even after the
  // tab gets closed: http://bugs.jquery.com/ticket/5280
  this.unloadRef = utils.unloadAdd(function() {
    debug('unload cleanup');
    self._cleanup(true);
  });
  try {
    this.xhr.open(method, url, true);
    if (this.timeout && 'timeout' in this.xhr) {
      this.xhr.timeout = this.timeout;
      this.xhr.ontimeout = function() {
        debug('xhr timeout');
        self.emit('finish', 0, '');
        self._cleanup(false);
      };
    }
  } catch (e) {
    debug('exception', e);
    // IE raises an exception on wrong port.
    this.emit('finish', 0, '');
    this._cleanup(false);
    return;
  }

  if ((!opts || !opts.noCredentials) && AbstractXHRObject.supportsCORS) {
    debug('withCredentials');
    // Mozilla docs says https://developer.mozilla.org/en/XMLHttpRequest :
    // "This never affects same-site requests."

    this.xhr.withCredentials = true;
  }
  if (opts && opts.headers) {
    for (var key in opts.headers) {
      this.xhr.setRequestHeader(key, opts.headers[key]);
    }
  }

  this.xhr.onreadystatechange = function() {
    if (self.xhr) {
      var x = self.xhr;
      var text, status;
      debug('readyState', x.readyState);
      switch (x.readyState) {
      case 3:
        // IE doesn't like peeking into responseText or status
        // on Microsoft.XMLHTTP and readystate=3
        try {
          status = x.status;
          text = x.responseText;
        } catch (e) {
          // intentionally empty
        }
        debug('status', status);
        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450
        if (status === 1223) {
          status = 204;
        }

        // IE does return readystate == 3 for 404 answers.
        if (status === 200 && text && text.length > 0) {
          debug('chunk');
          self.emit('chunk', status, text);
        }
        break;
      case 4:
        status = x.status;
        debug('status', status);
        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450
        if (status === 1223) {
          status = 204;
        }
        // IE returns this for a bad port
        // http://msdn.microsoft.com/en-us/library/windows/desktop/aa383770(v=vs.85).aspx
        if (status === 12005 || status === 12029) {
          status = 0;
        }

        debug('finish', status, x.responseText);
        self.emit('finish', status, x.responseText);
        self._cleanup(false);
        break;
      }
    }
  };

  try {
    self.xhr.send(payload);
  } catch (e) {
    self.emit('finish', 0, '');
    self._cleanup(false);
  }
};

AbstractXHRObject.prototype._cleanup = function(abort) {
  debug('cleanup');
  if (!this.xhr) {
    return;
  }
  this.removeAllListeners();
  utils.unloadDel(this.unloadRef);

  // IE needs this field to be a function
  this.xhr.onreadystatechange = function() {};
  if (this.xhr.ontimeout) {
    this.xhr.ontimeout = null;
  }

  if (abort) {
    try {
      this.xhr.abort();
    } catch (x) {
      // intentionally empty
    }
  }
  this.unloadRef = this.xhr = null;
};

AbstractXHRObject.prototype.close = function() {
  debug('close');
  this._cleanup(true);
};

AbstractXHRObject.enabled = !!XHR;
// override XMLHttpRequest for IE6/7
// obfuscate to avoid firewalls
var axo = ['Active'].concat('Object').join('X');
if (!AbstractXHRObject.enabled && (axo in global)) {
  debug('overriding xmlhttprequest');
  XHR = function() {
    try {
      return new global[axo]('Microsoft.XMLHTTP');
    } catch (e) {
      return null;
    }
  };
  AbstractXHRObject.enabled = !!new XHR();
}

var cors = false;
try {
  cors = 'withCredentials' in new XHR();
} catch (ignored) {
  // intentionally empty
}

AbstractXHRObject.supportsCORS = cors;

module.exports = AbstractXHRObject;

}).call(this,{ env: {} },typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../utils/event":46,"../../utils/url":52,"debug":55,"events":3,"inherits":57}],18:[function(require,module,exports){
(function (global){
module.exports = global.EventSource;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],19:[function(require,module,exports){
(function (global){
'use strict';

var Driver = global.WebSocket || global.MozWebSocket;
if (Driver) {
	module.exports = function WebSocketBrowserDriver(url) {
		return new Driver(url);
	};
} else {
	module.exports = undefined;
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],20:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , AjaxBasedTransport = require('./lib/ajax-based')
  , EventSourceReceiver = require('./receiver/eventsource')
  , XHRCorsObject = require('./sender/xhr-cors')
  , EventSourceDriver = require('eventsource')
  ;

function EventSourceTransport(transUrl) {
  if (!EventSourceTransport.enabled()) {
    throw new Error('Transport created when disabled');
  }

  AjaxBasedTransport.call(this, transUrl, '/eventsource', EventSourceReceiver, XHRCorsObject);
}

inherits(EventSourceTransport, AjaxBasedTransport);

EventSourceTransport.enabled = function() {
  return !!EventSourceDriver;
};

EventSourceTransport.transportName = 'eventsource';
EventSourceTransport.roundTrips = 2;

module.exports = EventSourceTransport;

},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,"eventsource":18,"inherits":57}],21:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , HtmlfileReceiver = require('./receiver/htmlfile')
  , XHRLocalObject = require('./sender/xhr-local')
  , AjaxBasedTransport = require('./lib/ajax-based')
  ;

function HtmlFileTransport(transUrl) {
  if (!HtmlfileReceiver.enabled) {
    throw new Error('Transport created when disabled');
  }
  AjaxBasedTransport.call(this, transUrl, '/htmlfile', HtmlfileReceiver, XHRLocalObject);
}

inherits(HtmlFileTransport, AjaxBasedTransport);

HtmlFileTransport.enabled = function(info) {
  return HtmlfileReceiver.enabled && info.sameOrigin;
};

HtmlFileTransport.transportName = 'htmlfile';
HtmlFileTransport.roundTrips = 2;

module.exports = HtmlFileTransport;

},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,"inherits":57}],22:[function(require,module,exports){
(function (process){
'use strict';

// Few cool transports do work only for same-origin. In order to make
// them work cross-domain we shall use iframe, served from the
// remote domain. New browsers have capabilities to communicate with
// cross domain iframe using postMessage(). In IE it was implemented
// from IE 8+, but of course, IE got some details wrong:
//    http://msdn.microsoft.com/en-us/library/cc197015(v=VS.85).aspx
//    http://stevesouders.com/misc/test-postmessage.php

var inherits = require('inherits')
  , JSON3 = require('json3')
  , EventEmitter = require('events').EventEmitter
  , version = require('../version')
  , urlUtils = require('../utils/url')
  , iframeUtils = require('../utils/iframe')
  , eventUtils = require('../utils/event')
  , random = require('../utils/random')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:transport:iframe');
}

function IframeTransport(transport, transUrl, baseUrl) {
  if (!IframeTransport.enabled()) {
    throw new Error('Transport created when disabled');
  }
  EventEmitter.call(this);

  var self = this;
  this.origin = urlUtils.getOrigin(baseUrl);
  this.baseUrl = baseUrl;
  this.transUrl = transUrl;
  this.transport = transport;
  this.windowId = random.string(8);

  var iframeUrl = urlUtils.addPath(baseUrl, '/iframe.html') + '#' + this.windowId;
  debug(transport, transUrl, iframeUrl);

  this.iframeObj = iframeUtils.createIframe(iframeUrl, function(r) {
    debug('err callback');
    self.emit('close', 1006, 'Unable to load an iframe (' + r + ')');
    self.close();
  });

  this.onmessageCallback = this._message.bind(this);
  eventUtils.attachEvent('message', this.onmessageCallback);
}

inherits(IframeTransport, EventEmitter);

IframeTransport.prototype.close = function() {
  debug('close');
  this.removeAllListeners();
  if (this.iframeObj) {
    eventUtils.detachEvent('message', this.onmessageCallback);
    try {
      // When the iframe is not loaded, IE raises an exception
      // on 'contentWindow'.
      this.postMessage('c');
    } catch (x) {
      // intentionally empty
    }
    this.iframeObj.cleanup();
    this.iframeObj = null;
    this.onmessageCallback = this.iframeObj = null;
  }
};

IframeTransport.prototype._message = function(e) {
  debug('message', e.data);
  if (!urlUtils.isOriginEqual(e.origin, this.origin)) {
    debug('not same origin', e.origin, this.origin);
    return;
  }

  var iframeMessage;
  try {
    iframeMessage = JSON3.parse(e.data);
  } catch (ignored) {
    debug('bad json', e.data);
    return;
  }

  if (iframeMessage.windowId !== this.windowId) {
    debug('mismatched window id', iframeMessage.windowId, this.windowId);
    return;
  }

  switch (iframeMessage.type) {
  case 's':
    this.iframeObj.loaded();
    // window global dependency
    this.postMessage('s', JSON3.stringify([
      version
    , this.transport
    , this.transUrl
    , this.baseUrl
    ]));
    break;
  case 't':
    this.emit('message', iframeMessage.data);
    break;
  case 'c':
    var cdata;
    try {
      cdata = JSON3.parse(iframeMessage.data);
    } catch (ignored) {
      debug('bad json', iframeMessage.data);
      return;
    }
    this.emit('close', cdata[0], cdata[1]);
    this.close();
    break;
  }
};

IframeTransport.prototype.postMessage = function(type, data) {
  debug('postMessage', type, data);
  this.iframeObj.post(JSON3.stringify({
    windowId: this.windowId
  , type: type
  , data: data || ''
  }), this.origin);
};

IframeTransport.prototype.send = function(message) {
  debug('send', message);
  this.postMessage('m', message);
};

IframeTransport.enabled = function() {
  return iframeUtils.iframeEnabled;
};

IframeTransport.transportName = 'iframe';
IframeTransport.roundTrips = 2;

module.exports = IframeTransport;

}).call(this,{ env: {} })

},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,"debug":55,"events":3,"inherits":57,"json3":58}],23:[function(require,module,exports){
(function (global){
'use strict';

// The simplest and most robust transport, using the well-know cross
// domain hack - JSONP. This transport is quite inefficient - one
// message could use up to one http request. But at least it works almost
// everywhere.
// Known limitations:
//   o you will get a spinning cursor
//   o for Konqueror a dumb timer is needed to detect errors

var inherits = require('inherits')
  , SenderReceiver = require('./lib/sender-receiver')
  , JsonpReceiver = require('./receiver/jsonp')
  , jsonpSender = require('./sender/jsonp')
  ;

function JsonPTransport(transUrl) {
  if (!JsonPTransport.enabled()) {
    throw new Error('Transport created when disabled');
  }
  SenderReceiver.call(this, transUrl, '/jsonp', jsonpSender, JsonpReceiver);
}

inherits(JsonPTransport, SenderReceiver);

JsonPTransport.enabled = function() {
  return !!global.document;
};

JsonPTransport.transportName = 'jsonp-polling';
JsonPTransport.roundTrips = 1;
JsonPTransport.needBody = true;

module.exports = JsonPTransport;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,"inherits":57}],24:[function(require,module,exports){
(function (process){
'use strict';

var inherits = require('inherits')
  , urlUtils = require('../../utils/url')
  , SenderReceiver = require('./sender-receiver')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:ajax-based');
}

function createAjaxSender(AjaxObject) {
  return function(url, payload, callback) {
    debug('create ajax sender', url, payload);
    var opt = {};
    if (typeof payload === 'string') {
      opt.headers = {'Content-type': 'text/plain'};
    }
    var ajaxUrl = urlUtils.addPath(url, '/xhr_send');
    var xo = new AjaxObject('POST', ajaxUrl, payload, opt);
    xo.once('finish', function(status) {
      debug('finish', status);
      xo = null;

      if (status !== 200 && status !== 204) {
        return callback(new Error('http status ' + status));
      }
      callback();
    });
    return function() {
      debug('abort');
      xo.close();
      xo = null;

      var err = new Error('Aborted');
      err.code = 1000;
      callback(err);
    };
  };
}

function AjaxBasedTransport(transUrl, urlSuffix, Receiver, AjaxObject) {
  SenderReceiver.call(this, transUrl, urlSuffix, createAjaxSender(AjaxObject), Receiver, AjaxObject);
}

inherits(AjaxBasedTransport, SenderReceiver);

module.exports = AjaxBasedTransport;

}).call(this,{ env: {} })

},{"../../utils/url":52,"./sender-receiver":28,"debug":55,"inherits":57}],25:[function(require,module,exports){
(function (process){
'use strict';

var inherits = require('inherits')
  , EventEmitter = require('events').EventEmitter
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:buffered-sender');
}

function BufferedSender(url, sender) {
  debug(url);
  EventEmitter.call(this);
  this.sendBuffer = [];
  this.sender = sender;
  this.url = url;
}

inherits(BufferedSender, EventEmitter);

BufferedSender.prototype.send = function(message) {
  debug('send', message);
  this.sendBuffer.push(message);
  if (!this.sendStop) {
    this.sendSchedule();
  }
};

// For polling transports in a situation when in the message callback,
// new message is being send. If the sending connection was started
// before receiving one, it is possible to saturate the network and
// timeout due to the lack of receiving socket. To avoid that we delay
// sending messages by some small time, in order to let receiving
// connection be started beforehand. This is only a halfmeasure and
// does not fix the big problem, but it does make the tests go more
// stable on slow networks.
BufferedSender.prototype.sendScheduleWait = function() {
  debug('sendScheduleWait');
  var self = this;
  var tref;
  this.sendStop = function() {
    debug('sendStop');
    self.sendStop = null;
    clearTimeout(tref);
  };
  tref = setTimeout(function() {
    debug('timeout');
    self.sendStop = null;
    self.sendSchedule();
  }, 25);
};

BufferedSender.prototype.sendSchedule = function() {
  debug('sendSchedule', this.sendBuffer.length);
  var self = this;
  if (this.sendBuffer.length > 0) {
    var payload = '[' + this.sendBuffer.join(',') + ']';
    this.sendStop = this.sender(this.url, payload, function(err) {
      self.sendStop = null;
      if (err) {
        debug('error', err);
        self.emit('close', err.code || 1006, 'Sending error: ' + err);
        self.close();
      } else {
        self.sendScheduleWait();
      }
    });
    this.sendBuffer = [];
  }
};

BufferedSender.prototype._cleanup = function() {
  debug('_cleanup');
  this.removeAllListeners();
};

BufferedSender.prototype.close = function() {
  debug('close');
  this._cleanup();
  if (this.sendStop) {
    this.sendStop();
    this.sendStop = null;
  }
};

module.exports = BufferedSender;

}).call(this,{ env: {} })

},{"debug":55,"events":3,"inherits":57}],26:[function(require,module,exports){
(function (global){
'use strict';

var inherits = require('inherits')
  , IframeTransport = require('../iframe')
  , objectUtils = require('../../utils/object')
  ;

module.exports = function(transport) {

  function IframeWrapTransport(transUrl, baseUrl) {
    IframeTransport.call(this, transport.transportName, transUrl, baseUrl);
  }

  inherits(IframeWrapTransport, IframeTransport);

  IframeWrapTransport.enabled = function(url, info) {
    if (!global.document) {
      return false;
    }

    var iframeInfo = objectUtils.extend({}, info);
    iframeInfo.sameOrigin = true;
    return transport.enabled(iframeInfo) && IframeTransport.enabled();
  };

  IframeWrapTransport.transportName = 'iframe-' + transport.transportName;
  IframeWrapTransport.needBody = true;
  IframeWrapTransport.roundTrips = IframeTransport.roundTrips + transport.roundTrips - 1; // html, javascript (2) + transport - no CORS (1)

  IframeWrapTransport.facadeTransport = transport;

  return IframeWrapTransport;
};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../utils/object":49,"../iframe":22,"inherits":57}],27:[function(require,module,exports){
(function (process){
'use strict';

var inherits = require('inherits')
  , EventEmitter = require('events').EventEmitter
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:polling');
}

function Polling(Receiver, receiveUrl, AjaxObject) {
  debug(receiveUrl);
  EventEmitter.call(this);
  this.Receiver = Receiver;
  this.receiveUrl = receiveUrl;
  this.AjaxObject = AjaxObject;
  this._scheduleReceiver();
}

inherits(Polling, EventEmitter);

Polling.prototype._scheduleReceiver = function() {
  debug('_scheduleReceiver');
  var self = this;
  var poll = this.poll = new this.Receiver(this.receiveUrl, this.AjaxObject);

  poll.on('message', function(msg) {
    debug('message', msg);
    self.emit('message', msg);
  });

  poll.once('close', function(code, reason) {
    debug('close', code, reason, self.pollIsClosing);
    self.poll = poll = null;

    if (!self.pollIsClosing) {
      if (reason === 'network') {
        self._scheduleReceiver();
      } else {
        self.emit('close', code || 1006, reason);
        self.removeAllListeners();
      }
    }
  });
};

Polling.prototype.abort = function() {
  debug('abort');
  this.removeAllListeners();
  this.pollIsClosing = true;
  if (this.poll) {
    this.poll.abort();
  }
};

module.exports = Polling;

}).call(this,{ env: {} })

},{"debug":55,"events":3,"inherits":57}],28:[function(require,module,exports){
(function (process){
'use strict';

var inherits = require('inherits')
  , urlUtils = require('../../utils/url')
  , BufferedSender = require('./buffered-sender')
  , Polling = require('./polling')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:sender-receiver');
}

function SenderReceiver(transUrl, urlSuffix, senderFunc, Receiver, AjaxObject) {
  var pollUrl = urlUtils.addPath(transUrl, urlSuffix);
  debug(pollUrl);
  var self = this;
  BufferedSender.call(this, transUrl, senderFunc);

  this.poll = new Polling(Receiver, pollUrl, AjaxObject);
  this.poll.on('message', function(msg) {
    debug('poll message', msg);
    self.emit('message', msg);
  });
  this.poll.once('close', function(code, reason) {
    debug('poll close', code, reason);
    self.poll = null;
    self.emit('close', code, reason);
    self.close();
  });
}

inherits(SenderReceiver, BufferedSender);

SenderReceiver.prototype.close = function() {
  BufferedSender.prototype.close.call(this);
  debug('close');
  this.removeAllListeners();
  if (this.poll) {
    this.poll.abort();
    this.poll = null;
  }
};

module.exports = SenderReceiver;

}).call(this,{ env: {} })

},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,"debug":55,"inherits":57}],29:[function(require,module,exports){
(function (process){
'use strict';

var inherits = require('inherits')
  , EventEmitter = require('events').EventEmitter
  , EventSourceDriver = require('eventsource')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:receiver:eventsource');
}

function EventSourceReceiver(url) {
  debug(url);
  EventEmitter.call(this);

  var self = this;
  var es = this.es = new EventSourceDriver(url);
  es.onmessage = function(e) {
    debug('message', e.data);
    self.emit('message', decodeURI(e.data));
  };
  es.onerror = function(e) {
    debug('error', es.readyState, e);
    // ES on reconnection has readyState = 0 or 1.
    // on network error it's CLOSED = 2
    var reason = (es.readyState !== 2 ? 'network' : 'permanent');
    self._cleanup();
    self._close(reason);
  };
}

inherits(EventSourceReceiver, EventEmitter);

EventSourceReceiver.prototype.abort = function() {
  debug('abort');
  this._cleanup();
  this._close('user');
};

EventSourceReceiver.prototype._cleanup = function() {
  debug('cleanup');
  var es = this.es;
  if (es) {
    es.onmessage = es.onerror = null;
    es.close();
    this.es = null;
  }
};

EventSourceReceiver.prototype._close = function(reason) {
  debug('close', reason);
  var self = this;
  // Safari and chrome < 15 crash if we close window before
  // waiting for ES cleanup. See:
  // https://code.google.com/p/chromium/issues/detail?id=89155
  setTimeout(function() {
    self.emit('close', null, reason);
    self.removeAllListeners();
  }, 200);
};

module.exports = EventSourceReceiver;

}).call(this,{ env: {} })

},{"debug":55,"events":3,"eventsource":18,"inherits":57}],30:[function(require,module,exports){
(function (process,global){
'use strict';

var inherits = require('inherits')
  , iframeUtils = require('../../utils/iframe')
  , urlUtils = require('../../utils/url')
  , EventEmitter = require('events').EventEmitter
  , random = require('../../utils/random')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:receiver:htmlfile');
}

function HtmlfileReceiver(url) {
  debug(url);
  EventEmitter.call(this);
  var self = this;
  iframeUtils.polluteGlobalNamespace();

  this.id = 'a' + random.string(6);
  url = urlUtils.addQuery(url, 'c=' + decodeURIComponent(iframeUtils.WPrefix + '.' + this.id));

  debug('using htmlfile', HtmlfileReceiver.htmlfileEnabled);
  var constructFunc = HtmlfileReceiver.htmlfileEnabled ?
      iframeUtils.createHtmlfile : iframeUtils.createIframe;

  global[iframeUtils.WPrefix][this.id] = {
    start: function() {
      debug('start');
      self.iframeObj.loaded();
    }
  , message: function(data) {
      debug('message', data);
      self.emit('message', data);
    }
  , stop: function() {
      debug('stop');
      self._cleanup();
      self._close('network');
    }
  };
  this.iframeObj = constructFunc(url, function() {
    debug('callback');
    self._cleanup();
    self._close('permanent');
  });
}

inherits(HtmlfileReceiver, EventEmitter);

HtmlfileReceiver.prototype.abort = function() {
  debug('abort');
  this._cleanup();
  this._close('user');
};

HtmlfileReceiver.prototype._cleanup = function() {
  debug('_cleanup');
  if (this.iframeObj) {
    this.iframeObj.cleanup();
    this.iframeObj = null;
  }
  delete global[iframeUtils.WPrefix][this.id];
};

HtmlfileReceiver.prototype._close = function(reason) {
  debug('_close', reason);
  this.emit('close', null, reason);
  this.removeAllListeners();
};

HtmlfileReceiver.htmlfileEnabled = false;

// obfuscate to avoid firewalls
var axo = ['Active'].concat('Object').join('X');
if (axo in global) {
  try {
    HtmlfileReceiver.htmlfileEnabled = !!new global[axo]('htmlfile');
  } catch (x) {
    // intentionally empty
  }
}

HtmlfileReceiver.enabled = HtmlfileReceiver.htmlfileEnabled || iframeUtils.iframeEnabled;

module.exports = HtmlfileReceiver;

}).call(this,{ env: {} },typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,"debug":55,"events":3,"inherits":57}],31:[function(require,module,exports){
(function (process,global){
'use strict';

var utils = require('../../utils/iframe')
  , random = require('../../utils/random')
  , browser = require('../../utils/browser')
  , urlUtils = require('../../utils/url')
  , inherits = require('inherits')
  , EventEmitter = require('events').EventEmitter
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:receiver:jsonp');
}

function JsonpReceiver(url) {
  debug(url);
  var self = this;
  EventEmitter.call(this);

  utils.polluteGlobalNamespace();

  this.id = 'a' + random.string(6);
  var urlWithId = urlUtils.addQuery(url, 'c=' + encodeURIComponent(utils.WPrefix + '.' + this.id));

  global[utils.WPrefix][this.id] = this._callback.bind(this);
  this._createScript(urlWithId);

  // Fallback mostly for Konqueror - stupid timer, 35 seconds shall be plenty.
  this.timeoutId = setTimeout(function() {
    debug('timeout');
    self._abort(new Error('JSONP script loaded abnormally (timeout)'));
  }, JsonpReceiver.timeout);
}

inherits(JsonpReceiver, EventEmitter);

JsonpReceiver.prototype.abort = function() {
  debug('abort');
  if (global[utils.WPrefix][this.id]) {
    var err = new Error('JSONP user aborted read');
    err.code = 1000;
    this._abort(err);
  }
};

JsonpReceiver.timeout = 35000;
JsonpReceiver.scriptErrorTimeout = 1000;

JsonpReceiver.prototype._callback = function(data) {
  debug('_callback', data);
  this._cleanup();

  if (this.aborting) {
    return;
  }

  if (data) {
    debug('message', data);
    this.emit('message', data);
  }
  this.emit('close', null, 'network');
  this.removeAllListeners();
};

JsonpReceiver.prototype._abort = function(err) {
  debug('_abort', err);
  this._cleanup();
  this.aborting = true;
  this.emit('close', err.code, err.message);
  this.removeAllListeners();
};

JsonpReceiver.prototype._cleanup = function() {
  debug('_cleanup');
  clearTimeout(this.timeoutId);
  if (this.script2) {
    this.script2.parentNode.removeChild(this.script2);
    this.script2 = null;
  }
  if (this.script) {
    var script = this.script;
    // Unfortunately, you can't really abort script loading of
    // the script.
    script.parentNode.removeChild(script);
    script.onreadystatechange = script.onerror =
        script.onload = script.onclick = null;
    this.script = null;
  }
  delete global[utils.WPrefix][this.id];
};

JsonpReceiver.prototype._scriptError = function() {
  debug('_scriptError');
  var self = this;
  if (this.errorTimer) {
    return;
  }

  this.errorTimer = setTimeout(function() {
    if (!self.loadedOkay) {
      self._abort(new Error('JSONP script loaded abnormally (onerror)'));
    }
  }, JsonpReceiver.scriptErrorTimeout);
};

JsonpReceiver.prototype._createScript = function(url) {
  debug('_createScript', url);
  var self = this;
  var script = this.script = global.document.createElement('script');
  var script2;  // Opera synchronous load trick.

  script.id = 'a' + random.string(8);
  script.src = url;
  script.type = 'text/javascript';
  script.charset = 'UTF-8';
  script.onerror = this._scriptError.bind(this);
  script.onload = function() {
    debug('onload');
    self._abort(new Error('JSONP script loaded abnormally (onload)'));
  };

  // IE9 fires 'error' event after onreadystatechange or before, in random order.
  // Use loadedOkay to determine if actually errored
  script.onreadystatechange = function() {
    debug('onreadystatechange', script.readyState);
    if (/loaded|closed/.test(script.readyState)) {
      if (script && script.htmlFor && script.onclick) {
        self.loadedOkay = true;
        try {
          // In IE, actually execute the script.
          script.onclick();
        } catch (x) {
          // intentionally empty
        }
      }
      if (script) {
        self._abort(new Error('JSONP script loaded abnormally (onreadystatechange)'));
      }
    }
  };
  // IE: event/htmlFor/onclick trick.
  // One can't rely on proper order for onreadystatechange. In order to
  // make sure, set a 'htmlFor' and 'event' properties, so that
  // script code will be installed as 'onclick' handler for the
  // script object. Later, onreadystatechange, manually execute this
  // code. FF and Chrome doesn't work with 'event' and 'htmlFor'
  // set. For reference see:
  //   http://jaubourg.net/2010/07/loading-script-as-onclick-handler-of.html
  // Also, read on that about script ordering:
  //   http://wiki.whatwg.org/wiki/Dynamic_Script_Execution_Order
  if (typeof script.async === 'undefined' && global.document.attachEvent) {
    // According to mozilla docs, in recent browsers script.async defaults
    // to 'true', so we may use it to detect a good browser:
    // https://developer.mozilla.org/en/HTML/Element/script
    if (!browser.isOpera()) {
      // Naively assume we're in IE
      try {
        script.htmlFor = script.id;
        script.event = 'onclick';
      } catch (x) {
        // intentionally empty
      }
      script.async = true;
    } else {
      // Opera, second sync script hack
      script2 = this.script2 = global.document.createElement('script');
      script2.text = "try{var a = document.getElementById('" + script.id + "'); if(a)a.onerror();}catch(x){};";
      script.async = script2.async = false;
    }
  }
  if (typeof script.async !== 'undefined') {
    script.async = true;
  }

  var head = global.document.getElementsByTagName('head')[0];
  head.insertBefore(script, head.firstChild);
  if (script2) {
    head.insertBefore(script2, head.firstChild);
  }
};

module.exports = JsonpReceiver;

}).call(this,{ env: {} },typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,"debug":55,"events":3,"inherits":57}],32:[function(require,module,exports){
(function (process){
'use strict';

var inherits = require('inherits')
  , EventEmitter = require('events').EventEmitter
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:receiver:xhr');
}

function XhrReceiver(url, AjaxObject) {
  debug(url);
  EventEmitter.call(this);
  var self = this;

  this.bufferPosition = 0;

  this.xo = new AjaxObject('POST', url, null);
  this.xo.on('chunk', this._chunkHandler.bind(this));
  this.xo.once('finish', function(status, text) {
    debug('finish', status, text);
    self._chunkHandler(status, text);
    self.xo = null;
    var reason = status === 200 ? 'network' : 'permanent';
    debug('close', reason);
    self.emit('close', null, reason);
    self._cleanup();
  });
}

inherits(XhrReceiver, EventEmitter);

XhrReceiver.prototype._chunkHandler = function(status, text) {
  debug('_chunkHandler', status);
  if (status !== 200 || !text) {
    return;
  }

  for (var idx = -1; ; this.bufferPosition += idx + 1) {
    var buf = text.slice(this.bufferPosition);
    idx = buf.indexOf('\n');
    if (idx === -1) {
      break;
    }
    var msg = buf.slice(0, idx);
    if (msg) {
      debug('message', msg);
      this.emit('message', msg);
    }
  }
};

XhrReceiver.prototype._cleanup = function() {
  debug('_cleanup');
  this.removeAllListeners();
};

XhrReceiver.prototype.abort = function() {
  debug('abort');
  if (this.xo) {
    this.xo.close();
    debug('close');
    this.emit('close', null, 'user');
    this.xo = null;
  }
  this._cleanup();
};

module.exports = XhrReceiver;

}).call(this,{ env: {} })

},{"debug":55,"events":3,"inherits":57}],33:[function(require,module,exports){
(function (process,global){
'use strict';

var random = require('../../utils/random')
  , urlUtils = require('../../utils/url')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:sender:jsonp');
}

var form, area;

function createIframe(id) {
  debug('createIframe', id);
  try {
    // ie6 dynamic iframes with target="" support (thanks Chris Lambacher)
    return global.document.createElement('<iframe name="' + id + '">');
  } catch (x) {
    var iframe = global.document.createElement('iframe');
    iframe.name = id;
    return iframe;
  }
}

function createForm() {
  debug('createForm');
  form = global.document.createElement('form');
  form.style.display = 'none';
  form.style.position = 'absolute';
  form.method = 'POST';
  form.enctype = 'application/x-www-form-urlencoded';
  form.acceptCharset = 'UTF-8';

  area = global.document.createElement('textarea');
  area.name = 'd';
  form.appendChild(area);

  global.document.body.appendChild(form);
}

module.exports = function(url, payload, callback) {
  debug(url, payload);
  if (!form) {
    createForm();
  }
  var id = 'a' + random.string(8);
  form.target = id;
  form.action = urlUtils.addQuery(urlUtils.addPath(url, '/jsonp_send'), 'i=' + id);

  var iframe = createIframe(id);
  iframe.id = id;
  iframe.style.display = 'none';
  form.appendChild(iframe);

  try {
    area.value = payload;
  } catch (e) {
    // seriously broken browsers get here
  }
  form.submit();

  var completed = function(err) {
    debug('completed', id, err);
    if (!iframe.onerror) {
      return;
    }
    iframe.onreadystatechange = iframe.onerror = iframe.onload = null;
    // Opera mini doesn't like if we GC iframe
    // immediately, thus this timeout.
    setTimeout(function() {
      debug('cleaning up', id);
      iframe.parentNode.removeChild(iframe);
      iframe = null;
    }, 500);
    area.value = '';
    // It is not possible to detect if the iframe succeeded or
    // failed to submit our form.
    callback(err);
  };
  iframe.onerror = function() {
    debug('onerror', id);
    completed();
  };
  iframe.onload = function() {
    debug('onload', id);
    completed();
  };
  iframe.onreadystatechange = function(e) {
    debug('onreadystatechange', id, iframe.readyState, e);
    if (iframe.readyState === 'complete') {
      completed();
    }
  };
  return function() {
    debug('aborted', id);
    completed(new Error('Aborted'));
  };
};

}).call(this,{ env: {} },typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../utils/random":50,"../../utils/url":52,"debug":55}],34:[function(require,module,exports){
(function (process,global){
'use strict';

var EventEmitter = require('events').EventEmitter
  , inherits = require('inherits')
  , eventUtils = require('../../utils/event')
  , browser = require('../../utils/browser')
  , urlUtils = require('../../utils/url')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:sender:xdr');
}

// References:
//   http://ajaxian.com/archives/100-line-ajax-wrapper
//   http://msdn.microsoft.com/en-us/library/cc288060(v=VS.85).aspx

function XDRObject(method, url, payload) {
  debug(method, url);
  var self = this;
  EventEmitter.call(this);

  setTimeout(function() {
    self._start(method, url, payload);
  }, 0);
}

inherits(XDRObject, EventEmitter);

XDRObject.prototype._start = function(method, url, payload) {
  debug('_start');
  var self = this;
  var xdr = new global.XDomainRequest();
  // IE caches even POSTs
  url = urlUtils.addQuery(url, 't=' + (+new Date()));

  xdr.onerror = function() {
    debug('onerror');
    self._error();
  };
  xdr.ontimeout = function() {
    debug('ontimeout');
    self._error();
  };
  xdr.onprogress = function() {
    debug('progress', xdr.responseText);
    self.emit('chunk', 200, xdr.responseText);
  };
  xdr.onload = function() {
    debug('load');
    self.emit('finish', 200, xdr.responseText);
    self._cleanup(false);
  };
  this.xdr = xdr;
  this.unloadRef = eventUtils.unloadAdd(function() {
    self._cleanup(true);
  });
  try {
    // Fails with AccessDenied if port number is bogus
    this.xdr.open(method, url);
    if (this.timeout) {
      this.xdr.timeout = this.timeout;
    }
    this.xdr.send(payload);
  } catch (x) {
    this._error();
  }
};

XDRObject.prototype._error = function() {
  this.emit('finish', 0, '');
  this._cleanup(false);
};

XDRObject.prototype._cleanup = function(abort) {
  debug('cleanup', abort);
  if (!this.xdr) {
    return;
  }
  this.removeAllListeners();
  eventUtils.unloadDel(this.unloadRef);

  this.xdr.ontimeout = this.xdr.onerror = this.xdr.onprogress = this.xdr.onload = null;
  if (abort) {
    try {
      this.xdr.abort();
    } catch (x) {
      // intentionally empty
    }
  }
  this.unloadRef = this.xdr = null;
};

XDRObject.prototype.close = function() {
  debug('close');
  this._cleanup(true);
};

// IE 8/9 if the request target uses the same scheme - #79
XDRObject.enabled = !!(global.XDomainRequest && browser.hasDomain());

module.exports = XDRObject;

}).call(this,{ env: {} },typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,"debug":55,"events":3,"inherits":57}],35:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , XhrDriver = require('../driver/xhr')
  ;

function XHRCorsObject(method, url, payload, opts) {
  XhrDriver.call(this, method, url, payload, opts);
}

inherits(XHRCorsObject, XhrDriver);

XHRCorsObject.enabled = XhrDriver.enabled && XhrDriver.supportsCORS;

module.exports = XHRCorsObject;

},{"../driver/xhr":17,"inherits":57}],36:[function(require,module,exports){
'use strict';

var EventEmitter = require('events').EventEmitter
  , inherits = require('inherits')
  ;

function XHRFake(/* method, url, payload, opts */) {
  var self = this;
  EventEmitter.call(this);

  this.to = setTimeout(function() {
    self.emit('finish', 200, '{}');
  }, XHRFake.timeout);
}

inherits(XHRFake, EventEmitter);

XHRFake.prototype.close = function() {
  clearTimeout(this.to);
};

XHRFake.timeout = 2000;

module.exports = XHRFake;

},{"events":3,"inherits":57}],37:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , XhrDriver = require('../driver/xhr')
  ;

function XHRLocalObject(method, url, payload /*, opts */) {
  XhrDriver.call(this, method, url, payload, {
    noCredentials: true
  });
}

inherits(XHRLocalObject, XhrDriver);

XHRLocalObject.enabled = XhrDriver.enabled;

module.exports = XHRLocalObject;

},{"../driver/xhr":17,"inherits":57}],38:[function(require,module,exports){
(function (process){
'use strict';

var utils = require('../utils/event')
  , urlUtils = require('../utils/url')
  , inherits = require('inherits')
  , EventEmitter = require('events').EventEmitter
  , WebsocketDriver = require('./driver/websocket')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:websocket');
}

function WebSocketTransport(transUrl, ignore, options) {
  if (!WebSocketTransport.enabled()) {
    throw new Error('Transport created when disabled');
  }

  EventEmitter.call(this);
  debug('constructor', transUrl);

  var self = this;
  var url = urlUtils.addPath(transUrl, '/websocket');
  if (url.slice(0, 5) === 'https') {
    url = 'wss' + url.slice(5);
  } else {
    url = 'ws' + url.slice(4);
  }
  this.url = url;

  this.ws = new WebsocketDriver(this.url, [], options);
  this.ws.onmessage = function(e) {
    debug('message event', e.data);
    self.emit('message', e.data);
  };
  // Firefox has an interesting bug. If a websocket connection is
  // created after onunload, it stays alive even when user
  // navigates away from the page. In such situation let's lie -
  // let's not open the ws connection at all. See:
  // https://github.com/sockjs/sockjs-client/issues/28
  // https://bugzilla.mozilla.org/show_bug.cgi?id=696085
  this.unloadRef = utils.unloadAdd(function() {
    debug('unload');
    self.ws.close();
  });
  this.ws.onclose = function(e) {
    debug('close event', e.code, e.reason);
    self.emit('close', e.code, e.reason);
    self._cleanup();
  };
  this.ws.onerror = function(e) {
    debug('error event', e);
    self.emit('close', 1006, 'WebSocket connection broken');
    self._cleanup();
  };
}

inherits(WebSocketTransport, EventEmitter);

WebSocketTransport.prototype.send = function(data) {
  var msg = '[' + data + ']';
  debug('send', msg);
  this.ws.send(msg);
};

WebSocketTransport.prototype.close = function() {
  debug('close');
  var ws = this.ws;
  this._cleanup();
  if (ws) {
    ws.close();
  }
};

WebSocketTransport.prototype._cleanup = function() {
  debug('_cleanup');
  var ws = this.ws;
  if (ws) {
    ws.onmessage = ws.onclose = ws.onerror = null;
  }
  utils.unloadDel(this.unloadRef);
  this.unloadRef = this.ws = null;
  this.removeAllListeners();
};

WebSocketTransport.enabled = function() {
  debug('enabled');
  return !!WebsocketDriver;
};
WebSocketTransport.transportName = 'websocket';

// In theory, ws should require 1 round trip. But in chrome, this is
// not very stable over SSL. Most likely a ws connection requires a
// separate SSL connection, in which case 2 round trips are an
// absolute minumum.
WebSocketTransport.roundTrips = 2;

module.exports = WebSocketTransport;

}).call(this,{ env: {} })

},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,"debug":55,"events":3,"inherits":57}],39:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , AjaxBasedTransport = require('./lib/ajax-based')
  , XdrStreamingTransport = require('./xdr-streaming')
  , XhrReceiver = require('./receiver/xhr')
  , XDRObject = require('./sender/xdr')
  ;

function XdrPollingTransport(transUrl) {
  if (!XDRObject.enabled) {
    throw new Error('Transport created when disabled');
  }
  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XDRObject);
}

inherits(XdrPollingTransport, AjaxBasedTransport);

XdrPollingTransport.enabled = XdrStreamingTransport.enabled;
XdrPollingTransport.transportName = 'xdr-polling';
XdrPollingTransport.roundTrips = 2; // preflight, ajax

module.exports = XdrPollingTransport;

},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,"inherits":57}],40:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , AjaxBasedTransport = require('./lib/ajax-based')
  , XhrReceiver = require('./receiver/xhr')
  , XDRObject = require('./sender/xdr')
  ;

// According to:
//   http://stackoverflow.com/questions/1641507/detect-browser-support-for-cross-domain-xmlhttprequests
//   http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/

function XdrStreamingTransport(transUrl) {
  if (!XDRObject.enabled) {
    throw new Error('Transport created when disabled');
  }
  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XDRObject);
}

inherits(XdrStreamingTransport, AjaxBasedTransport);

XdrStreamingTransport.enabled = function(info) {
  if (info.cookie_needed || info.nullOrigin) {
    return false;
  }
  return XDRObject.enabled && info.sameScheme;
};

XdrStreamingTransport.transportName = 'xdr-streaming';
XdrStreamingTransport.roundTrips = 2; // preflight, ajax

module.exports = XdrStreamingTransport;

},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"inherits":57}],41:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , AjaxBasedTransport = require('./lib/ajax-based')
  , XhrReceiver = require('./receiver/xhr')
  , XHRCorsObject = require('./sender/xhr-cors')
  , XHRLocalObject = require('./sender/xhr-local')
  ;

function XhrPollingTransport(transUrl) {
  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {
    throw new Error('Transport created when disabled');
  }
  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XHRCorsObject);
}

inherits(XhrPollingTransport, AjaxBasedTransport);

XhrPollingTransport.enabled = function(info) {
  if (info.nullOrigin) {
    return false;
  }

  if (XHRLocalObject.enabled && info.sameOrigin) {
    return true;
  }
  return XHRCorsObject.enabled;
};

XhrPollingTransport.transportName = 'xhr-polling';
XhrPollingTransport.roundTrips = 2; // preflight, ajax

module.exports = XhrPollingTransport;

},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,"inherits":57}],42:[function(require,module,exports){
(function (global){
'use strict';

var inherits = require('inherits')
  , AjaxBasedTransport = require('./lib/ajax-based')
  , XhrReceiver = require('./receiver/xhr')
  , XHRCorsObject = require('./sender/xhr-cors')
  , XHRLocalObject = require('./sender/xhr-local')
  , browser = require('../utils/browser')
  ;

function XhrStreamingTransport(transUrl) {
  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {
    throw new Error('Transport created when disabled');
  }
  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XHRCorsObject);
}

inherits(XhrStreamingTransport, AjaxBasedTransport);

XhrStreamingTransport.enabled = function(info) {
  if (info.nullOrigin) {
    return false;
  }
  // Opera doesn't support xhr-streaming #60
  // But it might be able to #92
  if (browser.isOpera()) {
    return false;
  }

  return XHRCorsObject.enabled;
};

XhrStreamingTransport.transportName = 'xhr-streaming';
XhrStreamingTransport.roundTrips = 2; // preflight, ajax

// Safari gets confused when a streaming ajax request is started
// before onload. This causes the load indicator to spin indefinetely.
// Only require body when used in a browser
XhrStreamingTransport.needBody = !!global.document;

module.exports = XhrStreamingTransport;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,"inherits":57}],43:[function(require,module,exports){
(function (global){
'use strict';

if (global.crypto && global.crypto.getRandomValues) {
  module.exports.randomBytes = function(length) {
    var bytes = new Uint8Array(length);
    global.crypto.getRandomValues(bytes);
    return bytes;
  };
} else {
  module.exports.randomBytes = function(length) {
    var bytes = new Array(length);
    for (var i = 0; i < length; i++) {
      bytes[i] = Math.floor(Math.random() * 256);
    }
    return bytes;
  };
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],44:[function(require,module,exports){
(function (global){
'use strict';

module.exports = {
  isOpera: function() {
    return global.navigator &&
      /opera/i.test(global.navigator.userAgent);
  }

, isKonqueror: function() {
    return global.navigator &&
      /konqueror/i.test(global.navigator.userAgent);
  }

  // #187 wrap document.domain in try/catch because of WP8 from file:///
, hasDomain: function () {
    // non-browser client always has a domain
    if (!global.document) {
      return true;
    }

    try {
      return !!global.document.domain;
    } catch (e) {
      return false;
    }
  }
};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],45:[function(require,module,exports){
'use strict';

var JSON3 = require('json3');

// Some extra characters that Chrome gets wrong, and substitutes with
// something else on the wire.
// eslint-disable-next-line no-control-regex
var extraEscapable = /[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g
  , extraLookup;

// This may be quite slow, so let's delay until user actually uses bad
// characters.
var unrollLookup = function(escapable) {
  var i;
  var unrolled = {};
  var c = [];
  for (i = 0; i < 65536; i++) {
    c.push( String.fromCharCode(i) );
  }
  escapable.lastIndex = 0;
  c.join('').replace(escapable, function(a) {
    unrolled[ a ] = '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
    return '';
  });
  escapable.lastIndex = 0;
  return unrolled;
};

// Quote string, also taking care of unicode characters that browsers
// often break. Especially, take care of unicode surrogates:
// http://en.wikipedia.org/wiki/Mapping_of_Unicode_characters#Surrogates
module.exports = {
  quote: function(string) {
    var quoted = JSON3.stringify(string);

    // In most cases this should be very fast and good enough.
    extraEscapable.lastIndex = 0;
    if (!extraEscapable.test(quoted)) {
      return quoted;
    }

    if (!extraLookup) {
      extraLookup = unrollLookup(extraEscapable);
    }

    return quoted.replace(extraEscapable, function(a) {
      return extraLookup[a];
    });
  }
};

},{"json3":58}],46:[function(require,module,exports){
(function (global){
'use strict';

var random = require('./random');

var onUnload = {}
  , afterUnload = false
    // detect google chrome packaged apps because they don't allow the 'unload' event
  , isChromePackagedApp = global.chrome && global.chrome.app && global.chrome.app.runtime
  ;

module.exports = {
  attachEvent: function(event, listener) {
    if (typeof global.addEventListener !== 'undefined') {
      global.addEventListener(event, listener, false);
    } else if (global.document && global.attachEvent) {
      // IE quirks.
      // According to: http://stevesouders.com/misc/test-postmessage.php
      // the message gets delivered only to 'document', not 'window'.
      global.document.attachEvent('on' + event, listener);
      // I get 'window' for ie8.
      global.attachEvent('on' + event, listener);
    }
  }

, detachEvent: function(event, listener) {
    if (typeof global.addEventListener !== 'undefined') {
      global.removeEventListener(event, listener, false);
    } else if (global.document && global.detachEvent) {
      global.document.detachEvent('on' + event, listener);
      global.detachEvent('on' + event, listener);
    }
  }

, unloadAdd: function(listener) {
    if (isChromePackagedApp) {
      return null;
    }

    var ref = random.string(8);
    onUnload[ref] = listener;
    if (afterUnload) {
      setTimeout(this.triggerUnloadCallbacks, 0);
    }
    return ref;
  }

, unloadDel: function(ref) {
    if (ref in onUnload) {
      delete onUnload[ref];
    }
  }

, triggerUnloadCallbacks: function() {
    for (var ref in onUnload) {
      onUnload[ref]();
      delete onUnload[ref];
    }
  }
};

var unloadTriggered = function() {
  if (afterUnload) {
    return;
  }
  afterUnload = true;
  module.exports.triggerUnloadCallbacks();
};

// 'unload' alone is not reliable in opera within an iframe, but we
// can't use `beforeunload` as IE fires it on javascript: links.
if (!isChromePackagedApp) {
  module.exports.attachEvent('unload', unloadTriggered);
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./random":50}],47:[function(require,module,exports){
(function (process,global){
'use strict';

var eventUtils = require('./event')
  , JSON3 = require('json3')
  , browser = require('./browser')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:utils:iframe');
}

module.exports = {
  WPrefix: '_jp'
, currentWindowId: null

, polluteGlobalNamespace: function() {
    if (!(module.exports.WPrefix in global)) {
      global[module.exports.WPrefix] = {};
    }
  }

, postMessage: function(type, data) {
    if (global.parent !== global) {
      global.parent.postMessage(JSON3.stringify({
        windowId: module.exports.currentWindowId
      , type: type
      , data: data || ''
      }), '*');
    } else {
      debug('Cannot postMessage, no parent window.', type, data);
    }
  }

, createIframe: function(iframeUrl, errorCallback) {
    var iframe = global.document.createElement('iframe');
    var tref, unloadRef;
    var unattach = function() {
      debug('unattach');
      clearTimeout(tref);
      // Explorer had problems with that.
      try {
        iframe.onload = null;
      } catch (x) {
        // intentionally empty
      }
      iframe.onerror = null;
    };
    var cleanup = function() {
      debug('cleanup');
      if (iframe) {
        unattach();
        // This timeout makes chrome fire onbeforeunload event
        // within iframe. Without the timeout it goes straight to
        // onunload.
        setTimeout(function() {
          if (iframe) {
            iframe.parentNode.removeChild(iframe);
          }
          iframe = null;
        }, 0);
        eventUtils.unloadDel(unloadRef);
      }
    };
    var onerror = function(err) {
      debug('onerror', err);
      if (iframe) {
        cleanup();
        errorCallback(err);
      }
    };
    var post = function(msg, origin) {
      debug('post', msg, origin);
      setTimeout(function() {
        try {
          // When the iframe is not loaded, IE raises an exception
          // on 'contentWindow'.
          if (iframe && iframe.contentWindow) {
            iframe.contentWindow.postMessage(msg, origin);
          }
        } catch (x) {
          // intentionally empty
        }
      }, 0);
    };

    iframe.src = iframeUrl;
    iframe.style.display = 'none';
    iframe.style.position = 'absolute';
    iframe.onerror = function() {
      onerror('onerror');
    };
    iframe.onload = function() {
      debug('onload');
      // `onload` is triggered before scripts on the iframe are
      // executed. Give it few seconds to actually load stuff.
      clearTimeout(tref);
      tref = setTimeout(function() {
        onerror('onload timeout');
      }, 2000);
    };
    global.document.body.appendChild(iframe);
    tref = setTimeout(function() {
      onerror('timeout');
    }, 15000);
    unloadRef = eventUtils.unloadAdd(cleanup);
    return {
      post: post
    , cleanup: cleanup
    , loaded: unattach
    };
  }

/* eslint no-undef: "off", new-cap: "off" */
, createHtmlfile: function(iframeUrl, errorCallback) {
    var axo = ['Active'].concat('Object').join('X');
    var doc = new global[axo]('htmlfile');
    var tref, unloadRef;
    var iframe;
    var unattach = function() {
      clearTimeout(tref);
      iframe.onerror = null;
    };
    var cleanup = function() {
      if (doc) {
        unattach();
        eventUtils.unloadDel(unloadRef);
        iframe.parentNode.removeChild(iframe);
        iframe = doc = null;
        CollectGarbage();
      }
    };
    var onerror = function(r) {
      debug('onerror', r);
      if (doc) {
        cleanup();
        errorCallback(r);
      }
    };
    var post = function(msg, origin) {
      try {
        // When the iframe is not loaded, IE raises an exception
        // on 'contentWindow'.
        setTimeout(function() {
          if (iframe && iframe.contentWindow) {
              iframe.contentWindow.postMessage(msg, origin);
          }
        }, 0);
      } catch (x) {
        // intentionally empty
      }
    };

    doc.open();
    doc.write('<html><s' + 'cript>' +
              'document.domain="' + global.document.domain + '";' +
              '</s' + 'cript></html>');
    doc.close();
    doc.parentWindow[module.exports.WPrefix] = global[module.exports.WPrefix];
    var c = doc.createElement('div');
    doc.body.appendChild(c);
    iframe = doc.createElement('iframe');
    c.appendChild(iframe);
    iframe.src = iframeUrl;
    iframe.onerror = function() {
      onerror('onerror');
    };
    tref = setTimeout(function() {
      onerror('timeout');
    }, 15000);
    unloadRef = eventUtils.unloadAdd(cleanup);
    return {
      post: post
    , cleanup: cleanup
    , loaded: unattach
    };
  }
};

module.exports.iframeEnabled = false;
if (global.document) {
  // postMessage misbehaves in konqueror 4.6.5 - the messages are delivered with
  // huge delay, or not at all.
  module.exports.iframeEnabled = (typeof global.postMessage === 'function' ||
    typeof global.postMessage === 'object') && (!browser.isKonqueror());
}

}).call(this,{ env: {} },typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./browser":44,"./event":46,"debug":55,"json3":58}],48:[function(require,module,exports){
(function (global){
'use strict';

var logObject = {};
['log', 'debug', 'warn'].forEach(function (level) {
  var levelExists;

  try {
    levelExists = global.console && global.console[level] && global.console[level].apply;
  } catch(e) {
    // do nothing
  }

  logObject[level] = levelExists ? function () {
    return global.console[level].apply(global.console, arguments);
  } : (level === 'log' ? function () {} : logObject.log);
});

module.exports = logObject;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],49:[function(require,module,exports){
'use strict';

module.exports = {
  isObject: function(obj) {
    var type = typeof obj;
    return type === 'function' || type === 'object' && !!obj;
  }

, extend: function(obj) {
    if (!this.isObject(obj)) {
      return obj;
    }
    var source, prop;
    for (var i = 1, length = arguments.length; i < length; i++) {
      source = arguments[i];
      for (prop in source) {
        if (Object.prototype.hasOwnProperty.call(source, prop)) {
          obj[prop] = source[prop];
        }
      }
    }
    return obj;
  }
};

},{}],50:[function(require,module,exports){
'use strict';

/* global crypto:true */
var crypto = require('crypto');

// This string has length 32, a power of 2, so the modulus doesn't introduce a
// bias.
var _randomStringChars = 'abcdefghijklmnopqrstuvwxyz012345';
module.exports = {
  string: function(length) {
    var max = _randomStringChars.length;
    var bytes = crypto.randomBytes(length);
    var ret = [];
    for (var i = 0; i < length; i++) {
      ret.push(_randomStringChars.substr(bytes[i] % max, 1));
    }
    return ret.join('');
  }

, number: function(max) {
    return Math.floor(Math.random() * max);
  }

, numberString: function(max) {
    var t = ('' + (max - 1)).length;
    var p = new Array(t + 1).join('0');
    return (p + this.number(max)).slice(-t);
  }
};

},{"crypto":43}],51:[function(require,module,exports){
(function (process){
'use strict';

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:utils:transport');
}

module.exports = function(availableTransports) {
  return {
    filterToEnabled: function(transportsWhitelist, info) {
      var transports = {
        main: []
      , facade: []
      };
      if (!transportsWhitelist) {
        transportsWhitelist = [];
      } else if (typeof transportsWhitelist === 'string') {
        transportsWhitelist = [transportsWhitelist];
      }

      availableTransports.forEach(function(trans) {
        if (!trans) {
          return;
        }

        if (trans.transportName === 'websocket' && info.websocket === false) {
          debug('disabled from server', 'websocket');
          return;
        }

        if (transportsWhitelist.length &&
            transportsWhitelist.indexOf(trans.transportName) === -1) {
          debug('not in whitelist', trans.transportName);
          return;
        }

        if (trans.enabled(info)) {
          debug('enabled', trans.transportName);
          transports.main.push(trans);
          if (trans.facadeTransport) {
            transports.facade.push(trans.facadeTransport);
          }
        } else {
          debug('disabled', trans.transportName);
        }
      });
      return transports;
    }
  };
};

}).call(this,{ env: {} })

},{"debug":55}],52:[function(require,module,exports){
(function (process){
'use strict';

var URL = require('url-parse');

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:utils:url');
}

module.exports = {
  getOrigin: function(url) {
    if (!url) {
      return null;
    }

    var p = new URL(url);
    if (p.protocol === 'file:') {
      return null;
    }

    var port = p.port;
    if (!port) {
      port = (p.protocol === 'https:') ? '443' : '80';
    }

    return p.protocol + '//' + p.hostname + ':' + port;
  }

, isOriginEqual: function(a, b) {
    var res = this.getOrigin(a) === this.getOrigin(b);
    debug('same', a, b, res);
    return res;
  }

, isSchemeEqual: function(a, b) {
    return (a.split(':')[0] === b.split(':')[0]);
  }

, addPath: function (url, path) {
    var qs = url.split('?');
    return qs[0] + path + (qs[1] ? '?' + qs[1] : '');
  }

, addQuery: function (url, q) {
    return url + (url.indexOf('?') === -1 ? ('?' + q) : ('&' + q));
  }
};

}).call(this,{ env: {} })

},{"debug":55,"url-parse":61}],53:[function(require,module,exports){
module.exports = '1.4.0';

},{}],54:[function(require,module,exports){
/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var w = d * 7;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

module.exports = function(val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isNaN(val) === false) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'weeks':
    case 'week':
    case 'w':
      return n * w;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  var msAbs = Math.abs(ms);
  if (msAbs >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (msAbs >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (msAbs >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (msAbs >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  var msAbs = Math.abs(ms);
  if (msAbs >= d) {
    return plural(ms, msAbs, d, 'day');
  }
  if (msAbs >= h) {
    return plural(ms, msAbs, h, 'hour');
  }
  if (msAbs >= m) {
    return plural(ms, msAbs, m, 'minute');
  }
  if (msAbs >= s) {
    return plural(ms, msAbs, s, 'second');
  }
  return ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, msAbs, n, name) {
  var isPlural = msAbs >= n * 1.5;
  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');
}

},{}],55:[function(require,module,exports){
(function (process){
"use strict";

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/* eslint-env browser */

/**
 * This is the web browser implementation of `debug()`.
 */
exports.log = log;
exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = localstorage();
/**
 * Colors.
 */

exports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];
/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */
// eslint-disable-next-line complexity

function useColors() {
  // NB: In an Electron preload script, document will be defined but not fully
  // initialized. Since we know we're in Chrome, we'll just detect this case
  // explicitly
  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {
    return true;
  } // Internet Explorer and Edge do not support colors.


  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
    return false;
  } // Is webkit? http://stackoverflow.com/a/16459606/376773
  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632


  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773
  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?
  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker
  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
}
/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */


function formatArgs(args) {
  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);

  if (!this.useColors) {
    return;
  }

  var c = 'color: ' + this.color;
  args.splice(1, 0, c, 'color: inherit'); // The final "%c" is somewhat tricky, because there could be other
  // arguments passed either before or after the %c, so we need to
  // figure out the correct index to insert the CSS into

  var index = 0;
  var lastC = 0;
  args[0].replace(/%[a-zA-Z%]/g, function (match) {
    if (match === '%%') {
      return;
    }

    index++;

    if (match === '%c') {
      // We only are interested in the *last* %c
      // (the user may have provided their own)
      lastC = index;
    }
  });
  args.splice(lastC, 0, c);
}
/**
 * Invokes `console.log()` when available.
 * No-op when `console.log` is not a "function".
 *
 * @api public
 */


function log() {
  var _console;

  // This hackery is required for IE8/9, where
  // the `console.log` function doesn't have 'apply'
  return (typeof console === "undefined" ? "undefined" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);
}
/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */


function save(namespaces) {
  try {
    if (namespaces) {
      exports.storage.setItem('debug', namespaces);
    } else {
      exports.storage.removeItem('debug');
    }
  } catch (error) {// Swallow
    // XXX (@Qix-) should we be logging these?
  }
}
/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */


function load() {
  var r;

  try {
    r = exports.storage.getItem('debug');
  } catch (error) {} // Swallow
  // XXX (@Qix-) should we be logging these?
  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG


  if (!r && typeof process !== 'undefined' && 'env' in process) {
    r = process.env.DEBUG;
  }

  return r;
}
/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */


function localstorage() {
  try {
    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context
    // The Browser also has localStorage in the global context.
    return localStorage;
  } catch (error) {// Swallow
    // XXX (@Qix-) should we be logging these?
  }
}

module.exports = require('./common')(exports);
var formatters = module.exports.formatters;
/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

formatters.j = function (v) {
  try {
    return JSON.stringify(v);
  } catch (error) {
    return '[UnexpectedJSONParseError]: ' + error.message;
  }
};


}).call(this,{ env: {} })

},{"./common":56}],56:[function(require,module,exports){
"use strict";

/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 */
function setup(env) {
  createDebug.debug = createDebug;
  createDebug.default = createDebug;
  createDebug.coerce = coerce;
  createDebug.disable = disable;
  createDebug.enable = enable;
  createDebug.enabled = enabled;
  createDebug.humanize = require('ms');
  Object.keys(env).forEach(function (key) {
    createDebug[key] = env[key];
  });
  /**
  * Active `debug` instances.
  */

  createDebug.instances = [];
  /**
  * The currently active debug mode names, and names to skip.
  */

  createDebug.names = [];
  createDebug.skips = [];
  /**
  * Map of special "%n" handling functions, for the debug "format" argument.
  *
  * Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
  */

  createDebug.formatters = {};
  /**
  * Selects a color for a debug namespace
  * @param {String} namespace The namespace string for the for the debug instance to be colored
  * @return {Number|String} An ANSI color code for the given namespace
  * @api private
  */

  function selectColor(namespace) {
    var hash = 0;

    for (var i = 0; i < namespace.length; i++) {
      hash = (hash << 5) - hash + namespace.charCodeAt(i);
      hash |= 0; // Convert to 32bit integer
    }

    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];
  }

  createDebug.selectColor = selectColor;
  /**
  * Create a debugger with the given `namespace`.
  *
  * @param {String} namespace
  * @return {Function}
  * @api public
  */

  function createDebug(namespace) {
    var prevTime;

    function debug() {
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      // Disabled?
      if (!debug.enabled) {
        return;
      }

      var self = debug; // Set `diff` timestamp

      var curr = Number(new Date());
      var ms = curr - (prevTime || curr);
      self.diff = ms;
      self.prev = prevTime;
      self.curr = curr;
      prevTime = curr;
      args[0] = createDebug.coerce(args[0]);

      if (typeof args[0] !== 'string') {
        // Anything else let's inspect with %O
        args.unshift('%O');
      } // Apply any `formatters` transformations


      var index = 0;
      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {
        // If we encounter an escaped % then don't increase the array index
        if (match === '%%') {
          return match;
        }

        index++;
        var formatter = createDebug.formatters[format];

        if (typeof formatter === 'function') {
          var val = args[index];
          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`

          args.splice(index, 1);
          index--;
        }

        return match;
      }); // Apply env-specific formatting (colors, etc.)

      createDebug.formatArgs.call(self, args);
      var logFn = self.log || createDebug.log;
      logFn.apply(self, args);
    }

    debug.namespace = namespace;
    debug.enabled = createDebug.enabled(namespace);
    debug.useColors = createDebug.useColors();
    debug.color = selectColor(namespace);
    debug.destroy = destroy;
    debug.extend = extend; // Debug.formatArgs = formatArgs;
    // debug.rawLog = rawLog;
    // env-specific initialization logic for debug instances

    if (typeof createDebug.init === 'function') {
      createDebug.init(debug);
    }

    createDebug.instances.push(debug);
    return debug;
  }

  function destroy() {
    var index = createDebug.instances.indexOf(this);

    if (index !== -1) {
      createDebug.instances.splice(index, 1);
      return true;
    }

    return false;
  }

  function extend(namespace, delimiter) {
    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);
  }
  /**
  * Enables a debug mode by namespaces. This can include modes
  * separated by a colon and wildcards.
  *
  * @param {String} namespaces
  * @api public
  */


  function enable(namespaces) {
    createDebug.save(namespaces);
    createDebug.names = [];
    createDebug.skips = [];
    var i;
    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
    var len = split.length;

    for (i = 0; i < len; i++) {
      if (!split[i]) {
        // ignore empty strings
        continue;
      }

      namespaces = split[i].replace(/\*/g, '.*?');

      if (namespaces[0] === '-') {
        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
      } else {
        createDebug.names.push(new RegExp('^' + namespaces + '$'));
      }
    }

    for (i = 0; i < createDebug.instances.length; i++) {
      var instance = createDebug.instances[i];
      instance.enabled = createDebug.enabled(instance.namespace);
    }
  }
  /**
  * Disable debug output.
  *
  * @api public
  */


  function disable() {
    createDebug.enable('');
  }
  /**
  * Returns true if the given mode name is enabled, false otherwise.
  *
  * @param {String} name
  * @return {Boolean}
  * @api public
  */


  function enabled(name) {
    if (name[name.length - 1] === '*') {
      return true;
    }

    var i;
    var len;

    for (i = 0, len = createDebug.skips.length; i < len; i++) {
      if (createDebug.skips[i].test(name)) {
        return false;
      }
    }

    for (i = 0, len = createDebug.names.length; i < len; i++) {
      if (createDebug.names[i].test(name)) {
        return true;
      }
    }

    return false;
  }
  /**
  * Coerce `val`.
  *
  * @param {Mixed} val
  * @return {Mixed}
  * @api private
  */


  function coerce(val) {
    if (val instanceof Error) {
      return val.stack || val.message;
    }

    return val;
  }

  createDebug.enable(createDebug.load());
  return createDebug;
}

module.exports = setup;


},{"ms":54}],57:[function(require,module,exports){
if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}

},{}],58:[function(require,module,exports){
(function (global){
/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */
;(function () {
  // Detect the `define` function exposed by asynchronous module loaders. The
  // strict `define` check is necessary for compatibility with `r.js`.
  var isLoader = typeof define === "function" && define.amd;

  // A set of types used to distinguish objects from primitives.
  var objectTypes = {
    "function": true,
    "object": true
  };

  // Detect the `exports` object exposed by CommonJS implementations.
  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;

  // Use the `global` object exposed by Node (including Browserify via
  // `insert-module-globals`), Narwhal, and Ringo as the default context,
  // and the `window` object in browsers. Rhino exports a `global` function
  // instead.
  var root = objectTypes[typeof window] && window || this,
      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == "object" && global;

  if (freeGlobal && (freeGlobal["global"] === freeGlobal || freeGlobal["window"] === freeGlobal || freeGlobal["self"] === freeGlobal)) {
    root = freeGlobal;
  }

  // Public: Initializes JSON 3 using the given `context` object, attaching the
  // `stringify` and `parse` functions to the specified `exports` object.
  function runInContext(context, exports) {
    context || (context = root["Object"]());
    exports || (exports = root["Object"]());

    // Native constructor aliases.
    var Number = context["Number"] || root["Number"],
        String = context["String"] || root["String"],
        Object = context["Object"] || root["Object"],
        Date = context["Date"] || root["Date"],
        SyntaxError = context["SyntaxError"] || root["SyntaxError"],
        TypeError = context["TypeError"] || root["TypeError"],
        Math = context["Math"] || root["Math"],
        nativeJSON = context["JSON"] || root["JSON"];

    // Delegate to the native `stringify` and `parse` implementations.
    if (typeof nativeJSON == "object" && nativeJSON) {
      exports.stringify = nativeJSON.stringify;
      exports.parse = nativeJSON.parse;
    }

    // Convenience aliases.
    var objectProto = Object.prototype,
        getClass = objectProto.toString,
        isProperty, forEach, undef;

    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.
    var isExtended = new Date(-3509827334573292);
    try {
      // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical
      // results for certain dates in Opera >= 10.53.
      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&
        // Safari < 2.0.2 stores the internal millisecond time value correctly,
        // but clips the values returned by the date methods to the range of
        // signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).
        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;
    } catch (exception) {}

    // Internal: Determines whether the native `JSON.stringify` and `parse`
    // implementations are spec-compliant. Based on work by Ken Snyder.
    function has(name) {
      if (has[name] !== undef) {
        // Return cached feature test result.
        return has[name];
      }
      var isSupported;
      if (name == "bug-string-char-index") {
        // IE <= 7 doesn't support accessing string characters using square
        // bracket notation. IE 8 only supports this for primitives.
        isSupported = "a"[0] != "a";
      } else if (name == "json") {
        // Indicates whether both `JSON.stringify` and `JSON.parse` are
        // supported.
        isSupported = has("json-stringify") && has("json-parse");
      } else {
        var value, serialized = '{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';
        // Test `JSON.stringify`.
        if (name == "json-stringify") {
          var stringify = exports.stringify, stringifySupported = typeof stringify == "function" && isExtended;
          if (stringifySupported) {
            // A test function object with a custom `toJSON` method.
            (value = function () {
              return 1;
            }).toJSON = value;
            try {
              stringifySupported =
                // Firefox 3.1b1 and b2 serialize string, number, and boolean
                // primitives as object literals.
                stringify(0) === "0" &&
                // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object
                // literals.
                stringify(new Number()) === "0" &&
                stringify(new String()) == '""' &&
                // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or
                // does not define a canonical JSON representation (this applies to
                // objects with `toJSON` properties as well, *unless* they are nested
                // within an object or array).
                stringify(getClass) === undef &&
                // IE 8 serializes `undefined` as `"undefined"`. Safari <= 5.1.7 and
                // FF 3.1b3 pass this test.
                stringify(undef) === undef &&
                // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,
                // respectively, if the value is omitted entirely.
                stringify() === undef &&
                // FF 3.1b1, 2 throw an error if the given value is not a number,
                // string, array, object, Boolean, or `null` literal. This applies to
                // objects with custom `toJSON` methods as well, unless they are nested
                // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`
                // methods entirely.
                stringify(value) === "1" &&
                stringify([value]) == "[1]" &&
                // Prototype <= 1.6.1 serializes `[undefined]` as `"[]"` instead of
                // `"[null]"`.
                stringify([undef]) == "[null]" &&
                // YUI 3.0.0b1 fails to serialize `null` literals.
                stringify(null) == "null" &&
                // FF 3.1b1, 2 halts serialization if an array contains a function:
                // `[1, true, getClass, 1]` serializes as "[1,true,],". FF 3.1b3
                // elides non-JSON values from objects and arrays, unless they
                // define custom `toJSON` methods.
                stringify([undef, getClass, null]) == "[null,null,null]" &&
                // Simple serialization test. FF 3.1b1 uses Unicode escape sequences
                // where character escape codes are expected (e.g., `\b` => `\u0008`).
                stringify({ "a": [value, true, false, null, "\x00\b\n\f\r\t"] }) == serialized &&
                // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.
                stringify(null, value) === "1" &&
                stringify([1, 2], null, 1) == "[\n 1,\n 2\n]" &&
                // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly
                // serialize extended years.
                stringify(new Date(-8.64e15)) == '"-271821-04-20T00:00:00.000Z"' &&
                // The milliseconds are optional in ES 5, but required in 5.1.
                stringify(new Date(8.64e15)) == '"+275760-09-13T00:00:00.000Z"' &&
                // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative
                // four-digit years instead of six-digit years. Credits: @Yaffle.
                stringify(new Date(-621987552e5)) == '"-000001-01-01T00:00:00.000Z"' &&
                // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond
                // values less than 1000. Credits: @Yaffle.
                stringify(new Date(-1)) == '"1969-12-31T23:59:59.999Z"';
            } catch (exception) {
              stringifySupported = false;
            }
          }
          isSupported = stringifySupported;
        }
        // Test `JSON.parse`.
        if (name == "json-parse") {
          var parse = exports.parse;
          if (typeof parse == "function") {
            try {
              // FF 3.1b1, b2 will throw an exception if a bare literal is provided.
              // Conforming implementations should also coerce the initial argument to
              // a string prior to parsing.
              if (parse("0") === 0 && !parse(false)) {
                // Simple parsing test.
                value = parse(serialized);
                var parseSupported = value["a"].length == 5 && value["a"][0] === 1;
                if (parseSupported) {
                  try {
                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.
                    parseSupported = !parse('"\t"');
                  } catch (exception) {}
                  if (parseSupported) {
                    try {
                      // FF 4.0 and 4.0.1 allow leading `+` signs and leading
                      // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow
                      // certain octal literals.
                      parseSupported = parse("01") !== 1;
                    } catch (exception) {}
                  }
                  if (parseSupported) {
                    try {
                      // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal
                      // points. These environments, along with FF 3.1b1 and 2,
                      // also allow trailing commas in JSON objects and arrays.
                      parseSupported = parse("1.") !== 1;
                    } catch (exception) {}
                  }
                }
              }
            } catch (exception) {
              parseSupported = false;
            }
          }
          isSupported = parseSupported;
        }
      }
      return has[name] = !!isSupported;
    }

    if (!has("json")) {
      // Common `[[Class]]` name aliases.
      var functionClass = "[object Function]",
          dateClass = "[object Date]",
          numberClass = "[object Number]",
          stringClass = "[object String]",
          arrayClass = "[object Array]",
          booleanClass = "[object Boolean]";

      // Detect incomplete support for accessing string characters by index.
      var charIndexBuggy = has("bug-string-char-index");

      // Define additional utility methods if the `Date` methods are buggy.
      if (!isExtended) {
        var floor = Math.floor;
        // A mapping between the months of the year and the number of days between
        // January 1st and the first of the respective month.
        var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];
        // Internal: Calculates the number of days between the Unix epoch and the
        // first day of the given month.
        var getDay = function (year, month) {
          return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);
        };
      }

      // Internal: Determines if a property is a direct property of the given
      // object. Delegates to the native `Object#hasOwnProperty` method.
      if (!(isProperty = objectProto.hasOwnProperty)) {
        isProperty = function (property) {
          var members = {}, constructor;
          if ((members.__proto__ = null, members.__proto__ = {
            // The *proto* property cannot be set multiple times in recent
            // versions of Firefox and SeaMonkey.
            "toString": 1
          }, members).toString != getClass) {
            // Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but
            // supports the mutable *proto* property.
            isProperty = function (property) {
              // Capture and break the object's prototype chain (see section 8.6.2
              // of the ES 5.1 spec). The parenthesized expression prevents an
              // unsafe transformation by the Closure Compiler.
              var original = this.__proto__, result = property in (this.__proto__ = null, this);
              // Restore the original prototype chain.
              this.__proto__ = original;
              return result;
            };
          } else {
            // Capture a reference to the top-level `Object` constructor.
            constructor = members.constructor;
            // Use the `constructor` property to simulate `Object#hasOwnProperty` in
            // other environments.
            isProperty = function (property) {
              var parent = (this.constructor || constructor).prototype;
              return property in this && !(property in parent && this[property] === parent[property]);
            };
          }
          members = null;
          return isProperty.call(this, property);
        };
      }

      // Internal: Normalizes the `for...in` iteration algorithm across
      // environments. Each enumerated key is yielded to a `callback` function.
      forEach = function (object, callback) {
        var size = 0, Properties, members, property;

        // Tests for bugs in the current environment's `for...in` algorithm. The
        // `valueOf` property inherits the non-enumerable flag from
        // `Object.prototype` in older versions of IE, Netscape, and Mozilla.
        (Properties = function () {
          this.valueOf = 0;
        }).prototype.valueOf = 0;

        // Iterate over a new instance of the `Properties` class.
        members = new Properties();
        for (property in members) {
          // Ignore all properties inherited from `Object.prototype`.
          if (isProperty.call(members, property)) {
            size++;
          }
        }
        Properties = members = null;

        // Normalize the iteration algorithm.
        if (!size) {
          // A list of non-enumerable properties inherited from `Object.prototype`.
          members = ["valueOf", "toString", "toLocaleString", "propertyIsEnumerable", "isPrototypeOf", "hasOwnProperty", "constructor"];
          // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable
          // properties.
          forEach = function (object, callback) {
            var isFunction = getClass.call(object) == functionClass, property, length;
            var hasProperty = !isFunction && typeof object.constructor != "function" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;
            for (property in object) {
              // Gecko <= 1.0 enumerates the `prototype` property of functions under
              // certain conditions; IE does not.
              if (!(isFunction && property == "prototype") && hasProperty.call(object, property)) {
                callback(property);
              }
            }
            // Manually invoke the callback for each non-enumerable property.
            for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));
          };
        } else if (size == 2) {
          // Safari <= 2.0.4 enumerates shadowed properties twice.
          forEach = function (object, callback) {
            // Create a set of iterated properties.
            var members = {}, isFunction = getClass.call(object) == functionClass, property;
            for (property in object) {
              // Store each property name to prevent double enumeration. The
              // `prototype` property of functions is not enumerated due to cross-
              // environment inconsistencies.
              if (!(isFunction && property == "prototype") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {
                callback(property);
              }
            }
          };
        } else {
          // No bugs detected; use the standard `for...in` algorithm.
          forEach = function (object, callback) {
            var isFunction = getClass.call(object) == functionClass, property, isConstructor;
            for (property in object) {
              if (!(isFunction && property == "prototype") && isProperty.call(object, property) && !(isConstructor = property === "constructor")) {
                callback(property);
              }
            }
            // Manually invoke the callback for the `constructor` property due to
            // cross-environment inconsistencies.
            if (isConstructor || isProperty.call(object, (property = "constructor"))) {
              callback(property);
            }
          };
        }
        return forEach(object, callback);
      };

      // Public: Serializes a JavaScript `value` as a JSON string. The optional
      // `filter` argument may specify either a function that alters how object and
      // array members are serialized, or an array of strings and numbers that
      // indicates which properties should be serialized. The optional `width`
      // argument may be either a string or number that specifies the indentation
      // level of the output.
      if (!has("json-stringify")) {
        // Internal: A map of control characters and their escaped equivalents.
        var Escapes = {
          92: "\\\\",
          34: '\\"',
          8: "\\b",
          12: "\\f",
          10: "\\n",
          13: "\\r",
          9: "\\t"
        };

        // Internal: Converts `value` into a zero-padded string such that its
        // length is at least equal to `width`. The `width` must be <= 6.
        var leadingZeroes = "000000";
        var toPaddedString = function (width, value) {
          // The `|| 0` expression is necessary to work around a bug in
          // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== "0"`.
          return (leadingZeroes + (value || 0)).slice(-width);
        };

        // Internal: Double-quotes a string `value`, replacing all ASCII control
        // characters (characters with code unit values between 0 and 31) with
        // their escaped equivalents. This is an implementation of the
        // `Quote(value)` operation defined in ES 5.1 section 15.12.3.
        var unicodePrefix = "\\u00";
        var quote = function (value) {
          var result = '"', index = 0, length = value.length, useCharIndex = !charIndexBuggy || length > 10;
          var symbols = useCharIndex && (charIndexBuggy ? value.split("") : value);
          for (; index < length; index++) {
            var charCode = value.charCodeAt(index);
            // If the character is a control character, append its Unicode or
            // shorthand escape sequence; otherwise, append the character as-is.
            switch (charCode) {
              case 8: case 9: case 10: case 12: case 13: case 34: case 92:
                result += Escapes[charCode];
                break;
              default:
                if (charCode < 32) {
                  result += unicodePrefix + toPaddedString(2, charCode.toString(16));
                  break;
                }
                result += useCharIndex ? symbols[index] : value.charAt(index);
            }
          }
          return result + '"';
        };

        // Internal: Recursively serializes an object. Implements the
        // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.
        var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {
          var value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;
          try {
            // Necessary for host object support.
            value = object[property];
          } catch (exception) {}
          if (typeof value == "object" && value) {
            className = getClass.call(value);
            if (className == dateClass && !isProperty.call(value, "toJSON")) {
              if (value > -1 / 0 && value < 1 / 0) {
                // Dates are serialized according to the `Date#toJSON` method
                // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15
                // for the ISO 8601 date time string format.
                if (getDay) {
                  // Manually compute the year, month, date, hours, minutes,
                  // seconds, and milliseconds if the `getUTC*` methods are
                  // buggy. Adapted from @Yaffle's `date-shim` project.
                  date = floor(value / 864e5);
                  for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);
                  for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);
                  date = 1 + date - getDay(year, month);
                  // The `time` value specifies the time within the day (see ES
                  // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used
                  // to compute `A modulo B`, as the `%` operator does not
                  // correspond to the `modulo` operation for negative numbers.
                  time = (value % 864e5 + 864e5) % 864e5;
                  // The hours, minutes, seconds, and milliseconds are obtained by
                  // decomposing the time within the day. See section 15.9.1.10.
                  hours = floor(time / 36e5) % 24;
                  minutes = floor(time / 6e4) % 60;
                  seconds = floor(time / 1e3) % 60;
                  milliseconds = time % 1e3;
                } else {
                  year = value.getUTCFullYear();
                  month = value.getUTCMonth();
                  date = value.getUTCDate();
                  hours = value.getUTCHours();
                  minutes = value.getUTCMinutes();
                  seconds = value.getUTCSeconds();
                  milliseconds = value.getUTCMilliseconds();
                }
                // Serialize extended years correctly.
                value = (year <= 0 || year >= 1e4 ? (year < 0 ? "-" : "+") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +
                  "-" + toPaddedString(2, month + 1) + "-" + toPaddedString(2, date) +
                  // Months, dates, hours, minutes, and seconds should have two
                  // digits; milliseconds should have three.
                  "T" + toPaddedString(2, hours) + ":" + toPaddedString(2, minutes) + ":" + toPaddedString(2, seconds) +
                  // Milliseconds are optional in ES 5.0, but required in 5.1.
                  "." + toPaddedString(3, milliseconds) + "Z";
              } else {
                value = null;
              }
            } else if (typeof value.toJSON == "function" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, "toJSON"))) {
              // Prototype <= 1.6.1 adds non-standard `toJSON` methods to the
              // `Number`, `String`, `Date`, and `Array` prototypes. JSON 3
              // ignores all `toJSON` methods on these objects unless they are
              // defined directly on an instance.
              value = value.toJSON(property);
            }
          }
          if (callback) {
            // If a replacement function was provided, call it to obtain the value
            // for serialization.
            value = callback.call(object, property, value);
          }
          if (value === null) {
            return "null";
          }
          className = getClass.call(value);
          if (className == booleanClass) {
            // Booleans are represented literally.
            return "" + value;
          } else if (className == numberClass) {
            // JSON numbers must be finite. `Infinity` and `NaN` are serialized as
            // `"null"`.
            return value > -1 / 0 && value < 1 / 0 ? "" + value : "null";
          } else if (className == stringClass) {
            // Strings are double-quoted and escaped.
            return quote("" + value);
          }
          // Recursively serialize objects and arrays.
          if (typeof value == "object") {
            // Check for cyclic structures. This is a linear search; performance
            // is inversely proportional to the number of unique nested objects.
            for (length = stack.length; length--;) {
              if (stack[length] === value) {
                // Cyclic structures cannot be serialized by `JSON.stringify`.
                throw TypeError();
              }
            }
            // Add the object to the stack of traversed objects.
            stack.push(value);
            results = [];
            // Save the current indentation level and indent one additional level.
            prefix = indentation;
            indentation += whitespace;
            if (className == arrayClass) {
              // Recursively serialize array elements.
              for (index = 0, length = value.length; index < length; index++) {
                element = serialize(index, value, callback, properties, whitespace, indentation, stack);
                results.push(element === undef ? "null" : element);
              }
              result = results.length ? (whitespace ? "[\n" + indentation + results.join(",\n" + indentation) + "\n" + prefix + "]" : ("[" + results.join(",") + "]")) : "[]";
            } else {
              // Recursively serialize object members. Members are selected from
              // either a user-specified list of property names, or the object
              // itself.
              forEach(properties || value, function (property) {
                var element = serialize(property, value, callback, properties, whitespace, indentation, stack);
                if (element !== undef) {
                  // According to ES 5.1 section 15.12.3: "If `gap` {whitespace}
                  // is not the empty string, let `member` {quote(property) + ":"}
                  // be the concatenation of `member` and the `space` character."
                  // The "`space` character" refers to the literal space
                  // character, not the `space` {width} argument provided to
                  // `JSON.stringify`.
                  results.push(quote(property) + ":" + (whitespace ? " " : "") + element);
                }
              });
              result = results.length ? (whitespace ? "{\n" + indentation + results.join(",\n" + indentation) + "\n" + prefix + "}" : ("{" + results.join(",") + "}")) : "{}";
            }
            // Remove the object from the traversed object stack.
            stack.pop();
            return result;
          }
        };

        // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.
        exports.stringify = function (source, filter, width) {
          var whitespace, callback, properties, className;
          if (objectTypes[typeof filter] && filter) {
            if ((className = getClass.call(filter)) == functionClass) {
              callback = filter;
            } else if (className == arrayClass) {
              // Convert the property names array into a makeshift set.
              properties = {};
              for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));
            }
          }
          if (width) {
            if ((className = getClass.call(width)) == numberClass) {
              // Convert the `width` to an integer and create a string containing
              // `width` number of space characters.
              if ((width -= width % 1) > 0) {
                for (whitespace = "", width > 10 && (width = 10); whitespace.length < width; whitespace += " ");
              }
            } else if (className == stringClass) {
              whitespace = width.length <= 10 ? width : width.slice(0, 10);
            }
          }
          // Opera <= 7.54u2 discards the values associated with empty string keys
          // (`""`) only if they are used directly within an object member list
          // (e.g., `!("" in { "": 1})`).
          return serialize("", (value = {}, value[""] = source, value), callback, properties, whitespace, "", []);
        };
      }

      // Public: Parses a JSON source string.
      if (!has("json-parse")) {
        var fromCharCode = String.fromCharCode;

        // Internal: A map of escaped control characters and their unescaped
        // equivalents.
        var Unescapes = {
          92: "\\",
          34: '"',
          47: "/",
          98: "\b",
          116: "\t",
          110: "\n",
          102: "\f",
          114: "\r"
        };

        // Internal: Stores the parser state.
        var Index, Source;

        // Internal: Resets the parser state and throws a `SyntaxError`.
        var abort = function () {
          Index = Source = null;
          throw SyntaxError();
        };

        // Internal: Returns the next token, or `"$"` if the parser has reached
        // the end of the source string. A token may be a string, number, `null`
        // literal, or Boolean literal.
        var lex = function () {
          var source = Source, length = source.length, value, begin, position, isSigned, charCode;
          while (Index < length) {
            charCode = source.charCodeAt(Index);
            switch (charCode) {
              case 9: case 10: case 13: case 32:
                // Skip whitespace tokens, including tabs, carriage returns, line
                // feeds, and space characters.
                Index++;
                break;
              case 123: case 125: case 91: case 93: case 58: case 44:
                // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at
                // the current position.
                value = charIndexBuggy ? source.charAt(Index) : source[Index];
                Index++;
                return value;
              case 34:
                // `"` delimits a JSON string; advance to the next character and
                // begin parsing the string. String tokens are prefixed with the
                // sentinel `@` character to distinguish them from punctuators and
                // end-of-string tokens.
                for (value = "@", Index++; Index < length;) {
                  charCode = source.charCodeAt(Index);
                  if (charCode < 32) {
                    // Unescaped ASCII control characters (those with a code unit
                    // less than the space character) are not permitted.
                    abort();
                  } else if (charCode == 92) {
                    // A reverse solidus (`\`) marks the beginning of an escaped
                    // control character (including `"`, `\`, and `/`) or Unicode
                    // escape sequence.
                    charCode = source.charCodeAt(++Index);
                    switch (charCode) {
                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:
                        // Revive escaped control characters.
                        value += Unescapes[charCode];
                        Index++;
                        break;
                      case 117:
                        // `\u` marks the beginning of a Unicode escape sequence.
                        // Advance to the first character and validate the
                        // four-digit code point.
                        begin = ++Index;
                        for (position = Index + 4; Index < position; Index++) {
                          charCode = source.charCodeAt(Index);
                          // A valid sequence comprises four hexdigits (case-
                          // insensitive) that form a single hexadecimal value.
                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {
                            // Invalid Unicode escape sequence.
                            abort();
                          }
                        }
                        // Revive the escaped character.
                        value += fromCharCode("0x" + source.slice(begin, Index));
                        break;
                      default:
                        // Invalid escape sequence.
                        abort();
                    }
                  } else {
                    if (charCode == 34) {
                      // An unescaped double-quote character marks the end of the
                      // string.
                      break;
                    }
                    charCode = source.charCodeAt(Index);
                    begin = Index;
                    // Optimize for the common case where a string is valid.
                    while (charCode >= 32 && charCode != 92 && charCode != 34) {
                      charCode = source.charCodeAt(++Index);
                    }
                    // Append the string as-is.
                    value += source.slice(begin, Index);
                  }
                }
                if (source.charCodeAt(Index) == 34) {
                  // Advance to the next character and return the revived string.
                  Index++;
                  return value;
                }
                // Unterminated string.
                abort();
              default:
                // Parse numbers and literals.
                begin = Index;
                // Advance past the negative sign, if one is specified.
                if (charCode == 45) {
                  isSigned = true;
                  charCode = source.charCodeAt(++Index);
                }
                // Parse an integer or floating-point value.
                if (charCode >= 48 && charCode <= 57) {
                  // Leading zeroes are interpreted as octal literals.
                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {
                    // Illegal octal literal.
                    abort();
                  }
                  isSigned = false;
                  // Parse the integer component.
                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);
                  // Floats cannot contain a leading decimal point; however, this
                  // case is already accounted for by the parser.
                  if (source.charCodeAt(Index) == 46) {
                    position = ++Index;
                    // Parse the decimal component.
                    for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);
                    if (position == Index) {
                      // Illegal trailing decimal.
                      abort();
                    }
                    Index = position;
                  }
                  // Parse exponents. The `e` denoting the exponent is
                  // case-insensitive.
                  charCode = source.charCodeAt(Index);
                  if (charCode == 101 || charCode == 69) {
                    charCode = source.charCodeAt(++Index);
                    // Skip past the sign following the exponent, if one is
                    // specified.
                    if (charCode == 43 || charCode == 45) {
                      Index++;
                    }
                    // Parse the exponential component.
                    for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);
                    if (position == Index) {
                      // Illegal empty exponent.
                      abort();
                    }
                    Index = position;
                  }
                  // Coerce the parsed value to a JavaScript number.
                  return +source.slice(begin, Index);
                }
                // A negative sign may only precede numbers.
                if (isSigned) {
                  abort();
                }
                // `true`, `false`, and `null` literals.
                if (source.slice(Index, Index + 4) == "true") {
                  Index += 4;
                  return true;
                } else if (source.slice(Index, Index + 5) == "false") {
                  Index += 5;
                  return false;
                } else if (source.slice(Index, Index + 4) == "null") {
                  Index += 4;
                  return null;
                }
                // Unrecognized token.
                abort();
            }
          }
          // Return the sentinel `$` character if the parser has reached the end
          // of the source string.
          return "$";
        };

        // Internal: Parses a JSON `value` token.
        var get = function (value) {
          var results, hasMembers;
          if (value == "$") {
            // Unexpected end of input.
            abort();
          }
          if (typeof value == "string") {
            if ((charIndexBuggy ? value.charAt(0) : value[0]) == "@") {
              // Remove the sentinel `@` character.
              return value.slice(1);
            }
            // Parse object and array literals.
            if (value == "[") {
              // Parses a JSON array, returning a new JavaScript array.
              results = [];
              for (;; hasMembers || (hasMembers = true)) {
                value = lex();
                // A closing square bracket marks the end of the array literal.
                if (value == "]") {
                  break;
                }
                // If the array literal contains elements, the current token
                // should be a comma separating the previous element from the
                // next.
                if (hasMembers) {
                  if (value == ",") {
                    value = lex();
                    if (value == "]") {
                      // Unexpected trailing `,` in array literal.
                      abort();
                    }
                  } else {
                    // A `,` must separate each array element.
                    abort();
                  }
                }
                // Elisions and leading commas are not permitted.
                if (value == ",") {
                  abort();
                }
                results.push(get(value));
              }
              return results;
            } else if (value == "{") {
              // Parses a JSON object, returning a new JavaScript object.
              results = {};
              for (;; hasMembers || (hasMembers = true)) {
                value = lex();
                // A closing curly brace marks the end of the object literal.
                if (value == "}") {
                  break;
                }
                // If the object literal contains members, the current token
                // should be a comma separator.
                if (hasMembers) {
                  if (value == ",") {
                    value = lex();
                    if (value == "}") {
                      // Unexpected trailing `,` in object literal.
                      abort();
                    }
                  } else {
                    // A `,` must separate each object member.
                    abort();
                  }
                }
                // Leading commas are not permitted, object property names must be
                // double-quoted strings, and a `:` must separate each property
                // name and value.
                if (value == "," || typeof value != "string" || (charIndexBuggy ? value.charAt(0) : value[0]) != "@" || lex() != ":") {
                  abort();
                }
                results[value.slice(1)] = get(lex());
              }
              return results;
            }
            // Unexpected token encountered.
            abort();
          }
          return value;
        };

        // Internal: Updates a traversed object member.
        var update = function (source, property, callback) {
          var element = walk(source, property, callback);
          if (element === undef) {
            delete source[property];
          } else {
            source[property] = element;
          }
        };

        // Internal: Recursively traverses a parsed JSON object, invoking the
        // `callback` function for each value. This is an implementation of the
        // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.
        var walk = function (source, property, callback) {
          var value = source[property], length;
          if (typeof value == "object" && value) {
            // `forEach` can't be used to traverse an array in Opera <= 8.54
            // because its `Object#hasOwnProperty` implementation returns `false`
            // for array indices (e.g., `![1, 2, 3].hasOwnProperty("0")`).
            if (getClass.call(value) == arrayClass) {
              for (length = value.length; length--;) {
                update(value, length, callback);
              }
            } else {
              forEach(value, function (property) {
                update(value, property, callback);
              });
            }
          }
          return callback.call(source, property, value);
        };

        // Public: `JSON.parse`. See ES 5.1 section 15.12.2.
        exports.parse = function (source, callback) {
          var result, value;
          Index = 0;
          Source = "" + source;
          result = get(lex());
          // If a JSON string contains multiple tokens, it is invalid.
          if (lex() != "$") {
            abort();
          }
          // Reset the parser state.
          Index = Source = null;
          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[""] = result, value), "", callback) : result;
        };
      }
    }

    exports["runInContext"] = runInContext;
    return exports;
  }

  if (freeExports && !isLoader) {
    // Export for CommonJS environments.
    runInContext(root, freeExports);
  } else {
    // Export for web browsers and JavaScript engines.
    var nativeJSON = root.JSON,
        previousJSON = root["JSON3"],
        isRestored = false;

    var JSON3 = runInContext(root, (root["JSON3"] = {
      // Public: Restores the original value of the global `JSON` object and
      // returns a reference to the `JSON3` object.
      "noConflict": function () {
        if (!isRestored) {
          isRestored = true;
          root.JSON = nativeJSON;
          root["JSON3"] = previousJSON;
          nativeJSON = previousJSON = null;
        }
        return JSON3;
      }
    }));

    root.JSON = {
      "parse": JSON3.parse,
      "stringify": JSON3.stringify
    };
  }

  // Export for asynchronous module loaders.
  if (isLoader) {
    define(function () {
      return JSON3;
    });
  }
}).call(this);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],59:[function(require,module,exports){
'use strict';

var has = Object.prototype.hasOwnProperty;

/**
 * Decode a URI encoded string.
 *
 * @param {String} input The URI encoded string.
 * @returns {String} The decoded string.
 * @api private
 */
function decode(input) {
  return decodeURIComponent(input.replace(/\+/g, ' '));
}

/**
 * Simple query string parser.
 *
 * @param {String} query The query string that needs to be parsed.
 * @returns {Object}
 * @api public
 */
function querystring(query) {
  var parser = /([^=?&]+)=?([^&]*)/g
    , result = {}
    , part;

  while (part = parser.exec(query)) {
    var key = decode(part[1])
      , value = decode(part[2]);

    //
    // Prevent overriding of existing properties. This ensures that build-in
    // methods like `toString` or __proto__ are not overriden by malicious
    // querystrings.
    //
    if (key in result) continue;
    result[key] = value;
  }

  return result;
}

/**
 * Transform a query string to an object.
 *
 * @param {Object} obj Object that should be transformed.
 * @param {String} prefix Optional prefix.
 * @returns {String}
 * @api public
 */
function querystringify(obj, prefix) {
  prefix = prefix || '';

  var pairs = [];

  //
  // Optionally prefix with a '?' if needed
  //
  if ('string' !== typeof prefix) prefix = '?';

  for (var key in obj) {
    if (has.call(obj, key)) {
      pairs.push(encodeURIComponent(key) +'='+ encodeURIComponent(obj[key]));
    }
  }

  return pairs.length ? prefix + pairs.join('&') : '';
}

//
// Expose the module.
//
exports.stringify = querystringify;
exports.parse = querystring;

},{}],60:[function(require,module,exports){
'use strict';

/**
 * Check if we're required to add a port number.
 *
 * @see https://url.spec.whatwg.org/#default-port
 * @param {Number|String} port Port number we need to check
 * @param {String} protocol Protocol we need to check against.
 * @returns {Boolean} Is it a default port for the given protocol
 * @api private
 */
module.exports = function required(port, protocol) {
  protocol = protocol.split(':')[0];
  port = +port;

  if (!port) return false;

  switch (protocol) {
    case 'http':
    case 'ws':
    return port !== 80;

    case 'https':
    case 'wss':
    return port !== 443;

    case 'ftp':
    return port !== 21;

    case 'gopher':
    return port !== 70;

    case 'file':
    return false;
  }

  return port !== 0;
};

},{}],61:[function(require,module,exports){
(function (global){
'use strict';

var required = require('requires-port')
  , qs = require('querystringify')
  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i
  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\/\//;

/**
 * These are the parse rules for the URL parser, it informs the parser
 * about:
 *
 * 0. The char it Needs to parse, if it's a string it should be done using
 *    indexOf, RegExp using exec and NaN means set as current value.
 * 1. The property we should set when parsing this value.
 * 2. Indication if it's backwards or forward parsing, when set as number it's
 *    the value of extra chars that should be split off.
 * 3. Inherit from location if non existing in the parser.
 * 4. `toLowerCase` the resulting value.
 */
var rules = [
  ['#', 'hash'],                        // Extract from the back.
  ['?', 'query'],                       // Extract from the back.
  function sanitize(address) {          // Sanitize what is left of the address
    return address.replace('\\', '/');
  },
  ['/', 'pathname'],                    // Extract from the back.
  ['@', 'auth', 1],                     // Extract from the front.
  [NaN, 'host', undefined, 1, 1],       // Set left over value.
  [/:(\d+)$/, 'port', undefined, 1],    // RegExp the back.
  [NaN, 'hostname', undefined, 1, 1]    // Set left over.
];

/**
 * These properties should not be copied or inherited from. This is only needed
 * for all non blob URL's as a blob URL does not include a hash, only the
 * origin.
 *
 * @type {Object}
 * @private
 */
var ignore = { hash: 1, query: 1 };

/**
 * The location object differs when your code is loaded through a normal page,
 * Worker or through a worker using a blob. And with the blobble begins the
 * trouble as the location object will contain the URL of the blob, not the
 * location of the page where our code is loaded in. The actual origin is
 * encoded in the `pathname` so we can thankfully generate a good "default"
 * location from it so we can generate proper relative URL's again.
 *
 * @param {Object|String} loc Optional default location object.
 * @returns {Object} lolcation object.
 * @public
 */
function lolcation(loc) {
  var location = global && global.location || {};
  loc = loc || location;

  var finaldestination = {}
    , type = typeof loc
    , key;

  if ('blob:' === loc.protocol) {
    finaldestination = new Url(unescape(loc.pathname), {});
  } else if ('string' === type) {
    finaldestination = new Url(loc, {});
    for (key in ignore) delete finaldestination[key];
  } else if ('object' === type) {
    for (key in loc) {
      if (key in ignore) continue;
      finaldestination[key] = loc[key];
    }

    if (finaldestination.slashes === undefined) {
      finaldestination.slashes = slashes.test(loc.href);
    }
  }

  return finaldestination;
}

/**
 * @typedef ProtocolExtract
 * @type Object
 * @property {String} protocol Protocol matched in the URL, in lowercase.
 * @property {Boolean} slashes `true` if protocol is followed by "//", else `false`.
 * @property {String} rest Rest of the URL that is not part of the protocol.
 */

/**
 * Extract protocol information from a URL with/without double slash ("//").
 *
 * @param {String} address URL we want to extract from.
 * @return {ProtocolExtract} Extracted information.
 * @private
 */
function extractProtocol(address) {
  var match = protocolre.exec(address);

  return {
    protocol: match[1] ? match[1].toLowerCase() : '',
    slashes: !!match[2],
    rest: match[3]
  };
}

/**
 * Resolve a relative URL pathname against a base URL pathname.
 *
 * @param {String} relative Pathname of the relative URL.
 * @param {String} base Pathname of the base URL.
 * @return {String} Resolved pathname.
 * @private
 */
function resolve(relative, base) {
  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))
    , i = path.length
    , last = path[i - 1]
    , unshift = false
    , up = 0;

  while (i--) {
    if (path[i] === '.') {
      path.splice(i, 1);
    } else if (path[i] === '..') {
      path.splice(i, 1);
      up++;
    } else if (up) {
      if (i === 0) unshift = true;
      path.splice(i, 1);
      up--;
    }
  }

  if (unshift) path.unshift('');
  if (last === '.' || last === '..') path.push('');

  return path.join('/');
}

/**
 * The actual URL instance. Instead of returning an object we've opted-in to
 * create an actual constructor as it's much more memory efficient and
 * faster and it pleases my OCD.
 *
 * It is worth noting that we should not use `URL` as class name to prevent
 * clashes with the global URL instance that got introduced in browsers.
 *
 * @constructor
 * @param {String} address URL we want to parse.
 * @param {Object|String} location Location defaults for relative paths.
 * @param {Boolean|Function} parser Parser for the query string.
 * @private
 */
function Url(address, location, parser) {
  if (!(this instanceof Url)) {
    return new Url(address, location, parser);
  }

  var relative, extracted, parse, instruction, index, key
    , instructions = rules.slice()
    , type = typeof location
    , url = this
    , i = 0;

  //
  // The following if statements allows this module two have compatibility with
  // 2 different API:
  //
  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments
  //    where the boolean indicates that the query string should also be parsed.
  //
  // 2. The `URL` interface of the browser which accepts a URL, object as
  //    arguments. The supplied object will be used as default values / fall-back
  //    for relative paths.
  //
  if ('object' !== type && 'string' !== type) {
    parser = location;
    location = null;
  }

  if (parser && 'function' !== typeof parser) parser = qs.parse;

  location = lolcation(location);

  //
  // Extract protocol information before running the instructions.
  //
  extracted = extractProtocol(address || '');
  relative = !extracted.protocol && !extracted.slashes;
  url.slashes = extracted.slashes || relative && location.slashes;
  url.protocol = extracted.protocol || location.protocol || '';
  address = extracted.rest;

  //
  // When the authority component is absent the URL starts with a path
  // component.
  //
  if (!extracted.slashes) instructions[3] = [/(.*)/, 'pathname'];

  for (; i < instructions.length; i++) {
    instruction = instructions[i];

    if (typeof instruction === 'function') {
      address = instruction(address);
      continue;
    }

    parse = instruction[0];
    key = instruction[1];

    if (parse !== parse) {
      url[key] = address;
    } else if ('string' === typeof parse) {
      if (~(index = address.indexOf(parse))) {
        if ('number' === typeof instruction[2]) {
          url[key] = address.slice(0, index);
          address = address.slice(index + instruction[2]);
        } else {
          url[key] = address.slice(index);
          address = address.slice(0, index);
        }
      }
    } else if ((index = parse.exec(address))) {
      url[key] = index[1];
      address = address.slice(0, index.index);
    }

    url[key] = url[key] || (
      relative && instruction[3] ? location[key] || '' : ''
    );

    //
    // Hostname, host and protocol should be lowercased so they can be used to
    // create a proper `origin`.
    //
    if (instruction[4]) url[key] = url[key].toLowerCase();
  }

  //
  // Also parse the supplied query string in to an object. If we're supplied
  // with a custom parser as function use that instead of the default build-in
  // parser.
  //
  if (parser) url.query = parser(url.query);

  //
  // If the URL is relative, resolve the pathname against the base URL.
  //
  if (
      relative
    && location.slashes
    && url.pathname.charAt(0) !== '/'
    && (url.pathname !== '' || location.pathname !== '')
  ) {
    url.pathname = resolve(url.pathname, location.pathname);
  }

  //
  // We should not add port numbers if they are already the default port number
  // for a given protocol. As the host also contains the port number we're going
  // override it with the hostname which contains no port number.
  //
  if (!required(url.port, url.protocol)) {
    url.host = url.hostname;
    url.port = '';
  }

  //
  // Parse down the `auth` for the username and password.
  //
  url.username = url.password = '';
  if (url.auth) {
    instruction = url.auth.split(':');
    url.username = instruction[0] || '';
    url.password = instruction[1] || '';
  }

  url.origin = url.protocol && url.host && url.protocol !== 'file:'
    ? url.protocol +'//'+ url.host
    : 'null';

  //
  // The href is just the compiled result.
  //
  url.href = url.toString();
}

/**
 * This is convenience method for changing properties in the URL instance to
 * insure that they all propagate correctly.
 *
 * @param {String} part          Property we need to adjust.
 * @param {Mixed} value          The newly assigned value.
 * @param {Boolean|Function} fn  When setting the query, it will be the function
 *                               used to parse the query.
 *                               When setting the protocol, double slash will be
 *                               removed from the final url if it is true.
 * @returns {URL} URL instance for chaining.
 * @public
 */
function set(part, value, fn) {
  var url = this;

  switch (part) {
    case 'query':
      if ('string' === typeof value && value.length) {
        value = (fn || qs.parse)(value);
      }

      url[part] = value;
      break;

    case 'port':
      url[part] = value;

      if (!required(value, url.protocol)) {
        url.host = url.hostname;
        url[part] = '';
      } else if (value) {
        url.host = url.hostname +':'+ value;
      }

      break;

    case 'hostname':
      url[part] = value;

      if (url.port) value += ':'+ url.port;
      url.host = value;
      break;

    case 'host':
      url[part] = value;

      if (/:\d+$/.test(value)) {
        value = value.split(':');
        url.port = value.pop();
        url.hostname = value.join(':');
      } else {
        url.hostname = value;
        url.port = '';
      }

      break;

    case 'protocol':
      url.protocol = value.toLowerCase();
      url.slashes = !fn;
      break;

    case 'pathname':
    case 'hash':
      if (value) {
        var char = part === 'pathname' ? '/' : '#';
        url[part] = value.charAt(0) !== char ? char + value : value;
      } else {
        url[part] = value;
      }
      break;

    default:
      url[part] = value;
  }

  for (var i = 0; i < rules.length; i++) {
    var ins = rules[i];

    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();
  }

  url.origin = url.protocol && url.host && url.protocol !== 'file:'
    ? url.protocol +'//'+ url.host
    : 'null';

  url.href = url.toString();

  return url;
}

/**
 * Transform the properties back in to a valid and full URL string.
 *
 * @param {Function} stringify Optional query stringify function.
 * @returns {String} Compiled version of the URL.
 * @public
 */
function toString(stringify) {
  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;

  var query
    , url = this
    , protocol = url.protocol;

  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';

  var result = protocol + (url.slashes ? '//' : '');

  if (url.username) {
    result += url.username;
    if (url.password) result += ':'+ url.password;
    result += '@';
  }

  result += url.host + url.pathname;

  query = 'object' === typeof url.query ? stringify(url.query) : url.query;
  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;

  if (url.hash) result += url.hash;

  return result;
}

Url.prototype = { set: set, toString: toString };

//
// Expose the URL parser and some additional properties that might be useful for
// others or testing.
//
Url.extractProtocol = extractProtocol;
Url.location = lolcation;
Url.qs = qs;

module.exports = Url;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"querystringify":59,"requires-port":60}]},{},[1])(1)
});


//# sourceMappingURL=sockjs.js.map

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/url/url.js":
/*!*********************************!*\
  !*** ./node_modules/url/url.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var punycode = __webpack_require__(/*! punycode */ "./node_modules/node-libs-browser/node_modules/punycode/punycode.js");
var util = __webpack_require__(/*! ./util */ "./node_modules/url/util.js");

exports.parse = urlParse;
exports.resolve = urlResolve;
exports.resolveObject = urlResolveObject;
exports.format = urlFormat;

exports.Url = Url;

function Url() {
  this.protocol = null;
  this.slashes = null;
  this.auth = null;
  this.host = null;
  this.port = null;
  this.hostname = null;
  this.hash = null;
  this.search = null;
  this.query = null;
  this.pathname = null;
  this.path = null;
  this.href = null;
}

// Reference: RFC 3986, RFC 1808, RFC 2396

// define these here so at least they only have to be
// compiled once on the first module load.
var protocolPattern = /^([a-z0-9.+-]+:)/i,
    portPattern = /:[0-9]*$/,

    // Special case for a simple path URL
    simplePathPattern = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,

    // RFC 2396: characters reserved for delimiting URLs.
    // We actually just auto-escape these.
    delims = ['<', '>', '"', '`', ' ', '\r', '\n', '\t'],

    // RFC 2396: characters not allowed for various reasons.
    unwise = ['{', '}', '|', '\\', '^', '`'].concat(delims),

    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.
    autoEscape = ['\''].concat(unwise),
    // Characters that are never ever allowed in a hostname.
    // Note that any invalid chars are also handled, but these
    // are the ones that are *expected* to be seen, so we fast-path
    // them.
    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),
    hostEndingChars = ['/', '?', '#'],
    hostnameMaxLen = 255,
    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,
    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
    // protocols that can allow "unsafe" and "unwise" chars.
    unsafeProtocol = {
      'javascript': true,
      'javascript:': true
    },
    // protocols that never have a hostname.
    hostlessProtocol = {
      'javascript': true,
      'javascript:': true
    },
    // protocols that always contain a // bit.
    slashedProtocol = {
      'http': true,
      'https': true,
      'ftp': true,
      'gopher': true,
      'file': true,
      'http:': true,
      'https:': true,
      'ftp:': true,
      'gopher:': true,
      'file:': true
    },
    querystring = __webpack_require__(/*! querystring */ "./node_modules/querystring-es3/index.js");

function urlParse(url, parseQueryString, slashesDenoteHost) {
  if (url && util.isObject(url) && url instanceof Url) return url;

  var u = new Url;
  u.parse(url, parseQueryString, slashesDenoteHost);
  return u;
}

Url.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {
  if (!util.isString(url)) {
    throw new TypeError("Parameter 'url' must be a string, not " + typeof url);
  }

  // Copy chrome, IE, opera backslash-handling behavior.
  // Back slashes before the query string get converted to forward slashes
  // See: https://code.google.com/p/chromium/issues/detail?id=25916
  var queryIndex = url.indexOf('?'),
      splitter =
          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',
      uSplit = url.split(splitter),
      slashRegex = /\\/g;
  uSplit[0] = uSplit[0].replace(slashRegex, '/');
  url = uSplit.join(splitter);

  var rest = url;

  // trim before proceeding.
  // This is to support parse stuff like "  http://foo.com  \n"
  rest = rest.trim();

  if (!slashesDenoteHost && url.split('#').length === 1) {
    // Try fast path regexp
    var simplePath = simplePathPattern.exec(rest);
    if (simplePath) {
      this.path = rest;
      this.href = rest;
      this.pathname = simplePath[1];
      if (simplePath[2]) {
        this.search = simplePath[2];
        if (parseQueryString) {
          this.query = querystring.parse(this.search.substr(1));
        } else {
          this.query = this.search.substr(1);
        }
      } else if (parseQueryString) {
        this.search = '';
        this.query = {};
      }
      return this;
    }
  }

  var proto = protocolPattern.exec(rest);
  if (proto) {
    proto = proto[0];
    var lowerProto = proto.toLowerCase();
    this.protocol = lowerProto;
    rest = rest.substr(proto.length);
  }

  // figure out if it's got a host
  // user@server is *always* interpreted as a hostname, and url
  // resolution will treat //foo/bar as host=foo,path=bar because that's
  // how the browser resolves relative URLs.
  if (slashesDenoteHost || proto || rest.match(/^\/\/[^@\/]+@[^@\/]+/)) {
    var slashes = rest.substr(0, 2) === '//';
    if (slashes && !(proto && hostlessProtocol[proto])) {
      rest = rest.substr(2);
      this.slashes = true;
    }
  }

  if (!hostlessProtocol[proto] &&
      (slashes || (proto && !slashedProtocol[proto]))) {

    // there's a hostname.
    // the first instance of /, ?, ;, or # ends the host.
    //
    // If there is an @ in the hostname, then non-host chars *are* allowed
    // to the left of the last @ sign, unless some host-ending character
    // comes *before* the @-sign.
    // URLs are obnoxious.
    //
    // ex:
    // http://a@b@c/ => user:a@b host:c
    // http://a@b?@c => user:a host:c path:/?@c

    // v0.12 TODO(isaacs): This is not quite how Chrome does things.
    // Review our test case against browsers more comprehensively.

    // find the first instance of any hostEndingChars
    var hostEnd = -1;
    for (var i = 0; i < hostEndingChars.length; i++) {
      var hec = rest.indexOf(hostEndingChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
        hostEnd = hec;
    }

    // at this point, either we have an explicit point where the
    // auth portion cannot go past, or the last @ char is the decider.
    var auth, atSign;
    if (hostEnd === -1) {
      // atSign can be anywhere.
      atSign = rest.lastIndexOf('@');
    } else {
      // atSign must be in auth portion.
      // http://a@b/c@d => host:b auth:a path:/c@d
      atSign = rest.lastIndexOf('@', hostEnd);
    }

    // Now we have a portion which is definitely the auth.
    // Pull that off.
    if (atSign !== -1) {
      auth = rest.slice(0, atSign);
      rest = rest.slice(atSign + 1);
      this.auth = decodeURIComponent(auth);
    }

    // the host is the remaining to the left of the first non-host char
    hostEnd = -1;
    for (var i = 0; i < nonHostChars.length; i++) {
      var hec = rest.indexOf(nonHostChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
        hostEnd = hec;
    }
    // if we still have not hit it, then the entire thing is a host.
    if (hostEnd === -1)
      hostEnd = rest.length;

    this.host = rest.slice(0, hostEnd);
    rest = rest.slice(hostEnd);

    // pull out port.
    this.parseHost();

    // we've indicated that there is a hostname,
    // so even if it's empty, it has to be present.
    this.hostname = this.hostname || '';

    // if hostname begins with [ and ends with ]
    // assume that it's an IPv6 address.
    var ipv6Hostname = this.hostname[0] === '[' &&
        this.hostname[this.hostname.length - 1] === ']';

    // validate a little.
    if (!ipv6Hostname) {
      var hostparts = this.hostname.split(/\./);
      for (var i = 0, l = hostparts.length; i < l; i++) {
        var part = hostparts[i];
        if (!part) continue;
        if (!part.match(hostnamePartPattern)) {
          var newpart = '';
          for (var j = 0, k = part.length; j < k; j++) {
            if (part.charCodeAt(j) > 127) {
              // we replace non-ASCII char with a temporary placeholder
              // we need this to make sure size of hostname is not
              // broken by replacing non-ASCII by nothing
              newpart += 'x';
            } else {
              newpart += part[j];
            }
          }
          // we test again with ASCII char only
          if (!newpart.match(hostnamePartPattern)) {
            var validParts = hostparts.slice(0, i);
            var notHost = hostparts.slice(i + 1);
            var bit = part.match(hostnamePartStart);
            if (bit) {
              validParts.push(bit[1]);
              notHost.unshift(bit[2]);
            }
            if (notHost.length) {
              rest = '/' + notHost.join('.') + rest;
            }
            this.hostname = validParts.join('.');
            break;
          }
        }
      }
    }

    if (this.hostname.length > hostnameMaxLen) {
      this.hostname = '';
    } else {
      // hostnames are always lower case.
      this.hostname = this.hostname.toLowerCase();
    }

    if (!ipv6Hostname) {
      // IDNA Support: Returns a punycoded representation of "domain".
      // It only converts parts of the domain name that
      // have non-ASCII characters, i.e. it doesn't matter if
      // you call it with a domain that already is ASCII-only.
      this.hostname = punycode.toASCII(this.hostname);
    }

    var p = this.port ? ':' + this.port : '';
    var h = this.hostname || '';
    this.host = h + p;
    this.href += this.host;

    // strip [ and ] from the hostname
    // the host field still retains them, though
    if (ipv6Hostname) {
      this.hostname = this.hostname.substr(1, this.hostname.length - 2);
      if (rest[0] !== '/') {
        rest = '/' + rest;
      }
    }
  }

  // now rest is set to the post-host stuff.
  // chop off any delim chars.
  if (!unsafeProtocol[lowerProto]) {

    // First, make 100% sure that any "autoEscape" chars get
    // escaped, even if encodeURIComponent doesn't think they
    // need to be.
    for (var i = 0, l = autoEscape.length; i < l; i++) {
      var ae = autoEscape[i];
      if (rest.indexOf(ae) === -1)
        continue;
      var esc = encodeURIComponent(ae);
      if (esc === ae) {
        esc = escape(ae);
      }
      rest = rest.split(ae).join(esc);
    }
  }


  // chop off from the tail first.
  var hash = rest.indexOf('#');
  if (hash !== -1) {
    // got a fragment string.
    this.hash = rest.substr(hash);
    rest = rest.slice(0, hash);
  }
  var qm = rest.indexOf('?');
  if (qm !== -1) {
    this.search = rest.substr(qm);
    this.query = rest.substr(qm + 1);
    if (parseQueryString) {
      this.query = querystring.parse(this.query);
    }
    rest = rest.slice(0, qm);
  } else if (parseQueryString) {
    // no query string, but parseQueryString still requested
    this.search = '';
    this.query = {};
  }
  if (rest) this.pathname = rest;
  if (slashedProtocol[lowerProto] &&
      this.hostname && !this.pathname) {
    this.pathname = '/';
  }

  //to support http.request
  if (this.pathname || this.search) {
    var p = this.pathname || '';
    var s = this.search || '';
    this.path = p + s;
  }

  // finally, reconstruct the href based on what has been validated.
  this.href = this.format();
  return this;
};

// format a parsed object into a url string
function urlFormat(obj) {
  // ensure it's an object, and not a string url.
  // If it's an obj, this is a no-op.
  // this way, you can call url_format() on strings
  // to clean up potentially wonky urls.
  if (util.isString(obj)) obj = urlParse(obj);
  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);
  return obj.format();
}

Url.prototype.format = function() {
  var auth = this.auth || '';
  if (auth) {
    auth = encodeURIComponent(auth);
    auth = auth.replace(/%3A/i, ':');
    auth += '@';
  }

  var protocol = this.protocol || '',
      pathname = this.pathname || '',
      hash = this.hash || '',
      host = false,
      query = '';

  if (this.host) {
    host = auth + this.host;
  } else if (this.hostname) {
    host = auth + (this.hostname.indexOf(':') === -1 ?
        this.hostname :
        '[' + this.hostname + ']');
    if (this.port) {
      host += ':' + this.port;
    }
  }

  if (this.query &&
      util.isObject(this.query) &&
      Object.keys(this.query).length) {
    query = querystring.stringify(this.query);
  }

  var search = this.search || (query && ('?' + query)) || '';

  if (protocol && protocol.substr(-1) !== ':') protocol += ':';

  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.
  // unless they had them to begin with.
  if (this.slashes ||
      (!protocol || slashedProtocol[protocol]) && host !== false) {
    host = '//' + (host || '');
    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;
  } else if (!host) {
    host = '';
  }

  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;
  if (search && search.charAt(0) !== '?') search = '?' + search;

  pathname = pathname.replace(/[?#]/g, function(match) {
    return encodeURIComponent(match);
  });
  search = search.replace('#', '%23');

  return protocol + host + pathname + search + hash;
};

function urlResolve(source, relative) {
  return urlParse(source, false, true).resolve(relative);
}

Url.prototype.resolve = function(relative) {
  return this.resolveObject(urlParse(relative, false, true)).format();
};

function urlResolveObject(source, relative) {
  if (!source) return relative;
  return urlParse(source, false, true).resolveObject(relative);
}

Url.prototype.resolveObject = function(relative) {
  if (util.isString(relative)) {
    var rel = new Url();
    rel.parse(relative, false, true);
    relative = rel;
  }

  var result = new Url();
  var tkeys = Object.keys(this);
  for (var tk = 0; tk < tkeys.length; tk++) {
    var tkey = tkeys[tk];
    result[tkey] = this[tkey];
  }

  // hash is always overridden, no matter what.
  // even href="" will remove it.
  result.hash = relative.hash;

  // if the relative url is empty, then there's nothing left to do here.
  if (relative.href === '') {
    result.href = result.format();
    return result;
  }

  // hrefs like //foo/bar always cut to the protocol.
  if (relative.slashes && !relative.protocol) {
    // take everything except the protocol from relative
    var rkeys = Object.keys(relative);
    for (var rk = 0; rk < rkeys.length; rk++) {
      var rkey = rkeys[rk];
      if (rkey !== 'protocol')
        result[rkey] = relative[rkey];
    }

    //urlParse appends trailing / to urls like http://www.example.com
    if (slashedProtocol[result.protocol] &&
        result.hostname && !result.pathname) {
      result.path = result.pathname = '/';
    }

    result.href = result.format();
    return result;
  }

  if (relative.protocol && relative.protocol !== result.protocol) {
    // if it's a known url protocol, then changing
    // the protocol does weird things
    // first, if it's not file:, then we MUST have a host,
    // and if there was a path
    // to begin with, then we MUST have a path.
    // if it is file:, then the host is dropped,
    // because that's known to be hostless.
    // anything else is assumed to be absolute.
    if (!slashedProtocol[relative.protocol]) {
      var keys = Object.keys(relative);
      for (var v = 0; v < keys.length; v++) {
        var k = keys[v];
        result[k] = relative[k];
      }
      result.href = result.format();
      return result;
    }

    result.protocol = relative.protocol;
    if (!relative.host && !hostlessProtocol[relative.protocol]) {
      var relPath = (relative.pathname || '').split('/');
      while (relPath.length && !(relative.host = relPath.shift()));
      if (!relative.host) relative.host = '';
      if (!relative.hostname) relative.hostname = '';
      if (relPath[0] !== '') relPath.unshift('');
      if (relPath.length < 2) relPath.unshift('');
      result.pathname = relPath.join('/');
    } else {
      result.pathname = relative.pathname;
    }
    result.search = relative.search;
    result.query = relative.query;
    result.host = relative.host || '';
    result.auth = relative.auth;
    result.hostname = relative.hostname || relative.host;
    result.port = relative.port;
    // to support http.request
    if (result.pathname || result.search) {
      var p = result.pathname || '';
      var s = result.search || '';
      result.path = p + s;
    }
    result.slashes = result.slashes || relative.slashes;
    result.href = result.format();
    return result;
  }

  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),
      isRelAbs = (
          relative.host ||
          relative.pathname && relative.pathname.charAt(0) === '/'
      ),
      mustEndAbs = (isRelAbs || isSourceAbs ||
                    (result.host && relative.pathname)),
      removeAllDots = mustEndAbs,
      srcPath = result.pathname && result.pathname.split('/') || [],
      relPath = relative.pathname && relative.pathname.split('/') || [],
      psychotic = result.protocol && !slashedProtocol[result.protocol];

  // if the url is a non-slashed url, then relative
  // links like ../.. should be able
  // to crawl up to the hostname, as well.  This is strange.
  // result.protocol has already been set by now.
  // Later on, put the first path part into the host field.
  if (psychotic) {
    result.hostname = '';
    result.port = null;
    if (result.host) {
      if (srcPath[0] === '') srcPath[0] = result.host;
      else srcPath.unshift(result.host);
    }
    result.host = '';
    if (relative.protocol) {
      relative.hostname = null;
      relative.port = null;
      if (relative.host) {
        if (relPath[0] === '') relPath[0] = relative.host;
        else relPath.unshift(relative.host);
      }
      relative.host = null;
    }
    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');
  }

  if (isRelAbs) {
    // it's absolute.
    result.host = (relative.host || relative.host === '') ?
                  relative.host : result.host;
    result.hostname = (relative.hostname || relative.hostname === '') ?
                      relative.hostname : result.hostname;
    result.search = relative.search;
    result.query = relative.query;
    srcPath = relPath;
    // fall through to the dot-handling below.
  } else if (relPath.length) {
    // it's relative
    // throw away the existing file, and take the new path instead.
    if (!srcPath) srcPath = [];
    srcPath.pop();
    srcPath = srcPath.concat(relPath);
    result.search = relative.search;
    result.query = relative.query;
  } else if (!util.isNullOrUndefined(relative.search)) {
    // just pull out the search.
    // like href='?foo'.
    // Put this after the other two cases because it simplifies the booleans
    if (psychotic) {
      result.hostname = result.host = srcPath.shift();
      //occationaly the auth can get stuck only in host
      //this especially happens in cases like
      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
      var authInHost = result.host && result.host.indexOf('@') > 0 ?
                       result.host.split('@') : false;
      if (authInHost) {
        result.auth = authInHost.shift();
        result.host = result.hostname = authInHost.shift();
      }
    }
    result.search = relative.search;
    result.query = relative.query;
    //to support http.request
    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
      result.path = (result.pathname ? result.pathname : '') +
                    (result.search ? result.search : '');
    }
    result.href = result.format();
    return result;
  }

  if (!srcPath.length) {
    // no path at all.  easy.
    // we've already handled the other stuff above.
    result.pathname = null;
    //to support http.request
    if (result.search) {
      result.path = '/' + result.search;
    } else {
      result.path = null;
    }
    result.href = result.format();
    return result;
  }

  // if a url ENDs in . or .., then it must get a trailing slash.
  // however, if it ends in anything else non-slashy,
  // then it must NOT get a trailing slash.
  var last = srcPath.slice(-1)[0];
  var hasTrailingSlash = (
      (result.host || relative.host || srcPath.length > 1) &&
      (last === '.' || last === '..') || last === '');

  // strip single dots, resolve double dots to parent dir
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = srcPath.length; i >= 0; i--) {
    last = srcPath[i];
    if (last === '.') {
      srcPath.splice(i, 1);
    } else if (last === '..') {
      srcPath.splice(i, 1);
      up++;
    } else if (up) {
      srcPath.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (!mustEndAbs && !removeAllDots) {
    for (; up--; up) {
      srcPath.unshift('..');
    }
  }

  if (mustEndAbs && srcPath[0] !== '' &&
      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {
    srcPath.unshift('');
  }

  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {
    srcPath.push('');
  }

  var isAbsolute = srcPath[0] === '' ||
      (srcPath[0] && srcPath[0].charAt(0) === '/');

  // put the host back
  if (psychotic) {
    result.hostname = result.host = isAbsolute ? '' :
                                    srcPath.length ? srcPath.shift() : '';
    //occationaly the auth can get stuck only in host
    //this especially happens in cases like
    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
    var authInHost = result.host && result.host.indexOf('@') > 0 ?
                     result.host.split('@') : false;
    if (authInHost) {
      result.auth = authInHost.shift();
      result.host = result.hostname = authInHost.shift();
    }
  }

  mustEndAbs = mustEndAbs || (result.host && srcPath.length);

  if (mustEndAbs && !isAbsolute) {
    srcPath.unshift('');
  }

  if (!srcPath.length) {
    result.pathname = null;
    result.path = null;
  } else {
    result.pathname = srcPath.join('/');
  }

  //to support request.http
  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
    result.path = (result.pathname ? result.pathname : '') +
                  (result.search ? result.search : '');
  }
  result.auth = relative.auth || result.auth;
  result.slashes = result.slashes || relative.slashes;
  result.href = result.format();
  return result;
};

Url.prototype.parseHost = function() {
  var host = this.host;
  var port = portPattern.exec(host);
  if (port) {
    port = port[0];
    if (port !== ':') {
      this.port = port.substr(1);
    }
    host = host.substr(0, host.length - port.length);
  }
  if (host) this.hostname = host;
};


/***/ }),

/***/ "./node_modules/url/util.js":
/*!**********************************!*\
  !*** ./node_modules/url/util.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = {
  isString: function(arg) {
    return typeof(arg) === 'string';
  },
  isObject: function(arg) {
    return typeof(arg) === 'object' && arg !== null;
  },
  isNull: function(arg) {
    return arg === null;
  },
  isNullOrUndefined: function(arg) {
    return arg == null;
  }
};


/***/ }),

/***/ "./node_modules/webpack-dev-server/client/clients/BaseClient.js":
/*!*********************************************************!*\
  !*** (webpack)-dev-server/client/clients/BaseClient.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/* eslint-disable
  no-unused-vars
*/

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

module.exports = /*#__PURE__*/function () {
  function BaseClient() {
    _classCallCheck(this, BaseClient);
  }

  _createClass(BaseClient, null, [{
    key: "getClientPath",
    value: function getClientPath(options) {
      throw new Error('Client needs implementation');
    }
  }]);

  return BaseClient;
}();

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/clients/SockJSClient.js":
/*!***********************************************************!*\
  !*** (webpack)-dev-server/client/clients/SockJSClient.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/* eslint-disable
  no-unused-vars
*/

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var SockJS = __webpack_require__(/*! sockjs-client/dist/sockjs */ "./node_modules/sockjs-client/dist/sockjs.js");

var BaseClient = __webpack_require__(/*! ./BaseClient */ "./node_modules/webpack-dev-server/client/clients/BaseClient.js");

module.exports = /*#__PURE__*/function (_BaseClient) {
  _inherits(SockJSClient, _BaseClient);

  var _super = _createSuper(SockJSClient);

  function SockJSClient(url) {
    var _this;

    _classCallCheck(this, SockJSClient);

    _this = _super.call(this);
    _this.sock = new SockJS(url);

    _this.sock.onerror = function (err) {// TODO: use logger to log the error event once client and client-src
      // are reorganized to have the same directory structure
    };

    return _this;
  }

  _createClass(SockJSClient, [{
    key: "onOpen",
    value: function onOpen(f) {
      this.sock.onopen = f;
    }
  }, {
    key: "onClose",
    value: function onClose(f) {
      this.sock.onclose = f;
    } // call f with the message string as the first argument

  }, {
    key: "onMessage",
    value: function onMessage(f) {
      this.sock.onmessage = function (e) {
        f(e.data);
      };
    }
  }], [{
    key: "getClientPath",
    value: function getClientPath(options) {
      return /*require.resolve*/(/*! ./SockJSClient */ "./node_modules/webpack-dev-server/client/clients/SockJSClient.js");
    }
  }]);

  return SockJSClient;
}(BaseClient);

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/index.js?http://localhost:9000":
/*!*********************************************************!*\
  !*** (webpack)-dev-server/client?http://localhost:9000 ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(__resourceQuery) {
/* global __resourceQuery WorkerGlobalScope self */

/* eslint prefer-destructuring: off */

var stripAnsi = __webpack_require__(/*! strip-ansi */ "./node_modules/webpack-dev-server/node_modules/strip-ansi/index.js");

var socket = __webpack_require__(/*! ./socket */ "./node_modules/webpack-dev-server/client/socket.js");

var overlay = __webpack_require__(/*! ./overlay */ "./node_modules/webpack-dev-server/client/overlay.js");

var _require = __webpack_require__(/*! ./utils/log */ "./node_modules/webpack-dev-server/client/utils/log.js"),
    log = _require.log,
    setLogLevel = _require.setLogLevel;

var sendMessage = __webpack_require__(/*! ./utils/sendMessage */ "./node_modules/webpack-dev-server/client/utils/sendMessage.js");

var reloadApp = __webpack_require__(/*! ./utils/reloadApp */ "./node_modules/webpack-dev-server/client/utils/reloadApp.js");

var createSocketUrl = __webpack_require__(/*! ./utils/createSocketUrl */ "./node_modules/webpack-dev-server/client/utils/createSocketUrl.js");

var status = {
  isUnloading: false,
  currentHash: ''
};
var options = {
  hot: false,
  hotReload: true,
  liveReload: false,
  initial: true,
  useWarningOverlay: false,
  useErrorOverlay: false,
  useProgress: false
};
var socketUrl = createSocketUrl(__resourceQuery);
self.addEventListener('beforeunload', function () {
  status.isUnloading = true;
});

if (typeof window !== 'undefined') {
  var qs = window.location.search.toLowerCase();
  options.hotReload = qs.indexOf('hotreload=false') === -1;
}

var onSocketMessage = {
  hot: function hot() {
    options.hot = true;
    log.info('[WDS] Hot Module Replacement enabled.');
  },
  liveReload: function liveReload() {
    options.liveReload = true;
    log.info('[WDS] Live Reloading enabled.');
  },
  invalid: function invalid() {
    log.info('[WDS] App updated. Recompiling...'); // fixes #1042. overlay doesn't clear if errors are fixed but warnings remain.

    if (options.useWarningOverlay || options.useErrorOverlay) {
      overlay.clear();
    }

    sendMessage('Invalid');
  },
  hash: function hash(_hash) {
    status.currentHash = _hash;
  },
  'still-ok': function stillOk() {
    log.info('[WDS] Nothing changed.');

    if (options.useWarningOverlay || options.useErrorOverlay) {
      overlay.clear();
    }

    sendMessage('StillOk');
  },
  'log-level': function logLevel(level) {
    var hotCtx = __webpack_require__("./node_modules/webpack/hot sync ^\\.\\/log$");

    if (hotCtx.keys().indexOf('./log') !== -1) {
      hotCtx('./log').setLogLevel(level);
    }

    setLogLevel(level);
  },
  overlay: function overlay(value) {
    if (typeof document !== 'undefined') {
      if (typeof value === 'boolean') {
        options.useWarningOverlay = false;
        options.useErrorOverlay = value;
      } else if (value) {
        options.useWarningOverlay = value.warnings;
        options.useErrorOverlay = value.errors;
      }
    }
  },
  progress: function progress(_progress) {
    if (typeof document !== 'undefined') {
      options.useProgress = _progress;
    }
  },
  'progress-update': function progressUpdate(data) {
    if (options.useProgress) {
      log.info("[WDS] ".concat(data.percent, "% - ").concat(data.msg, "."));
    }

    sendMessage('Progress', data);
  },
  ok: function ok() {
    sendMessage('Ok');

    if (options.useWarningOverlay || options.useErrorOverlay) {
      overlay.clear();
    }

    if (options.initial) {
      return options.initial = false;
    } // eslint-disable-line no-return-assign


    reloadApp(options, status);
  },
  'content-changed': function contentChanged() {
    log.info('[WDS] Content base changed. Reloading...');
    self.location.reload();
  },
  warnings: function warnings(_warnings) {
    log.warn('[WDS] Warnings while compiling.');

    var strippedWarnings = _warnings.map(function (warning) {
      return stripAnsi(warning);
    });

    sendMessage('Warnings', strippedWarnings);

    for (var i = 0; i < strippedWarnings.length; i++) {
      log.warn(strippedWarnings[i]);
    }

    if (options.useWarningOverlay) {
      overlay.showMessage(_warnings);
    }

    if (options.initial) {
      return options.initial = false;
    } // eslint-disable-line no-return-assign


    reloadApp(options, status);
  },
  errors: function errors(_errors) {
    log.error('[WDS] Errors while compiling. Reload prevented.');

    var strippedErrors = _errors.map(function (error) {
      return stripAnsi(error);
    });

    sendMessage('Errors', strippedErrors);

    for (var i = 0; i < strippedErrors.length; i++) {
      log.error(strippedErrors[i]);
    }

    if (options.useErrorOverlay) {
      overlay.showMessage(_errors);
    }

    options.initial = false;
  },
  error: function error(_error) {
    log.error(_error);
  },
  close: function close() {
    log.error('[WDS] Disconnected!');
    sendMessage('Close');
  }
};
socket(socketUrl, onSocketMessage);
/* WEBPACK VAR INJECTION */}.call(this, "?http://localhost:9000"))

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/overlay.js":
/*!**********************************************!*\
  !*** (webpack)-dev-server/client/overlay.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
 // The error overlay is inspired (and mostly copied) from Create React App (https://github.com/facebookincubator/create-react-app)
// They, in turn, got inspired by webpack-hot-middleware (https://github.com/glenjamin/webpack-hot-middleware).

var ansiHTML = __webpack_require__(/*! ansi-html */ "./node_modules/ansi-html/index.js");

var _require = __webpack_require__(/*! html-entities */ "./node_modules/html-entities/lib/index.js"),
    AllHtmlEntities = _require.AllHtmlEntities;

var entities = new AllHtmlEntities();
var colors = {
  reset: ['transparent', 'transparent'],
  black: '181818',
  red: 'E36049',
  green: 'B3CB74',
  yellow: 'FFD080',
  blue: '7CAFC2',
  magenta: '7FACCA',
  cyan: 'C3C2EF',
  lightgrey: 'EBE7E3',
  darkgrey: '6D7891'
};
var overlayIframe = null;
var overlayDiv = null;
var lastOnOverlayDivReady = null;
ansiHTML.setColors(colors);

function createOverlayIframe(onIframeLoad) {
  var iframe = document.createElement('iframe');
  iframe.id = 'webpack-dev-server-client-overlay';
  iframe.src = 'about:blank';
  iframe.style.position = 'fixed';
  iframe.style.left = 0;
  iframe.style.top = 0;
  iframe.style.right = 0;
  iframe.style.bottom = 0;
  iframe.style.width = '100vw';
  iframe.style.height = '100vh';
  iframe.style.border = 'none';
  iframe.style.zIndex = 9999999999;
  iframe.onload = onIframeLoad;
  return iframe;
}

function addOverlayDivTo(iframe) {
  var div = iframe.contentDocument.createElement('div');
  div.id = 'webpack-dev-server-client-overlay-div';
  div.style.position = 'fixed';
  div.style.boxSizing = 'border-box';
  div.style.left = 0;
  div.style.top = 0;
  div.style.right = 0;
  div.style.bottom = 0;
  div.style.width = '100vw';
  div.style.height = '100vh';
  div.style.backgroundColor = 'rgba(0, 0, 0, 0.85)';
  div.style.color = '#E8E8E8';
  div.style.fontFamily = 'Menlo, Consolas, monospace';
  div.style.fontSize = 'large';
  div.style.padding = '2rem';
  div.style.lineHeight = '1.2';
  div.style.whiteSpace = 'pre-wrap';
  div.style.overflow = 'auto';
  iframe.contentDocument.body.appendChild(div);
  return div;
}

function ensureOverlayDivExists(onOverlayDivReady) {
  if (overlayDiv) {
    // Everything is ready, call the callback right away.
    onOverlayDivReady(overlayDiv);
    return;
  } // Creating an iframe may be asynchronous so we'll schedule the callback.
  // In case of multiple calls, last callback wins.


  lastOnOverlayDivReady = onOverlayDivReady;

  if (overlayIframe) {
    // We've already created it.
    return;
  } // Create iframe and, when it is ready, a div inside it.


  overlayIframe = createOverlayIframe(function () {
    overlayDiv = addOverlayDivTo(overlayIframe); // Now we can talk!

    lastOnOverlayDivReady(overlayDiv);
  }); // Zalgo alert: onIframeLoad() will be called either synchronously
  // or asynchronously depending on the browser.
  // We delay adding it so `overlayIframe` is set when `onIframeLoad` fires.

  document.body.appendChild(overlayIframe);
} // Successful compilation.


function clear() {
  if (!overlayDiv) {
    // It is not there in the first place.
    return;
  } // Clean up and reset internal state.


  document.body.removeChild(overlayIframe);
  overlayDiv = null;
  overlayIframe = null;
  lastOnOverlayDivReady = null;
} // Compilation with errors (e.g. syntax error or missing modules).


function showMessage(messages) {
  ensureOverlayDivExists(function (div) {
    // Make it look similar to our terminal.
    div.innerHTML = "<span style=\"color: #".concat(colors.red, "\">Failed to compile.</span><br><br>").concat(ansiHTML(entities.encode(messages[0])));
  });
}

module.exports = {
  clear: clear,
  showMessage: showMessage
};

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/socket.js":
/*!*********************************************!*\
  !*** (webpack)-dev-server/client/socket.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(__webpack_dev_server_client__) {
/* global __webpack_dev_server_client__ */

/* eslint-disable
  camelcase
*/
// this SockJSClient is here as a default fallback, in case inline mode
// is off or the client is not injected. This will be switched to
// WebsocketClient when it becomes the default
// important: the path to SockJSClient here is made to work in the 'client'
// directory, but is updated via the webpack compilation when compiled from
// the 'client-src' directory

var Client = typeof __webpack_dev_server_client__ !== 'undefined' ? __webpack_dev_server_client__ : // eslint-disable-next-line import/no-unresolved
__webpack_require__(/*! ./clients/SockJSClient */ "./node_modules/webpack-dev-server/client/clients/SockJSClient.js");
var retries = 0;
var client = null;

var socket = function initSocket(url, handlers) {
  client = new Client(url);
  client.onOpen(function () {
    retries = 0;
  });
  client.onClose(function () {
    if (retries === 0) {
      handlers.close();
    } // Try to reconnect.


    client = null; // After 10 retries stop trying, to prevent logspam.

    if (retries <= 10) {
      // Exponentially increase timeout to reconnect.
      // Respectfully copied from the package `got`.
      // eslint-disable-next-line no-mixed-operators, no-restricted-properties
      var retryInMs = 1000 * Math.pow(2, retries) + Math.random() * 100;
      retries += 1;
      setTimeout(function () {
        socket(url, handlers);
      }, retryInMs);
    }
  });
  client.onMessage(function (data) {
    var msg = JSON.parse(data);

    if (handlers[msg.type]) {
      handlers[msg.type](msg.data);
    }
  });
};

module.exports = socket;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! (webpack)-dev-server/client/clients/SockJSClient.js */ "./node_modules/webpack-dev-server/client/clients/SockJSClient.js")))

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/utils/createSocketUrl.js":
/*!************************************************************!*\
  !*** (webpack)-dev-server/client/utils/createSocketUrl.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/* global self */

var url = __webpack_require__(/*! url */ "./node_modules/url/url.js");

var getCurrentScriptSource = __webpack_require__(/*! ./getCurrentScriptSource */ "./node_modules/webpack-dev-server/client/utils/getCurrentScriptSource.js");

function createSocketUrl(resourceQuery, currentLocation) {
  var urlParts;

  if (typeof resourceQuery === 'string' && resourceQuery !== '') {
    // If this bundle is inlined, use the resource query to get the correct url.
    // format is like `?http://0.0.0.0:8096&sockPort=8097&sockHost=localhost`
    urlParts = url.parse(resourceQuery // strip leading `?` from query string to get a valid URL
    .substr(1) // replace first `&` with `?` to have a valid query string
    .replace('&', '?'), true);
  } else {
    // Else, get the url from the <script> this file was called with.
    var scriptHost = getCurrentScriptSource();
    urlParts = url.parse(scriptHost || '/', true, true);
  } // Use parameter to allow passing location in unit tests


  if (typeof currentLocation === 'string' && currentLocation !== '') {
    currentLocation = url.parse(currentLocation);
  } else {
    currentLocation = self.location;
  }

  return getSocketUrl(urlParts, currentLocation);
}
/*
 * Gets socket URL based on Script Source/Location
 * (scriptSrc: URL, location: URL) -> URL
 */


function getSocketUrl(urlParts, loc) {
  var auth = urlParts.auth,
      query = urlParts.query;
  var hostname = urlParts.hostname,
      protocol = urlParts.protocol,
      port = urlParts.port;

  if (!port || port === '0') {
    port = loc.port;
  } // check ipv4 and ipv6 `all hostname`
  // why do we need this check?
  // hostname n/a for file protocol (example, when using electron, ionic)
  // see: https://github.com/webpack/webpack-dev-server/pull/384


  if ((hostname === '0.0.0.0' || hostname === '::') && loc.hostname && loc.protocol.indexOf('http') === 0) {
    hostname = loc.hostname;
  } // `hostname` can be empty when the script path is relative. In that case, specifying
  // a protocol would result in an invalid URL.
  // When https is used in the app, secure websockets are always necessary
  // because the browser doesn't accept non-secure websockets.


  if (hostname && hostname !== '127.0.0.1' && (loc.protocol === 'https:' || urlParts.hostname === '0.0.0.0')) {
    protocol = loc.protocol;
  } // all of these sock url params are optionally passed in through
  // resourceQuery, so we need to fall back to the default if
  // they are not provided


  var sockHost = query.sockHost || hostname;
  var sockPath = query.sockPath || '/sockjs-node';
  var sockPort = query.sockPort || port;

  if (sockPort === 'location') {
    sockPort = loc.port;
  }

  return url.format({
    protocol: protocol,
    auth: auth,
    hostname: sockHost,
    port: sockPort,
    // If sockPath is provided it'll be passed in via the resourceQuery as a
    // query param so it has to be parsed out of the querystring in order for the
    // client to open the socket to the correct location.
    pathname: sockPath
  });
}

module.exports = createSocketUrl;

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/utils/getCurrentScriptSource.js":
/*!*******************************************************************!*\
  !*** (webpack)-dev-server/client/utils/getCurrentScriptSource.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function getCurrentScriptSource() {
  // `document.currentScript` is the most accurate way to find the current script,
  // but is not supported in all browsers.
  if (document.currentScript) {
    return document.currentScript.getAttribute('src');
  } // Fall back to getting all scripts in the document.


  var scriptElements = document.scripts || [];
  var currentScript = scriptElements[scriptElements.length - 1];

  if (currentScript) {
    return currentScript.getAttribute('src');
  } // Fail as there was no script to use.


  throw new Error('[WDS] Failed to get current script source.');
}

module.exports = getCurrentScriptSource;

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/utils/log.js":
/*!************************************************!*\
  !*** (webpack)-dev-server/client/utils/log.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var log = __webpack_require__(/*! loglevel */ "./node_modules/loglevel/lib/loglevel.js").getLogger('webpack-dev-server');

var INFO = 'info';
var WARN = 'warn';
var ERROR = 'error';
var DEBUG = 'debug';
var TRACE = 'trace';
var SILENT = 'silent'; // deprecated
// TODO: remove these at major released
// https://github.com/webpack/webpack-dev-server/pull/1825

var WARNING = 'warning';
var NONE = 'none'; // Set the default log level

log.setDefaultLevel(INFO);

function setLogLevel(level) {
  switch (level) {
    case INFO:
    case WARN:
    case ERROR:
    case DEBUG:
    case TRACE:
      log.setLevel(level);
      break;
    // deprecated

    case WARNING:
      // loglevel's warning name is different from webpack's
      log.setLevel('warn');
      break;
    // deprecated

    case NONE:
    case SILENT:
      log.disableAll();
      break;

    default:
      log.error("[WDS] Unknown clientLogLevel '".concat(level, "'"));
  }
}

module.exports = {
  log: log,
  setLogLevel: setLogLevel
};

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/utils/reloadApp.js":
/*!******************************************************!*\
  !*** (webpack)-dev-server/client/utils/reloadApp.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/* global WorkerGlobalScope self */

var _require = __webpack_require__(/*! ./log */ "./node_modules/webpack-dev-server/client/utils/log.js"),
    log = _require.log;

function reloadApp(_ref, _ref2) {
  var hotReload = _ref.hotReload,
      hot = _ref.hot,
      liveReload = _ref.liveReload;
  var isUnloading = _ref2.isUnloading,
      currentHash = _ref2.currentHash;

  if (isUnloading || !hotReload) {
    return;
  }

  if (hot) {
    log.info('[WDS] App hot update...');

    var hotEmitter = __webpack_require__(/*! webpack/hot/emitter */ "./node_modules/webpack/hot/emitter.js");

    hotEmitter.emit('webpackHotUpdate', currentHash);

    if (typeof self !== 'undefined' && self.window) {
      // broadcast update to window
      self.postMessage("webpackHotUpdate".concat(currentHash), '*');
    }
  } // allow refreshing the page only if liveReload isn't disabled
  else if (liveReload) {
      var rootWindow = self; // use parent window for reload (in case we're in an iframe with no valid src)

      var intervalId = self.setInterval(function () {
        if (rootWindow.location.protocol !== 'about:') {
          // reload immediately if protocol is valid
          applyReload(rootWindow, intervalId);
        } else {
          rootWindow = rootWindow.parent;

          if (rootWindow.parent === rootWindow) {
            // if parent equals current window we've reached the root which would continue forever, so trigger a reload anyways
            applyReload(rootWindow, intervalId);
          }
        }
      });
    }

  function applyReload(rootWindow, intervalId) {
    clearInterval(intervalId);
    log.info('[WDS] App updated. Reloading...');
    rootWindow.location.reload();
  }
}

module.exports = reloadApp;

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/utils/sendMessage.js":
/*!********************************************************!*\
  !*** (webpack)-dev-server/client/utils/sendMessage.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/* global __resourceQuery WorkerGlobalScope self */
// Send messages to the outside, so plugins can consume it.

function sendMsg(type, data) {
  if (typeof self !== 'undefined' && (typeof WorkerGlobalScope === 'undefined' || !(self instanceof WorkerGlobalScope))) {
    self.postMessage({
      type: "webpack".concat(type),
      data: data
    }, '*');
  }
}

module.exports = sendMsg;

/***/ }),

/***/ "./node_modules/webpack-dev-server/node_modules/ansi-regex/index.js":
/*!*************************************************************!*\
  !*** (webpack)-dev-server/node_modules/ansi-regex/index.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

module.exports = function () {
	return /[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g;
};


/***/ }),

/***/ "./node_modules/webpack-dev-server/node_modules/strip-ansi/index.js":
/*!*************************************************************!*\
  !*** (webpack)-dev-server/node_modules/strip-ansi/index.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var ansiRegex = __webpack_require__(/*! ansi-regex */ "./node_modules/webpack-dev-server/node_modules/ansi-regex/index.js")();

module.exports = function (str) {
	return typeof str === 'string' ? str.replace(ansiRegex, '') : str;
};


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(module) {
	if (!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),

/***/ "./node_modules/webpack/hot sync ^\\.\\/log$":
/*!*************************************************!*\
  !*** (webpack)/hot sync nonrecursive ^\.\/log$ ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./log": "./node_modules/webpack/hot/log.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/webpack/hot sync ^\\.\\/log$";

/***/ }),

/***/ "./node_modules/webpack/hot/emitter.js":
/*!********************************!*\
  !*** (webpack)/hot/emitter.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var EventEmitter = __webpack_require__(/*! events */ "./node_modules/events/events.js");
module.exports = new EventEmitter();


/***/ }),

/***/ "./node_modules/webpack/hot/log.js":
/*!****************************!*\
  !*** (webpack)/hot/log.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

var logLevel = "info";

function dummy() {}

function shouldLog(level) {
	var shouldLog =
		(logLevel === "info" && level === "info") ||
		(["info", "warning"].indexOf(logLevel) >= 0 && level === "warning") ||
		(["info", "warning", "error"].indexOf(logLevel) >= 0 && level === "error");
	return shouldLog;
}

function logGroup(logFn) {
	return function(level, msg) {
		if (shouldLog(level)) {
			logFn(msg);
		}
	};
}

module.exports = function(level, msg) {
	if (shouldLog(level)) {
		if (level === "info") {
			console.log(msg);
		} else if (level === "warning") {
			console.warn(msg);
		} else if (level === "error") {
			console.error(msg);
		}
	}
};

/* eslint-disable node/no-unsupported-features/node-builtins */
var group = console.group || dummy;
var groupCollapsed = console.groupCollapsed || dummy;
var groupEnd = console.groupEnd || dummy;
/* eslint-enable node/no-unsupported-features/node-builtins */

module.exports.group = logGroup(group);

module.exports.groupCollapsed = logGroup(groupCollapsed);

module.exports.groupEnd = logGroup(groupEnd);

module.exports.setLogLevel = function(level) {
	logLevel = level;
};

module.exports.formatError = function(err) {
	var message = err.message;
	var stack = err.stack;
	if (!stack) {
		return message;
	} else if (stack.indexOf(message) < 0) {
		return message + "\n" + stack;
	} else {
		return stack;
	}
};


/***/ }),

/***/ "./src/i18n/translation_en.json":
/*!**************************************!*\
  !*** ./src/i18n/translation_en.json ***!
  \**************************************/
/*! exports provided: time, achievements, tournaments, leaderboard, miniLeaderboard, rewards, messages, global, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"time\":{\"days\":\"d\",\"hours\":\"h\",\"minutesShortHand\":\"min\",\"minutes\":\"m\",\"seconds\":\"s\"},\"achievements\":{\"label\":\"Achievements\",\"more\":\"More\",\"complete\":\"complete 100%\"},\"tournaments\":{\"label\":\"Tournaments\",\"enter\":\"Enter Tournament\",\"readyCompetitions\":\"Upcoming Tournaments\",\"activeCompetitions\":\"Active Tournaments\",\"finishedCompetitions\":\"Finished Tournaments\",\"finishing\":\"Finishing\",\"finished\":\"Finished\",\"registered\":\"Registered\",\"noAvailableCompetitions\":\"No available competition\"},\"leaderboard\":{\"rank\":\"Rank\",\"name\":\"Name\",\"points\":\"Points\",\"prize\":\"Prize\",\"you\":\"You\"},\"miniLeaderboard\":{\"highScore\":\"High Score\",\"lastScore\":\"Last Score\",\"rank\":\"Rank\",\"startsIn\":\"Starting In\",\"starting\":\"starting\",\"finishing\":\"finishing\",\"finished\":\"finished\"},\"rewards\":{\"label\":\"Rewards\",\"claim\":\"Claim Now\",\"claimed\":\"Claimed\",\"availableRewards\":\"Available Rewards\",\"rewards\":\"Claimed Rewards\",\"expiredRewards\":\"Expired Rewards\"},\"messages\":{\"label\":\"Messages\"},\"global\":{\"copy\":\"Powered By CompetitionLabs\"}}");

/***/ }),

/***/ "./src/javascript/leaderboard.v3-selfinit.js":
/*!***************************************************!*\
  !*** ./src/javascript/leaderboard.v3-selfinit.js ***!
  \***************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./polyfills */ "./src/javascript/polyfills/index.js");
/* harmony import */ var _polyfills__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_polyfills__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_setTimeoutGlobal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/setTimeoutGlobal */ "./src/javascript/modules/setTimeoutGlobal.js");
/* harmony import */ var _modules_setTimeoutGlobal__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_setTimeoutGlobal__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _modules_LbWidget__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/LbWidget */ "./src/javascript/modules/LbWidget.js");
/*
 COMPETITION LABS LTD v1.0.5
 (c) 2015-2020 Aleksandr Bernotas
 License: www.competitionlabs.com/terms-of-service
*/




(function () {
  if (typeof window._clLeaderBoardV3SelfInit === 'undefined') {
    window._clLeaderBoardV3SelfInit = _modules_LbWidget__WEBPACK_IMPORTED_MODULE_2__["LbWidget"];
  } else {
    console.warn('window._clLeaderBoardV3SelfInit is already defined');
  }
})();

/***/ }),

/***/ "./src/javascript/modules/Ajax.js":
/*!****************************************!*\
  !*** ./src/javascript/modules/Ajax.js ***!
  \****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cLabs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cLabs */ "./src/javascript/modules/cLabs.js");
/* harmony import */ var _utils_sizeof__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/sizeof */ "./src/javascript/utils/sizeof.js");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }



/**
 * Ajax method
 *
 * @class Ajax
 * @constructor
 */

_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax = function () {
  this.xhr = new XMLHttpRequest();
};

_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax.prototype.createCORSRequest = function (method, url) {
  var obj = this;

  if ('withCredentials' in obj.xhr) {
    // Most browsers.
    obj.xhr.open(method, url, true);
  } else if (typeof XDomainRequest !== 'undefined') {
    // IE8 & IE9

    /* eslint no-undef: "off" */
    obj.xhr = new XDomainRequest();
    url = url.indexOf('https') > -1 && location.protocol !== 'https:' ? url.replace('https', 'http') : url;
    obj.xhr.open(method, url);
  } else {
    // CORS not supported.
    obj.xhr = null;
  }

  return obj.xhr;
};

_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax.prototype.abort = function () {
  var _this = this;

  if (_this.xhr && typeof _this.xhr.readyState !== 'undefined' && _this.xhr.readyState !== 4 && _this.xhr.readyState > 0) {
    // console.error("aborting Ajax", _this.xhr.readyState, _this.xhr);
    _this.xhr.abort();
  }

  return _this;
};
/**
 * Retrieves data from a URL without page refresh
 *
 * @method getData
 * @param {Object} configuration object
 *  - object contains: HTTP method "type: POST, GET", url: to send the request to, data: {object}
 * @return {String} in success object
 */


_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax.prototype.getData = function (data) {
  var obj = this;

  try {
    data.type = data.type !== undefined && typeof data.type === 'string' && data.type.length > 0 ? data.type : 'POST';
    data.data = data.data !== undefined && _typeof(data.data) === 'object' ? data.data : {};
    data.url = data.url !== undefined && typeof data.url === 'string' && data.url.length > 0 ? data.url : '';
    data.success = data.success !== undefined ? data.success : function () {};
    data.error = data.error !== undefined ? data.error : function () {};
    data.headers = data.headers !== undefined ? data.headers : {};
    data.extraCallback = data.extraCallback !== undefined ? data.extraCallback : function () {}; // cross browser CORS support

    obj.xhr = this.createCORSRequest(data.type, data.url);

    obj.xhr.onload = function () {
      data.extraCallback(data, obj.xhr);
      data.success(obj.xhr.responseText, data, obj.xhr);
    };

    obj.xhr.onerror = function () {
      data.error(obj.xhr.status);
    };

    if (typeof XDomainRequest === 'undefined') {
      if (Object(_utils_sizeof__WEBPACK_IMPORTED_MODULE_1__["default"])(data.headers) > 0) {
        var item;

        for (item in data.headers) {
          obj.xhr.setRequestHeader(item, data.headers[item]);
        }
      } else if ((data.type === 'POST' || data.type === 'PUT') && Object(_utils_sizeof__WEBPACK_IMPORTED_MODULE_1__["default"])(data.headers) === 0) {
        obj.xhr.setRequestHeader('Content-Type', 'application/json');
      } else {
        obj.xhr.setRequestHeader('Content-Type', 'text/plain');
      }
    }

    obj.xhr.send(JSON.stringify(data.data));
    return obj.xhr;
  } catch (err) {
    console.log(err);
  }
};

/***/ }),

/***/ "./src/javascript/modules/LbWidget.js":
/*!********************************************!*\
  !*** ./src/javascript/modules/LbWidget.js ***!
  \********************************************/
/*! exports provided: LbWidget */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LbWidget", function() { return LbWidget; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var identicon_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! identicon.js */ "./node_modules/identicon.js/identicon.js");
/* harmony import */ var identicon_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(identicon_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var jssha__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jssha */ "./node_modules/jssha/dist/sha.mjs");
/* harmony import */ var _utils_mergeObjects__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/mergeObjects */ "./src/javascript/utils/mergeObjects.js");
/* harmony import */ var _utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/formatNumberLeadingZeros */ "./src/javascript/utils/formatNumberLeadingZeros.js");
/* harmony import */ var _utils_stringContains__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/stringContains */ "./src/javascript/utils/stringContains.js");
/* harmony import */ var _utils_objectIterator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/objectIterator */ "./src/javascript/utils/objectIterator.js");
/* harmony import */ var _utils_query__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/query */ "./src/javascript/utils/query.js");
/* harmony import */ var _utils_hasClass__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/hasClass */ "./src/javascript/utils/hasClass.js");
/* harmony import */ var _utils_addClass__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/addClass */ "./src/javascript/utils/addClass.js");
/* harmony import */ var _utils_removeClass__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/removeClass */ "./src/javascript/utils/removeClass.js");
/* harmony import */ var _utils_closest__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/closest */ "./src/javascript/utils/closest.js");
/* harmony import */ var _utils_isMobileTablet__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/isMobileTablet */ "./src/javascript/utils/isMobileTablet.js");
/* harmony import */ var _cLabs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./cLabs */ "./src/javascript/modules/cLabs.js");
/* harmony import */ var _Ajax__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Ajax */ "./src/javascript/modules/Ajax.js");
/* harmony import */ var _Notifications__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Notifications */ "./src/javascript/modules/Notifications.js");
/* harmony import */ var _MiniScoreBoard__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./MiniScoreBoard */ "./src/javascript/modules/MiniScoreBoard.js");
/* harmony import */ var _MainWidget__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./MainWidget */ "./src/javascript/modules/MainWidget.js");
function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }




















var translation = __webpack_require__(/*! ../../i18n/translation_en.json */ "./src/i18n/translation_en.json");
/**
 * Main leaderboard widget, controls all actions and initiation logic.
 * Main responsibility is to control the interactions between different widgets/plugins and user even actions
 * @param options {Object} setting parameters used to overwrite the default settings
 * @constructor
 */


var LbWidget = function LbWidget(options) {
  this.settings = {
    debug: true,
    bindContainer: document.body,
    autoStart: true,
    sseMessaging: null,
    notifications: null,
    miniScoreBoard: null,
    enableNotifications: true,
    mainWidget: null,
    globalAjax: new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax(),
    checkAjax: new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax(),
    language: "en",
    currency: '',
    spaceName: '',
    memberId: '',
    groups: '',
    gameId: '',
    enforceGameLookup: true,
    // tournament lookup will include/exclude game only requests
    apiKey: '',
    member: null,
    competition: {
      activeCompetitionId: null,
      activeContestId: null,
      activeCompetition: null,
      activeContest: null,
      refreshInterval: null,
      refreshIntervalMillis: 10000,
      extractImageHeader: true // will extract the first found image inside the body tag and move it on top

    },
    achievements: {
      list: [],
      availableRewards: [],
      rewards: [],
      expiredRewards: [],
      extractImageHeader: true // will extract the first found image inside the body tag and move it on top

    },
    rewards: {
      availableRewards: [],
      rewards: [],
      expiredRewards: [],
      rewardFormatter: function rewardFormatter(reward) {
        var defaultRewardValue = reward.value;

        if (typeof reward.unitOfMeasure !== 'undefined' && typeof reward.unitOfMeasure.symbol !== 'undefined' && reward.unitOfMeasure.symbol !== null) {
          defaultRewardValue = reward.unitOfMeasure.symbol + reward.value;
        }

        return defaultRewardValue;
      }
    },
    messages: {
      enable: true,
      messages: []
    },
    tournaments: {
      activeCompetitionId: null,
      readyCompetitions: [],
      // statusCode 3
      activeCompetitions: [],
      // statusCode 5
      finishedCompetitions: [] // statusCode 7

    },
    leaderboard: {
      fullLeaderboardSize: 100,
      refreshIntervalMillis: 5000,
      refreshInterval: null,
      refreshLbDataInterval: null,
      leaderboardData: [],
      loadLeaderboardHistory: {}
    },
    uri: {
      gatewayDomain: _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].api.url,
      members: '/api/v1/:space/members/reference/:id',
      assets: '/assets/attachments/:attachmentId',
      memberSSE: '/api/v1/:space/sse/reference/:id',
      memberSSEHeartbeat: '/api/v1/:space/sse/reference/:id/heartbeat',
      competitions: '/api/v1/:space/competitions',
      competitionById: '/api/v1/:space/competitions/:id',
      contestLeaderboard: '/api/v1/:space/contests/:id/leaderboard',
      achievement: '/api/v1/:space/achievements/:id',
      achievements: '/api/v1/:space/achievements/members/reference/:id',
      // achievements: "/api/v1/:space/achievements",
      achievementsProgression: '/api/v1/:space/members/reference/:id/achievements',
      achievementsIssued: '/api/v1/:space/members/reference/:id/achievements/issued',
      messages: '/api/v1/:space/members/reference/:id/messages',
      messageById: '/api/v1/:space/members/reference/:id/messages/:messageId',
      memberReward: '/api/v1/:space/members/reference/:id/award/:awardId',
      memberRewardClaim: '/api/v1/:space/members/reference/:id/award/:awardId/award',
      memberCompetitions: '/api/v1/:space/members/reference/:id/competitions',
      memberCompetitionById: '/api/v1/:space/members/reference/:id/competition/:competitionId',
      memberCompetitionOptIn: '/api/v1/:space/members/reference/:id/competition/:competitionId/optin',
      memberCompetitionOptInCheck: '/api/v1/:space/members/reference/:id/competition/:competitionId/optin-check',
      translationPath: '' // ../i18n/translation_:language.json

    },
    loadTranslations: true,
    translation: translation,
    resources: [_cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].api.url + '/assets/widgets/leaderboard_v3/css/style.css?t=' + new Date().getTime(), _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].api.url + '/assets/widgets/leaderboard_v3/css/fonts.css?t=' + new Date().getTime()],
    layoutBuildCallback: function layoutBuildCallback(layout, instance) {}
  };

  if (typeof options !== 'undefined') {
    this.settings = Object(_utils_mergeObjects__WEBPACK_IMPORTED_MODULE_3__["default"])(this.settings, options);
  }

  this.log = function (message) {
    if (this.settings.debug) {
      console.error(message);
    }
  };
  /**
   * Format duration of Date Time from moment() object
   * @param duration {moment}
   * @returns {string}
   */


  this.formatDateTime = function (duration) {
    var _this = this;

    var largeResult = [];
    var result = [];
    if (duration.days()) largeResult.push(duration.days() + '<span class="time-ind">' + _this.settings.translation.time.days + '</span>');

    if (duration.hours() || duration.days() > 0) {
      result.push(Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(duration.hours(), 2) + '<span class="time-ind">' + _this.settings.translation.time.hours + '</span>');
    } else result.push('00<span class="time-ind">' + _this.settings.translation.time.hours + '</span>');

    if (duration.minutes() || duration.hours() > 0 || duration.days() > 0) {
      result.push(Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(duration.minutes(), 2) + (duration.days() > 0 ? '<span class="time-ind">' + _this.settings.translation.time.minutes + '</span>' : '<span class="time-ind">' + _this.settings.translation.time.minutesShortHand + '</span>'));
    } else result.push('00' + (duration.days() > 0 ? '<span class="time-ind">' + _this.settings.translation.time.minutes + '</span>' : '<span class="time-ind">' + _this.settings.translation.time.minutesShortHand + '</span>')); // if (duration.seconds() && duration.days() === 0){ result.push( formatNumberLeadingZeros(duration.seconds(), 2) + '<span class="time-ind">s</span>' ) }else if(duration.days() === 0){result.push( '00<span class="time-ind">s</span>' )};


    result.push(Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(duration.seconds(), 2) + '<span class="time-ind">' + _this.settings.translation.time.seconds + '</span>');
    return largeResult.length > 0 ? largeResult.join(' ') + ' ' + result.join(':') : result.join(':');
  };

  this.populateIdenticonBase64Image = function (str) {
    if (str.length > 0) {
      /* eslint new-cap: "off" */
      var shaObj = new jssha__WEBPACK_IMPORTED_MODULE_2__["default"]('SHA-512', 'TEXT');
      shaObj.update(str);
      var hash = shaObj.getHash('HEX', 1);
      var data = new identicon_js__WEBPACK_IMPORTED_MODULE_1___default.a(hash, {
        background: [255, 255, 255, 255],
        // rgba white
        margin: 0.1,
        // 20% margin
        size: 22,
        // 420px square
        format: 'svg' // use SVG instead of PNG

      }).toString();
      var icon = 'data:image/svg+xml;base64,' + data;
      return icon;
    } else {
      return '';
    }
  };
  /**
   * get a list of available competition filtered by provided global criteria
   * @param callback {Function}
   */


  var competitionCheckAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.checkForAvailableCompetitions = function (callback, ajaxInstance) {
    var _this = this;

    var url = _this.settings.memberId.length === 0 ? _this.settings.uri.competitions.replace(':space', _this.settings.spaceName) : _this.settings.uri.memberCompetitions.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);
    var filters = ['statusCode>==3', 'statusCode<==5', '_sortByFields=options.scheduledDates.end:desc', '_lang=' + _this.settings.language];
    var ajaxInstanceToUse = typeof ajaxInstance !== 'undefined' && ajaxInstance !== null ? ajaxInstance : competitionCheckAjax;

    if (typeof _this.settings.currency === 'string' && _this.settings.currency.length > 0) {
      filters.push('_uomKey=' + _this.settings.currency);
    }

    if (_this.settings.gameId.length > 0 && _this.settings.enforceGameLookup) {
      filters.push('options.products.productRefId=' + _this.settings.gameId);
    }

    if (_this.settings.groups.length > 0 && _this.settings.memberId.length === 0) {
      filters.push('options.limitEntrantsTo=' + _this.settings.groups);
    }

    ajaxInstanceToUse.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?' + filters.join('&'),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);
          _this.settings.tournaments.readyCompetitions = [];
          _this.settings.tournaments.activeCompetitions = [];
          window.mapObject(json.data, function (comp) {
            if (comp.statusCode === 3) {
              _this.settings.tournaments.readyCompetitions.push(comp);
            } else if (comp.statusCode === 5) {
              _this.settings.tournaments.activeCompetitions.push(comp);
            }
          });

          _this.checkForFinishedCompetitions(callback, ajaxInstance);
        } else {
          _this.log('failed to checkForActiveCompetitions ' + response);
        }
      }
    });
  };
  /**
   * get a list of finished competition filtered by provided global criteria
   * @param callback {Function}
   */


  var competitionFinishedCheckAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.checkForFinishedCompetitions = function (callback, ajaxInstance) {
    var _this = this;

    var url = _this.settings.memberId.length === 0 ? _this.settings.uri.competitions.replace(':space', _this.settings.spaceName) : _this.settings.uri.memberCompetitions.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);
    var filters = ['statusCode=7', '_limit=10', '_sortByFields=options.scheduledDates.end:desc', '_lang=' + _this.settings.language];
    var ajaxInstanceToUse = typeof ajaxInstance !== 'undefined' && ajaxInstance !== null ? ajaxInstance : competitionFinishedCheckAjax;

    if (typeof _this.settings.currency === 'string' && _this.settings.currency.length > 0) {
      filters.push('_uomKey=' + _this.settings.currency);
    }

    if (_this.settings.gameId.length > 0 && _this.settings.enforceGameLookup) {
      filters.push('options.products.productRefId=' + _this.settings.gameId);
    }

    if (_this.settings.groups.length > 0 && _this.settings.memberId.length === 0) {
      filters.push('options.limitEntrantsTo=' + _this.settings.groups);
    }

    ajaxInstanceToUse.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?' + filters.join('&'),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);
          _this.settings.tournaments.finishedCompetitions = [];
          window.mapObject(json.data, function (comp) {
            if (comp.statusCode === 7) {
              _this.settings.tournaments.finishedCompetitions.push(comp);
            }
          });

          if (typeof callback === 'function') {
            callback();
          }
        } else {
          _this.log('failed to checkForFinishedCompetitions ' + response);
        }
      }
    });
  };

  this.prepareActiveCompetition = function (callback) {
    var _this = this;

    var activeCompetition = null;
    var activeCompetitionId = null;

    if (_this.settings.tournaments.activeCompetitionId !== null) {
      window.mapObject(_this.settings.tournaments.activeCompetitions, function (comp) {
        if (comp.id === _this.settings.tournaments.activeCompetitionId) {
          activeCompetition = comp;
        }
      });
      window.mapObject(_this.settings.tournaments.readyCompetitions, function (comp) {
        if (comp.id === _this.settings.tournaments.activeCompetitionId) {
          activeCompetition = comp;
        }
      });
      window.mapObject(_this.settings.tournaments.finishedCompetitions, function (comp) {
        if (comp.id === _this.settings.tournaments.activeCompetitionId) {
          activeCompetition = comp;
        }
      });

      if (activeCompetition !== null) {
        activeCompetitionId = _this.settings.tournaments.activeCompetitionId;
      } else {
        _this.settings.tournaments.activeCompetitionId = null;
      }
    }

    if (activeCompetition === null && _this.settings.tournaments.activeCompetitions.length > 0) {
      activeCompetition = _this.settings.tournaments.activeCompetitions[0];
      activeCompetitionId = activeCompetition.id;
    } else if (activeCompetition === null && _this.settings.tournaments.readyCompetitions.length > 0) {
      activeCompetition = _this.settings.tournaments.readyCompetitions[0];
      activeCompetitionId = activeCompetition.id;
    } // no competitions found


    if (activeCompetitionId === null && _this.settings.tournaments.finishedCompetitions.length <= 0) {
      // deactivation requires closing & opening of the mainWidget.
      _this.deactivateCompetitionsAndLeaderboards();
    } else {
      if (_this.settings.competition.activeCompetitionId !== activeCompetitionId && activeCompetitionId !== null) {
        _this.settings.competition.activeCompetition = activeCompetition;
        _this.settings.competition.activeCompetitionId = activeCompetitionId;
      } // load active competition


      if (activeCompetitionId !== null) {
        _this.loadActiveCompetition(function (json) {
          _this.setActiveCompetition(json, callback);
        });
      } else if (typeof callback === 'function') {
        callback();
      }
    }
  };

  this.loadActiveCompetition = function (callback) {
    var _this = this;

    var url = _this.settings.memberId.length === 0 ? _this.settings.uri.competitionById.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.competition.activeCompetitionId) : _this.settings.uri.memberCompetitionById.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId).replace(':competitionId', _this.settings.competition.activeCompetitionId);
    var filters = ['_include=strategy', '_lang=' + _this.settings.language];

    if (typeof _this.settings.currency === 'string' && _this.settings.currency.length > 0) {
      filters.push('_uomKey=' + _this.settings.currency);
    }

    _this.settings.globalAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?' + filters.join('&'),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);

          if (typeof callback === 'function') {
            callback(json);
          }
        } else {
          _this.log('failed to loadActiveCompetition ' + response);
        }
      }
    });
  };

  this.setActiveCompetition = function (json, callback) {
    var _this = this;

    _this.settings.competition.activeCompetition = json.data;
    _this.settings.competition.activeContest = null;
    _this.settings.competition.activeContestId = null;

    if (typeof json.data.contests !== 'undefined' && json.data.contests.length > 0) {
      window.mapObject(json.data.contests, function (contest) {
        if (contest.statusCode < 7 && _this.settings.competition.activeContest === null) {
          _this.settings.competition.activeContest = contest;
          _this.settings.competition.activeContestId = contest.id;

          if (typeof _this.settings.competition.activeContest.rewards === 'undefined') {
            _this.settings.competition.activeContest.rewards = [];
          }

          var rewards = [];
          window.mapObject(_this.settings.competition.activeContest.rewards, function (reward) {
            if (typeof reward.rewardRank === 'string') {
              var rankParts = reward.rewardRank.split(',');
              var rewardRank = [];
              window.mapObject(rankParts, function (part) {
                if (Object(_utils_stringContains__WEBPACK_IMPORTED_MODULE_5__["default"])(part, '-')) {
                  var rankRange = part.split('-');
                  var rageStart = parseInt(rankRange[0]);
                  var rangeEnd = parseInt(rankRange[1]);

                  for (var i = rageStart; i <= rangeEnd; i++) {
                    rewardRank.push(i);
                  }
                } else {
                  rewardRank.push(parseInt(part));
                }
              });
              reward.rewardRank = rewardRank;
            }

            rewards.push(reward);
          });
          _this.settings.competition.activeContest.rewards = rewards;
        }
      });
    }

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.getLeaderboardData = function (count, callback) {
    if (this.settings.competition.activeContestId !== null) {
      var _this = this;

      var url = _this.settings.uri.contestLeaderboard.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.competition.activeContestId);

      var filters = ['_limit=' + count, 'rankings=2'];

      if (typeof _this.settings.memberId === 'string' && _this.settings.memberId.length > 0) {
        filters.push('memberId=' + _this.settings.memberId);
      }

      _this.settings.globalAjax.abort().getData({
        type: 'GET',
        url: _this.settings.uri.gatewayDomain + url + '?' + filters.join('&'),
        headers: {
          'X-API-KEY': _this.settings.apiKey
        },
        success: function success(response, dataObj, xhr) {
          if (xhr.status === 200) {
            var json = JSON.parse(response); // if(
            //   typeof _this.settings.loadLeaderboardHistory[_this.settings.competition.activeContestId] === "undefined"
            //   ||
            //   (
            //     typeof _this.settings.loadLeaderboardHistory[_this.settings.competition.activeContestId] !== "undefined"
            //     &&
            //     _this.settings.loadLeaderboardHistory[_this.settings.competition.activeContestId] !== data
            //   )
            // ) {
            //   _this.settings.loadLeaderboardHistory[_this.settings.competition.activeContestId] = {
            //     changed: true,
            //     data: JSON.stringify(json.data)
            //   };
            // }
            // we need to mask competitor's names. We will replace last 4 characters with "*"
            // also first 4 chars are replaced with "*"

            _this.maskNames(json.data, _this.settings.memberId);

            _this.settings.leaderboard.leaderboardData = json.data;
            callback(json.data);
          } else {
            _this.log('failed to getLeaderboardData ' + response);
          }
        }
      });
    } else {
      callback();
    }
  }; // function masks names of users


  this.maskNames = function (data, myname) {
    // myname --> _this.settings.memberId
    var _iterator = _createForOfIteratorHelper(data),
        _step;

    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var leadboard = _step.value;

        if (leadboard.name !== myname) {
          // split casino and player name
          var separated = leadboard.name.split(':');
          var casName = this.maskWord(separated[0]);
          var playerName = this.maskWord(separated[1]);
          leadboard.name = casName + ':' + playerName;
        }
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
  }; // take string as input and put first 4 chars as "*"


  this.maskWord = function (word) {
    var ret = ''; // replace last 4

    if (word.length >= 4) {
      ret = word.substring(0, word.length - 4);
      ret += '****'; // replace all
    } else {
      ret = word.replace(/./g, '*');
    }

    return ret;
  };

  var checkAchievementsAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.checkForAvailableAchievements = function (callback) {
    var _this = this;

    var url = _this.settings.uri.achievements.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);

    var filters = ['_limit=100', '_include=rewards,products', '_lang=' + _this.settings.language];
    var withGroups = false;

    if (typeof _this.settings.currency === 'string' && _this.settings.currency.length > 0) {
      filters.push('_uomKey=' + _this.settings.currency);
    }

    if (typeof _this.settings.member.groups !== 'undefined' && _this.settings.member.groups.length > 0) {
      withGroups = true;
      filters.push('memberGroups=' + _this.settings.member.groups.join(','));
    }

    checkAchievementsAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?_lang=' + _this.settings.language + '&_uomKey=' + _this.settings.currency,
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var jsonForAll = JSON.parse(response); // clear achievements list

          _this.settings.achievements.list = [];
          /*
          window.mapObject(jsonForAll.data, function (ach) {
            // here we add first achievements
            _this.settings.achievements.list.push(ach);
          });
          */

          if (withGroups) {
            checkAchievementsAjax.abort().getData({
              type: 'GET',
              url: _this.settings.uri.gatewayDomain + url + '?' + filters.join('&'),
              headers: {
                'X-API-KEY': _this.settings.apiKey
              },
              success: function success(response, dataObj, xhr) {
                if (xhr.status === 200) {
                  var json = JSON.parse(response);
                  window.mapObject(json.data, function (ach) {
                    // we show the achievement only if it's active for the current game (product)
                    _this.filterAchievementByProduct(ach, _this.settings.gameId, _this);
                  });
                  if (typeof callback === 'function') callback(_this.settings.achievements.list);
                } else {
                  _this.log('failed to checkForAvailableAchievements ' + response);
                }
              }
            });
          } else {
            if (typeof callback === 'function') callback(jsonForAll.data);
          }
        } else {
          _this.log('failed to checkForAvailableAchievements ' + response);
        }
      }
    });
  }; // filter achievement if enabled for current game
  // we show the achievement only if it's active for the current game (product)
  // _this.settings.gameId="55"
  // ach.products = [{name: "Eddie Dundee", productGroups: ["gameart"], productRefId: "55", productType: "slot"}]


  this.filterAchievementByProduct = function (ach, gameid, self) {
    // no product filtering enabled in backoffice
    if (ach.products.length === 0) {
      self.settings.achievements.list.push(ach); // check if achievement enabled for this current game (product)
    } else {
      var _iterator2 = _createForOfIteratorHelper(ach.products),
          _step2;

      try {
        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
          var prod = _step2.value;

          if (prod.productRefId === self.settings.gameId) {
            // add to achievements list
            self.settings.achievements.list.push(ach);
          }
        }
      } catch (err) {
        _iterator2.e(err);
      } finally {
        _iterator2.f();
      }
    }
  };

  var getAchievementsAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.getAchievement = function (achievementId, callback) {
    var _this = this;

    getAchievementsAjax.abort().getData({
      url: _this.settings.uri.gatewayDomain + _this.settings.uri.achievement.replace(':space', _this.settings.spaceName).replace(':id', achievementId) + '?_lang=' + _this.settings.language + '&_uomKey=' + _this.settings.currency,
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      type: 'GET',
      success: function success(response, dataObj, xhr) {
        var json = null;

        if (xhr.status === 200) {
          try {
            json = JSON.parse(response);
          } catch (e) {}
        }

        if (typeof callback === 'function') {
          callback(json);
        }
      },
      error: function error() {
        if (typeof callback === 'function') {
          callback(null);
        }
      }
    });
  };

  var getRewardAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.getReward = function (rewardId, callback) {
    var _this = this;

    getRewardAjax.abort().getData({
      url: _this.settings.uri.gatewayDomain + _this.settings.uri.memberReward.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId).replace(':awardId', rewardId),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      type: 'GET',
      success: function success(response, dataObj, xhr) {
        var json = null;

        if (xhr.status === 200) {
          try {
            json = JSON.parse(response);
          } catch (e) {}
        }

        if (typeof callback === 'function') {
          callback(json);
        }
      },
      error: function error() {
        if (typeof callback === 'function') {
          callback(null);
        }
      }
    });
  };

  var getMessageAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.getMessage = function (messageId, callback) {
    var _this = this;

    getMessageAjax.abort().getData({
      url: _this.settings.uri.gatewayDomain + _this.settings.uri.messageById.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId).replace(':messageId', messageId),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      type: 'GET',
      success: function success(response, dataObj, xhr) {
        var json = null;

        if (xhr.status === 200) {
          try {
            json = JSON.parse(response);
          } catch (e) {}
        }

        if (typeof callback === 'function') {
          callback(json);
        }
      },
      error: function error() {
        if (typeof callback === 'function') {
          callback(null);
        }
      }
    });
  };

  var claimRewardAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.claimReward = function (rewardId, callback) {
    var _this = this;

    claimRewardAjax.abort().getData({
      url: _this.settings.uri.gatewayDomain + _this.settings.uri.memberRewardClaim.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId).replace(':awardId', rewardId),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      type: 'POST',
      success: function success(response, dataObj, xhr) {
        var json = null;

        if (xhr.status === 200) {
          try {
            json = JSON.parse(response);
          } catch (e) {}
        }

        if (typeof callback === 'function') {
          callback(json);
        }
      },
      error: function error() {
        if (typeof callback === 'function') {
          callback(null);
        }
      }
    });
  };

  var checkForMemberAchievementsAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.checkForMemberAchievementsIssued = function (callback) {
    var _this = this;

    var url = _this.settings.uri.achievementsIssued.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);

    checkForMemberAchievementsAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url,
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);
          var idList = [];

          if (typeof json.aggregations !== 'undefined' && json.aggregations.length > 0) {
            window.mapObject(json.aggregations[0].items, function (item) {
              idList.push(item.value);
            });
          }

          if (typeof callback === 'function') callback(idList);
        } else {
          _this.log('failed to checkForMemberAchievementsIssued ' + response);
        }
      }
    });
  };

  var checkForMemberAchievementsProgressionAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.checkForMemberAchievementsProgression = function (idList, callback) {
    var _this = this;

    var url = _this.settings.uri.achievementsProgression.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);

    checkForMemberAchievementsProgressionAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + (idList.length > 0 ? '?id=' + idList.join(',') : ''),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);
          if (typeof callback === 'function') callback(json.data);
        } else {
          _this.log('failed to checkForMemberAchievementsProgression ' + response);
        }
      }
    });
  };

  var checkForAvailableRewardsAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.checkForAvailableRewards = function (callback) {
    var _this = this;

    var url = _this.settings.uri.messages.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId); // claimed rewards


    checkForAvailableRewardsAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?_sortByFields=created:desc&messageType=Reward&prize.claimed=true&_hasValuesFor=prize&_limit=100',
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var jsonForAll = JSON.parse(response);
          _this.settings.rewards.rewards = [];
          _this.settings.rewards.availableRewards = [];
          _this.settings.rewards.expiredRewards = [];
          window.mapObject(jsonForAll.data, function (message) {
            var expired = typeof message.expiry === 'undefined' ? false : moment__WEBPACK_IMPORTED_MODULE_0___default()(message.expiry).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()()) < 0;

            if (!expired) {
              _this.settings.rewards.rewards.push(message);
            }
          }); // not-claimed rewards

          checkForAvailableRewardsAjax.abort().getData({
            type: 'GET',
            url: _this.settings.uri.gatewayDomain + url + '?_sortByFields=created:desc&messageType=Reward&prize.claimed=false&_hasValuesFor=prize&_limit=100',
            headers: {
              'X-API-KEY': _this.settings.apiKey
            },
            success: function success(response, dataObj, xhr) {
              if (xhr.status === 200) {
                var jsonForAll = JSON.parse(response);
                window.mapObject(jsonForAll.data, function (message) {
                  var expired = typeof message.expiry === 'undefined' ? false : moment__WEBPACK_IMPORTED_MODULE_0___default()(message.expiry).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()()) < 0;

                  if (!expired) {
                    _this.settings.rewards.availableRewards.push(message);
                  }
                }); // expired rewards

                var date = new Date();
                var utcDate = date.getUTCFullYear() + '-' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(date.getUTCMonth() + 1, 2) + '-' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(date.getUTCDate(), 2) + 'T' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(date.getUTCHours(), 2) + ':' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(date.getUTCMinutes(), 2) + ':00';

                _this.settings.globalAjax.abort().getData({
                  type: 'GET',
                  url: _this.settings.uri.gatewayDomain + url + '?_sortByFields=created:desc&_limit=100&messageType=Reward&_hasValuesFor=expiry&expiry<==' + utcDate,
                  headers: {
                    'X-API-KEY': _this.settings.apiKey
                  },
                  success: function success(response, dataObj, xhr) {
                    if (xhr.status === 200) {
                      var jsonForAll = JSON.parse(response);
                      window.mapObject(jsonForAll.data, function (message) {
                        _this.settings.rewards.expiredRewards.push(message);
                      });
                      if (typeof callback === 'function') callback(_this.settings.rewards.rewards, _this.settings.rewards.availableRewards, _this.settings.rewards.expiredRewards);
                    } else {
                      _this.log('failed to checkForAvailableRewards expired ' + response);
                    }
                  }
                });
              } else {
                _this.log('failed to checkForAvailableRewards not-claimed ' + response);
              }
            }
          });
        } else {
          _this.log('failed to checkForAvailableRewards claimed ' + response);
        }
      }
    });
  };

  var checkForAvailableMessagesAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.checkForAvailableMessages = function (callback) {
    var _this = this;

    var url = _this.settings.uri.messages.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);

    var date = new Date();
    date.setDate(date.getMonth() - 1);
    var createdDateFilter = date.getFullYear() + '-' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(date.getMonth() + 1, 2) + '-' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(date.getDate(), 2);
    checkForAvailableMessagesAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?_sortByFields=created:desc&_hasNoValuesFor=prize&_limit=100&created>==' + createdDateFilter,
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var jsonForAll = JSON.parse(response);
          _this.settings.messages.messages = [];
          window.mapObject(jsonForAll.data, function (message) {
            _this.settings.messages.messages.push(message);
          });
          if (typeof callback === 'function') callback(_this.settings.messages.messages);
        } else {
          _this.log('failed to checkForAvailableMessages ' + response);
        }
      }
    });
  };

  var optInMemberAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.optInMemberToActiveCompetition = function (callback) {
    var _this = this;

    var url = _this.settings.uri.memberCompetitionOptIn.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId).replace(':competitionId', _this.settings.competition.activeCompetitionId);

    optInMemberAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url,
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          callback();
        } else {
          _this.log('failed to optInMemberToActiveCompetition ' + response);
        }
      }
    });
  };

  var revalidationCount = 0;

  this.revalidateIfSuccessfullOptIn = function (callback) {
    var _this = this;

    _this.loadActiveCompetition(function (competitionJson) {
      if (typeof competitionJson.data.optin === 'boolean' && !competitionJson.data.optin) {
        revalidationCount++;

        if (revalidationCount < 5) {
          setTimeout(function () {
            _this.revalidateIfSuccessfullOptIn(callback);
          }, 100);
        } else {
          revalidationCount = 0;
        }
      } else if (typeof competitionJson.data.optin === 'boolean' && competitionJson.data.optin) {
        callback(competitionJson);
      }
    });
  };

  this.leaderboardDataRefresh = function () {
    var _this = this;

    if (_this.settings.leaderboard.refreshLbDataInterval) {
      clearTimeout(_this.settings.leaderboard.refreshLbDataInterval);
    }

    if (_this.settings.competition.activeCompetition !== null && typeof _this.settings.competition.activeCompetition.optinRequired === 'boolean' && !_this.settings.competition.activeCompetition.optinRequired || typeof _this.settings.competition.activeCompetition.optin === 'boolean' && _this.settings.competition.activeCompetition.optin) {
      var count = _this.settings.miniScoreBoard.settings.active ? 0 : _this.settings.leaderboard.fullLeaderboardSize;

      _this.getLeaderboardData(count, function (data) {
        if (_this.settings.miniScoreBoard.settings.active) _this.settings.miniScoreBoard.loadScoreBoard();
        if (_this.settings.mainWidget.settings.active) _this.settings.mainWidget.loadLeaderboard();
      });
    }

    _this.settings.leaderboard.refreshLbDataInterval = setTimeout(function () {
      _this.leaderboardDataRefresh();
    }, _this.settings.leaderboard.refreshIntervalMillis);
  };

  this.activeCompetitionDataRefresh = function (callback) {
    var _this = this;

    if (_this.settings.competition.refreshInterval) {
      clearTimeout(_this.settings.competition.refreshInterval);
    }

    _this.checkForAvailableCompetitions(function () {
      _this.prepareActiveCompetition(function () {
        var count = _this.settings.miniScoreBoard.settings.active ? 0 : _this.settings.leaderboard.fullLeaderboardSize; // clear to not clash with LB refresh that could happen at same time

        if (_this.settings.leaderboard.refreshInterval) {
          clearTimeout(_this.settings.leaderboard.refreshInterval);
        }

        if (_this.settings.miniScoreBoard.settings.active || _this.settings.mainWidget.settings.active) {
          if (_this.settings.competition.activeCompetition !== null && typeof _this.settings.competition.activeCompetition.optinRequired === 'boolean' && !_this.settings.competition.activeCompetition.optinRequired || _this.settings.competition.activeCompetition !== null && typeof _this.settings.competition.activeCompetition.optin === 'boolean' && _this.settings.competition.activeCompetition.optin) {
            _this.getLeaderboardData(count, function (data) {
              if (_this.settings.miniScoreBoard.settings.active) _this.settings.miniScoreBoard.loadScoreBoard();
              if (_this.settings.mainWidget.settings.active) _this.settings.mainWidget.loadLeaderboard(); // re-start leaderboard refresh

              _this.leaderboardDataRefresh();

              if (typeof callback === 'function') {
                callback();
              }
            });
          } else {
            if (_this.settings.miniScoreBoard.settings.active) _this.settings.miniScoreBoard.loadScoreBoard();

            if (_this.settings.mainWidget.settings.active) {
              _this.getLeaderboardData(count, function (data) {
                _this.settings.mainWidget.loadLeaderboard();
              });
            } // restart leaderboard refresh


            _this.leaderboardDataRefresh();

            if (typeof callback === 'function') {
              callback();
            }
          }
        } else {
          if (_this.settings.miniScoreBoard.settings.active) _this.settings.miniScoreBoard.loadScoreBoard();

          if (typeof callback === 'function') {
            callback();
          }
        }
      });
    });

    _this.settings.competition.refreshInterval = setTimeout(function () {
      _this.activeCompetitionDataRefresh();
    }, _this.settings.competition.refreshIntervalMillis);
  };

  this.deactivateCompetitionsAndLeaderboards = function (callback) {
    var _this = this;

    if (_this.settings.leaderboard.refreshInterval) {
      clearTimeout(_this.settings.leaderboard.refreshInterval);
    }

    _this.settings.miniScoreBoard.clearAll();

    _this.settings.mainWidget.clearAll();

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.stopActivity = function (callback) {
    var _this = this;

    if (_this.settings.leaderboard.refreshInterval) {
      clearTimeout(_this.settings.leaderboard.refreshInterval);
      clearInterval(_this.settings.leaderboard.refreshInterval);
    }

    if (_this.settings.leaderboard.refreshLbDataInterval) {
      clearTimeout(_this.settings.leaderboard.refreshLbDataInterval);
      clearInterval(_this.settings.leaderboard.refreshLbDataInterval);
    }

    if (_this.settings.miniScoreBoard.settings.updateInterval) {
      clearTimeout(_this.settings.miniScoreBoard.settings.updateInterval);
      clearInterval(_this.settings.leaderboard.refreshInterval);
    }

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.restartActivity = function (callback) {
    var _this = this;

    _this.activeCompetitionDataRefresh();

    _this.settings.miniScoreBoard.updateScoreBoard();

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.loadMember = function (callback) {
    var _this = this;

    _this.settings.globalAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + _this.settings.uri.members.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);
          _this.settings.member = json.data;
          callback(json.data);
        } else {
          _this.log('failed to loadMember ' + response); // if user not found, we can retry later to see if it was inserted.
          // normally the spin events will automatically insert the user


          if (xhr.status === 404) {
            // retry in 5 secs
            setTimeout(function () {
              _this.init();
            }, 5000);
          }
        }
      }
    });
  };

  this.loadWidgetTranslations = function (callback) {
    var _this = this;

    if (typeof _this.settings.uri.translationPath === 'string' && _this.settings.uri.translationPath.length > 0 && _this.settings.loadTranslations) {
      _this.settings.globalAjax.abort().getData({
        type: 'GET',
        // translation path must be absolute URL
        url: _this.settings.uri.translationPath.replace(':language', _this.settings.language).toString(),
        headers: {
          'X-API-KEY': _this.settings.apiKey
        },
        success: function success(response, dataObj, xhr) {
          if (xhr.status === 200) {
            var json = JSON.parse(response);
            _this.settings.translation = Object(_utils_mergeObjects__WEBPACK_IMPORTED_MODULE_3__["default"])(_this.settings.translation, json);
            callback();
          } else {
            _this.log('no translation found ' + response);

            callback();
          }
        },
        error: function error(xhr, ajaxOptions, thrownError) {
          _this.log('Translation File Request Error');
        }
      });
    } else {
      callback();
    }
  };

  this.startup = function () {
    var _this = this;

    _this.settings.miniScoreBoard.initLayout(function () {
      _this.settings.miniScoreBoard.settings.active = true;

      _this.activeCompetitionDataRefresh();

      if (_this.settings.enableNotifications) {
        _this.settings.notifications.init();
      }

      _this.cleanup();
    });
  };

  var _cleanupInstance;

  this.cleanup = function () {
    var _this = this;

    if (_cleanupInstance) {
      clearTimeout(_cleanupInstance);
    }

    _cleanupInstance = setTimeout(function () {
      _this.settings.mainWidget.preLoaderRerun();

      _this.cleanup();
    }, 3000);
  };

  this.loadStylesheet = function (callback) {
    var _this = this;

    var createdResources = false;
    var availableLinks = [];
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_6__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_7__["default"])('link'), function (link) {
      if (link !== null) {
        availableLinks.push(link.href);
      }
    });
    window.mapObject(_this.settings.resources, function (resource, key, count) {
      var exists = false;
      window.mapObject(availableLinks, function (link) {
        if (link === resource) {
          exists = true;
        }
      });

      if (!exists) {
        var link = document.createElement('link');
        link.setAttribute('rel', 'stylesheet');
        link.setAttribute('type', 'text/css');
        link.setAttribute('href', resource);

        if (count === 0) {
          link.onload = function () {
            if (typeof callback === 'function') {
              callback();
            }
          };

          link.onerror = function (e) {
            if (typeof callback === 'function') {
              callback();
            }
          };
        }

        document.body.appendChild(link);
        createdResources = true;
      }
    });

    if (!createdResources && typeof callback === 'function') {
      callback();
    }
  };

  this.clickedMiniScoreBoard = function () {
    var _this = this;

    if (!_this.settings.miniScoreBoard.settings.dragging) {
      _this.deactivateCompetitionsAndLeaderboards(function () {
        _this.settings.leaderboard.leaderboardData = [];

        _this.settings.mainWidget.initLayout(function () {
          _this.activeCompetitionDataRefresh();
        });

        setTimeout(function () {
          _this.settings.miniScoreBoard.settings.container.style.display = 'none';
        }, 200);
      });
    }
  };
  /**
   * Open main widget and open specific tab and loads relevant action
   * @param tab String
   * @param actionCallback Function
   */


  this.openWithTabAndAction = function (tab, actionCallback) {
    var _this = this;

    if (_this.settings.mainWidget.settings.active) {
      var loadTab = Object(_utils_query__WEBPACK_IMPORTED_MODULE_7__["default"])(_this.settings.mainWidget.settings.container, tab);

      _this.settings.mainWidget.navigationSwitch(loadTab, function () {
        _this.activeCompetitionDataRefresh();

        if (typeof actionCallback === 'function') {
          actionCallback();
        }
      });

      setTimeout(function () {
        _this.settings.miniScoreBoard.settings.container.style.display = 'none';
      }, 200);
    } else {
      _this.deactivateCompetitionsAndLeaderboards(function () {
        _this.settings.mainWidget.initLayout(function () {
          _this.settings.mainWidget.navigationSwitch(Object(_utils_query__WEBPACK_IMPORTED_MODULE_7__["default"])(_this.settings.mainWidget.settings.container, tab), function () {
            _this.activeCompetitionDataRefresh();

            if (typeof actionCallback === 'function') {
              actionCallback();
            }
          });
        });

        setTimeout(function () {
          _this.settings.miniScoreBoard.settings.container.style.display = 'none';
        }, 200);
      });
    }
  };

  var loadCompetitionListAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.eventHandlers = function (el) {
    var _this = this; // mini scoreboard opt-in action


    if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-widget-ms-optin-action') && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'checking')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_9__["default"])(el, 'checking');

      _this.optInMemberToActiveCompetition(function () {
        _this.revalidateIfSuccessfullOptIn(function (competitionJson) {
          _this.settings.competition.activeCompetition = competitionJson.data; // _this.getLeaderboardData(1, function( data ){
          //  _this.settings.miniScoreBoard.loadScoreBoard( data );
          // });
          // extra action to load competition details on mini scoreboard opt-in - Product request

          _this.deactivateCompetitionsAndLeaderboards(function () {
            _this.settings.leaderboard.leaderboardData = [];

            _this.settings.mainWidget.initLayout(function () {
              _this.activeCompetitionDataRefresh();

              _this.settings.mainWidget.loadCompetitionDetails(function () {});
            });

            setTimeout(function () {
              _this.settings.miniScoreBoard.settings.container.style.display = 'none';
            }, 200);
          });

          Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'checking');
        });
      }); // Leaderboard details opt-in action

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-lb-details-optin-action') && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'checking')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_9__["default"])(el, 'checking');

      _this.optInMemberToActiveCompetition(function () {
        _this.revalidateIfSuccessfullOptIn(function (competitionJson) {
          _this.settings.competition.activeCompetition = competitionJson.data;

          _this.settings.mainWidget.competitionDetailsOptInButtonState();

          Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'checking');
        });
      }); // Leaderboard details opt-in action

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-lb-optin-action') && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'checking')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_9__["default"])(el, 'checking');

      _this.optInMemberToActiveCompetition(function () {
        _this.revalidateIfSuccessfullOptIn(function (competitionJson) {
          _this.settings.competition.activeCompetition = competitionJson.data;

          _this.settings.mainWidget.loadCompetitionDetails(function () {});

          Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'checking');
          el.parentNode.style.display = 'none';
        });
      }); // close mini scoreboard info area

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-widget-ms-information-close') && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'checking')) {
      _this.settings.miniScoreBoard.clearAll(); // close notification window

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-widget-notif-information-close') && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'checking')) {
      _this.settings.notifications.hideNotification(); // close leaderboard window

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-lb-header-close') || Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-ach-header-close') || Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-reward-header-close') || Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-inbox-header-close')) {
      _this.settings.mainWidget.hide(function () {
        _this.settings.miniScoreBoard.settings.active = true;
        _this.settings.miniScoreBoard.settings.container.style.display = 'block';

        _this.activeCompetitionDataRefresh();
      }); // load competition details

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-lb-details-content-label')) {
      if (_this.settings.competition.activeContest !== null) {
        _this.settings.mainWidget.loadCompetitionDetails(function () {});
      } // load achievement details

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-ach-list-more')) {
      _this.getAchievement(el.dataset.id, function (data) {
        _this.settings.mainWidget.loadAchievementDetails(data, function () {});
      }); // leaderboard details back button

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-lb-details-back-btn')) {
      _this.settings.mainWidget.hideCompetitionDetails(); // achievements details back button

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-ach-details-back-btn')) {
      _this.settings.mainWidget.hideAchievementDetails(function () {}); // rewards details back button

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-reward-details-back-btn')) {
      _this.settings.mainWidget.hideRewardDetails(function () {}); // messages details back button

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-inbox-details-back-btn')) {
      _this.settings.mainWidget.hideMessageDetails(function () {}); // load rewards details

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-rew-list-item') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-rew-list-item') !== null) {
      var rewardId = Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-rew-list-item') ? el.dataset.rewardId : Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-rew-list-item').dataset.rewardId;

      _this.getReward(rewardId, function (data) {
        _this.settings.mainWidget.loadRewardDetails(data, function () {});
      }); // load inbox details

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-inbox-list-item') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-inbox-list-item') !== null) {
      var messageId = Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-inbox-list-item') ? el.dataset.rewardId : Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-inbox-list-item').dataset.id;

      _this.getMessage(messageId, function (data) {
        _this.settings.mainWidget.loadMessageDetails(data, function () {});
      }); // claim reward

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-reward-claim-btn')) {
      _this.claimReward(el.dataset.id, function (data) {
        if (data.data.claimed) {
          _this.settings.mainWidget.loadRewards();

          Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_9__["default"])(el, 'cl-claimed');
          el.innerHTML = _this.settings.translation.rewards.claimed;
        } else {
          Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-claimed');
          el.innerHTML = _this.settings.translation.rewards.claim;
        }
      }); // load achievement details window from notification window

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-widget-notif-information-details-wrapper') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-widget-notif-information-details-wrapper') !== null) {
      _this.openWithTabAndAction('.cl-main-widget-navigation-ach-icon', function () {
        var id = Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-widget-notif-information-details-wrapper') ? el.dataset.id : Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-widget-notif-information-details-wrapper').dataset.id;

        _this.settings.notifications.hideNotification();

        _this.settings.mainWidget.hideAchievementDetails(function () {
          _this.getAchievement(id, function (data) {
            _this.settings.mainWidget.loadAchievementDetails(data);
          });
        });
      }); // primary widget navigation

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-navigation-item')) {
      _this.settings.mainWidget.navigationSwitch(el); // competition list

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-lb-header-list-icon')) {
      if (_this.settings.leaderboard.refreshInterval) {
        clearTimeout(_this.settings.leaderboard.refreshInterval);
      }

      _this.settings.mainWidget.loadCompetitionList(function () {
        _this.activeCompetitionDataRefresh();
      }, loadCompetitionListAjax); // load competition

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-tour-list-item') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-tour-list-item') !== null) {
      var tournamentId = Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-tour-list-item') ? el.dataset.id : Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-tour-list-item').dataset.id;

      var preLoader = _this.settings.mainWidget.preloader();

      preLoader.show(function () {
        _this.settings.mainWidget.settings.active = true;
        _this.settings.tournaments.activeCompetitionId = tournamentId;

        _this.activeCompetitionDataRefresh(function () {
          _this.settings.mainWidget.hideCompetitionList(function () {
            preLoader.hide();
          });
        });
      }); // hide competition list view
    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-tournaments-back-btn')) {
      _this.settings.mainWidget.hideCompetitionList(); // mini scoreboard action to open primary widget

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-widget-ms-icon-wrapper') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-widget-ms-icon-wrapper') !== null || Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-widget-ms-information-wrapper') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-widget-ms-information-wrapper') !== null) {
      _this.clickedMiniScoreBoard(); // accordion navigation

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-accordion-label')) {
      _this.settings.mainWidget.accordionNavigation(el);
    }
  };

  this.eventListeners = function () {
    var _this = this;

    document.body.addEventListener('keyup', function (event) {
      switch (event.keyCode) {
        case 27:
          // on escape
          if (_this.settings.mainWidget.settings.active) {
            _this.settings.mainWidget.hide(function () {
              _this.settings.miniScoreBoard.settings.active = true;
              _this.settings.miniScoreBoard.settings.container.style.display = 'block';

              _this.activeCompetitionDataRefresh();
            });
          }

          break;
      }
    });

    if (_this.isMobile()) {
      document.body.addEventListener('touchend', function (event) {
        var el = event.target;

        if (!_this.settings.miniScoreBoard.settings.dragging) {
          _this.eventHandlers(el);
        }
      });
    } else {
      document.body.addEventListener('click', function (event) {
        var el = event.target;

        _this.eventHandlers(el);
      });
    }
  };

  this.closeEverything = function () {
    var _this = this;

    _this.deactivateCompetitionsAndLeaderboards(function () {
      _this.settings.leaderboard.leaderboardData = [];

      _this.settings.mainWidget.initLayout(function () {
        _this.activeCompetitionDataRefresh();
      });

      setTimeout(function () {
        _this.settings.miniScoreBoard.settings.container.style.display = 'none';
      }, 200);
    });

    _this.settings.mainWidget.hide();

    _this.settings.mainWidget.settings.preLoader.preLoaderActive = false;
  };

  this.isMobile = function () {
    return Object(_utils_isMobileTablet__WEBPACK_IMPORTED_MODULE_12__["default"])();
  };

  this.init = function () {
    var _this = this;

    _this.loadStylesheet(function () {
      _this.loadMember(function (member) {
        _this.loadWidgetTranslations(function () {
          if (_this.settings.miniScoreBoard === null) {
            _this.settings.notifications = new _Notifications__WEBPACK_IMPORTED_MODULE_15__["Notifications"]();
            _this.settings.miniScoreBoard = new _MiniScoreBoard__WEBPACK_IMPORTED_MODULE_16__["MiniScoreBoard"]({
              active: true
            });
            _this.settings.mainWidget = new _MainWidget__WEBPACK_IMPORTED_MODULE_17__["MainWidget"]();
            _this.settings.notifications.settings.lbWidget = _this;
            _this.settings.miniScoreBoard.settings.lbWidget = _this;
            _this.settings.mainWidget.settings.lbWidget = _this;

            _this.startup();

            _this.eventListeners();
          } else {
            _this.settings.mainWidget.hide(function () {
              _this.deactivateCompetitionsAndLeaderboards(function () {
                _this.settings.miniScoreBoard.settings.active = true;
                _this.settings.miniScoreBoard.settings.container.style.display = 'block';

                _this.startup();
              });
            });
          }
        });
      });
    });
  };

  if (this.settings.autoStart) {
    this.init();
  }
};

/***/ }),

/***/ "./src/javascript/modules/MainWidget.js":
/*!**********************************************!*\
  !*** ./src/javascript/modules/MainWidget.js ***!
  \**********************************************/
/*! exports provided: MainWidget */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MainWidget", function() { return MainWidget; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_hasClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/hasClass */ "./src/javascript/utils/hasClass.js");
/* harmony import */ var _utils_removeClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/removeClass */ "./src/javascript/utils/removeClass.js");
/* harmony import */ var _utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/objectIterator */ "./src/javascript/utils/objectIterator.js");
/* harmony import */ var _utils_query__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/query */ "./src/javascript/utils/query.js");
/* harmony import */ var _utils_closest__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/closest */ "./src/javascript/utils/closest.js");
/* harmony import */ var _utils_addClass__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/addClass */ "./src/javascript/utils/addClass.js");
/* harmony import */ var _utils_remove__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/remove */ "./src/javascript/utils/remove.js");
/* harmony import */ var _utils_appendNext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/appendNext */ "./src/javascript/utils/appendNext.js");
/* harmony import */ var _utils_stripHtml__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/stripHtml */ "./src/javascript/utils/stripHtml.js");
function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }











var MainWidget = function MainWidget(options) {
  this.settings = {
    lbWidget: null,
    container: null,
    navigation: null,
    section: null,
    detailsContainer: null,
    tournamentListContainer: null,
    headerDate: null,
    preLoader: {
      preLoaderActive: false,
      preLoaderlastAttempt: null,
      preloaderCallbackRecovery: function preloaderCallbackRecovery() {}
    },
    achievement: {
      container: null,
      detailsContainer: null
    },
    reward: {
      container: null,
      detailsContainer: null
    },
    messages: {
      container: null,
      detailsContainer: null
    },
    leaderboard: {
      defaultEmptyList: 20,
      topResultSize: 3,
      header: null,
      container: null,
      list: null,
      topResults: null,
      timerInterval: null
    },
    tournamentsSection: {
      accordionLayout: [{
        label: 'Upcoming Tournaments',
        type: 'readyCompetitions',
        show: false,
        showTopResults: 1
      }, {
        label: 'Active Tournaments',
        type: 'activeCompetitions',
        show: true,
        showTopResults: 1
      }, {
        label: 'Finished Tournaments',
        type: 'finishedCompetitions',
        show: false,
        showTopResults: 1
      }]
    },
    rewardsSection: {
      accordionLayout: [{
        label: 'Available Rewards',
        type: 'availableRewards',
        show: true,
        showTopResults: 1
      }, {
        label: 'Claimed Rewards',
        type: 'rewards',
        show: false,
        showTopResults: 1
      }, {
        label: 'Expired Rewards',
        type: 'expiredRewards',
        show: false,
        showTopResults: 1
      }]
    },
    active: false,
    navigationSwitchLastAtempt: new Date().getTime(),
    navigationSwitchInProgress: false
  };

  if (typeof options !== 'undefined') {
    for (var opt in options) {
      if (options.hasOwnProperty(opt)) {
        this.settings[opt] = options[opt];
      }
    }
  }
  /**
   * Accordion style layout
   * - parameters:
   *      - label: String "Available rewards"
   *      - type: String "available-rewards"
   *      - shown: Boolean true/false
   * @param data Array
   * @param onLayout Function
   */


  this.accordionStyle = function (data, onLayout) {
    var _this = this;

    var accordionWrapper = document.createElement('div');
    accordionWrapper.setAttribute('class', 'cl-main-accordion-container');
    window.mapObject(data, function (entry) {
      var accordionSection = document.createElement('div');
      var accordionLabel = document.createElement('div');
      var topShownEntry = document.createElement('div');
      var accordionListContainer = document.createElement('div');
      var accordionList = document.createElement('div');
      accordionSection.setAttribute('class', 'cl-accordion ' + entry.type + (typeof entry.show === 'boolean' && entry.show ? ' cl-shown' : ''));
      accordionLabel.setAttribute('class', 'cl-accordion-label');
      topShownEntry.setAttribute('class', 'cl-accordion-entry');
      accordionListContainer.setAttribute('class', 'cl-accordion-list-container');
      accordionList.setAttribute('class', 'cl-accordion-list');

      if (typeof _this.settings.lbWidget.settings.translation.rewards[entry.type] !== 'undefined') {
        accordionLabel.innerHTML = _this.settings.lbWidget.settings.translation.rewards[entry.type];
      } else if (typeof _this.settings.lbWidget.settings.translation.tournaments[entry.type] !== 'undefined') {
        accordionLabel.innerHTML = _this.settings.lbWidget.settings.translation.tournaments[entry.type];
      } else {
        accordionLabel.innerHTML = entry.label;
      }

      if (typeof onLayout === 'function') {
        onLayout(accordionSection, accordionList, topShownEntry, entry);
      }

      accordionListContainer.appendChild(accordionList);
      accordionSection.appendChild(accordionLabel);
      accordionSection.appendChild(topShownEntry);
      accordionSection.appendChild(accordionListContainer);
      accordionWrapper.appendChild(accordionSection);
    });
    return accordionWrapper;
  };

  this.accordionNavigation = function (element) {
    // var _this = this;
    var parentEl = element.parentNode;

    if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(parentEl, 'cl-shown')) {
      Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(parentEl, 'cl-shown');
    } else {
      Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(_utils_closest__WEBPACK_IMPORTED_MODULE_5__["default"])(parentEl, '.cl-main-accordion-container'), '.cl-shown'), function (obj) {
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(obj, 'cl-shown');
      });
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(parentEl, 'cl-shown');
    }
  };

  this.layout = function () {
    var _this = this;

    var wrapper = document.createElement('div');
    var innerWrapper = document.createElement('div');
    var navigationContainer = document.createElement('div');
    var navigationItems = document.createElement('div');
    var navigationItemLB = document.createElement('div');
    var navigationItemLBIcon = document.createElement('div');
    var navigationItemACH = document.createElement('div');
    var navigationItemACHIcon = document.createElement('div');
    var navigationItemRewards = document.createElement('div');
    var navigationItemRewardsIcon = document.createElement('div');
    var navigationItemInbox = document.createElement('div');
    var navigationItemInboxIcon = document.createElement('div');
    var mainSectionContainer = document.createElement('div');
    var preLoaderContainer = document.createElement('div');
    var preLoaderContent = document.createElement('div');
    var preLoaderBar1 = document.createElement('div');
    var preLoaderBar2 = document.createElement('div');
    var preLoaderBar3 = document.createElement('div');

    var sectionLB = _this.leaderboardAreaLayout();

    var sectionACH = _this.achievementsAreaLayout();

    var sectionRewards = _this.rewardsAreaLayout();

    var sectionInbox = _this.inboxAreaLayout();

    wrapper.setAttribute('class', 'cl-main-widget-wrapper');
    innerWrapper.setAttribute('class', 'cl-main-widget-inner-wrapper');
    navigationContainer.setAttribute('class', 'cl-main-widget-navigation-container');
    navigationItems.setAttribute('class', 'cl-main-widget-navigation-items');
    navigationItemLB.setAttribute('class', 'cl-main-widget-navigation-lb cl-active-nav');
    navigationItemLBIcon.setAttribute('class', 'cl-main-widget-navigation-lb-icon cl-main-navigation-item');
    navigationItemACH.setAttribute('class', 'cl-main-widget-navigation-ach');
    navigationItemACHIcon.setAttribute('class', 'cl-main-widget-navigation-ach-icon cl-main-navigation-item');
    navigationItemRewards.setAttribute('class', 'cl-main-widget-navigation-rewards');
    navigationItemRewardsIcon.setAttribute('class', 'cl-main-widget-navigation-rewards-icon cl-main-navigation-item');
    mainSectionContainer.setAttribute('class', 'cl-main-widget-section-container');
    preLoaderContainer.setAttribute('class', 'cl-main-widget-pre-loader');
    preLoaderContent.setAttribute('class', 'cl-main-widget-pre-loader-content');
    preLoaderBar1.setAttribute('class', 'cl-pre-loader-bar');
    preLoaderBar2.setAttribute('class', 'cl-pre-loader-bar');
    preLoaderBar3.setAttribute('class', 'cl-pre-loader-bar');
    preLoaderContent.appendChild(preLoaderBar1);
    preLoaderContent.appendChild(preLoaderBar2);
    preLoaderContent.appendChild(preLoaderBar3);
    preLoaderContainer.appendChild(preLoaderContent);
    navigationItemLB.appendChild(navigationItemLBIcon);
    navigationItems.appendChild(navigationItemLB);
    navigationItemACH.appendChild(navigationItemACHIcon);
    navigationItems.appendChild(navigationItemACH);
    navigationItemRewards.appendChild(navigationItemRewardsIcon);
    navigationItems.appendChild(navigationItemRewards);

    if (_this.settings.lbWidget.settings.messages.enable) {
      navigationItemInbox.setAttribute('class', 'cl-main-widget-navigation-inbox');
      navigationItemInboxIcon.setAttribute('class', 'cl-main-widget-navigation-inbox-icon cl-main-navigation-item');
      navigationItemInbox.appendChild(navigationItemInboxIcon);
      navigationItems.appendChild(navigationItemInbox);
    }

    navigationContainer.appendChild(navigationItems);
    mainSectionContainer.appendChild(sectionLB);
    mainSectionContainer.appendChild(sectionACH);
    mainSectionContainer.appendChild(sectionRewards);
    mainSectionContainer.appendChild(sectionInbox);
    mainSectionContainer.appendChild(preLoaderContainer);
    innerWrapper.appendChild(navigationContainer);
    innerWrapper.appendChild(mainSectionContainer);
    wrapper.appendChild(innerWrapper);
    return wrapper;
  };

  this.leaderboardAreaLayout = function () {
    var _this = this;

    var sectionLB = document.createElement('div');
    var sectionLBHeader = document.createElement('div');
    var sectionLBHeaderList = document.createElement('div');
    var sectionLBHeaderListIcon = document.createElement('div');
    var sectionLBHeaderLabel = document.createElement('div');
    var sectionLBHeaderDate = document.createElement('div');
    var sectionLBHeaderClose = document.createElement('div');
    var sectionLBDetails = document.createElement('div');
    var sectionLBDetailsInfo = document.createElement('div');
    var sectionLBDetailsInfoIcon = document.createElement('div');
    var sectionLBDetailsContentContainer = document.createElement('div');
    var sectionLBDetailsContentContainerLabel = document.createElement('div');
    var sectionLBDetailsContentContainerDate = document.createElement('div');
    var sectionLBLeaderboard = document.createElement('div');
    var sectionLBLeaderboardHeader = document.createElement('div');
    var sectionLBLeaderboardHeaderLabels = document.createElement('div');
    var sectionLBLeaderboardHeaderTopResults = document.createElement('div');
    var sectionLBLeaderboardBody = document.createElement('div');
    var sectionLBLeaderboardBodyResults = document.createElement('div');
    var sectionLBMissingMember = document.createElement('div');
    var sectionLBOptInContainer = document.createElement('div');
    var sectionLBOptInAction = document.createElement('a');
    var sectionLBFooter = document.createElement('div');
    var sectionLBFooterContent = document.createElement('div');
    var sectionTournamentDetailsContainer = document.createElement('div');
    var sectionTournamentDetailsHeader = document.createElement('div');
    var sectionTournamentDetailsHeaderLabel = document.createElement('div');
    var sectionTournamentDetailsHeaderDate = document.createElement('div');
    var sectionTournamentDetailsBackBtn = document.createElement('a');
    var sectionTournamentDetailsBodyContainer = document.createElement('div');
    var sectionTournamentDetailsBodyImageContainer = document.createElement('div');
    var sectionTournamentDetailsBody = document.createElement('div');
    var sectionTournamentDetailsOptInContainer = document.createElement('div');
    var sectionTournamentDetailsOptInAction = document.createElement('a');
    var sectionTournamentList = document.createElement('div');
    var sectionTournamentListBody = document.createElement('div');
    var sectionTournamentListBodyResults = document.createElement('div');
    var sectionTournamentBackAction = document.createElement('a');
    sectionLB.setAttribute('class', 'cl-main-widget-lb cl-main-section-item cl-main-active-section');
    sectionLBHeader.setAttribute('class', 'cl-main-widget-lb-header');
    sectionLBHeaderList.setAttribute('class', 'cl-main-widget-lb-header-list');
    sectionLBHeaderListIcon.setAttribute('class', 'cl-main-widget-lb-header-list-icon');
    sectionLBHeaderLabel.setAttribute('class', 'cl-main-widget-lb-header-label');
    sectionLBHeaderDate.setAttribute('class', 'cl-main-widget-lb-header-date');
    sectionLBHeaderClose.setAttribute('class', 'cl-main-widget-lb-header-close');
    sectionLBDetails.setAttribute('class', 'cl-main-widget-lb-details');
    sectionLBDetailsInfo.setAttribute('class', 'cl-main-widget-lb-details-info');
    sectionLBDetailsInfoIcon.setAttribute('class', 'cl-main-widget-lb-details-info-icon');
    sectionLBDetailsContentContainer.setAttribute('class', 'cl-main-widget-lb-details-content');
    sectionLBDetailsContentContainerLabel.setAttribute('class', 'cl-main-widget-lb-details-content-label');
    sectionLBDetailsContentContainerDate.setAttribute('class', 'cl-main-widget-lb-details-content-date'); // Leaderboard result container

    sectionLBLeaderboard.setAttribute('class', 'cl-main-widget-lb-leaderboard');
    sectionLBLeaderboardHeader.setAttribute('class', 'cl-main-widget-lb-leaderboard-header');
    sectionLBLeaderboardHeaderLabels.setAttribute('class', 'cl-main-widget-lb-leaderboard-header-labels');
    sectionLBLeaderboardHeaderTopResults.setAttribute('class', 'cl-main-widget-lb-leaderboard-header-top-res');
    sectionLBLeaderboardBody.setAttribute('class', 'cl-main-widget-lb-leaderboard-body');
    sectionLBLeaderboardBodyResults.setAttribute('class', 'cl-main-widget-lb-leaderboard-body-res');
    sectionLBMissingMember.setAttribute('class', 'cl-main-widget-lb-missing-member'); // footer

    sectionLBFooter.setAttribute('class', 'cl-main-widget-lb-footer');
    sectionLBFooterContent.setAttribute('class', 'cl-main-widget-lb-footer-content'); // details section

    sectionTournamentDetailsContainer.setAttribute('class', 'cl-main-widget-lb-details-container');
    sectionTournamentDetailsHeader.setAttribute('class', 'cl-main-widget-lb-details-header');
    sectionTournamentDetailsHeaderLabel.setAttribute('class', 'cl-main-widget-lb-details-header-label');
    sectionTournamentDetailsHeaderDate.setAttribute('class', 'cl-main-widget-lb-details-header-date');
    sectionTournamentDetailsBackBtn.setAttribute('class', 'cl-main-widget-lb-details-back-btn');
    sectionTournamentDetailsBodyContainer.setAttribute('class', 'cl-main-widget-lb-details-body-container');
    sectionTournamentDetailsBodyImageContainer.setAttribute('class', 'cl-main-widget-lb-details-body-image-cont');
    sectionTournamentDetailsBody.setAttribute('class', 'cl-main-widget-lb-details-body');
    sectionTournamentDetailsOptInContainer.setAttribute('class', 'cl-main-widget-lb-details-optin-container');
    sectionTournamentDetailsOptInAction.setAttribute('class', 'cl-main-widget-lb-details-optin-action');
    sectionTournamentList.setAttribute('class', 'cl-main-widget-tournaments-list');
    sectionTournamentBackAction.setAttribute('class', 'cl-main-widget-tournaments-back-btn');
    sectionTournamentListBody.setAttribute('class', 'cl-main-widget-tournaments-list-body');
    sectionTournamentListBodyResults.setAttribute('class', 'cl-main-widget-tournaments-list-body-res');
    sectionLBOptInContainer.setAttribute('class', 'cl-main-widget-lb-optin-container');
    sectionLBOptInAction.setAttribute('class', 'cl-main-widget-lb-optin-action');
    sectionLBHeaderLabel.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.label;
    sectionLBFooterContent.innerHTML = _this.settings.lbWidget.settings.translation.global.copy;
    sectionTournamentDetailsOptInAction.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.enter;
    sectionTournamentDetailsOptInAction.href = 'javascript:void(0);';
    sectionLBOptInAction.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.enter;
    sectionLBOptInAction.href = 'javascript:void(0);';
    sectionLBHeaderList.appendChild(sectionLBHeaderListIcon);
    sectionLBHeader.appendChild(sectionLBHeaderList);
    sectionLBHeader.appendChild(sectionLBHeaderLabel);
    sectionLBHeader.appendChild(sectionLBHeaderDate);
    sectionLBHeader.appendChild(sectionLBHeaderClose);
    sectionLBDetailsInfo.appendChild(sectionLBDetailsInfoIcon);
    sectionLBDetailsContentContainer.appendChild(sectionLBDetailsContentContainerLabel);
    sectionLBDetailsContentContainer.appendChild(sectionLBDetailsContentContainerDate);
    sectionLBDetails.appendChild(sectionLBDetailsInfo);
    sectionLBDetails.appendChild(sectionLBDetailsContentContainer);
    sectionLBLeaderboardHeader.appendChild(sectionLBLeaderboardHeaderLabels);
    sectionLBLeaderboard.appendChild(sectionLBLeaderboardHeader);
    sectionLBLeaderboard.appendChild(sectionLBLeaderboardHeaderTopResults);
    sectionLBLeaderboardBody.appendChild(sectionLBLeaderboardBodyResults);
    sectionLBLeaderboard.appendChild(sectionLBLeaderboardBody);
    sectionLBFooter.appendChild(sectionLBFooterContent);
    sectionTournamentListBody.appendChild(sectionTournamentListBodyResults);
    sectionTournamentList.appendChild(sectionTournamentListBody);
    sectionTournamentList.appendChild(sectionTournamentBackAction);
    sectionTournamentDetailsHeader.appendChild(sectionTournamentDetailsHeaderLabel);
    sectionTournamentDetailsHeader.appendChild(sectionTournamentDetailsHeaderDate);
    sectionTournamentDetailsContainer.appendChild(sectionTournamentDetailsHeader);
    sectionTournamentDetailsContainer.appendChild(sectionTournamentDetailsBackBtn);
    sectionTournamentDetailsBodyContainer.appendChild(sectionTournamentDetailsBodyImageContainer);
    sectionTournamentDetailsBodyContainer.appendChild(sectionTournamentDetailsBody);
    sectionTournamentDetailsContainer.appendChild(sectionTournamentDetailsBodyContainer);
    sectionTournamentDetailsOptInContainer.appendChild(sectionTournamentDetailsOptInAction);
    sectionTournamentDetailsContainer.appendChild(sectionTournamentDetailsOptInContainer);
    sectionLBOptInContainer.appendChild(sectionLBOptInAction);
    sectionLB.appendChild(sectionLBHeader);
    sectionLB.appendChild(sectionLBDetails);
    sectionLB.appendChild(sectionLBLeaderboard);
    sectionLB.appendChild(sectionLBMissingMember);
    sectionLB.appendChild(sectionLBOptInContainer);
    sectionLB.appendChild(sectionLBFooter);
    sectionLB.appendChild(sectionTournamentDetailsContainer);
    sectionLB.appendChild(sectionTournamentList);
    return sectionLB;
  };

  this.achievementsAreaLayout = function () {
    var _this = this;

    var sectionACH = document.createElement('div');
    var sectionACHHeader = document.createElement('div');
    var sectionACHHeaderLabel = document.createElement('div');
    var sectionACHHeaderDate = document.createElement('div');
    var sectionACHHeaderClose = document.createElement('div');
    var sectionACHDetails = document.createElement('div');
    var sectionACHDetailsInfo = document.createElement('div');
    var sectionACHDetailsInfoIcon = document.createElement('div');
    var sectionACHDetailsContentContainer = document.createElement('div');
    var sectionACHDetailsContentContainerLabel = document.createElement('div');
    var sectionACHDetailsContentContainerDate = document.createElement('div');
    var sectionACHList = document.createElement('div');
    var sectionACHListBody = document.createElement('div');
    var sectionACHListBodyResults = document.createElement('div');
    var sectionACHFooter = document.createElement('div');
    var sectionACHFooterContent = document.createElement('div');
    var sectionAchievementDetailsContainer = document.createElement('div');
    var sectionAchievementDetailsHeader = document.createElement('div');
    var sectionAchievementDetailsHeaderLabel = document.createElement('div');
    var sectionAchievementDetailsHeaderDate = document.createElement('div');
    var sectionAchievementDetailsBackBtn = document.createElement('a');
    var sectionAchievementDetailsBodyContainer = document.createElement('div');
    var sectionAchievementDetailsBodyImageContainer = document.createElement('div');
    var sectionAchievementDetailsBody = document.createElement('div');
    sectionACH.setAttribute('class', 'cl-main-widget-section-ach cl-main-section-item');
    sectionACHHeader.setAttribute('class', 'cl-main-widget-ach-header');
    sectionACHHeaderLabel.setAttribute('class', 'cl-main-widget-ach-header-label');
    sectionACHHeaderDate.setAttribute('class', 'cl-main-widget-ach-header-date');
    sectionACHHeaderClose.setAttribute('class', 'cl-main-widget-ach-header-close');
    sectionACHDetails.setAttribute('class', 'cl-main-widget-ach-details');
    sectionACHDetailsInfo.setAttribute('class', 'cl-main-widget-ach-details-info');
    sectionACHDetailsInfoIcon.setAttribute('class', 'cl-main-widget-ach-details-info-icon');
    sectionACHDetailsContentContainer.setAttribute('class', 'cl-main-widget-ach-details-content');
    sectionACHDetailsContentContainerLabel.setAttribute('class', 'cl-main-widget-ach-details-content-label');
    sectionACHDetailsContentContainerDate.setAttribute('class', 'cl-main-widget-ach-details-content-date'); // Leaderboard result container

    sectionACHList.setAttribute('class', 'cl-main-widget-ach-list');
    sectionACHListBody.setAttribute('class', 'cl-main-widget-ach-list-body');
    sectionACHListBodyResults.setAttribute('class', 'cl-main-widget-ach-list-body-res'); // footer

    sectionACHFooter.setAttribute('class', 'cl-main-widget-ach-footer');
    sectionACHFooterContent.setAttribute('class', 'cl-main-widget-ach-footer-content'); // details section

    sectionAchievementDetailsContainer.setAttribute('class', 'cl-main-widget-ach-details-container');
    sectionAchievementDetailsHeader.setAttribute('class', 'cl-main-widget-ach-details-header');
    sectionAchievementDetailsHeaderLabel.setAttribute('class', 'cl-main-widget-ach-details-header-label');
    sectionAchievementDetailsHeaderDate.setAttribute('class', 'cl-main-widget-ach-details-header-date');
    sectionAchievementDetailsBackBtn.setAttribute('class', 'cl-main-widget-ach-details-back-btn');
    sectionAchievementDetailsBodyContainer.setAttribute('class', 'cl-main-widget-ach-details-body-container');
    sectionAchievementDetailsBodyImageContainer.setAttribute('class', 'cl-main-widget-ach-details-body-image-cont');
    sectionAchievementDetailsBody.setAttribute('class', 'cl-main-widget-ach-details-body');
    sectionACHHeaderLabel.innerHTML = _this.settings.lbWidget.settings.translation.achievements.label;
    sectionACHFooterContent.innerHTML = _this.settings.lbWidget.settings.translation.global.copy;
    sectionAchievementDetailsHeader.appendChild(sectionAchievementDetailsHeaderLabel);
    sectionAchievementDetailsHeader.appendChild(sectionAchievementDetailsHeaderDate);
    sectionAchievementDetailsContainer.appendChild(sectionAchievementDetailsHeader);
    sectionAchievementDetailsContainer.appendChild(sectionAchievementDetailsBackBtn);
    sectionAchievementDetailsBodyContainer.appendChild(sectionAchievementDetailsBodyImageContainer);
    sectionAchievementDetailsBodyContainer.appendChild(sectionAchievementDetailsBody);
    sectionAchievementDetailsContainer.appendChild(sectionAchievementDetailsBodyContainer);
    sectionACHHeader.appendChild(sectionACHHeaderLabel);
    sectionACHHeader.appendChild(sectionACHHeaderDate);
    sectionACHHeader.appendChild(sectionACHHeaderClose);
    sectionACHDetailsInfo.appendChild(sectionACHDetailsInfoIcon);
    sectionACHDetailsContentContainer.appendChild(sectionACHDetailsContentContainerLabel);
    sectionACHDetailsContentContainer.appendChild(sectionACHDetailsContentContainerDate);
    sectionACHDetails.appendChild(sectionACHDetailsInfo);
    sectionACHDetails.appendChild(sectionACHDetailsContentContainer);
    sectionACHListBody.appendChild(sectionACHListBodyResults);
    sectionACHList.appendChild(sectionACHListBody);
    sectionACHFooter.appendChild(sectionACHFooterContent);
    sectionACH.appendChild(sectionACHHeader);
    sectionACH.appendChild(sectionACHDetails);
    sectionACH.appendChild(sectionACHList);
    sectionACH.appendChild(sectionACHFooter);
    sectionACH.appendChild(sectionAchievementDetailsContainer);
    return sectionACH;
  };

  this.rewardsAreaLayout = function () {
    var _this = this;

    var sectionRewards = document.createElement('div');
    var sectionRewardsHeader = document.createElement('div');
    var sectionRewardsHeaderLabel = document.createElement('div');
    var sectionRewardsHeaderDate = document.createElement('div');
    var sectionRewardsHeaderClose = document.createElement('div');
    var sectionRewardsDetails = document.createElement('div');
    var sectionRewardsDetailsInfo = document.createElement('div');
    var sectionRewardsDetailsInfoIcon = document.createElement('div');
    var sectionRewardsDetailsContentContainer = document.createElement('div');
    var sectionRewardsDetailsContentContainerLabel = document.createElement('div');
    var sectionRewardsDetailsContentContainerDate = document.createElement('div');
    var sectionRewardsList = document.createElement('div');
    var sectionRewardsListBody = document.createElement('div');
    var sectionRewardsListBodyResults = document.createElement('div');
    var sectionRewardsFooter = document.createElement('div');
    var sectionRewardsFooterContent = document.createElement('div');
    var sectionRewardsDetailsContainer = document.createElement('div');
    var sectionRewardsDetailsHeader = document.createElement('div');
    var sectionRewardsDetailsHeaderLabel = document.createElement('div');
    var sectionRewardsDetailsHeaderDate = document.createElement('div');
    var sectionRewardsDetailsBackBtn = document.createElement('a');
    var sectionRewardsDetailsBodyContainer = document.createElement('div');
    var sectionRewardsDetailsBodyImageContainer = document.createElement('div');
    var sectionRewardsDetailsBody = document.createElement('div');
    var sectionRewardsWinningsContainer = document.createElement('div');
    var sectionRewardsWinningsIcon = document.createElement('div');
    var sectionRewardsWinningsValue = document.createElement('div');
    var sectionRewardsClaimContainer = document.createElement('div');
    var sectionRewardsClaimBtn = document.createElement('a');
    sectionRewards.setAttribute('class', 'cl-main-widget-section-reward cl-main-section-item');
    sectionRewardsHeader.setAttribute('class', 'cl-main-widget-reward-header');
    sectionRewardsHeaderLabel.setAttribute('class', 'cl-main-widget-reward-header-label');
    sectionRewardsHeaderDate.setAttribute('class', 'cl-main-widget-reward-header-date');
    sectionRewardsHeaderClose.setAttribute('class', 'cl-main-widget-reward-header-close');
    sectionRewardsDetails.setAttribute('class', 'cl-main-widget-reward-details');
    sectionRewardsDetailsInfo.setAttribute('class', 'cl-main-widget-reward-details-info');
    sectionRewardsDetailsInfoIcon.setAttribute('class', 'cl-main-widget-reward-details-info-icon');
    sectionRewardsDetailsContentContainer.setAttribute('class', 'cl-main-widget-reward-details-content');
    sectionRewardsDetailsContentContainerLabel.setAttribute('class', 'cl-main-widget-reward-details-content-label');
    sectionRewardsDetailsContentContainerDate.setAttribute('class', 'cl-main-widget-reward-details-content-date'); // Leaderboard result container

    sectionRewardsList.setAttribute('class', 'cl-main-widget-reward-list');
    sectionRewardsListBody.setAttribute('class', 'cl-main-widget-reward-list-body');
    sectionRewardsListBodyResults.setAttribute('class', 'cl-main-widget-reward-list-body-res'); // footer

    sectionRewardsFooter.setAttribute('class', 'cl-main-widget-reward-footer');
    sectionRewardsFooterContent.setAttribute('class', 'cl-main-widget-reward-footer-content'); // details section

    sectionRewardsDetailsContainer.setAttribute('class', 'cl-main-widget-reward-details-container');
    sectionRewardsDetailsHeader.setAttribute('class', 'cl-main-widget-reward-details-header');
    sectionRewardsDetailsHeaderLabel.setAttribute('class', 'cl-main-widget-reward-details-header-label');
    sectionRewardsDetailsHeaderDate.setAttribute('class', 'cl-main-widget-reward-details-header-date');
    sectionRewardsDetailsBackBtn.setAttribute('class', 'cl-main-widget-reward-details-back-btn');
    sectionRewardsDetailsBodyContainer.setAttribute('class', 'cl-main-widget-reward-details-body-container');
    sectionRewardsDetailsBodyImageContainer.setAttribute('class', 'cl-main-widget-reward-details-body-image-cont');
    sectionRewardsDetailsBody.setAttribute('class', 'cl-main-widget-reward-details-body');
    sectionRewardsWinningsContainer.setAttribute('class', 'cl-main-widget-reward-winnings-container');
    sectionRewardsWinningsIcon.setAttribute('class', 'cl-main-widget-reward-winnings-icon');
    sectionRewardsWinningsValue.setAttribute('class', 'cl-main-widget-reward-winnings-value');
    sectionRewardsClaimContainer.setAttribute('class', 'cl-main-widget-reward-claim-container');
    sectionRewardsClaimBtn.setAttribute('class', 'cl-main-widget-reward-claim-btn');
    sectionRewardsHeaderLabel.innerHTML = _this.settings.lbWidget.settings.translation.rewards.label;
    sectionRewardsFooterContent.innerHTML = _this.settings.lbWidget.settings.translation.global.copy;
    sectionRewardsClaimBtn.innerHTML = _this.settings.lbWidget.settings.translation.rewards.claim;
    sectionRewardsWinningsContainer.appendChild(sectionRewardsWinningsIcon);
    sectionRewardsWinningsContainer.appendChild(sectionRewardsWinningsValue);
    sectionRewardsClaimContainer.appendChild(sectionRewardsClaimBtn);
    sectionRewardsDetailsHeader.appendChild(sectionRewardsDetailsHeaderLabel);
    sectionRewardsDetailsHeader.appendChild(sectionRewardsDetailsHeaderDate);
    sectionRewardsDetailsContainer.appendChild(sectionRewardsDetailsHeader);
    sectionRewardsDetailsContainer.appendChild(sectionRewardsDetailsBackBtn);
    sectionRewardsDetailsBodyContainer.appendChild(sectionRewardsDetailsBodyImageContainer);
    sectionRewardsDetailsBodyContainer.appendChild(sectionRewardsDetailsBody);
    sectionRewardsDetailsBodyContainer.appendChild(sectionRewardsWinningsContainer);
    sectionRewardsDetailsContainer.appendChild(sectionRewardsDetailsBodyContainer);
    sectionRewardsDetailsContainer.appendChild(sectionRewardsClaimContainer);
    sectionRewardsHeader.appendChild(sectionRewardsHeaderLabel);
    sectionRewardsHeader.appendChild(sectionRewardsHeaderDate);
    sectionRewardsHeader.appendChild(sectionRewardsHeaderClose);
    sectionRewardsDetailsInfo.appendChild(sectionRewardsDetailsInfoIcon);
    sectionRewardsDetailsContentContainer.appendChild(sectionRewardsDetailsContentContainerLabel);
    sectionRewardsDetailsContentContainer.appendChild(sectionRewardsDetailsContentContainerDate);
    sectionRewardsDetails.appendChild(sectionRewardsDetailsInfo);
    sectionRewardsDetails.appendChild(sectionRewardsDetailsContentContainer);
    sectionRewardsListBody.appendChild(sectionRewardsListBodyResults);
    sectionRewardsList.appendChild(sectionRewardsListBody);
    sectionRewardsFooter.appendChild(sectionRewardsFooterContent);
    sectionRewards.appendChild(sectionRewardsHeader);
    sectionRewards.appendChild(sectionRewardsDetails);
    sectionRewards.appendChild(sectionRewardsList);
    sectionRewards.appendChild(sectionRewardsFooter);
    sectionRewards.appendChild(sectionRewardsDetailsContainer);
    return sectionRewards;
  };

  this.inboxAreaLayout = function () {
    var _this = this;

    var sectionInbox = document.createElement('div');
    var sectionInboxHeader = document.createElement('div');
    var sectionInboxHeaderLabel = document.createElement('div');
    var sectionInboxHeaderDate = document.createElement('div');
    var sectionInboxHeaderClose = document.createElement('div');
    var sectionInboxDetails = document.createElement('div');
    var sectionInboxDetailsInfo = document.createElement('div');
    var sectionInboxDetailsInfoIcon = document.createElement('div');
    var sectionInboxDetailsContentContainer = document.createElement('div');
    var sectionInboxDetailsContentContainerLabel = document.createElement('div');
    var sectionInboxDetailsContentContainerDate = document.createElement('div');
    var sectionInboxList = document.createElement('div');
    var sectionInboxListBody = document.createElement('div');
    var sectionInboxListBodyResults = document.createElement('div');
    var sectionInboxFooter = document.createElement('div');
    var sectionInboxFooterContent = document.createElement('div');
    var sectionInboxDetailsContainer = document.createElement('div');
    var sectionInboxDetailsHeader = document.createElement('div');
    var sectionInboxDetailsHeaderLabel = document.createElement('div');
    var sectionInboxDetailsHeaderDate = document.createElement('div');
    var sectionInboxDetailsBackBtn = document.createElement('a');
    var sectionInboxDetailsBodyContainer = document.createElement('div');
    var sectionInboxDetailsBody = document.createElement('div');
    sectionInbox.setAttribute('class', 'cl-main-widget-section-inbox cl-main-section-item');
    sectionInboxHeader.setAttribute('class', 'cl-main-widget-inbox-header');
    sectionInboxHeaderLabel.setAttribute('class', 'cl-main-widget-inbox-header-label');
    sectionInboxHeaderDate.setAttribute('class', 'cl-main-widget-inbox-header-date');
    sectionInboxHeaderClose.setAttribute('class', 'cl-main-widget-inbox-header-close');
    sectionInboxDetails.setAttribute('class', 'cl-main-widget-inbox-details');
    sectionInboxDetailsInfo.setAttribute('class', 'cl-main-widget-inbox-details-info');
    sectionInboxDetailsInfoIcon.setAttribute('class', 'cl-main-widget-inbox-details-info-icon');
    sectionInboxDetailsContentContainer.setAttribute('class', 'cl-main-widget-inbox-details-content');
    sectionInboxDetailsContentContainerLabel.setAttribute('class', 'cl-main-widget-inbox-details-content-label');
    sectionInboxDetailsContentContainerDate.setAttribute('class', 'cl-main-widget-inbox-details-content-date'); // Leaderboard result container

    sectionInboxList.setAttribute('class', 'cl-main-widget-inbox-list');
    sectionInboxListBody.setAttribute('class', 'cl-main-widget-inbox-list-body');
    sectionInboxListBodyResults.setAttribute('class', 'cl-main-widget-inbox-list-body-res'); // footer

    sectionInboxFooter.setAttribute('class', 'cl-main-widget-inbox-footer');
    sectionInboxFooterContent.setAttribute('class', 'cl-main-widget-inbox-footer-content'); // details section

    sectionInboxDetailsContainer.setAttribute('class', 'cl-main-widget-inbox-details-container');
    sectionInboxDetailsHeader.setAttribute('class', 'cl-main-widget-inbox-details-header');
    sectionInboxDetailsHeaderLabel.setAttribute('class', 'cl-main-widget-inbox-details-header-label');
    sectionInboxDetailsHeaderDate.setAttribute('class', 'cl-main-widget-inbox-details-header-date');
    sectionInboxDetailsBackBtn.setAttribute('class', 'cl-main-widget-inbox-details-back-btn');
    sectionInboxDetailsBodyContainer.setAttribute('class', 'cl-main-widget-inbox-details-body-container');
    sectionInboxDetailsBody.setAttribute('class', 'cl-main-widget-inbox-details-body');
    sectionInboxHeaderLabel.innerHTML = _this.settings.lbWidget.settings.translation.messages.label;
    sectionInboxFooterContent.innerHTML = _this.settings.lbWidget.settings.translation.global.copy;
    sectionInboxHeader.appendChild(sectionInboxHeaderLabel);
    sectionInboxHeader.appendChild(sectionInboxHeaderDate);
    sectionInboxHeader.appendChild(sectionInboxHeaderClose);
    sectionInboxDetailsInfo.appendChild(sectionInboxDetailsInfoIcon);
    sectionInboxDetailsContentContainer.appendChild(sectionInboxDetailsContentContainerLabel);
    sectionInboxDetailsContentContainer.appendChild(sectionInboxDetailsContentContainerDate);
    sectionInboxDetails.appendChild(sectionInboxDetailsInfo);
    sectionInboxDetails.appendChild(sectionInboxDetailsContentContainer);
    sectionInboxListBody.appendChild(sectionInboxListBodyResults);
    sectionInboxList.appendChild(sectionInboxListBody);
    sectionInboxDetailsHeader.appendChild(sectionInboxDetailsHeaderLabel);
    sectionInboxDetailsHeader.appendChild(sectionInboxDetailsHeaderDate);
    sectionInboxDetailsContainer.appendChild(sectionInboxDetailsHeader);
    sectionInboxDetailsContainer.appendChild(sectionInboxDetailsBackBtn);
    sectionInboxDetailsBodyContainer.appendChild(sectionInboxDetailsBody);
    sectionInboxDetailsContainer.appendChild(sectionInboxDetailsBodyContainer);
    sectionInboxFooter.appendChild(sectionInboxFooterContent);
    sectionInbox.appendChild(sectionInboxHeader);
    sectionInbox.appendChild(sectionInboxDetails);
    sectionInbox.appendChild(sectionInboxList);
    sectionInbox.appendChild(sectionInboxFooter);
    sectionInbox.appendChild(sectionInboxDetailsContainer);
    return sectionInbox;
  };

  this.leaderboardHeader = function () {
    var _this = this;

    var rankCol = document.createElement('div');
    var iconCol = document.createElement('div');
    var nameCol = document.createElement('div');
    var growthCol = document.createElement('div');
    var pointsCol = document.createElement('div');
    rankCol.setAttribute('class', 'cl-rank-col cl-col');
    iconCol.setAttribute('class', 'cl-icon-col cl-col');
    nameCol.setAttribute('class', 'cl-name-col cl-col');
    growthCol.setAttribute('class', 'cl-growth-col cl-col');
    pointsCol.setAttribute('class', 'cl-points-col cl-col');
    rankCol.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.rank;
    iconCol.innerHTML = '';
    nameCol.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.name;
    growthCol.innerHTML = '';
    pointsCol.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.points;

    _this.settings.leaderboard.header.appendChild(rankCol);

    _this.settings.leaderboard.header.appendChild(iconCol);

    _this.settings.leaderboard.header.appendChild(nameCol);

    _this.settings.leaderboard.header.appendChild(growthCol);

    _this.settings.leaderboard.header.appendChild(pointsCol);

    var rewardCol = document.createElement('div');
    var rewardEnabled = typeof _this.settings.lbWidget.settings.competition.activeContest !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest !== null && typeof _this.settings.lbWidget.settings.competition.activeContest.rewards !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest.rewards.length > 0;
    rewardCol.setAttribute('class', 'cl-reward-col cl-col' + (rewardEnabled ? ' cl-col-reward-enabled' : ''));
    rewardCol.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.prize;
    Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(_this.settings.leaderboard.header, 'cl-reward-enabled');

    _this.settings.leaderboard.header.appendChild(rewardCol);
  };

  this.leaderboardRow = function (rank, icon, name, change, growth, points, reward, count, memberFound) {
    var _this = this;

    var cellWrapper = document.createElement('div');
    var rankCel = document.createElement('div');
    var rankCelValue = document.createElement('div');
    var iconCel = document.createElement('div');
    var iconCelImg = new Image();
    var nameCel = document.createElement('div');
    var growthCel = document.createElement('div');
    var pointsCel = document.createElement('div');
    var memberFoundClass = memberFound ? ' cl-lb-member-row' : '';
    cellWrapper.setAttribute('class', 'cl-lb-row cl-lb-rank-' + rank + ' cl-lb-count-' + count + memberFoundClass);
    rankCel.setAttribute('class', 'cl-rank-col cl-col cl-rank-' + rank);
    rankCelValue.setAttribute('class', 'cl-rank-col-value');
    iconCel.setAttribute('class', 'cl-icon-col cl-col');
    iconCelImg.setAttribute('class', 'cl-icon-col-img');
    nameCel.setAttribute('class', 'cl-name-col cl-col');
    growthCel.setAttribute('class', 'cl-growth-col cl-col');
    pointsCel.setAttribute('class', 'cl-points-col cl-col');
    cellWrapper.dataset.rank = rank;
    rankCelValue.innerHTML = rank;
    nameCel.innerHTML = name;
    growthCel.dataset.growth = change < 0 ? 'down' : change > 0 ? 'up' : 'same';
    growthCel.dataset.change = change;
    growthCel.innerHTML = growth;
    pointsCel.innerHTML = points;

    if (icon.length > 0) {
      iconCelImg.src = icon;
      iconCelImg.alt = name;
    } else {
      iconCelImg.style.display = 'none';
    }

    rankCel.appendChild(rankCelValue);
    cellWrapper.appendChild(rankCel);
    iconCel.appendChild(iconCelImg);
    cellWrapper.appendChild(iconCel);
    cellWrapper.appendChild(nameCel);
    cellWrapper.appendChild(growthCel);
    cellWrapper.appendChild(pointsCel);
    var rewardCel = document.createElement('div');
    var rewardEnabled = typeof _this.settings.lbWidget.settings.competition.activeContest !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest !== null && typeof _this.settings.lbWidget.settings.competition.activeContest.rewards !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest.rewards.length > 0;
    rewardCel.setAttribute('class', 'cl-reward-col cl-col' + (rewardEnabled ? ' cl-col-reward-enabled' : ''));
    rewardCel.innerHTML = typeof reward !== 'undefined' && reward !== null ? reward : '';
    Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(cellWrapper, 'cl-reward-enabled');
    cellWrapper.appendChild(rewardCel);
    return cellWrapper;
  };

  this.leaderboardRowUpdate = function (rank, icon, name, change, growth, points, reward, count, memberFound, onMissing) {
    var _this = this;

    var cellRow = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.container, '.cl-lb-rank-' + rank + '.cl-lb-count-' + count);

    if (cellRow === null) {
      onMissing(rank, icon, name, change, growth, points, reward, count, memberFound);
    } else {
      var rankCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(cellRow, '.cl-rank-col-value');
      var iconCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(cellRow, '.cl-icon-col-img');
      var nameCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(cellRow, '.cl-name-col');
      var growthCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(cellRow, '.cl-growth-col');
      var pointsCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(cellRow, '.cl-points-col');
      var memberFoundClass = 'cl-lb-member-row';
      var rowHasClass = Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(cellRow, memberFoundClass);

      if (count > 0 && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(cellRow, 'cl-shared-rank')) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(cellRow, 'cl-shared-rank');
      }

      if (memberFound && !rowHasClass) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(cellRow, memberFoundClass);
      } else if (!memberFound && rowHasClass) {
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(cellRow, memberFoundClass);
      }

      cellRow.dataset.rank = rank;
      rankCel.innerHTML = rank;
      nameCel.innerHTML = name;
      growthCel.dataset.growth = change < 0 ? 'down' : change > 0 ? 'up' : 'same';
      growthCel.dataset.change = change;
      growthCel.innerHTML = growth;
      pointsCel.innerHTML = points;

      if (icon.length > 0) {
        iconCel.src = icon;
        iconCel.alt = name;
        iconCel.style.display = 'block';
      } else {
        iconCel.style.display = 'none';
      }

      if (typeof _this.settings.lbWidget.settings.competition.activeContest !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest !== null && typeof _this.settings.lbWidget.settings.competition.activeContest.rewards !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest.rewards.length > 0) {
        var rewardCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(cellRow, '.cl-reward-col');

        if (rewardCel !== null) {
          rewardCel.innerHTML = typeof reward !== 'undefined' && reward !== null ? reward : '';
        }
      }
    }
  };

  this.populateLeaderboardResultsWithDefaultEntries = function () {
    var _this = this;

    var topResults = [];
    var remainingResults = [];

    for (var i = 0; i < _this.settings.leaderboard.topResultSize; i++) {
      var rank = i + 1;
      topResults.push({
        name: '--',
        rank: rank,
        points: '--',
        memberId: '',
        memberRefId: ''
      });
    }

    for (var s = _this.settings.leaderboard.topResultSize; s < _this.settings.leaderboard.defaultEmptyList; s++) {
      var _rank = s + 1;

      remainingResults.push({
        name: '--',
        rank: _rank,
        points: '--',
        memberId: '',
        memberRefId: ''
      });
    }

    _this.updateLeaderboardTopResults(topResults);

    _this.updateLeaderboardResults(remainingResults);
  };

  this.updateLeaderboardTopResults = function (topResults) {
    var _this = this;

    var rankCheck = [];
    var cleanupRankCheck = []; // cleanup

    window.mapObject(topResults, function (lb) {
      cleanupRankCheck.push(lb.rank);
      Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.topResults, '.cl-lb-rank-' + lb.rank + '.cl-shared-rank'), function (obj) {
        Object(_utils_remove__WEBPACK_IMPORTED_MODULE_7__["default"])(obj);
      });
    });
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.topResults, '.cl-lb-row'), function (obj) {
      var rank = parseInt(obj.dataset.rank);

      if (cleanupRankCheck.indexOf(rank) === -1 && rank > _this.settings.leaderboard.defaultEmptyList) {
        Object(_utils_remove__WEBPACK_IMPORTED_MODULE_7__["default"])(obj);
      }
    });
    window.mapObject(topResults, function (lb) {
      var count = 0;

      var icon = _this.settings.lbWidget.populateIdenticonBase64Image(lb.memberId);

      var memberFound = _this.settings.lbWidget.settings.memberId === lb.memberId || _this.settings.lbWidget.settings.memberId === lb.memberRefId;
      var memberName = memberFound ? _this.settings.lbWidget.settings.translation.leaderboard.you : lb.name;

      var reward = _this.getReward(lb.rank);

      var change = typeof lb.change === 'undefined' ? 0 : lb.change;
      var growthType = change < 0 ? 'down' : change > 0 ? 'up' : 'same';
      var growthIcon = "<span class='cl-growth-icon cl-growth-" + growthType + "'></span>";

      if (rankCheck.indexOf(lb.rank) !== -1) {
        for (var rc = 0; rc < rankCheck.length; rc++) {
          if (lb.rank === rankCheck[rc]) {
            count++;
          }
        }
      }

      _this.leaderboardRowUpdate(lb.rank, icon, // icon
      memberName, change, growthIcon, // growth
      lb.points, reward, // reward
      count, memberFound, function (rank, icon, name, change, growth, points, reward, count, memberFound) {
        var newRow = _this.leaderboardRow(rank, icon, name, change, growth, points, reward, count, memberFound);

        var prevCellRow = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.container, '.cl-lb-rank-' + rank + '.cl-lb-count-' + (count - 1));

        if (prevCellRow !== null && typeof prevCellRow.length === 'undefined') {
          Object(_utils_appendNext__WEBPACK_IMPORTED_MODULE_8__["default"])(prevCellRow, newRow);
        } else {
          _this.settings.leaderboard.topResults.appendChild(newRow);
        }
      });

      rankCheck.push(lb.rank);
    });
  };

  this.getReward = function (rank) {
    var _this = this;

    var rewardResponse = [];

    if (typeof _this.settings.lbWidget.settings.competition.activeContest !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest !== null) {
      window.mapObject(_this.settings.lbWidget.settings.competition.activeContest.rewards, function (reward) {
        if (reward.rewardRank instanceof Array && reward.rewardRank.indexOf(rank) !== -1) {
          rewardResponse.push(_this.settings.lbWidget.settings.rewards.rewardFormatter(reward));
        }
      });
    }

    return rewardResponse.join(', ');
  };

  this.updateLeaderboardResults = function (remainingResults) {
    var _this = this;

    var rankCheck = [];
    var cleanupRankCheck = []; // cleanup

    window.mapObject(remainingResults, function (lb) {
      cleanupRankCheck.push(lb.rank);
      Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.list, '.cl-lb-rank-' + lb.rank + '.cl-shared-rank'), function (obj) {
        Object(_utils_remove__WEBPACK_IMPORTED_MODULE_7__["default"])(obj);
      });
    });
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.container, '.cl-lb-row'), function (obj) {
      try {
        var rank = parseInt(obj.dataset.rank);

        if (cleanupRankCheck.indexOf(rank) === -1 && rank > _this.settings.leaderboard.defaultEmptyList) {
          Object(_utils_remove__WEBPACK_IMPORTED_MODULE_7__["default"])(obj);
        }
      } catch (e) {
        console.log(obj.dataset, obj.attributes, obj);
        console.error(e);
      }
    });
    window.mapObject(remainingResults, function (lb) {
      var count = 0;

      var icon = _this.settings.lbWidget.populateIdenticonBase64Image(lb.memberId);

      var memberFound = _this.settings.lbWidget.settings.memberId === lb.memberId || _this.settings.lbWidget.settings.memberId === lb.memberRefId;
      var memberName = memberFound ? _this.settings.lbWidget.settings.translation.leaderboard.you : lb.name;

      var reward = _this.getReward(lb.rank);

      var change = typeof lb.change === 'undefined' ? 0 : lb.change;
      var growthType = change < 0 ? 'down' : change > 0 ? 'up' : 'same';
      var growthIcon = "<span class='cl-growth-icon cl-growth-" + growthType + "'></span>";

      if (rankCheck.indexOf(lb.rank) !== -1) {
        for (var rc = 0; rc < rankCheck.length; rc++) {
          if (lb.rank === rankCheck[rc]) {
            count++;
          }
        }
      }

      _this.leaderboardRowUpdate(lb.rank, icon, // icon
      memberName, change, growthIcon, // growth
      lb.points, reward, count, memberFound, function (rank, icon, name, change, growth, points, reward, count, memberFound) {
        var newRow = _this.leaderboardRow(rank, icon, name, name, growth, points, reward, count, memberFound);

        var prevCellRow = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.container, '.cl-lb-rank-' + rank + '.cl-lb-count-' + (count - 1));

        if (prevCellRow !== null && typeof prevCellRow.length === 'undefined') {
          Object(_utils_appendNext__WEBPACK_IMPORTED_MODULE_8__["default"])(prevCellRow, newRow);
        } else {
          _this.settings.leaderboard.list.appendChild(newRow);
        }
      });

      rankCheck.push(lb.rank);
    });
  };

  this.updateLeaderboard = function () {
    var _this = this;

    var topResults = [];
    var remainingResults = [];

    _this.populateLeaderboardResultsWithDefaultEntries();

    window.mapObject(_this.settings.lbWidget.settings.leaderboard.leaderboardData, function (lb) {
      if (lb.rank <= _this.settings.leaderboard.topResultSize) {
        topResults.push(lb);
      } else {
        remainingResults.push(lb);
      }
    });

    _this.updateLeaderboardTopResults(topResults);

    _this.updateLeaderboardResults(remainingResults);

    var member = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.list, '.cl-lb-member-row');

    if (member !== null) {
      _this.missingMember(_this.isElementVisibleInView(member, _this.settings.leaderboard.list.parentNode));
    }
  };

  this.updateLeaderboardTime = function () {
    var _this = this;

    var diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeContest.scheduledStart).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());

    var date = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));

    if (_this.settings.leaderboard.timerInterval) {
      clearTimeout(_this.settings.leaderboard.timerInterval);
    }

    if (diff < 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode === 0) {
      date = '';
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode > 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode < 3) {
      diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeContest.scheduledEnd).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());
      date = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode === 3) {
      date = _this.settings.lbWidget.settings.translation.tournaments.finishing;
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode >= 4) {
      date = _this.settings.lbWidget.settings.translation.tournaments.finished;
    }

    _this.settings.headerDate.innerHTML = date;
    _this.settings.detailsContainerDate.innerHTML = date;
    _this.settings.leaderboard.timerInterval = setTimeout(function () {
      _this.updateLeaderboardTime();
    }, 1000);
  };

  this.leaderboardDetailsUpdate = function () {
    var _this = this;

    var mainLabel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.section, '.cl-main-widget-lb-details-content-label');
    mainLabel.innerHTML = _this.settings.lbWidget.settings.competition.activeContest !== null ? _this.settings.lbWidget.settings.competition.activeContest.label : _this.settings.lbWidget.settings.translation.tournaments.noAvailableCompetitions;
  };

  this.leaderboardOptInCheck = function () {
    var _this = this;

    var optIn = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.section, '.cl-main-widget-lb-optin-action');

    if (typeof _this.settings.lbWidget.settings.competition.activeCompetition !== 'undefined' && _this.settings.lbWidget.settings.competition.activeCompetition !== null && typeof _this.settings.lbWidget.settings.competition.activeCompetition.optinRequired === 'boolean' && _this.settings.lbWidget.settings.competition.activeCompetition.optinRequired) {
      if (typeof _this.settings.lbWidget.settings.competition.activeCompetition.optin === 'boolean' && !_this.settings.lbWidget.settings.competition.activeCompetition.optin) {
        optIn.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.enter;
        optIn.parentNode.style.display = 'block';
      } else {
        optIn.parentNode.style.display = 'none';
      }
    } else {
      optIn.parentNode.style.display = 'none';
    }
  }; // cleanup/recover activity


  this.preLoaderRerun = function () {
    var _this = this;

    if (_this.settings.preLoader.preLoaderActive && _this.settings.preLoader.preloaderCallbackRecovery !== null && _this.settings.preLoader.preLoaderlastAttempt !== null && typeof _this.settings.preLoader.preLoaderlastAttempt === 'number' && _this.settings.preLoader.preLoaderlastAttempt + 8000 < new Date().getTime()) {
      _this.settings.preLoader.preloaderCallbackRecovery();
    }
  };

  this.preloader = function () {
    var _this = this;

    var preLoader = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.section, '.cl-main-widget-pre-loader'); // var content = query(_this.settings.section, '.cl-main-widget-pre-loader-content');

    return {
      show: function show(callback) {
        _this.settings.preLoader.preLoaderActive = true;
        _this.settings.preLoader.preLoaderlastAttempt = new Date().getTime();
        preLoader.style.display = 'block';
        setTimeout(function () {
          preLoader.style.opacity = 1;
        }, 20);

        if (_this.settings.preLoader.preloaderCallbackRecovery === null && typeof callback === 'function') {
          _this.settings.preLoader.preloaderCallbackRecovery = callback;
        }

        callback();
      },
      hide: function hide() {
        _this.settings.preLoader.preLoaderActive = false;
        _this.settings.preLoader.preLoaderlastAttempt = null;
        preLoader.style.opacity = 0;

        if (_this.settings.preLoader.preloaderCallbackRecovery !== null) {
          _this.settings.preLoader.preloaderCallbackRecovery = null;
        }

        setTimeout(function () {
          preLoader.style.display = 'none';
        }, 200);
      }
    };
  };

  this.loadLeaderboard = function (callback) {
    var _this = this;

    if (_this.settings.container === null) {
      _this.settings.container = _this.settings.lbWidget.settings.bindContainer.appendChild(_this.layout());
      _this.settings.navigation = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-navigation-container');
      _this.settings.section = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-container');
      _this.settings.leaderboard.container = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.section, '.cl-main-widget-lb-leaderboard');
      _this.settings.leaderboard.header = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.container, '.cl-main-widget-lb-leaderboard-header-labels');
      _this.settings.leaderboard.list = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.container, '.cl-main-widget-lb-leaderboard-body-res');
      _this.settings.leaderboard.topResults = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.container, '.cl-main-widget-lb-leaderboard-header-top-res');
      _this.settings.detailsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-lb-details-container');
      _this.settings.tournamentListContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-tournaments-list');
      _this.settings.detailsContainerDate = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-lb-details-header-date');
      _this.settings.headerDate = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-lb-header-date');
      _this.settings.achievement.container = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-ach');
      _this.settings.achievement.detailsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-ach-details-container');
      _this.settings.reward.container = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-reward');
      _this.settings.reward.detailsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-reward-details-container');
      _this.settings.messages.container = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-inbox');
      _this.settings.messages.detailsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-inbox-details-container');

      _this.leaderboardHeader();

      _this.eventListeners();
    }

    _this.leaderboardOptInCheck();

    _this.leaderboardDetailsUpdate();

    _this.updateLeaderboard();

    if (_this.settings.lbWidget.settings.competition.activeContest !== null) {
      _this.updateLeaderboardTime();
    }

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.clearAll = function () {
    var _this = this;

    _this.settings.active = false;

    if (_this.settings.leaderboard.timerInterval) {
      clearTimeout(_this.settings.leaderboard.timerInterval);
    }

    _this.settings.preLoader.preLoaderActive = false;
  };

  this.hide = function (callback) {
    var _this = this;

    _this.clearAll();

    if (_this.settings.container !== null) {
      Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.container, 'cl-show');
      setTimeout(function () {
        _this.settings.container.style.display = 'none';

        _this.hideCompetitionDetails();

        _this.hideAchievementDetails();

        if (typeof callback === 'function') {
          callback();
        }
      }, 30);
    } else if (typeof callback === 'function') {
      callback();
    }
  };

  this.missingMember = function (isVisible) {
    var _this = this;

    var area = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-lb-missing-member');

    if (!isVisible) {
      var member = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.list, '.cl-lb-member-row');

      if (area !== null && member !== null) {
        area.innerHTML = member.innerHTML;
        area.style.display = 'block';
      } else {
        area.style.display = 'none';
      }
    } else {
      area.style.display = 'none';
    }
  };

  this.isElementVisibleInView = function (el, container) {
    var position = el.getBoundingClientRect();
    var elemContainer = container.getBoundingClientRect();
    var elemTop = position.top;
    var elemBottom = position.bottom;
    var elemHeight = position.height;
    return elemTop <= elemContainer.top ? elemContainer.top - elemTop <= elemHeight : elemBottom - elemContainer.bottom <= elemHeight;
  };

  this.eventListeners = function () {
    var _this = this;

    _this.settings.leaderboard.list.parentNode.onscroll = function (evt) {
      evt.preventDefault();
      var member = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.list, '.cl-lb-member-row');

      if (member !== null) {
        _this.missingMember(_this.isElementVisibleInView(member, evt.target));
      }
    };

    window.onresize = function (evt) {
      var member = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.list, '.cl-lb-member-row');

      if (member !== null) {
        _this.missingMember(_this.isElementVisibleInView(member, _this.settings.leaderboard.list.parentNode));
      }
    };
  }; // this.checkLeaderboardScrollContainer = function(){
  //  var _this = this,
  //    lbScrollContainer = query(_this.settings.leaderboard.container, ".cl-main-widget-lb-leaderboard-body");
  //
  //  if( scrollEnabled(lbScrollContainer) ){
  //    addClass(lbScrollContainer, "cl-element-scrollable");
  //  }else{
  //    removeClass(lbScrollContainer, "cl-element-scrollable");
  //  }
  // };


  this.competitionDetailsOptInButtonState = function () {
    var _this = this;

    var optIn = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.detailsContainer, '.cl-main-widget-lb-details-optin-action');

    if (typeof _this.settings.lbWidget.settings.competition.activeCompetition.optinRequired === 'boolean' && _this.settings.lbWidget.settings.competition.activeCompetition.optinRequired) {
      if (typeof _this.settings.lbWidget.settings.competition.activeCompetition.optin === 'boolean' && !_this.settings.lbWidget.settings.competition.activeCompetition.optin) {
        optIn.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.enter;
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(optIn, 'cl-disabled');
      } else {
        optIn.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.registered;
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(optIn, 'cl-disabled');
      }

      optIn.parentNode.style.display = 'block';
    } else {
      optIn.parentNode.style.display = 'none';
    }
  };

  this.loadCompetitionDetails = function (callback) {
    var _this = this;

    var label = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.detailsContainer, '.cl-main-widget-lb-details-header-label'); // var date = query(_this.settings.detailsContainer, '.cl-main-widget-lb-details-header-date');

    var body = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.detailsContainer, '.cl-main-widget-lb-details-body');
    var image = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.detailsContainer, '.cl-main-widget-lb-details-body-image-cont');
    image.innerHTML = '';
    label.innerHTML = _this.settings.lbWidget.settings.competition.activeContest.label.length > 0 ? _this.settings.lbWidget.settings.competition.activeContest.label : _this.settings.lbWidget.settings.competition.activeCompetition.label;
    body.innerHTML = _this.settings.lbWidget.settings.competition.activeContest.description.length > 0 ? _this.settings.lbWidget.settings.competition.activeContest.description : _this.settings.lbWidget.settings.competition.activeCompetition.description;

    _this.competitionDetailsOptInButtonState();

    _this.settings.detailsContainer.style.display = 'block';
    _this.settings.headerDate.style.display = 'none';

    if (_this.settings.lbWidget.settings.competition.extractImageHeader) {
      Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(body, 'img'), function (img, key, count) {
        if (count === 0) {
          var newImg = img.cloneNode(true);
          image.appendChild(newImg);
          Object(_utils_remove__WEBPACK_IMPORTED_MODULE_7__["default"])(img);
        }
      });
    }

    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(_this.settings.detailsContainer, 'cl-show');
      if (typeof callback === 'function') callback();
    }, 50);
  };

  this.loadCompetitionList = function (callback, ajaxInstance) {
    var _this = this;

    var listResContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.tournamentListContainer, '.cl-main-widget-tournaments-list-body-res');

    var preLoader = _this.preloader();

    preLoader.show(function () {
      _this.settings.lbWidget.checkForAvailableCompetitions(function () {
        var accordionObj = _this.accordionStyle(_this.settings.tournamentsSection.accordionLayout, function (accordionSection, listContainer, topEntryContainer, layout) {
          var tournamentData = _this.settings.lbWidget.settings.tournaments[layout.type];

          if (typeof tournamentData !== 'undefined') {
            if (tournamentData.length === 0) {
              accordionSection.style.display = 'none';
            }

            window.mapObject(tournamentData, function (tournament, key, count) {
              if (count + 1 <= layout.showTopResults && Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(topEntryContainer, '.cl-tournament-' + tournament.id) === null) {
                var topEntryContaineRlistItem = _this.tournamentItem(tournament);

                topEntryContainer.appendChild(topEntryContaineRlistItem);
              }

              if (Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(listContainer, '.cl-tournament-' + tournament.id) === null) {
                var listItem = _this.tournamentItem(tournament);

                listContainer.appendChild(listItem);
              }
            });
          }
        });

        listResContainer.innerHTML = '';
        listResContainer.appendChild(accordionObj);
        _this.settings.tournamentListContainer.style.display = 'block';
        setTimeout(function () {
          Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(_this.settings.tournamentListContainer, 'cl-show');
          if (typeof callback === 'function') callback();
          preLoader.hide();
        }, 50);
      }, ajaxInstance);
    });
  };

  this.hideCompetitionList = function (callback) {
    var _this = this;

    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.tournamentListContainer, 'cl-show');
    setTimeout(function () {
      _this.settings.tournamentListContainer.style.display = 'none';
      if (typeof callback === 'function') callback();
    }, 200);
  };

  this.hideCompetitionDetails = function (callback) {
    var _this = this;

    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.detailsContainer, 'cl-show');
    setTimeout(function () {
      _this.settings.detailsContainer.style.display = 'none';
      _this.settings.headerDate.style.display = 'block';
      if (typeof callback === 'function') callback();
    }, 200);
  };

  this.achievementItem = function (ach, achieved, perc) {
    var _this = this;

    var listItem = document.createElement('div');
    var detailsContainer = document.createElement('div');
    var detailsWrapper = document.createElement('div');
    var label = document.createElement('div');
    var category = document.createElement('div');
    var description = document.createElement('div');
    var progressionWrapper = document.createElement('div');
    var progressionBox = document.createElement('div'); // box with container & bar & percentage

    var progressionCont = document.createElement('div'); // container

    var progressionBar = document.createElement('div');
    var progressionPercent = document.createElement('div');
    var issuedBox = document.createElement('div');
    var issuedBoxCount = document.createElement('div');
    var issuedBoxCheck = document.createElement('img');
    var issuedBoxNotCheck = document.createElement('img');
    var issuedBoxGift = document.createElement('img');
    var moreButton = document.createElement('a');
    var rewardName = document.createElement('div');
    var cpomntainsImage = typeof ach.icon !== 'undefined' && ach.icon.length > 0;
    listItem.setAttribute('class', 'cl-ach-list-item cl-ach-' + ach.id + (cpomntainsImage ? ' cl-ach-with-image' : ''));
    detailsContainer.setAttribute('class', 'cl-ach-list-details-cont');
    detailsWrapper.setAttribute('class', 'cl-ach-list-details-wrap');
    label.setAttribute('class', 'cl-ach-list-details-label');
    category.setAttribute('class', 'cl-ach-list-details-category');
    description.setAttribute('class', 'cl-ach-list-details-description');
    progressionWrapper.setAttribute('class', 'cl-ach-list-progression');
    progressionBox.setAttribute('class', 'cl-ach-list-progression-box');
    progressionCont.setAttribute('class', 'cl-ach-list-progression-cont');
    progressionBar.setAttribute('class', 'cl-ach-list-progression-bar');
    progressionPercent.setAttribute('class', 'cl-ach-list-percent-number');
    issuedBox.setAttribute('class', 'cl-ach-list-issued-box');
    issuedBoxCount.setAttribute('class', 'cl-ach-list-issued-box-count');
    issuedBoxCheck.setAttribute('class', 'cl-ach-list-issued-box-check');
    issuedBoxNotCheck.setAttribute('class', 'cl-ach-list-issued-box-not-check');
    issuedBoxGift.setAttribute('class', 'cl-ach-list-issued-box-not-gift');
    moreButton.setAttribute('class', 'cl-ach-list-more');
    rewardName.setAttribute('class', 'cl-ach-list-details-reward'); // start with 0

    progressionPercent.innerHTML = '0%'; // count number

    issuedBoxCount.innerHTML = '0';
    rewardName.innerHTML = '';
    moreButton.dataset.id = ach.id;
    moreButton.innerHTML = _this.settings.lbWidget.settings.translation.achievements.more;
    moreButton.href = 'javascript:void(0);';
    listItem.dataset.id = ach.id;
    label.innerHTML = ach.name;
    category.innerHTML = ach.category.join(', ');
    detailsWrapper.appendChild(label);
    detailsWrapper.appendChild(category);
    detailsWrapper.appendChild(description);

    if (cpomntainsImage) {
      var image = new Image();
      var imageIconWrapper = document.createElement('div');
      imageIconWrapper.setAttribute('class', 'cl-ach-list-item-img-wrapper');
      image.setAttribute('class', 'cl-ach-list-item-img');
      image.src = _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.assets.replace(':attachmentId', ach.icon);
      image.alt = ach.name; // image.onload = function(){
      // };

      imageIconWrapper.appendChild(image);
      detailsContainer.appendChild(imageIconWrapper);
    }

    detailsContainer.appendChild(detailsWrapper); // progression container has bar inside

    progressionCont.appendChild(progressionBar); // progression box has container + percent number

    progressionBox.appendChild(progressionCont);
    progressionBox.appendChild(progressionPercent); // issued box has number, unchecked or checked box

    issuedBox.appendChild(issuedBoxCount); // wrapper has box, counter and button

    progressionWrapper.appendChild(progressionBox);
    progressionWrapper.appendChild(issuedBox);
    progressionWrapper.appendChild(moreButton);
    progressionWrapper.appendChild(rewardName);
    listItem.appendChild(detailsContainer);
    listItem.appendChild(progressionWrapper);
    return listItem;
  };

  this.achievementListLayout = function (achievementData) {
    var _this = this;

    var achList = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.section, '.cl-main-widget-section-ach .cl-main-widget-ach-list-body-res');
    window.mapObject(achievementData, function (ach) {
      if (Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(achList, '.cl-ach-' + ach.id) === null) {
        var listItem = _this.achievementItem(ach);

        achList.appendChild(listItem);
      }
    });
  };

  this.loadAchievementDetails = function (data, callback) {
    var _this = this;

    var label = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.achievement.detailsContainer, '.cl-main-widget-ach-details-header-label');
    var body = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.achievement.detailsContainer, '.cl-main-widget-ach-details-body');
    var image = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.achievement.detailsContainer, '.cl-main-widget-ach-details-body-image-cont');
    image.innerHTML = '';
    label.innerHTML = data.data.name;
    body.innerHTML = data.data.description;

    if (_this.settings.lbWidget.settings.achievements.extractImageHeader) {
      var imageLookup = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(body, 'img');
      Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(imageLookup, function (img, key, count) {
        if (count === 0) {
          var newImg = img.cloneNode(true);
          image.appendChild(newImg);
          Object(_utils_remove__WEBPACK_IMPORTED_MODULE_7__["default"])(img);
        }
      });
    }

    _this.settings.achievement.detailsContainer.style.display = 'block';
    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(_this.settings.achievement.detailsContainer, 'cl-show');
      if (typeof callback === 'function') callback();
    }, 50);
  };

  this.hideAchievementDetails = function (callback) {
    var _this = this;

    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.achievement.detailsContainer, 'cl-show');
    setTimeout(function () {
      _this.settings.achievement.detailsContainer.style.display = 'none';
      if (typeof callback === 'function') callback();
    }, 200);
  };

  this.loadRewardDetails = function (data, callback) {
    var _this = this;

    var label = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-details-header-label');
    var body = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-details-body');
    var image = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-details-body-image-cont');
    var claimBtn = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-claim-btn');
    var icon = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-winnings-icon');
    var value = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-winnings-value');
    label.innerHTML = data.data.reward.rewardName;
    body.innerHTML = data.data.reward.description;
    value.innerHTML = _this.settings.lbWidget.settings.rewards.rewardFormatter(data.data.reward);
    claimBtn.dataset.id = data.data.id;

    if (data.data.claimed) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(claimBtn, 'cl-claimed');
      claimBtn.innerHTML = _this.settings.lbWidget.settings.translation.rewards.claimed;
    } else {
      Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(claimBtn, 'cl-claimed');
      claimBtn.innerHTML = _this.settings.lbWidget.settings.translation.rewards.claim;
    }

    if (typeof data.data.reward.icon !== 'undefined') {
      icon.innerHTML = '';

      var _image = new Image();

      var imageIconWrapper = document.createElement('div');
      imageIconWrapper.setAttribute('class', 'cl-reward-list-item-img-wrapper');

      _image.setAttribute('class', 'cl-reward-list-item-img');

      _image.src = _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.assets.replace(':attachmentId', data.data.reward.icon);
      _image.alt = _this.settings.lbWidget.settings.rewards.rewardFormatter(data.data.reward);
      icon.appendChild(_image);
    } else {
      icon.innerHTML = "<span class='cl-place-holder-reward-image'></span>";
    }

    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(body, 'img'), function (img, key, count) {
      if (count === 0) {
        var newImg = img.cloneNode(true);
        image.innerHTML = '';
        image.appendChild(newImg);
        Object(_utils_remove__WEBPACK_IMPORTED_MODULE_7__["default"])(img);
      }
    });
    _this.settings.reward.detailsContainer.style.display = 'block';
    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(_this.settings.reward.detailsContainer, 'cl-show');
      if (typeof callback === 'function') callback();
    }, 50);
  };

  this.loadMessageDetails = function (data, callback) {
    var _this = this;

    var label = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.messages.detailsContainer, '.cl-main-widget-inbox-details-header-label');
    var body = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.messages.detailsContainer, '.cl-main-widget-inbox-details-body');
    label.innerHTML = data.data.subject;
    body.innerHTML = data.data.body;
    _this.settings.messages.detailsContainer.style.display = 'block';
    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(_this.settings.messages.detailsContainer, 'cl-show');
      if (typeof callback === 'function') callback();
    }, 50);
  };

  this.hideRewardDetails = function (callback) {
    var _this = this;

    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.reward.detailsContainer, 'cl-show');
    setTimeout(function () {
      _this.settings.reward.detailsContainer.style.display = 'none';
      if (typeof callback === 'function') callback();
    }, 200);
  };

  this.hideMessageDetails = function (callback) {
    var _this = this;

    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.messages.detailsContainer, 'cl-show');
    setTimeout(function () {
      _this.settings.messages.detailsContainer.style.display = 'none';
      if (typeof callback === 'function') callback();
    }, 200);
  };

  this.getAchievementInfo = function (id) {
    var _this = this;

    var _iterator = _createForOfIteratorHelper(_this.settings.lbWidget.settings.achievements.list),
        _step;

    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var ach = _step.value;
        if (ach.id === id) return ach;
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
  };

  this.updateAchievementProgressionAndIssued = function (issued, progression) {
    var _this = this;

    var achList = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.section, '.cl-main-widget-section-ach .cl-main-widget-ach-list-body-res');
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(achList, '.cl-ach-list-item'), function (ach) {
      var id = ach.dataset.id; // var issuedStatus = (issued.indexOf(id) !== -1);

      var achInfo = _this.getAchievementInfo(id);

      var perc = 0;
      var issuedCnt = '';

      var issuedChck = _this.issuedBox.appendChild(_this.issuedBoxCheckGift);

      var reward = '';

      if (Array.isArray(achInfo.rewards) && achInfo.rewards.length >> 0) {
        reward = achInfo.rewards[0].rewardName.toString();
      }

      window.mapObject(progression, function (pr) {
        if (pr.achievementId === id) {
          // progress bar
          if (achInfo.scheduling.scheduleType === 'Once' && pr.issued > 0) {
            perc = 100;
          } else {
            perc = (parseFloat(pr.goalPercentageComplete) * 100).toFixed(1);
          } // issue count


          if (achInfo.scheduling.scheduleType === 'Repeatedly') {
            issuedCnt = pr.issued.toString();
          }

          if (achInfo.scheduling.scheduleType === 'Once') {
            issuedChck = pr.issued > 0 ? this.issuedBox.appendChild(this.issuedBoxCheck) : this.issuedBox.appendChild(this.issuedBoxNotCheck);
          }
        }
      });

      if (ach !== null) {
        var bar = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(ach, '.cl-ach-list-progression-bar');
        var percentNum = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(ach, '.cl-ach-list-percent-number');
        var issuedCount = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(ach, '.cl-ach-list-issued-box-count');
        var issuedCheck = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(ach, '.cl-ach-list-issued-box-check');
        var rewardName = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(ach, '.cl-ach-list-details-reward');
        bar.style.width = (perc > 1 || perc === 0 ? perc : 1) + '%';
        percentNum.innerHTML = (perc > 1 || perc === 0 ? Math.round(perc) : 1) + '%';
        issuedCount.innerHTML = issuedCnt;
        issuedCheck = issuedChck;
        rewardName.innerHTML = reward;
        console.log(issuedCheck);
        /*
        var image = new Image();
        var imageIconWrapper = document.createElement('div');
        image.setAttribute('class', 'cl-ach-list-issued-box');
        image.src = 'C:/Programiranje/jurepetrovic/leaderboard_v3/src/images/ach-issued.png';
        imageIconWrapper.appendChild(image);
        //  detailsContainer.appendChild(imageIconWrapper);
        */

        /*
        if (issuedStatus) {
          addClass(bar, 'cl-ach-complete');
          bar.innerHTML = _this.settings.lbWidget.settings.translation.achievements.complete;
          bar.style.width = '100%';
        } else {
          bar.style.width = ((perc > 1 || perc === 0) ? perc : 1) + '%';
        }
        */
      }
    });
  };

  this.loadAchievements = function (callback) {
    var _this = this;

    _this.settings.lbWidget.checkForAvailableAchievements(function (achievementData) {
      _this.achievementListLayout(achievementData);

      var idList = [];
      window.mapObject(_this.settings.lbWidget.settings.achievements.list, function (ach) {
        idList.push(ach.id);
      });
      setTimeout(function () {
        _this.settings.lbWidget.checkForMemberAchievementsIssued(function (issued) {
          _this.settings.lbWidget.checkForMemberAchievementsProgression(idList, function (progression) {
            _this.updateAchievementProgressionAndIssued(issued, progression);
          });
        });
      }, 400);

      if (typeof callback === 'function') {
        callback();
      }
    });
  };

  this.rewardItem = function (rew) {
    var _this = this;

    var listItem = document.createElement('div');
    var detailsContainer = document.createElement('div');
    var detailsWrapper = document.createElement('div');
    var label = document.createElement('div');
    var description = document.createElement('div');
    listItem.setAttribute('class', 'cl-rew-list-item cl-rew-' + rew.id);
    detailsContainer.setAttribute('class', 'cl-rew-list-details-cont');
    detailsWrapper.setAttribute('class', 'cl-rew-list-details-wrap');
    label.setAttribute('class', 'cl-rew-list-details-label');
    description.setAttribute('class', 'cl-rew-list-details-description');
    listItem.dataset.id = rew.id;
    var labelText = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_9__["default"])(rew.subject);
    var descriptionText = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_9__["default"])(rew.body);

    if (typeof rew.prize !== 'undefined') {
      listItem.dataset.rewardId = rew.prize.id;
      labelText = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_9__["default"])(rew.subject + ' - ' + rew.prize.reward.rewardName + ' (' + _this.settings.lbWidget.settings.rewards.rewardFormatter(rew.prize.reward) + ')');
      descriptionText = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_9__["default"])(typeof rew.prize.reward.description !== 'undefined' && rew.prize.reward.description.length > 0 ? rew.prize.reward.description : rew.body);
    }

    label.innerHTML = labelText.length > 80 ? labelText.substr(0, 80) + '...' : labelText;
    description.innerHTML = descriptionText.length > 200 ? descriptionText.substr(0, 200) + '...' : descriptionText;
    detailsWrapper.appendChild(label);
    detailsWrapper.appendChild(description);
    detailsContainer.appendChild(detailsWrapper);
    listItem.appendChild(detailsContainer);
    return listItem;
  };

  this.messageItem = function (inbox) {
    // var _this = this;
    var listItem = document.createElement('div');
    var detailsContainer = document.createElement('div');
    var detailsWrapper = document.createElement('div');
    var label = document.createElement('div');
    var description = document.createElement('div');
    var content = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_9__["default"])(inbox.body);
    listItem.setAttribute('class', 'cl-inbox-list-item cl-inbox-' + inbox.id);
    detailsContainer.setAttribute('class', 'cl-inbox-list-details-cont');
    detailsWrapper.setAttribute('class', 'cl-inbox-list-details-wrap');
    label.setAttribute('class', 'cl-inbox-list-details-label');
    description.setAttribute('class', 'cl-inbox-list-details-description');
    listItem.dataset.id = inbox.id;
    label.innerHTML = inbox.subject.length > 36 ? inbox.subject.substr(0, 36) + '...' : inbox.subject;
    description.innerHTML = content.length > 60 ? content.substr(0, 60) + '...' : content;
    detailsWrapper.appendChild(label);
    detailsWrapper.appendChild(description);
    detailsContainer.appendChild(detailsWrapper);
    listItem.appendChild(detailsContainer);
    return listItem;
  };

  this.tournamentItem = function (tournament) {
    // var _this = this;
    var listItem = document.createElement('div');
    var detailsContainer = document.createElement('div');
    var detailsWrapper = document.createElement('div');
    var label = document.createElement('div');
    var description = document.createElement('div');
    var descriptionContent = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_9__["default"])(tournament.description);
    listItem.setAttribute('class', 'cl-tour-list-item cl-tour-' + tournament.id);
    detailsContainer.setAttribute('class', 'cl-tour-list-details-cont');
    detailsWrapper.setAttribute('class', 'cl-tour-list-details-wrap');
    label.setAttribute('class', 'cl-tour-list-details-label');
    description.setAttribute('class', 'cl-tour-list-details-description');
    listItem.dataset.id = tournament.id;
    label.innerHTML = tournament.label;
    description.innerHTML = descriptionContent.length > 100 ? descriptionContent.substr(0, 100) + '...' : descriptionContent;
    detailsWrapper.appendChild(label);
    detailsWrapper.appendChild(description);
    detailsContainer.appendChild(detailsWrapper);
    listItem.appendChild(detailsContainer);
    return listItem;
  };

  this.rewardsListLayout = function (rewards, availableRewards, expiredRewards) {
    var _this = this;

    var rewardList = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.section, '.cl-main-widget-section-reward .cl-main-widget-reward-list-body-res');

    var accordionObj = _this.accordionStyle(_this.settings.rewardsSection.accordionLayout, function (accordionSection, listContainer, topEntryContainer, layout) {
      var rewardData = _this.settings.lbWidget.settings.rewards[layout.type];

      if (typeof rewardData !== 'undefined') {
        if (rewardData.length === 0) {
          accordionSection.style.display = 'none';
        }

        window.mapObject(rewardData, function (rew, key, count) {
          if (count + 1 <= layout.showTopResults && Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(topEntryContainer, '.cl-reward-' + rew.id) === null) {
            var topEntryContaineRlistItem = _this.rewardItem(rew);

            topEntryContainer.appendChild(topEntryContaineRlistItem);
          }

          if (Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(listContainer, '.cl-reward-' + rew.id) === null) {
            var listItem = _this.rewardItem(rew);

            listContainer.appendChild(listItem);
          }
        });
      }
    });

    rewardList.innerHTML = '';
    rewardList.appendChild(accordionObj); // mapObject(rewardData, function(rew){
    //   if( query(rewardList, ".cl-reward-" + rew.id) === null ) {
    //     var listItem = _this.rewardItem(rew);
    //
    //     rewardList.appendChild(listItem);
    //   }
    // });
  };

  this.messagesListLayout = function (rewards, availableRewards, expiredRewards) {
    var _this = this;

    var messageList = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.section, '.cl-main-widget-section-inbox .cl-main-widget-inbox-list-body-res');
    messageList.innerHTML = '';
    window.mapObject(_this.settings.lbWidget.settings.messages.messages, function (inboxItem, key, count) {
      var listItem = _this.messageItem(inboxItem);

      messageList.appendChild(listItem);
    });
  };

  this.loadRewards = function (callback) {
    var _this = this;

    _this.settings.lbWidget.checkForAvailableRewards(function (rewards, availableRewards, expiredRewards) {
      _this.rewardsListLayout(rewards, availableRewards, expiredRewards);

      if (typeof callback === 'function') {
        callback();
      }
    });
  };

  this.loadMessages = function (callback) {
    var _this = this;

    _this.settings.lbWidget.checkForAvailableMessages(function (rewards, availableRewards, expiredRewards) {
      _this.messagesListLayout(rewards, availableRewards, expiredRewards);

      if (typeof callback === 'function') {
        callback();
      }
    });
  };

  var changeInterval;
  var changeContainerInterval;

  this.navigationSwitch = function (target, callback) {
    var _this = this;

    var preLoader = _this.preloader();

    if (_this.settings.navigationSwitchInProgress && _this.settings.navigationSwitchLastAtempt + 3000 < new Date().getTime()) {
      _this.settings.navigationSwitchInProgress = false;
    }

    if (!_this.settings.navigationSwitchInProgress) {
      _this.settings.navigationSwitchInProgress = true;
      _this.settings.navigationSwitchLastAtempt = new Date().getTime();

      if (!Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(target.parentNode, 'cl-active-nav')) {
        preLoader.show(function () {
          if (changeInterval) clearTimeout(changeInterval);
          if (changeContainerInterval) clearTimeout(changeContainerInterval);
          Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-navigation-items .cl-active-nav'), function (obj) {
            Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(obj, 'cl-active-nav');
          });
          Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-container .cl-main-active-section'), function (obj) {
            Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(obj, 'cl-main-active-section');
            setTimeout(function () {
              obj.style.display = 'none';
            }, 150);
          });
          changeContainerInterval = setTimeout(function () {
            if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(target, 'cl-main-widget-navigation-lb-icon')) {
              _this.loadLeaderboard(function () {
                var lbContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-container .cl-main-widget-lb');
                lbContainer.style.display = 'block';
                changeInterval = setTimeout(function () {
                  Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(lbContainer, 'cl-main-active-section');
                }, 30);

                if (typeof callback === 'function') {
                  callback();
                }

                preLoader.hide();
                _this.settings.navigationSwitchInProgress = false;
              });
            } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(target, 'cl-main-widget-navigation-ach-icon')) {
              _this.loadAchievements(function () {
                var achContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-container .cl-main-widget-section-ach');
                _this.settings.achievement.detailsContainer.style.display = 'none';
                achContainer.style.display = 'block';
                changeInterval = setTimeout(function () {
                  Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(achContainer, 'cl-main-active-section');

                  if (typeof callback === 'function') {
                    callback();
                  }
                }, 30);
                preLoader.hide();
                _this.settings.navigationSwitchInProgress = false;
              });
            } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(target, 'cl-main-widget-navigation-rewards-icon')) {
              _this.loadRewards(function () {
                var rewardsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-container .cl-main-widget-section-reward');
                rewardsContainer.style.display = 'block';
                changeInterval = setTimeout(function () {
                  Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(rewardsContainer, 'cl-main-active-section');
                }, 30);

                if (typeof callback === 'function') {
                  callback();
                }

                preLoader.hide();
                _this.settings.navigationSwitchInProgress = false;
              });
            } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(target, 'cl-main-widget-navigation-inbox-icon')) {
              _this.loadMessages(function () {
                var inboxContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-container .cl-main-widget-section-inbox');
                inboxContainer.style.display = 'block';
                changeInterval = setTimeout(function () {
                  Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(inboxContainer, 'cl-main-active-section');
                }, 30);
                preLoader.hide();
                _this.settings.navigationSwitchInProgress = false;
              });
            }
          }, 250);
          Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(target.parentNode, 'cl-active-nav');
        });
      } else if (typeof callback === 'function') {
        _this.settings.navigationSwitchInProgress = false;
        callback();
      }
    }
  };

  this.resetNavigation = function (callback) {
    var _this = this;

    var lbContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-container .cl-main-widget-lb');
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-navigation-items .cl-active-nav'), function (obj) {
      Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(obj, 'cl-active-nav');
    });
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-container .cl-main-active-section'), function (obj) {
      obj.style.display = 'none';
      Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(obj, 'cl-main-active-section');
    });
    Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-navigation-items .cl-main-widget-navigation-lb'), 'cl-active-nav');
    setTimeout(function () {
      lbContainer.style.display = 'block';
      setTimeout(function () {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(lbContainer, 'cl-main-active-section');
        if (typeof callback !== 'undefined') callback();
      }, 30);
    }, 40);
  };

  this.initLayout = function (callback) {
    var _this = this;

    _this.settings.active = true;

    _this.loadLeaderboard();

    _this.settings.container.style.display = 'block';
    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(_this.settings.container, 'cl-show');
      var member = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.list, '.cl-lb-member-row');

      if (member !== null) {
        _this.missingMember(_this.isElementVisibleInView(member, _this.settings.leaderboard.list.parentNode));
      }

      _this.resetNavigation(callback);
    }, 30);
  };
};

/***/ }),

/***/ "./src/javascript/modules/Messaging.js":
/*!*********************************************!*\
  !*** ./src/javascript/modules/Messaging.js ***!
  \*********************************************/
/*! exports provided: Messaging */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Messaging", function() { return Messaging; });
/* harmony import */ var _cLabs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cLabs */ "./src/javascript/modules/cLabs.js");

/**
 * SSE Messaging
 * @param options
 * @constructor
 */

var Messaging = function Messaging(options) {
  this.settings = {
    source: null,
    ajax: {
      url: null,
      apiKey: undefined,
      errorCallback: function errorCallback() {}
    },
    sseUrl: null,
    heartbeat: null,
    lastHeartbeat: null,
    mainAjax: new _cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax(),
    heartBeatAjax: new _cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax(),
    heartWaitTime: 25000,
    messageQueue: [],
    messageInterval: 1000,
    startupCheck: true,
    active: false,
    debug: false,
    callback: function callback(data) {},
    onStartupError: function onStartupError() {}
  };

  if (typeof options !== 'undefined') {
    for (var opt in options) {
      if (options.hasOwnProperty(opt)) {
        this.settings[opt] = options[opt];
      }
    }
  }

  this.intervalInstance = null;
  this.heartbeatIntervalInstance = null;

  this.lookupData = function () {
    var _this = this;

    if (_this.settings.messageQueue.length > 0) {
      var data = _this.settings.messageQueue[0];

      var index = _this.settings.messageQueue.indexOf(data);

      if (index > -1) {
        _this.settings.messageQueue.splice(index, 1);
      }

      if (typeof _this.settings.ajax.url === 'string' && _this.settings.ajax.url.length > 0) {
        _this.getData(data);
      } else {
        _this.settings.callback(data);
      }
    }
  };

  this.setInterval = function () {
    var _this = this;

    _this.intervalInstance = setInterval(function () {
      _this.lookupData();
    }, _this.settings.messageInterval);

    if (_this.settings.heartbeat !== null) {
      _this.settings.lastHeartbeat = new Date();
      _this.heartbeatIntervalInstance = setInterval(function () {
        var currentTime = new Date();
        var diff = _this.settings.lastHeartbeat.getTime() - currentTime.getTime();

        if (_this.settings.source.readyState === 0 && diff > _this.settings.heartWaitTime) {
          _this.closeChanel();
        }

        _this.hearBeatCheck();
      }, _this.settings.heartWaitTime);
    }
  };
  /**
   * Request a heartbeat
   * - if the request is failing close the connection
   * - if the request is successful but the connection is closed reopen and call for a heartbeat again
   */


  this.hearBeatCheck = function () {
    var _this = this;

    var dataObj = {
      url: _this.settings.heartbeat,
      headers: _this.settings.ajax.apiKey,
      type: 'GET',
      success: function success(response, dataObject, xhr) {
        if (xhr.status !== 200 && _this.settings.source.readyState === 0) {
          if (_this.settings.debug) console.log('[Msg] SSE Closing connection');

          _this.closeChanel();
        } else if (xhr.status === 200 && _this.settings.source.readyState === 2) {
          if (_this.settings.debug) console.log('[Msg] SSE Trying to re-open the connection');

          _this.openChanel();

          setTimeout(function () {
            _this.hearBeatCheck();
          }, 200);
        }
      }
    };

    if (typeof _this.settings.ajax.apiKey !== 'undefined') {
      dataObj.headers = _this.settings.ajax.apiKey;
    }

    _this.settings.heartBeatAjax.abort().getData(dataObj);
  };

  this.getData = function () {
    var _this = this;

    var dataObj = {
      url: _this.settings.ajax.url,
      type: 'GET',
      success: function success(response, dataObject, xhr) {
        var json = {};

        try {
          json = JSON.parse(response);
        } catch (e) {
          if (_this.settings.debug) console.log(e, _this.settings);
        }

        if (xhr.status === 200) {
          _this.settings.callback(json);
        } else {
          _this.settings.ajax.errorCallback(json);
        }
      }
    };

    if (typeof _this.settings.ajax.apiKey !== 'undefined') {
      dataObj.headers = _this.settings.ajax.apiKey;
    }

    _this.settings.mainAjax.abort().getData(dataObj);
  };

  this.openChanel = function () {
    var _this = this;

    _this.settings.source = new EventSource(_this.settings.sseUrl, {
      withCredentials: true
    });

    _this.serverSideEventListeners(_this.settings.source);
  };

  this.serverSideEventListeners = function (source) {
    var _this = this;

    source.addEventListener('open', function (e) {
      _this.settings.active = true;
      if (_this.settings.debug) console.log('[Msg] connection opened', e);
    }, false);
    source.addEventListener('message', function (e) {
      if (_this.settings.debug) {
        console.log('[Msg] message check', _this.settings.sseUrl);
        console.log(e.data);
      }

      var data = e.data;
      var json = null;

      try {
        json = JSON.parse(data);
      } catch (e) {}

      if (_this.settings.heartbeat !== null) {
        _this.settings.lastHeartbeat = new Date();
      }

      if (json !== null && typeof json.heartbeat === 'undefined') {
        _this.settings.messageQueue.push(json);
      }
    }, false);
    source.addEventListener('error', function (e) {
      if (_this.settings.debug) {
        console.log('[Msg] error check', _this.settings.sseUrl);
      }
      /* eslint eqeqeq: "off" */


      if (e.readyState == EventSource.CLOSED) {
        if (_this.settings.debug) console.warn('[Msg] connection closed', e);
      } else {
        if (_this.settings.debug) console.log(e, e.readyState);
      }

      _this.closeChanel();

      _this.settings.startupCheck = false;
    }, false);
  };

  this.closeChanel = function () {
    this.settings.active = false;
    this.settings.source.close();
  };

  this.sseFailed = function () {
    var _this = this;

    _this.settings.heartbeat = null;
    _this.settings.active = false;

    if (_this.heartbeatIntervalInstance !== null) {
      clearInterval(_this.heartbeatIntervalInstance);
    }

    _this.settings.onStartupError(_this.settings);
  };

  this.windowActivity = function () {
    var _this = this;

    (function () {
      var hidden = 'hidden'; // Standards:

      if (hidden in document) {
        document.addEventListener('visibilitychange', onchange);
      } else if ((hidden = 'mozHidden') in document) {
        document.addEventListener('mozvisibilitychange', onchange);
      } else if ((hidden = 'webkitHidden') in document) {
        document.addEventListener('webkitvisibilitychange', onchange);
      } else if ((hidden = 'msHidden') in document) {
        document.addEventListener('msvisibilitychange', onchange);
      } else if ('onfocusin' in document) {
        // IE 9 and lower:
        document.onfocusin = document.onfocusout = onchange;
      } else {
        // All others:
        window.onpageshow = window.onpagehide = window.onfocus = window.onblur = onchange;
      }

      function onchange(evt) {
        var status = '';
        var v = 'visible';
        var h = 'hidden';
        var evtMap = {
          focus: v,
          focusin: v,
          pageshow: v,
          blur: h,
          focusout: h,
          pagehide: h
        };
        evt = evt || window.event;

        if (evt.type in evtMap) {
          status = evtMap[evt.type];
        } else {
          status = this[hidden] ? 'hidden' : 'visible';
        }

        if (status === 'visible' && _this.settings.source.readyState !== 0 && _this.settings.source.readyState !== 1) {
          _this.openChanel();
        } else if (status === 'hidden' && (_this.settings.source.readyState === 0 || _this.settings.source.readyState === 1)) {
          _this.closeChanel();
        }
      } // set the initial state (but only if browser supports the Page Visibility API)


      if (document[hidden] !== undefined) {
        onchange({
          type: document[hidden] ? 'blur' : 'focus'
        });
      }
    })();
  };

  this.init = function () {
    var _this = this;

    try {
      if (_this.settings.debug) console.log('[Msg] SSE starting', _this.settings.sseUrl, new Date());

      _this.openChanel();

      if (_this.settings.debug) console.log('[Msg] SSE started', _this.settings.sseUrl, new Date(), _this.settings.source.readyState);

      _this.setInterval();

      _this.windowActivity();

      setTimeout(function () {
        if (!_this.settings.startupCheck) {
          console.log('sse failed');

          _this.sseFailed();
        }
      }, 2000);
      window.addEventListener('unload', function (event) {
        if (_this.settings.debug) console.log('[Msg] closing messaging service', new Date());

        _this.settings.source.close();

        _this.settings.active = false;

        _this.settings.heartBeatAjax.abort();

        if (_this.intervalInstance) {
          clearInterval(_this.intervalInstance);
        }
      });
      window.addEventListener('beforeunload', function (event) {
        if (_this.settings.debug) console.log('[Msg] closing messaging service');

        _this.settings.source.close();

        _this.settings.heartBeatAjax.abort();

        if (_this.intervalInstance) {
          clearInterval(_this.intervalInstance);
        }
      });
    } catch (e) {
      if (_this.settings.debug) console.log('EventSource failed');

      _this.sseFailed();
    }
  };

  this.init();
};

/***/ }),

/***/ "./src/javascript/modules/MiniScoreBoard.js":
/*!**************************************************!*\
  !*** ./src/javascript/modules/MiniScoreBoard.js ***!
  \**************************************************/
/*! exports provided: MiniScoreBoard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MiniScoreBoard", function() { return MiniScoreBoard; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/query */ "./src/javascript/utils/query.js");
/* harmony import */ var _utils_addClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/addClass */ "./src/javascript/utils/addClass.js");
/* harmony import */ var _utils_hasClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/hasClass */ "./src/javascript/utils/hasClass.js");
/* harmony import */ var _utils_removeClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/removeClass */ "./src/javascript/utils/removeClass.js");
/* harmony import */ var _utils_remove__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/remove */ "./src/javascript/utils/remove.js");
/* harmony import */ var _dragElement__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dragElement */ "./src/javascript/modules/dragElement.js");







var MiniScoreBoard = function MiniScoreBoard(options) {
  this.settings = {
    lbWidget: null,
    container: null,
    overlayContainer: null,
    infoContainer: null,
    updateInterval: null,
    updateIntervalTime: 1000,
    active: false,
    enableDragging: true,
    dragging: false
  };

  if (typeof options !== 'undefined') {
    for (var opt in options) {
      if (options.hasOwnProperty(opt)) {
        this.settings[opt] = options[opt];
      }
    }
  }

  this.layout = function () {
    var wrapper = document.createElement('div');
    var iconWrapper = document.createElement('div');
    var icon = document.createElement('div');
    var informationWrapper = document.createElement('div');
    var informationTopWrapper = document.createElement('div');
    var informationWrapperClose = document.createElement('div');
    var informationClose = document.createElement('a');
    wrapper.setAttribute('class', 'cl-widget-ms-wrapper');
    iconWrapper.setAttribute('class', 'cl-widget-ms-icon-wrapper');
    icon.setAttribute('class', 'cl-widget-ms-icon');
    informationTopWrapper.setAttribute('class', 'cl-widget-ms-information-top-wrapper');
    informationWrapper.setAttribute('class', 'cl-widget-ms-information-wrapper');
    informationWrapperClose.setAttribute('class', 'cl-widget-ms-information-close-wrapper');
    informationClose.setAttribute('class', 'cl-widget-ms-information-close');
    informationClose.href = 'javascript:void(0);';
    informationClose.innerHTML = 'x';
    informationWrapperClose.appendChild(informationClose);
    informationWrapper.appendChild(informationWrapperClose);
    informationTopWrapper.appendChild(informationWrapper);
    iconWrapper.appendChild(icon);
    wrapper.appendChild(iconWrapper);
    wrapper.appendChild(informationTopWrapper);
    return wrapper;
  };

  this.overlayLayout = function () {
    var wrapper = document.createElement('div');
    wrapper.setAttribute('class', 'cl-widget-ms-overlay-wrapper');
    return wrapper;
  };

  this.timeManagement = function () {
    var _this = this;

    var diff = 0;
    var label = '';
    var date = '';
    var dateObj = '';
    var inverse = false;

    if (_this.settings.lbWidget.settings.competition.activeContest !== null) {
      diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeContest.scheduledStart).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());
      label = _this.settings.lbWidget.settings.translation.miniLeaderboard.startsIn;
      date = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
      dateObj = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
      inverse = false;

      if (diff < 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode === 0) {
        label = _this.settings.lbWidget.settings.translation.miniLeaderboard.starting;
        date = '';
      } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode > 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode < 3) {
        diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeContest.scheduledEnd).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());
        dateObj = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
        label = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
        date = _this.settings.lbWidget.settings.translation.miniLeaderboard.rank;
        inverse = true;
      } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode === 3) {
        label = _this.settings.lbWidget.settings.translation.miniLeaderboard.finishing;
        date = _this.settings.lbWidget.settings.translation.miniLeaderboard.rank;
        inverse = true;
      } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode >= 4) {
        label = _this.settings.lbWidget.settings.translation.miniLeaderboard.finished;
        date = _this.settings.lbWidget.settings.translation.miniLeaderboard.rank;
        inverse = true;
      }
    }

    return {
      label: label,
      diff: diff,
      date: date,
      dateObj: dateObj,
      inverse: inverse
    };
  };

  this.layoutDefaultOrEmptyEntry = function () {
    var lbResultsMemEntry = document.createElement('div');
    var lbResultsMemLabel = document.createElement('div');
    var lbResultsMemRank = document.createElement('div');
    var lbResultsMemIcon = document.createElement('div');
    var lbResultsMemImg = document.createElement('img');
    var lbResultsMemPoints = document.createElement('div');
    lbResultsMemEntry.setAttribute('class', 'cl-widget-ms-default-mem-entry');
    lbResultsMemLabel.setAttribute('class', 'cl-widget-ms-default-mem-label');
    lbResultsMemRank.setAttribute('class', 'cl-widget-ms-default-mem-rank');
    lbResultsMemIcon.setAttribute('class', 'cl-widget-ms-default-mem-icon');
    lbResultsMemImg.setAttribute('class', 'cl-widget-ms-default-mem-img');
    lbResultsMemImg.style.display = 'none';
    lbResultsMemPoints.setAttribute('class', 'cl-widget-ms-default-mem-points');
    lbResultsMemEntry.appendChild(lbResultsMemLabel);
    lbResultsMemEntry.appendChild(lbResultsMemRank);
    lbResultsMemIcon.appendChild(lbResultsMemImg);
    lbResultsMemEntry.appendChild(lbResultsMemIcon);
    lbResultsMemEntry.appendChild(lbResultsMemPoints);
    return lbResultsMemEntry;
  };

  this.layoutFirstToOrEmptyEntry = function () {
    var lbResultsMemEntry = document.createElement('div');
    var lbResultsMemLabel = document.createElement('div');
    var lbResultsMemRank = document.createElement('div');
    var lbResultsMemIcon = document.createElement('div');
    var lbResultsMemImg = document.createElement('img');
    var lbResultsMemPoints = document.createElement('div');
    lbResultsMemEntry.setAttribute('class', 'cl-widget-ms-first-to-mem-entry');
    lbResultsMemLabel.setAttribute('class', 'cl-widget-ms-first-to-mem-label');
    lbResultsMemRank.setAttribute('class', 'cl-widget-ms-first-to-mem-rank');
    lbResultsMemIcon.setAttribute('class', 'cl-widget-ms-first-to-mem-icon');
    lbResultsMemImg.setAttribute('class', 'cl-widget-ms-first-to-mem-img');
    lbResultsMemImg.style.display = 'none';
    lbResultsMemPoints.setAttribute('class', 'cl-widget-ms-first-to-mem-points');
    lbResultsMemEntry.appendChild(lbResultsMemLabel);
    lbResultsMemEntry.appendChild(lbResultsMemRank);
    lbResultsMemIcon.appendChild(lbResultsMemImg);
    lbResultsMemEntry.appendChild(lbResultsMemIcon);
    lbResultsMemEntry.appendChild(lbResultsMemPoints);
    return lbResultsMemEntry;
  }; // let testLive = false;


  this.layoutDefaultOrEmpty = function () {
    var _this = this;

    var timeManagement = _this.timeManagement(); // var diff = timeManagement.diff;


    var label = timeManagement.label;
    var date = timeManagement.date;
    var dateObj = timeManagement.dateObj;
    var wrapperDomObj = _this.settings.infoContainer;
    var defaultDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-wrapper');
    var inverse = timeManagement.inverse;

    if (defaultDomObj === null) {
      _this.removeUnusedElements();

      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.container, 'cl-ms-default-style');
      var lbWrapper = document.createElement('div');
      var lbDateWrapper = document.createElement('div');
      var lbDateLabel = document.createElement('div');
      var lbDate = document.createElement('div');
      var lbResultsWrapper = document.createElement('div');
      var lbResultsList = document.createElement('div');
      var lbHeaders = document.createElement('div');
      var lbHeadersRank = document.createElement('div');
      var lbHeadersPoints = document.createElement('div');

      var lbResultsMemEntry = _this.layoutDefaultOrEmptyEntry();

      var img = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-default-mem-img');
      lbWrapper.setAttribute('class', 'cl-widget-ms-default-wrapper');
      lbDateLabel.setAttribute('class', 'cl-widget-ms-default-date-label');
      lbDate.setAttribute('class', 'cl-widget-ms-default-date');
      lbDateWrapper.setAttribute('class', 'cl-widget-ms-default-date-wrapper');
      lbResultsWrapper.setAttribute('class', 'cl-widget-ms-default-results-wrapper');
      lbResultsList.setAttribute('class', 'cl-widget-ms-default-results-list');
      lbHeaders.setAttribute('class', 'cl-widget-ms-default-results-headers');
      lbHeadersRank.setAttribute('class', 'cl-widget-ms-default-results-header-rank');
      lbHeadersPoints.setAttribute('class', 'cl-widget-ms-default-results-header-points');
      lbResultsMemEntry.setAttribute('class', 'cl-widget-ms-default-mem-entry'); // lbDateLabel.innerHTML = label;

      lbDate.innerHTML = dateObj;
      lbDateWrapper.appendChild(lbDateLabel);
      lbDateWrapper.appendChild(lbDate);
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-default-mem-rank').innerHTML = '--';
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-default-mem-points').innerHTML = '--';
      img.src = '';
      img.alt = '';
      img.style.display = 'block';
      lbHeadersRank.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.rank;
      lbHeadersPoints.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.points;
      lbHeaders.appendChild(lbHeadersRank);
      lbHeaders.appendChild(lbHeadersPoints);
      lbResultsList.appendChild(lbResultsMemEntry);
      lbResultsWrapper.appendChild(lbHeaders);
      lbResultsWrapper.appendChild(lbResultsList);
      lbWrapper.appendChild(lbDateWrapper);
      lbWrapper.appendChild(lbResultsWrapper);
      defaultDomObj = wrapperDomObj.appendChild(lbWrapper);
      setTimeout(function () {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(wrapperDomObj, 'cl-show');
      }, 200);
    } else {
      if (!Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_3__["default"])(wrapperDomObj, 'cl-show')) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(wrapperDomObj, 'cl-show');
      }

      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-date-label').innerHTML = label;
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-date').innerHTML = date;
    }

    window.mapObject(_this.settings.lbWidget.settings.leaderboard.leaderboardData, function (lbEntry) {
      if ((lbEntry.memberRefId === _this.settings.lbWidget.settings.memberId || lbEntry.memberId === _this.settings.lbWidget.settings.memberId) && typeof lbEntry.rankings !== 'undefined') {
        var scoreArea = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(defaultDomObj, '.cl-widget-ms-default-results-list');
        scoreArea.innerHTML = '';
        Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-date-label').innerHTML = '';
        Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-date').innerHTML = dateObj;
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-date-wrapper'), 'cl-widget-ms-default-date-only');
        window.mapObject(lbEntry.rankings, function (lbRankingEntry) {
          var icon = _this.settings.lbWidget.populateIdenticonBase64Image(lbRankingEntry.memberId);

          var lbWrapper = _this.layoutDefaultOrEmptyEntry();

          var img = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-default-mem-img');
          var selfMember = lbRankingEntry.memberRefId === _this.settings.lbWidget.settings.memberId || lbRankingEntry.memberId === _this.settings.lbWidget.settings.memberId;
          img.src = icon;
          img.alt = '';
          img.style.display = 'block';

          if (selfMember) {
            Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(lbWrapper, 'cl-widget-ms-default-mem-self');
          }

          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-default-mem-label').innerHTML = selfMember ? 'YOU' : '';
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-default-mem-rank').innerHTML = "<span class='cl-mem-rank-label'>" + _this.settings.lbWidget.settings.translation.leaderboard.rank + "</span><span class='cl-mem-rank'>" + lbRankingEntry.rank + '</span>';
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-default-mem-points').innerHTML = "<span class='cl-mem-points-label'>" + _this.settings.lbWidget.settings.translation.leaderboard.points + "</span><span class='cl-mem-points'>" + lbRankingEntry.points + '</span>';
          scoreArea.appendChild(lbWrapper);
        }); // testLive = true;
        //  var lastScore = query(_this.settings.container, ".cl-widget-ms-default-last-score").innerHTML,
        //  highScore = query(_this.settings.container, ".cl-widget-ms-default-high-score").innerHTML,
        //  rank = query(_this.settings.container, ".cl-widget-ms-default-rank-value"),
        //  change = (lbEntry.change < 0) ? "down" : ( lbEntry.change > 0 ? "up" : "same" ),
        //  rankValue = lbEntry.rank;
        //
        // if( lastScore !== String(lbEntry.points) && String(lbEntry.points) !== highScore ){
        //  query(_this.settings.container, ".cl-widget-ms-default-last-score").innerHTML = highScore;
        // }
        //
        // query(_this.settings.container, ".cl-widget-ms-default-high-score").innerHTML = lbEntry.points;
        //
        // removeClass(rank, "cl-ms-rank-up");
        // removeClass(rank, "cl-ms-rank-down");
        // removeClass(rank, "cl-ms-rank-same");
        //
        // addClass(rank, "cl-ms-rank-" + change);
        //
        // rank.innerHTML = rankValue;
      }
    });

    if (inverse && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_3__["default"])(defaultDomObj, 'cl-inverse')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(defaultDomObj, 'cl-inverse');
    }
  };

  this.layoutFirstToOrEmpty = function (strategy) {
    var _this = this;

    var timeManagement = _this.timeManagement(); // var diff = timeManagement.diff;


    var label = timeManagement.label;
    var date = timeManagement.date;
    var dateObj = timeManagement.dateObj;
    var wrapperDomObj = _this.settings.infoContainer;
    var defaultDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-wrapper');
    var inverse = timeManagement.inverse;

    if (defaultDomObj === null) {
      _this.removeUnusedElements();

      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.container, 'cl-ms-first-to-style');
      var lbWrapper = document.createElement('div');
      var lbDateWrapper = document.createElement('div');
      var lbDateLabel = document.createElement('div');
      var lbDate = document.createElement('div');
      var lbResultsWrapper = document.createElement('div');
      var lbResultsList = document.createElement('div');
      var lbHeaders = document.createElement('div');
      var lbHeadersRank = document.createElement('div');
      var lbHeadersPoints = document.createElement('div');

      var lbResultsMemEntry = _this.layoutFirstToOrEmptyEntry();

      var img = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-first-to-mem-img');
      lbWrapper.setAttribute('class', 'cl-widget-ms-first-to-wrapper');
      lbDateLabel.setAttribute('class', 'cl-widget-ms-first-to-date-label');
      lbDate.setAttribute('class', 'cl-widget-ms-first-to-date');
      lbDateWrapper.setAttribute('class', 'cl-widget-ms-first-to-date-wrapper');
      lbResultsWrapper.setAttribute('class', 'cl-widget-ms-first-to-results-wrapper');
      lbResultsList.setAttribute('class', 'cl-widget-ms-first-to-results-list');
      lbHeaders.setAttribute('class', 'cl-widget-ms-first-to-results-headers');
      lbHeadersRank.setAttribute('class', 'cl-widget-ms-first-to-results-header-rank');
      lbHeadersPoints.setAttribute('class', 'cl-widget-ms-first-to-results-header-points');
      lbResultsMemEntry.setAttribute('class', 'cl-widget-ms-first-to-mem-entry'); // lbDateLabel.innerHTML = label;

      lbDate.innerHTML = dateObj;
      lbDateWrapper.appendChild(lbDateLabel);
      lbDateWrapper.appendChild(lbDate);
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-first-to-mem-rank').innerHTML = '--';
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-first-to-mem-points').innerHTML = '--/' + strategy.recordTimeWhenSumReaches;
      img.src = '';
      img.alt = '';
      img.style.display = 'block';
      lbHeadersRank.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.rank;
      lbHeadersPoints.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.points;
      lbHeaders.appendChild(lbHeadersRank);
      lbHeaders.appendChild(lbHeadersPoints);
      lbResultsList.appendChild(lbResultsMemEntry);
      lbResultsWrapper.appendChild(lbHeaders);
      lbResultsWrapper.appendChild(lbResultsList);
      lbWrapper.appendChild(lbDateWrapper);
      lbWrapper.appendChild(lbResultsWrapper);
      defaultDomObj = wrapperDomObj.appendChild(lbWrapper);
      setTimeout(function () {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(wrapperDomObj, 'cl-show');
      }, 200);
    } else {
      if (!Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_3__["default"])(wrapperDomObj, 'cl-show')) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(wrapperDomObj, 'cl-show');
      }

      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-date-label').innerHTML = label;
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-date').innerHTML = date;
    }

    window.mapObject(_this.settings.lbWidget.settings.leaderboard.leaderboardData, function (lbEntry) {
      if ((lbEntry.memberRefId === _this.settings.lbWidget.settings.memberId || lbEntry.memberId === _this.settings.lbWidget.settings.memberId) && typeof lbEntry.rankings !== 'undefined') {
        var scoreArea = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(defaultDomObj, '.cl-widget-ms-first-to-results-list');
        scoreArea.innerHTML = '';
        Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-date-label').innerHTML = '';
        Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-date').innerHTML = dateObj;
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-date-wrapper'), 'cl-widget-ms-first-to-date-only');
        window.mapObject(lbEntry.rankings, function (lbRankingEntry) {
          var icon = _this.settings.lbWidget.populateIdenticonBase64Image(lbRankingEntry.memberId);

          var lbWrapper = _this.layoutFirstToOrEmptyEntry();

          var img = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-first-to-mem-img');
          var selfMember = lbRankingEntry.memberRefId === _this.settings.lbWidget.settings.memberId || lbRankingEntry.memberId === _this.settings.lbWidget.settings.memberId;

          if (selfMember) {
            Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(lbWrapper, 'cl-widget-ms-first-to-mem-self');
          }

          img.src = icon;
          img.alt = '';
          img.style.display = 'block';
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-first-to-mem-label').innerHTML = selfMember ? 'YOU' : '';
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-first-to-mem-rank').innerHTML = "<span class='cl-mem-rank-label'>" + _this.settings.lbWidget.settings.translation.leaderboard.rank + "</span><span class='cl-mem-rank'>" + lbRankingEntry.rank + '</span>';
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-first-to-mem-points').innerHTML = "<span class='cl-mem-points-label'>" + _this.settings.lbWidget.settings.translation.leaderboard.points + "</span><span class='cl-mem-points'>" + lbRankingEntry.points + '/' + strategy.recordTimeWhenSumReaches + '</span>';
          scoreArea.appendChild(lbWrapper);
        });
      }
    });

    if (inverse && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_3__["default"])(defaultDomObj, 'cl-inverse')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(defaultDomObj, 'cl-inverse');
    }
  };

  this.layoutSumBestOf = function () {
    var _this = this;

    var timeManagement = _this.timeManagement(); // var diff = timeManagement.diff;


    var label = timeManagement.label;
    var date = timeManagement.date;
    var wrapperDomObj = _this.settings.infoContainer;
    var sumBestDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-wrapper');
    var inverse = timeManagement.inverse;

    if (sumBestDomObj === null) {
      _this.removeUnusedElements();

      var lbWrapper = document.createElement('div');
      var lbDateWrapper = document.createElement('div');
      var lbDateLabel = document.createElement('div');
      var lbDate = document.createElement('div');
      var lbResultsWrapper = document.createElement('div');
      var lbResultsScoreArea = document.createElement('div');
      var lbResultsScoreAreaHigh = document.createElement('div');
      var lbResultsScoreAreaHighLabel = document.createElement('div');
      var lbResultsScoreAreaHighScore = document.createElement('div');
      var lbResultsScoreAreaLast = document.createElement('div');
      var lbResultsScoreAreaLastLabel = document.createElement('div');
      var lbResultsScoreAreaLastScore = document.createElement('div');
      var lbResultsRankArea = document.createElement('div');
      var lbResultsRankValue = document.createElement('span');
      lbWrapper.setAttribute('class', 'cl-widget-ms-sum-best-wrapper');
      lbDateLabel.setAttribute('class', 'cl-widget-ms-sum-best-date-label');
      lbDate.setAttribute('class', 'cl-widget-ms-sum-best-date');
      lbDateWrapper.setAttribute('class', 'cl-widget-ms-sum-best-date-wrapper');
      lbResultsWrapper.setAttribute('class', 'cl-widget-ms-sum-best-results-wrapper');
      lbResultsScoreArea.setAttribute('class', 'cl-widget-ms-sum-best-area');
      lbResultsScoreAreaHigh.setAttribute('class', 'cl-widget-ms-sum-best-high-area');
      lbResultsScoreAreaHighLabel.setAttribute('class', 'cl-widget-ms-sum-best-high-label');
      lbResultsScoreAreaHighScore.setAttribute('class', 'cl-widget-ms-sum-best-high-score');
      lbResultsScoreAreaLast.setAttribute('class', 'cl-widget-ms-sum-best-last-area');
      lbResultsScoreAreaLastLabel.setAttribute('class', 'cl-widget-ms-sum-best-last-label');
      lbResultsScoreAreaLastScore.setAttribute('class', 'cl-widget-ms-sum-best-last-score');
      lbResultsRankArea.setAttribute('class', 'cl-widget-ms-sum-best-rank-area');
      lbResultsRankValue.setAttribute('class', 'cl-widget-ms-sum-best-rank-value');
      lbDateLabel.innerHTML = label;
      lbDate.innerHTML = date;
      lbResultsScoreAreaHighLabel.innerHTML = _this.settings.lbWidget.settings.translation.miniLeaderboard.highScore;
      lbResultsScoreAreaHighScore.innerHTML = '--';
      lbResultsScoreAreaHigh.appendChild(lbResultsScoreAreaHighLabel);
      lbResultsScoreAreaHigh.appendChild(lbResultsScoreAreaHighScore);
      lbResultsScoreArea.appendChild(lbResultsScoreAreaHigh);
      lbResultsScoreAreaLastLabel.innerHTML = _this.settings.lbWidget.settings.translation.miniLeaderboard.lastScore;
      lbResultsScoreAreaLastScore.innerHTML = '--';
      lbResultsScoreAreaLast.appendChild(lbResultsScoreAreaLastLabel);
      lbResultsScoreAreaLast.appendChild(lbResultsScoreAreaLastScore);
      lbResultsScoreArea.appendChild(lbResultsScoreAreaLast);
      lbResultsRankValue.innerHTML = '--';
      lbResultsRankArea.appendChild(lbResultsRankValue);
      lbResultsWrapper.appendChild(lbResultsScoreArea);
      lbResultsWrapper.appendChild(lbResultsRankArea);
      lbDateWrapper.appendChild(lbDateLabel);
      lbDateWrapper.appendChild(lbDate);
      lbWrapper.appendChild(lbDateWrapper);
      lbWrapper.appendChild(lbResultsWrapper);
      sumBestDomObj = wrapperDomObj.appendChild(lbWrapper);
      setTimeout(function () {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(wrapperDomObj, 'cl-show');
      }, 200);
    } else {
      if (!Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_3__["default"])(wrapperDomObj, 'cl-show')) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(wrapperDomObj, 'cl-show');
      }

      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-date-label').innerHTML = label;
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-date').innerHTML = date;
    }

    window.mapObject(_this.settings.lbWidget.settings.leaderboard.leaderboardData, function (lbEntry) {
      if (lbEntry.memberRefId === _this.settings.lbWidget.settings.memberId || lbEntry.memberId === _this.settings.lbWidget.settings.memberId) {
        var lastScore = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-last-score').innerHTML;
        var highScore = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-high-score').innerHTML;
        var rank = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-rank-value');
        var change = lbEntry.change < 0 ? 'down' : lbEntry.change > 0 ? 'up' : 'same';
        var rankValue = lbEntry.rank;

        if (lastScore !== String(lbEntry.points) && String(lbEntry.points) !== highScore) {
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-last-score').innerHTML = highScore;
        }

        Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-high-score').innerHTML = lbEntry.points;
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(rank, 'cl-ms-rank-up');
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(rank, 'cl-ms-rank-down');
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(rank, 'cl-ms-rank-same');
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(rank, 'cl-ms-rank-' + change);
        rank.innerHTML = rankValue;
      }
    });

    if (inverse && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_3__["default"])(sumBestDomObj, 'cl-inverse')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(sumBestDomObj, 'cl-inverse');
    }
  };

  this.layoutRequiresOptIn = function () {
    var _this = this;

    var diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeCompetition.scheduledStart).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());
    var label = 'Starting In';
    var wrapperDomObj = _this.settings.infoContainer;

    var date = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));

    if (diff < 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode === 0) {
      label = 'starting';
      date = '';
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode > 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode < 3) {
      diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeContest.scheduledEnd).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());
      label = 'started';
      date = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode === 3) {
      label = 'finishing';
      date = '';
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode >= 4) {
      label = 'finished';
      date = '';
    }

    if (Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-optin-wrapper') === null) {
      _this.removeUnusedElements();

      var optInWrapper = document.createElement('div');
      var optInDateWrapper = document.createElement('div');
      var optInDateLabel = document.createElement('div');
      var optInDate = document.createElement('div');
      var optInDateActionWrapper = document.createElement('div');
      var optInDateAction = document.createElement('a');
      optInWrapper.setAttribute('class', 'cl-widget-ms-optin-wrapper');
      optInDateLabel.setAttribute('class', 'cl-widget-ms-optin-date-label');
      optInDate.setAttribute('class', 'cl-widget-ms-optin-date');
      optInDateWrapper.setAttribute('class', 'cl-widget-ms-optin-date-wrapper');
      optInDateActionWrapper.setAttribute('class', 'cl-widget-ms-optin-action-wrapper');
      optInDateAction.setAttribute('class', 'cl-widget-ms-optin-action');
      optInDateLabel.innerHTML = label;
      optInDate.innerHTML = date;
      optInDateAction.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.enter;
      optInDateWrapper.appendChild(optInDateLabel);
      optInDateWrapper.appendChild(optInDate);
      optInDateActionWrapper.appendChild(optInDateAction);
      optInWrapper.appendChild(optInDateWrapper);
      optInWrapper.appendChild(optInDateActionWrapper);
      wrapperDomObj.appendChild(optInWrapper);
      setTimeout(function () {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(wrapperDomObj, 'cl-show');
      }, 200);
    } else {
      if (!Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_3__["default"])(wrapperDomObj, 'cl-show')) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(wrapperDomObj, 'cl-show');
      }

      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-optin-date-label').innerHTML = label;
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-optin-date').innerHTML = date;
    }
  };

  this.removeUnusedElements = function () {
    var _this = this;

    var defaultLayoutWrapperDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-wrapper');
    var optInWrapperDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-optin-wrapper');
    var sumBestDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-wrapper');
    var firstToDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-wrapper');
    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, 'cl-ms-default-style');
    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, 'cl-ms-optin-style');
    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, 'cl-ms-sum-best-style');
    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, 'cl-ms-first-to-style');

    if (defaultLayoutWrapperDomObj !== null) {
      Object(_utils_remove__WEBPACK_IMPORTED_MODULE_5__["default"])(defaultLayoutWrapperDomObj);
    }

    if (optInWrapperDomObj !== null) {
      Object(_utils_remove__WEBPACK_IMPORTED_MODULE_5__["default"])(optInWrapperDomObj);
    }

    if (sumBestDomObj !== null) {
      Object(_utils_remove__WEBPACK_IMPORTED_MODULE_5__["default"])(sumBestDomObj);
    }

    if (firstToDomObj !== null) {
      Object(_utils_remove__WEBPACK_IMPORTED_MODULE_5__["default"])(firstToDomObj);
    }
  };

  this.clearAll = function () {
    var _this = this;

    if (_this.settings.updateInterval) {
      clearTimeout(_this.settings.updateInterval);
    }

    _this.removeInfoArea();

    _this.settings.active = false;
  };

  this.removeInfoArea = function () {
    var _this = this;

    var wrapperDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-show');
    var layout = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-wrapper');
    if (wrapperDomObj !== null) Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(wrapperDomObj, 'cl-show');

    if (layout !== null) {
      setTimeout(function () {
        Object(_utils_remove__WEBPACK_IMPORTED_MODULE_5__["default"])(layout);
      }, 300);
    }
  };

  this.updateScoreBoard = function () {
    var _this = this;

    if (_this.settings.updateInterval) {
      clearTimeout(_this.settings.updateInterval);
    }

    _this.settings.updateInterval = setTimeout(function () {
      _this.loadInfoArea(function () {
        _this.updateScoreBoard();
      });
    }, _this.settings.updateIntervalTime);
  };

  this.loadInfoArea = function (callback) {
    var _this = this;

    if (_this.settings.active && _this.settings.lbWidget.settings.competition.activeCompetition !== null && _this.settings.lbWidget.settings.competition.activeCompetition.statusCode < 7) {
      if (typeof _this.settings.lbWidget.settings.competition.activeCompetition.optin === 'boolean' && !_this.settings.lbWidget.settings.competition.activeCompetition.optin) {
        _this.layoutRequiresOptIn();

        callback();
      } else if (_this.settings.lbWidget.settings.competition.activeContest !== null && _this.settings.lbWidget.settings.competition.activeContest.strategy.type === 'SumBest') {
        _this.layoutSumBestOf();

        callback();
      } else if (_this.settings.lbWidget.settings.competition.activeContest !== null && _this.settings.lbWidget.settings.competition.activeContest.strategy.type === 'FirstTo') {
        _this.layoutFirstToOrEmpty(_this.settings.lbWidget.settings.competition.activeContest.strategy);

        callback();
      } else if (_this.settings.lbWidget.settings.competition.activeContestId !== null) {
        _this.layoutDefaultOrEmpty();

        callback();
      } else {
        _this.layoutDefaultOrEmpty();
      }
    } else {
      _this.clearAll();
    }
  };

  this.eventListeners = function () {
    var _this = this;

    Object(_dragElement__WEBPACK_IMPORTED_MODULE_6__["default"])(_this.settings.container, Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-icon'), _this.settings.overlayContainer, _this.settings.lbWidget.settings.bindContainer, function (newTop, newLeft) {
      _this.settings.lbWidget.stopActivity();

      if (newTop <= 5) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.container, 'cl-vertical-mini');
      } else if (newLeft <= 5) {
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, 'cl-vertical-mini');
      }

      _this.settings.dragging = true;
    }, function () {
      _this.settings.lbWidget.restartActivity();

      setTimeout(function () {
        _this.settings.dragging = false;
      }, 200);
    }, function () {
      _this.settings.lbWidget.clickedMiniScoreBoard();
    });
  };

  this.initLayout = function (callback) {
    var _this = this;

    if (_this.settings.container === null) {
      _this.settings.active = true;
      _this.settings.container = _this.settings.lbWidget.settings.bindContainer.appendChild(_this.layout());
      _this.settings.overlayContainer = _this.settings.lbWidget.settings.bindContainer.appendChild(_this.overlayLayout());
      _this.settings.infoContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-information-wrapper');

      _this.eventListeners();
    }

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.loadScoreBoard = function () {
    var _this = this;

    _this.initLayout(function () {
      _this.loadInfoArea(function () {
        _this.updateScoreBoard();
      });

      setTimeout(function () {
        _this.updateScoreBoard();
      }, 1000);
    });
  };
};

/***/ }),

/***/ "./src/javascript/modules/Notifications.js":
/*!*************************************************!*\
  !*** ./src/javascript/modules/Notifications.js ***!
  \*************************************************/
/*! exports provided: Notifications */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Notifications", function() { return Notifications; });
/* harmony import */ var _Messaging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Messaging */ "./src/javascript/modules/Messaging.js");
/* harmony import */ var _utils_removeClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/removeClass */ "./src/javascript/utils/removeClass.js");
/* harmony import */ var _utils_query__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/query */ "./src/javascript/utils/query.js");
/* harmony import */ var _utils_stripHtml__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/stripHtml */ "./src/javascript/utils/stripHtml.js");
/* harmony import */ var _utils_addClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/addClass */ "./src/javascript/utils/addClass.js");





var Notifications = function Notifications(options) {
  this.settings = {
    container: null,
    detailsContainer: null,
    lbWidget: null,
    eventStream: [],
    checkTimeout: 2000,
    onDisplayCheckTimeout: 10000,
    checkInterval: null,
    autoNotificationHideInterval: null,
    autoNotificationHideTime: 10000,
    displayInProgress: false
  };

  if (typeof options !== 'undefined') {
    for (var opt in options) {
      if (options.hasOwnProperty(opt)) {
        this.settings[opt] = options[opt];
      }
    }
  }

  this.layoutWrapper = function () {
    var wrapper = document.createElement('div');
    var iconWrapper = document.createElement('div');
    var icon = document.createElement('div');
    var informationWrapper = document.createElement('div');
    var informationTopWrapper = document.createElement('div');
    var informationDetailsContainer = document.createElement('div');
    var informationDetailsLabel = document.createElement('div');
    var informationDetailsDescription = document.createElement('div');
    var informationWrapperClose = document.createElement('div');
    var informationClose = document.createElement('a');
    wrapper.setAttribute('class', 'cl-widget-notif-wrapper');
    iconWrapper.setAttribute('class', 'cl-widget-notif-icon-wrapper');
    icon.setAttribute('class', 'cl-widget-notif-icon');
    informationTopWrapper.setAttribute('class', 'cl-widget-notif-information-top-wrapper');
    informationWrapper.setAttribute('class', 'cl-widget-notif-information-wrapper');
    informationDetailsContainer.setAttribute('class', 'cl-widget-notif-information-details-wrapper');
    informationDetailsLabel.setAttribute('class', 'cl-widget-notif-information-details-label');
    informationDetailsDescription.setAttribute('class', 'cl-widget-notif-information-details-description');
    informationWrapperClose.setAttribute('class', 'cl-widget-notif-information-close-wrapper');
    informationClose.setAttribute('class', 'cl-widget-notif-information-close');
    informationClose.href = 'javascript:void(0);';
    informationClose.innerHTML = 'x';
    informationDetailsContainer.appendChild(informationDetailsLabel);
    informationDetailsContainer.appendChild(informationDetailsDescription);
    informationWrapperClose.appendChild(informationClose);
    informationWrapper.appendChild(informationWrapperClose);
    informationWrapper.appendChild(informationDetailsContainer);
    informationTopWrapper.appendChild(informationWrapper);
    iconWrapper.appendChild(icon);
    wrapper.appendChild(iconWrapper);
    wrapper.appendChild(informationTopWrapper);
    return wrapper;
  };

  var processed = {};

  this.startSSE = function () {
    var _this = this;

    _this.settings.sseInstance = new _Messaging__WEBPACK_IMPORTED_MODULE_0__["Messaging"]({
      sseUrl: _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.memberSSE.replace(':space', _this.settings.lbWidget.settings.spaceName).replace(':id', _this.settings.lbWidget.settings.memberId),
      heartbeat: _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.memberSSEHeartbeat.replace(':space', _this.settings.lbWidget.settings.spaceName).replace(':id', _this.settings.lbWidget.settings.memberId),
      ajax: {
        url: null,
        apiKey: {
          'X-API-KEY': _this.settings.lbWidget.settings.apiKey
        }
      },
      callback: function callback(data) {
        var dataKey = JSON.stringify(data);
        var currentTime = new Date().getTime();

        if (typeof processed[dataKey] === 'undefined' || typeof processed[dataKey] !== 'undefined' && processed[dataKey] + 10000 < currentTime) {
          processed[JSON.stringify(data)] = currentTime;

          _this.settings.eventStream.push(data);
        }
      },
      onStartupError: function onStartupError(settings) {},
      debug: true
    });
  };

  this.autoNotificationHide = function () {
    var _this = this;

    if (_this.settings.autoNotificationHideInterval) {
      clearTimeout(_this.settings.autoNotificationHideInterval);
    }

    _this.settings.autoNotificationHideInterval = setTimeout(function () {
      _this.hideNotification();
    }, _this.settings.autoNotificationHideTime);
  };

  this.hideNotification = function () {
    var _this = this;

    if (_this.settings.autoNotificationHideInterval) {
      clearTimeout(_this.settings.autoNotificationHideInterval);
    }

    _this.settings.displayInProgress = false;
    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.container, '.cl-widget-notif-information-wrapper'), 'cl-show');
    setTimeout(function () {
      _this.settings.container.style.display = 'none';
    }, 200);
  };

  this.showAchievementNotification = function (data) {
    var _this = this;

    var label = Object(_utils_query__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.detailsContainer, '.cl-widget-notif-information-details-label');
    var description = Object(_utils_query__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.detailsContainer, '.cl-widget-notif-information-details-description');
    var descriptionText = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_3__["default"])(data.data.description);
    label.innerHTML = data.data.name.length > 23 ? data.data.name.substr(0, 23) + '...' : data.data.name;
    description.innerHTML = descriptionText.length > 60 ? descriptionText.substr(0, 60) + '...' : descriptionText;
    _this.settings.detailsContainer.dataset.id = data.data.id;
    _this.settings.container.style.display = 'block';
    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.container, '.cl-widget-notif-information-wrapper'), 'cl-show');
    }, 200);

    _this.autoNotificationHide();
  };

  this.eventStreamCheck = function () {
    var _this = this;

    if (_this.settings.checkInterval) {
      clearTimeout(_this.settings.checkInterval);
    }

    if (_this.settings.eventStream.length > 0 && !_this.settings.displayInProgress) {
      var data = _this.settings.eventStream[0];

      var index = _this.settings.eventStream.indexOf(data);

      if (typeof data.achievementId !== 'undefined') {
        _this.settings.displayInProgress = true;

        _this.settings.lbWidget.getAchievement(data.achievementId, function (data) {
          _this.showAchievementNotification(data);

          _this.settings.checkInterval = setTimeout(function () {
            _this.eventStreamCheck();
          }, _this.settings.onDisplayCheckTimeout);
        });

        _this.settings.eventStream.splice(index, 1);
      } else if (typeof data.notificationId !== 'undefined') {
        _this.settings.checkInterval = setTimeout(function () {
          _this.eventStreamCheck();
        }, _this.settings.checkTimeout);
      } else {
        _this.settings.checkInterval = setTimeout(function () {
          _this.eventStreamCheck();
        }, _this.settings.checkTimeout);
      }

      if (index > -1) {
        _this.settings.eventStream.splice(index, 1);
      }
    } else {
      _this.settings.checkInterval = setTimeout(function () {
        _this.eventStreamCheck();
      }, _this.settings.checkTimeout);
    }
  };

  this.init = function () {
    var _this = this;

    if (_this.settings.container === null) {
      _this.startSSE();

      _this.settings.container = _this.settings.lbWidget.settings.bindContainer.appendChild(_this.layoutWrapper());
      _this.settings.detailsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.container, '.cl-widget-notif-information-details-wrapper');
    } else {
      // terminate SSE
      _this.settings.sseInstance.closeChanel(); // update the member


      _this.settings.sseInstance.settings.sseUrl = _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.memberSSE.replace(':space', _this.settings.lbWidget.settings.spaceName).replace(':id', _this.settings.lbWidget.settings.memberId);
      _this.settings.sseInstance.settings.heartbeat = _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.memberSSEHeartbeat.replace(':space', _this.settings.lbWidget.settings.spaceName).replace(':id', _this.settings.lbWidget.settings.memberId); // re-instantiate SSE

      _this.settings.sseInstance.openChanel();
    }

    _this.eventStreamCheck();
  };
};

/***/ }),

/***/ "./src/javascript/modules/cLabs.js":
/*!*****************************************!*\
  !*** ./src/javascript/modules/cLabs.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// default domain
// var apiURL = "http://192.168.1.8:9998";
var apiURL = 'https://gateway.competitionlabs.com';
var cLabs = {
  api: {
    url: apiURL
  },
  classSelector: /^\.([\w-]+)$/,
  // class string expression check
  idSelector: /^#[\w\d\-\_\&\!\@\*]+$/,
  // ID string expression check
  tagSelector: /^[\w-]+$/ // TAG string expression check

};
/* harmony default export */ __webpack_exports__["default"] = (cLabs);

/***/ }),

/***/ "./src/javascript/modules/dragElement.js":
/*!***********************************************!*\
  !*** ./src/javascript/modules/dragElement.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/javascript/utils/index.js");
 // var scrollObj2 = null;

var movementInterval;

var dragElement = function dragElement(elmnt, draggableEl, overlayContainer, container, dragging, finishDragging, mobileTouch) {
  var pos1 = 0;
  var pos2 = 0;
  var pos3 = 0;
  var pos4 = 0;
  var isMobile = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isMobileTablet"])();
  var isiOS = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isiOSDevice"])();
  var isParentWindow = elmnt.parentNode.nodeName === 'BODY';
  var maxLeft = isParentWindow ? window.innerWidth : container.offsetWidth;
  var maxTop = isParentWindow ? window.innerHeight : container.offsetHeight;
  var touchStart;
  var moving = null; // scrollObj2 = query(".scroll-res");

  if (movementInterval) {
    clearTimeout(movementInterval);
  }

  var onWindowChange = function onWindowChange() {
    var isVertical = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["hasClass"])(elmnt, 'cl-vertical-mini');
    var maxLeft = isParentWindow ? window.innerWidth : container.offsetWidth;
    var maxTop = isParentWindow ? window.innerHeight : container.offsetHeight;
    var offsetMaxLeft = maxLeft - parseInt(elmnt.offsetWidth + (isVertical ? draggableEl.offsetWidth / 7 : draggableEl.offsetWidth / 1.6));
    var offsetMaxTop = maxTop - parseInt(elmnt.offsetHeight + (isVertical ? draggableEl.offsetHeight / 1.2 : draggableEl.offsetHeight / 4));
    var elTop = parseInt(elmnt.style.top);
    var elLeft = parseInt(elmnt.style.left);

    if (elTop > offsetMaxTop && offsetMaxTop > 5) {
      elmnt.style.top = offsetMaxTop + 'px';
    }

    if (elLeft > offsetMaxLeft && offsetMaxLeft > 5) {
      elmnt.style.left = offsetMaxLeft + 'px';
    }
  };

  if (isMobile) {
    /* listen to the touchMove event,
      every time it fires, grab the location
      of touch and assign it to box */
    var justATouch = false;
    draggableEl.addEventListener('touchstart', function (e) {
      justATouch = true;
      if (touchStart) clearTimeout(touchStart);
      maxLeft = isParentWindow ? window.innerWidth : container.offsetWidth;
      maxTop = isParentWindow ? window.innerHeight : container.offsetHeight;
      touchStart = setTimeout(function () {
        justATouch = false;
      }, 100);
    }, {
      passive: isiOS
    });
    draggableEl.addEventListener('touchmove', function (e) {
      e.preventDefault();
      pos3 = e.targetTouches[0].pageX;
      pos4 = e.targetTouches[0].pageY; // moving = new Date().getTime();

      elementDrag(e);
    }, {
      passive: isiOS
    });
    draggableEl.addEventListener('touchend', function (e) {
      // e.preventDefault();
      // current box position.
      closeDragElement(e);
      moving = null;

      if (justATouch && typeof mobileTouch === 'function') {
        mobileTouch();
      }
    }, {
      passive: isiOS
    });
    window.addEventListener('orientationchange', function (e) {
      onWindowChange();
    }, true);
  } else {
    // if present, the header is where you move the DIV from:
    draggableEl.onmousedown = dragMouseDown;
    window.addEventListener('resize', function (e) {
      onWindowChange();
    }, true);
  }

  function dragMouseDown(e) {
    e = e || window.event;
    e.preventDefault();
    maxLeft = isParentWindow ? window.innerWidth : container.offsetWidth;
    maxTop = isParentWindow ? window.innerHeight : container.offsetHeight;
    overlayContainer.style.display = 'block'; // get the mouse cursor position at startup:

    pos3 = e.clientX;
    pos4 = e.clientY;
    document.onmouseup = closeDragElement; // call a function whenever the cursor moves:

    document.onmousemove = elementDrag;
  }
  /**
   * Adds additional offset to max left and top based on orientation and container width (will be affected by CSS styling so needs to be adjusted accordingly)
   * - elmnt => is the main container that has the positioning applied to
   * - draggableEl => key element that is mean for dragging
   */


  var checkMaxMinRestraints = function checkMaxMinRestraints(newTop, newLeft, offsetMaxLeft, offsetMaxTop) {
    var // minLeft = (isVertical ? elmnt.offsetWidth/4 : 0 ), // attempt to restrict the container to go out of bounds by a few pixels, needs some work
    minLeft = 0;
    var top = newTop <= 0 ? 0 : newTop;
    var left = newLeft <= minLeft ? minLeft : newLeft;

    if (left >= offsetMaxLeft) {
      left = offsetMaxLeft;
    }

    if (top >= offsetMaxTop) {
      top = offsetMaxTop;
    }

    return {
      top: top,
      left: left
    };
  };

  function elementDrag(e) {
    e = e || window.event;
    e.preventDefault(); // calculate the new cursor position:

    var posX = isMobile ? e.targetTouches[0].pageX : e.clientX;
    var posY = isMobile ? e.targetTouches[0].pageY : e.clientY;
    var isVertical = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["hasClass"])(elmnt, 'cl-vertical-mini');
    var offsetMaxLeft = maxLeft - parseInt(elmnt.offsetWidth + (isVertical ? draggableEl.offsetWidth / 7 : draggableEl.offsetWidth / 1.6));
    var offsetMaxTop = maxTop - parseInt(elmnt.offsetHeight + (isVertical ? draggableEl.offsetHeight / 1.2 : draggableEl.offsetHeight / 4));
    pos1 = pos3 - posX;
    pos2 = pos4 - posY;
    pos3 = parseInt(posX);
    pos4 = parseInt(posY);
    moving = new Date().getTime();
    checkMovement();
    if (!Object(_utils__WEBPACK_IMPORTED_MODULE_0__["hasClass"])(elmnt, 'cl-being-moved')) Object(_utils__WEBPACK_IMPORTED_MODULE_0__["addClass"])(elmnt, 'cl-being-moved');
    var newTop = isMobile ? posY - parseInt(draggableEl.offsetHeight / 2) : elmnt.offsetTop - pos2;
    var newLeft = isMobile ? posX - parseInt(draggableEl.offsetWidth / 2) : elmnt.offsetLeft - pos1;
    var leftTopCheck = checkMaxMinRestraints(newTop, newLeft, offsetMaxLeft, offsetMaxTop); // set the element's new position:
    // scrollObj2.innerHTML = leftTopCheck.top + "-" + leftTopCheck.left + " : "+ newTop + "-" + newLeft + " : " + (posX < 0 || posY < 0 || posX > maxLeft || posY > maxTop) + "-" + (newTop > offsetMaxTop || newLeft > offsetMaxLeft);
    // scrollObj2.innerHTML = leftTopCheck.top + "-" + leftTopCheck.left + " : "+ newTop +"-"+ newLeft + " : " + (posX < 0 || posY < 0 || posX > maxLeft || posY > maxTop) + "-" + (newTop > offsetMaxTop || newLeft > offsetMaxLeft);

    if (posX < 0 || posY < 0 || posX > maxLeft || posY > maxTop) {
      closeDragElement(e);
    } else if (newTop > offsetMaxTop || newLeft > offsetMaxLeft) {
      closeDragElement(e);
    } else if (leftTopCheck.top > offsetMaxTop || leftTopCheck.left > offsetMaxLeft) {
      closeDragElement(e);
    } else {
      elmnt.style.top = leftTopCheck.top + 'px';
      elmnt.style.left = leftTopCheck.left + 'px';
    }

    if (typeof dragging === 'function') dragging(newTop, newLeft);
  }

  function closeDragElement(e) {
    overlayContainer.style.display = 'none';

    if (isMobile) {
      e.preventDefault();
    } else {
      // stop moving when mouse button is released:
      document.onmouseup = null;
      document.onmousemove = null;
    }

    moving = null;
    Object(_utils__WEBPACK_IMPORTED_MODULE_0__["removeClass"])(elmnt, 'cl-being-moved');
    if (typeof finishDragging === 'function') finishDragging();
  }

  function checkMovement() {
    if (movementInterval) {
      clearTimeout(movementInterval);
    }

    movementInterval = setTimeout(function () {
      if (moving !== null && moving + 3000 < new Date().getTime() && !isMobile) {
        closeDragElement();
      } else if (moving !== null) {
        checkMovement();
      }
    }, 3000);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (dragElement);

/***/ }),

/***/ "./src/javascript/modules/setTimeoutGlobal.js":
/*!****************************************************!*\
  !*** ./src/javascript/modules/setTimeoutGlobal.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// global timeout handling
try {
  if (typeof setTimeoutGlobal !== 'function') {
    window._setTimeoutGlobalRepository = [];

    window.setTimeoutGlobal = function (id, func, timer) {
      var exists = false;
      window.mapObject(window._setTimeoutGlobalRepository, function (instance, key, count) {
        if (id === instance.id) {
          exists = true;
        }
      });

      if (!exists) {
        var interval = setTimeout(function () {
          window.mapObject(window._setTimeoutGlobalRepository, function (instance, key, count) {
            if (id === instance.id) {
              window._setTimeoutGlobalRepository.splice(key, 1);
            }
          });

          if (typeof func === 'function') {
            func();
          }
        }, timer);

        window._setTimeoutGlobalRepository.push({
          id: id,
          func: func,
          timer: timer,
          interval: interval
        });

        return interval;
      } else {
        throw new Error('setTimeoutGlobal - ID [' + id + '] already in use');
      }
    };

    var closeTimeout = function closeTimeout() {
      if (window._setTimeoutGlobalRepository.length > 0) {
        window.mapObject(window._setTimeoutGlobalRepository, function (instance, key, count) {
          if (instance.interval) {
            clearInterval(instance.interval);
            instance.interval = null;
          }
        });
      }
    };

    var reEnableTimeouts = function reEnableTimeouts() {
      if (window._setTimeoutGlobalRepository.length > 0) {
        var tmp = [];
        window.mapObject(window._setTimeoutGlobalRepository, function (instance, key, count) {
          tmp.push(instance);
        });
        window._setTimeoutGlobalRepository = [];
        window.mapObject(tmp, function (instance, key, count) {
          window.setTimeoutGlobal(instance.id, instance.func, instance.timer);
        });
      }
    };

    var windowActivity = function windowActivity() {
      (function () {
        var hidden = 'hidden'; // Standards:

        if (hidden in document) {
          document.addEventListener('visibilitychange', onchange);
        } else if ((hidden = 'mozHidden') in document) {
          document.addEventListener('mozvisibilitychange', onchange);
        } else if ((hidden = 'webkitHidden') in document) {
          document.addEventListener('webkitvisibilitychange', onchange);
        } else if ((hidden = 'msHidden') in document) {
          document.addEventListener('msvisibilitychange', onchange);
        } else if ('onfocusin' in document) {
          // IE 9 and lower:
          document.onfocusin = document.onfocusout = onchange;
        } else {
          // All others:
          window.onpageshow = window.onpagehide = window.onfocus = window.onblur = onchange;
        }

        function onchange(evt) {
          var status = '';
          var v = 'visible';
          var h = 'hidden';
          var evtMap = {
            focus: v,
            focusin: v,
            pageshow: v,
            blur: h,
            focusout: h,
            pagehide: h
          };
          evt = evt || window.event;

          if (evt.type in evtMap) {
            status = evtMap[evt.type];
          } else {
            status = this[hidden] ? 'hidden' : 'visible';
          }

          if (status === 'visible') {
            reEnableTimeouts();
          } else if (status === 'hidden') {
            closeTimeout();
          }
        } // set the initial state (but only if browser supports the Page Visibility API)


        if (document[hidden] !== undefined) {
          onchange({
            type: document[hidden] ? 'blur' : 'focus'
          });
        }
      })();
    };

    windowActivity();
  }
} catch (err) {
  console.log(err);
}

/***/ }),

/***/ "./src/javascript/polyfills/index.js":
/*!*******************************************!*\
  !*** ./src/javascript/polyfills/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

//
if (!window.console) {
  window.console = function () {};

  if (typeof XDomainRequest !== 'undefined') {
    window.console.prototype.log = function (err) {
      throw new SyntaxError(err);
    };

    window.console.prototype.warn = function (err) {
      throw new SyntaxError(err);
    };

    window.console.prototype.error = function (err) {
      throw new SyntaxError(err);
    };
  }
} //


try {
  Event.prototype.preventDefault || (Event.prototype.preventDefault = function () {
    this.returnValue = !1;
  });
} catch (err) {
  console.log(err);
} //


try {
  Event.prototype.stopPropagation || (Event.prototype.stopPropagation = function () {
    this.cancelBubble = !0;
  });
} catch (err) {
  console.log(err);
} //


try {
  typeof mapObject !== 'function' && (window.mapObject = function (e, t) {
    if (e !== null) {
      var n = 0;

      for (var r in e) {
        e.hasOwnProperty(r) && (t(e[r], r, n), n++);
      }

      return !0;
    }

    return console.log('returned object is null', _typeof(e)), !1;
  });
} catch (err) {
  console.log(err);
} //


try {
  if (!Element.prototype.addEventListener) {
    var eventListeners = [];

    var addEventListener = function addEventListener(e, t) {
      var n;
      var r = this;

      if (n = function n(e) {
        e.target = e.srcElement, e.currentTarget = r, e.pageX = event.clientX + document.body.scrollLeft, e.pageY = event.clientY + document.body.scrollTop, t.handleEvent ? t.handleEvent(e) : t.call(r, e);
      }, e === 'DOMContentLoaded') {
        var o = function o(e) {
          document.readyState === 'complete' && n(e);
        };

        if (document.attachEvent('onreadystatechange', o), eventListeners.push({
          object: this,
          type: e,
          listener: t,
          wrapper: o
        }), document.readyState == 'complete') {
          var i = new Event();
          i.srcElement = window, o(i);
        }
      } else this.attachEvent('on' + e, n), eventListeners.push({
        object: this,
        type: e,
        listener: t,
        wrapper: n
      });
    };

    var removeEventListener = function removeEventListener(e, t) {
      for (var n = 0; n < eventListeners.length;) {
        var r = eventListeners[n];

        if (r.object == this && r.type == e && r.listener == t) {
          e == 'DOMContentLoaded' ? this.detachEvent('onreadystatechange', r.wrapper) : this.detachEvent('on' + e, r.wrapper);
          break;
        }

        ++n;
      }
    };

    Element.prototype.addEventListener = addEventListener, Element.prototype.removeEventListener = removeEventListener, HTMLDocument && (HTMLDocument.prototype.addEventListener = addEventListener, HTMLDocument.prototype.removeEventListener = removeEventListener), Window && (Window.prototype.addEventListener = addEventListener, Window.prototype.removeEventListener = removeEventListener);
  }

  Element.prototype.remove || (Element.prototype.remove = function () {
    this.parentElement.removeChild(this);
  }, NodeList.prototype.remove = HTMLCollection.prototype.remove = function () {
    for (var e = 0, t = this.length; t > e; e++) {
      this[e] && this[e].parentElement && this[e].parentElement.removeChild(this[e]);
    }
  });
} catch (err) {
  console.log(err);
}

typeof XDomainRequest !== 'undefined' && (_typeof(window.JSON) !== 'object' && (window.JSON = {}), function () {
  'use strict';

  function f(e) {
    return e < 10 ? '0' + e : e;
  }

  function quote(e) {
    return escapable.lastIndex = 0, escapable.test(e) ? '"' + e.replace(escapable, function (e) {
      var t = meta[e];
      return typeof t === 'string' ? t : "\\u" + ('0000' + e.charCodeAt(0).toString(16)).slice(-4);
    }) + '"' : '"' + e + '"';
  }

  function str(e, t) {
    var n;
    var r;
    var o;
    var i;
    var a;
    var p = gap;
    var u = t[e];

    switch (u && _typeof(u) === 'object' && typeof u.toJSON === 'function' && (u = u.toJSON(e)), typeof rep === 'function' && (u = rep.call(t, e, u)), _typeof(u)) {
      case 'string':
        return quote(u);

      case 'number':
        return isFinite(u) ? String(u) : 'null';

      case 'boolean':
      case 'null':
        return String(u);

      case 'object':
        if (!u) return 'null';

        if (gap += indent, a = [], Object.prototype.toString.apply(u) === '[object Array]') {
          for (i = u.length, n = 0; i > n; n += 1) {
            a[n] = str(n, u) || 'null';
          }

          return o = a.length === 0 ? '[]' : gap ? '[\n' + gap + a.join(',\n' + gap) + '\n' + p + ']' : '[' + a.join(',') + ']', gap = p, o;
        }

        if (rep && _typeof(rep) === 'object') for (i = rep.length, n = 0; i > n; n += 1) {
          typeof rep[n] === 'string' && (r = rep[n], o = str(r, u), o && a.push(quote(r) + (gap ? ': ' : ':') + o));
        } else for (r in u) {
          Object.prototype.hasOwnProperty.call(u, r) && (o = str(r, u), o && a.push(quote(r) + (gap ? ': ' : ':') + o));
        }
        return o = a.length === 0 ? '{}' : gap ? '{\n' + gap + a.join(',\n' + gap) + '\n' + p + '}' : '{' + a.join(',') + '}', gap = p, o;
    }
  }

  typeof Date.prototype.toJSON !== 'function' && (Date.prototype.toJSON = function () {
    return isFinite(this.valueOf()) ? this.getUTCFullYear() + '-' + f(this.getUTCMonth() + 1) + '-' + f(this.getUTCDate()) + 'T' + f(this.getUTCHours()) + ':' + f(this.getUTCMinutes()) + ':' + f(this.getUTCSeconds()) + 'Z' : null;
  }, String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function () {
    return this.valueOf();
  });
  var cx, escapable, gap, indent, meta, rep;
  typeof window.JSON.stringify !== 'function' && (escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, meta = {
    '\b': '\\b',
    '	': '\\t',
    '\n': '\\n',
    '\f': '\\f',
    '\r': '\\r',
    '"': '\\"',
    '\\': '\\\\'
  }, window.JSON.stringify = function (e, t, n) {
    var r;
    if (gap = '', indent = '', typeof n === 'number') for (r = 0; n > r; r += 1) {
      indent += ' ';
    } else typeof n === 'string' && (indent = n);
    if (rep = t, t && typeof t !== 'function' && (_typeof(t) !== 'object' || typeof t.length !== 'number')) throw new Error('JSON.stringify');
    return str('', {
      '': e
    });
  }), typeof window.JSON.parse !== 'function' && (cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, window.JSON.parse = function (text, reviver) {
    function walk(e, t) {
      var n;
      var r;
      var o = e[t];
      if (o && _typeof(o) === 'object') for (n in o) {
        Object.prototype.hasOwnProperty.call(o, n) && (r = walk(o, n), void 0 !== r ? o[n] = r : delete o[n]);
      }
      return reviver.call(e, t, o);
    }

    var j;
    if (text = String(text), cx.lastIndex = 0, cx.test(text) && (text = text.replace(cx, function (e) {
      return "\\u" + ('0000' + e.charCodeAt(0).toString(16)).slice(-4);
    })), /^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']').replace(/(?:^|:|,)(?:\s*\[)+/g, ''))) return j = eval('(' + text + ')'), typeof reviver === 'function' ? walk({
      '': j
    }, '') : j;
    throw new SyntaxError('JSON.parse');
  });
}()); //

var _slice = Array.prototype.slice;

try {
  _slice.call(document.documentElement);
} catch (e) {
  Array.prototype.slice = function (t, e) {
    if (e = typeof e !== 'undefined' ? e : this.length, Object.prototype.toString.call(this) === '[object Array]') return _slice.call(this, t, e);
    var r;
    var i;
    var c = [];
    var l = this.length;
    var o = t || 0;
    o = o >= 0 ? o : l + o;
    var a = e || l;
    if (e < 0 && (a = l + e), i = a - o, i > 0) if (c = new Array(i), this.charAt) for (r = 0; i > r; r++) {
      c[r] = this.charAt(o + r);
    } else for (r = 0; i > r; r++) {
      c[r] = this[o + r];
    }
    return c;
  };
} // [EventSource] Polyfill fix: https://github.com/remy/polyfills/blob/master/EventSource.js


(function (global) {
  if ('EventSource' in global) return;
  var reTrim = /^(\s|\u00A0)+|(\s|\u00A0)+$/g;

  var EventSource = function EventSource(url) {
    var eventsource = this;
    var interval = 500;
    /* polling interval  */

    var lastEventId = null;
    var cache = '';

    if (!url || typeof url !== 'string') {
      throw new SyntaxError('Not enough arguments');
    }

    this.URL = url;
    this.readyState = this.CONNECTING;
    this._pollTimer = null;
    this._xhr = null;

    function pollAgain(interval) {
      eventsource._pollTimer = setTimeout(function () {
        poll.call(eventsource);
      }, interval);
    }

    function poll() {
      try {
        /* force hiding of the error message... insane? */
        if (eventsource.readyState === eventsource.CLOSED) return;
        /* NOTE: IE7 and upwards support */

        var xhr = new XMLHttpRequest();
        xhr.open('GET', eventsource.URL, true);
        xhr.setRequestHeader('Accept', 'text/event-stream');
        xhr.setRequestHeader('Cache-Control', 'no-cache');
        /* we must make use of this on the server side if we're working with Android - because they don't trigger readychange until the server connection is closed */

        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
        if (lastEventId != null) xhr.setRequestHeader('Last-Event-ID', lastEventId);
        cache = '';
        xhr.timeout = 50000;

        xhr.onreadystatechange = function () {
          if (this.readyState == 3 || this.readyState == 4 && this.status == 200) {
            /* on success */
            if (eventsource.readyState == eventsource.CONNECTING) {
              eventsource.readyState = eventsource.OPEN;
              eventsource.dispatchEvent('open', {
                type: 'open'
              });
            }

            var responseText = '';

            try {
              responseText = this.responseText || '';
            } catch (e) {}
            /* process this.responseText */


            var parts = responseText.substr(cache.length).split('\n');
            var eventType = 'message';
            var data = [];
            var i = 0;
            var line = '';
            cache = responseText;
            /* TODO handle 'event' (for buffer name), retry */

            for (; i < parts.length; i++) {
              line = parts[i].replace(reTrim, '');

              if (line.indexOf('event') === 0) {
                eventType = line.replace(/event:?\s*/, '');
              } else if (line.indexOf('retry') === 0) {
                var retry = parseInt(line.replace(/retry:?\s*/, ''));

                if (!isNaN(retry)) {
                  interval = retry;
                }
              } else if (line.indexOf('data') === 0) {
                data.push(line.replace(/data:?\s*/, ''));
              } else if (line.indexOf('id:') === 0) {
                lastEventId = line.replace(/id:?\s*/, '');
              } else if (line.indexOf('id') === 0) {
                /* this resets the id */
                lastEventId = null;
              } else if (line === '') {
                if (data.length) {
                  var event = new MessageEvent(data.join('\n'), eventsource.url, lastEventId);
                  eventsource.dispatchEvent(eventType, event);
                  data = [];
                  eventType = 'message';
                }
              }
            }

            if (this.readyState === 4) pollAgain(interval);
            /* don't need to poll again, because we're long-loading */
          } else if (eventsource.readyState !== eventsource.CLOSED) {
            if (this.readyState === 4) {
              /* and some other status dispatch error */
              eventsource.readyState = eventsource.CONNECTING;
              eventsource.dispatchEvent('error', {
                type: 'error'
              });
              pollAgain(interval);
            } else if (this.readyState === 0) {
              /* likely aborted */
              pollAgain(interval);
            } else {}
          }
        };

        xhr.send();
        setTimeout(function () {
          if (true) xhr.abort();
        }, xhr.timeout);
        eventsource._xhr = xhr;
      } catch (e) {
        /* in an attempt to silence the errors */
        eventsource.dispatchEvent('error', {
          type: 'error',
          data: e.message
        });
        /* ??? */
      }
    }

    ;
    poll();
    /* init now */
  };

  EventSource.prototype = {
    close: function close() {
      /* closes the connection - disabling the polling */
      this.readyState = this.CLOSED;
      clearInterval(this._pollTimer);

      this._xhr.abort();
    },
    CONNECTING: 0,
    OPEN: 1,
    CLOSED: 2,
    dispatchEvent: function dispatchEvent(type, event) {
      var handlers = this['_' + type + 'Handlers'];

      if (handlers) {
        for (var i = 0; i < handlers.length; i++) {
          handlers[i].call(this, event);
        }
      }

      if (this['on' + type]) {
        this['on' + type].call(this, event);
      }
    },
    addEventListener: function addEventListener(type, handler) {
      if (!this['_' + type + 'Handlers']) {
        this['_' + type + 'Handlers'] = [];
      }

      this['_' + type + 'Handlers'].push(handler);
    },
    removeEventListener: function removeEventListener(type, handler) {
      var handlers = this['_' + type + 'Handlers'];

      if (!handlers) {
        return;
      }

      for (var i = handlers.length - 1; i >= 0; --i) {
        if (handlers[i] === handler) {
          handlers.splice(i, 1);
          break;
        }
      }
    },
    onerror: null,
    onmessage: null,
    onopen: null,
    readyState: 0,
    URL: ''
  };

  var MessageEvent = function MessageEvent(data, origin, lastEventId) {
    this.data = data;
    this.origin = origin;
    this.lastEventId = lastEventId || '';
  };

  MessageEvent.prototype = {
    data: null,
    type: 'message',
    lastEventId: '',
    origin: ''
  };
  if ('module' in global) module.exports = EventSource;
  global.EventSource = EventSource;
})(window);

/***/ }),

/***/ "./src/javascript/utils/addClass.js":
/*!******************************************!*\
  !*** ./src/javascript/utils/addClass.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * App/Append new class string to the provided DOM element
 * @param element
 * @param className
 * @returns {{classList}|*}
 */
var addClass = function addClass(element, className) {
  try {
    if (element.classList) {
      element.classList.add(className);
    } else {
      element.className += ' ' + className;
    }
  } catch (e) {
    console.trace();
  }

  return element;
};

/* harmony default export */ __webpack_exports__["default"] = (addClass);

/***/ }),

/***/ "./src/javascript/utils/appendNext.js":
/*!********************************************!*\
  !*** ./src/javascript/utils/appendNext.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var appendNext = function appendNext(el, newNode) {
  if (el.nextSibling) {
    el.parentNode.insertBefore(newNode, el.nextSibling);
  } else {
    el.parentNode.appendChild(newNode);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (appendNext);

/***/ }),

/***/ "./src/javascript/utils/closest.js":
/*!*****************************************!*\
  !*** ./src/javascript/utils/closest.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _modules_cLabs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/cLabs */ "./src/javascript/modules/cLabs.js");
/* harmony import */ var _hasClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hasClass */ "./src/javascript/utils/hasClass.js");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }



/**
 * Iterate up the tree of DOM elements to find the closes match
 * @param element
 * @param selector
 * @returns {null | ParentNode}
 */

var closest = function closest(element, selector) {
  if (_typeof(selector) === 'object') {
    var selectorClassString = selector.getAttribute('class');
    var selectorIdString = selector.id;

    if (selectorIdString !== null && selectorIdString.length > 0) {
      selector = '#' + selectorIdString;
    } else if (selectorClassString !== null && selectorClassString.length > 0) {
      selector = '.' + selectorClassString.split(' ')[0];
    } else {
      selector = selector.nodeName;
    }
  }

  function closest(element, selector) {
    try {
      element = element.parentNode;
    } catch (e) {
      console.log(element, selector);
      console.trace();
    }

    if (element !== null && _typeof(element) === 'object') {
      if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].classSelector) && Object(_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(element, selector)) {
        return element;
      } else if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].idSelector) && element.id === selector.replace('#', '')) {
        return element;
      } else if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].tagSelector) && element.nodeName === selector.toUpperCase()) {
        return element;
      } else {
        return closest(element, selector);
      }
    } else {
      return null;
    }
  }

  if (_typeof(element) === 'object') {
    return closest(element, selector);
  } else {
    return null;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (closest);

/***/ }),

/***/ "./src/javascript/utils/formatNumberLeadingZeros.js":
/*!**********************************************************!*\
  !*** ./src/javascript/utils/formatNumberLeadingZeros.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Prepends 0 the provided number and returns the formated element as a string
 * @param num
 * @param size {number}
 * @returns {string} 1 => 001
 */
var formatNumberLeadingZeros = function formatNumberLeadingZeros(num, size) {
  var s = String(num);

  while (s.length < size) {
    s = '0' + s;
  }

  return s;
};

/* harmony default export */ __webpack_exports__["default"] = (formatNumberLeadingZeros);

/***/ }),

/***/ "./src/javascript/utils/getOffset.js":
/*!*******************************************!*\
  !*** ./src/javascript/utils/getOffset.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var getOffset = function getOffset(el) {
  var _x = 0;
  var _y = 0;

  while (el && !isNaN(el.offsetLeft) && !isNaN(el.offsetTop)) {
    _x += el.offsetLeft - el.scrollLeft;
    _y += el.offsetTop - el.scrollTop;
    el = el.offsetParent;
  }

  return {
    top: _y,
    left: _x
  };
};

/* harmony default export */ __webpack_exports__["default"] = (getOffset);

/***/ }),

/***/ "./src/javascript/utils/hasClass.js":
/*!******************************************!*\
  !*** ./src/javascript/utils/hasClass.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Provides an ability to check if a DOM element contains a class string
 * @param element
 * @param className
 * @returns {boolean}
 */
function _hasClass(element, className) {
  className = className.replace('.', '');

  try {
    if (element.classList) {
      return element.classList.contains(className);
    } else {
      return new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className);
    }
  } catch (e) {
    if (typeof e.stack !== 'undefined') {
      console.log(e.stack);
    }

    console.log(e, element, className);
    return false;
  }
}

var hasClass = function hasClass(element, className) {
  if (typeof className === 'string') {
    return _hasClass(element, className);
  } else if (className instanceof Array) {
    var hasClass = false;

    for (var i in className) {
      if (typeof className[i] === 'string' && _hasClass(element, className[i])) {
        hasClass = true;
      }
    }

    return hasClass;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (hasClass);

/***/ }),

/***/ "./src/javascript/utils/index.js":
/*!***************************************!*\
  !*** ./src/javascript/utils/index.js ***!
  \***************************************/
/*! exports provided: sizeof, isElement, objectCount, remove, objectIterator, addClass, removeClass, hasClass, stringContains, formatNumberLeadingZeros, stripHtml, closest, isMobileTablet, getOffset, isiOSDevice, appendNext, query, trim, mergeObjects, scrollEnabled */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _sizeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sizeof */ "./src/javascript/utils/sizeof.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sizeof", function() { return _sizeof__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _isElement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isElement */ "./src/javascript/utils/isElement.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isElement", function() { return _isElement__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _objectCount__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./objectCount */ "./src/javascript/utils/objectCount.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "objectCount", function() { return _objectCount__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _remove__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./remove */ "./src/javascript/utils/remove.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "remove", function() { return _remove__WEBPACK_IMPORTED_MODULE_3__["default"]; });

/* harmony import */ var _objectIterator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./objectIterator */ "./src/javascript/utils/objectIterator.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "objectIterator", function() { return _objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"]; });

/* harmony import */ var _addClass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./addClass */ "./src/javascript/utils/addClass.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "addClass", function() { return _addClass__WEBPACK_IMPORTED_MODULE_5__["default"]; });

/* harmony import */ var _removeClass__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./removeClass */ "./src/javascript/utils/removeClass.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "removeClass", function() { return _removeClass__WEBPACK_IMPORTED_MODULE_6__["default"]; });

/* harmony import */ var _hasClass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./hasClass */ "./src/javascript/utils/hasClass.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "hasClass", function() { return _hasClass__WEBPACK_IMPORTED_MODULE_7__["default"]; });

/* harmony import */ var _stringContains__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./stringContains */ "./src/javascript/utils/stringContains.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "stringContains", function() { return _stringContains__WEBPACK_IMPORTED_MODULE_8__["default"]; });

/* harmony import */ var _formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./formatNumberLeadingZeros */ "./src/javascript/utils/formatNumberLeadingZeros.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "formatNumberLeadingZeros", function() { return _formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_9__["default"]; });

/* harmony import */ var _stripHtml__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./stripHtml */ "./src/javascript/utils/stripHtml.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "stripHtml", function() { return _stripHtml__WEBPACK_IMPORTED_MODULE_10__["default"]; });

/* harmony import */ var _closest__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./closest */ "./src/javascript/utils/closest.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "closest", function() { return _closest__WEBPACK_IMPORTED_MODULE_11__["default"]; });

/* harmony import */ var _isMobileTablet__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./isMobileTablet */ "./src/javascript/utils/isMobileTablet.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isMobileTablet", function() { return _isMobileTablet__WEBPACK_IMPORTED_MODULE_12__["default"]; });

/* harmony import */ var _getOffset__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./getOffset */ "./src/javascript/utils/getOffset.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getOffset", function() { return _getOffset__WEBPACK_IMPORTED_MODULE_13__["default"]; });

/* harmony import */ var _isiOSDevice__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./isiOSDevice */ "./src/javascript/utils/isiOSDevice.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isiOSDevice", function() { return _isiOSDevice__WEBPACK_IMPORTED_MODULE_14__["default"]; });

/* harmony import */ var _appendNext__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./appendNext */ "./src/javascript/utils/appendNext.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "appendNext", function() { return _appendNext__WEBPACK_IMPORTED_MODULE_15__["default"]; });

/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./query */ "./src/javascript/utils/query.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "query", function() { return _query__WEBPACK_IMPORTED_MODULE_16__["default"]; });

/* harmony import */ var _trim__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./trim */ "./src/javascript/utils/trim.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "trim", function() { return _trim__WEBPACK_IMPORTED_MODULE_17__["default"]; });

/* harmony import */ var _mergeObjects__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mergeObjects */ "./src/javascript/utils/mergeObjects.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mergeObjects", function() { return _mergeObjects__WEBPACK_IMPORTED_MODULE_18__["default"]; });

/* harmony import */ var _scrollEnabled__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./scrollEnabled */ "./src/javascript/utils/scrollEnabled.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "scrollEnabled", function() { return _scrollEnabled__WEBPACK_IMPORTED_MODULE_19__["default"]; });






















/***/ }),

/***/ "./src/javascript/utils/isElement.js":
/*!*******************************************!*\
  !*** ./src/javascript/utils/isElement.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Returns true if it is a DOM element
 *
 * @param o {Object}
 * @return {Boolean}
 */
var isElement = function isElement(o) {
  return (typeof HTMLElement === "undefined" ? "undefined" : _typeof(HTMLElement)) === 'object' ? o instanceof HTMLElement :
  /* DOM2 */
  o && _typeof(o) === 'object' && o !== null && o.nodeType === 1 && typeof o.nodeName === 'string';
};

/* harmony default export */ __webpack_exports__["default"] = (isElement);

/***/ }),

/***/ "./src/javascript/utils/isMobileTablet.js":
/*!************************************************!*\
  !*** ./src/javascript/utils/isMobileTablet.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _stringContains__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./stringContains */ "./src/javascript/utils/stringContains.js");
// a check to test if the device is a mobile or tablet


var isMobileTablet = function isMobileTablet() {
  var check = false;

  (function (a) {
    if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true;
  })(navigator.userAgent || navigator.vendor || window.opera); // custom solution because latest iOS 13 userAgent doesn't return correct mobile information


  if (!check) {
    check = Object(_stringContains__WEBPACK_IMPORTED_MODULE_0__["default"])(window.navigator.userAgent.toLowerCase(), 'macintosh') && 'ontouchend' in document;
  }

  return check;
};

/* harmony default export */ __webpack_exports__["default"] = (isMobileTablet);

/***/ }),

/***/ "./src/javascript/utils/isiOSDevice.js":
/*!*********************************************!*\
  !*** ./src/javascript/utils/isiOSDevice.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// check if iOS
var isiOSDevice = function isiOSDevice() {
  return !!navigator.platform && /iP(ad|hone|od)/.test(navigator.platform);
};

/* harmony default export */ __webpack_exports__["default"] = (isiOSDevice);

/***/ }),

/***/ "./src/javascript/utils/mergeObjects.js":
/*!**********************************************!*\
  !*** ./src/javascript/utils/mergeObjects.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _sizeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sizeof */ "./src/javascript/utils/sizeof.js");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }



var mergeObjects = function mergeObjects(obj1, obj2, arrayType) {
  var obj3 = typeof arrayType === 'undefined' || arrayType === false ? {} : [];

  for (var i in obj1) {
    obj3[i] = obj1[i];
  }

  for (var k in obj2) {
    if (_typeof(obj1[k]) !== 'object') {
      obj3[k] = obj2[k];
    } else if (obj1[k] instanceof Array) {
      obj3[k] = obj2[k]; // arrays get overwritten and not extended
    } else if (typeof obj1[k] !== 'undefined' && _typeof(obj1[k]) === 'object' && obj1[k] !== null && typeof obj1[k].nodeType === 'undefined' && Object(_sizeof__WEBPACK_IMPORTED_MODULE_0__["default"])(obj1[k]) > 0) {
      obj3[k] = mergeObjects(obj1[k], obj2[k]);
    } else if (typeof obj1[k] !== 'undefined' && _typeof(obj1[k]) === 'object') {
      obj3[k] = obj2[k];
    } else {
      console.log('fail');
    }

    if (obj3[k] === undefined) {
      delete obj3[k];
    }
  }

  return obj3;
};

/* harmony default export */ __webpack_exports__["default"] = (mergeObjects);

/***/ }),

/***/ "./src/javascript/utils/objectCount.js":
/*!*********************************************!*\
  !*** ./src/javascript/utils/objectCount.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Returns a count of object from a query result
 * @paramobj  {Object} anything or Array object
 */
var objectCount = function objectCount(obj) {
  if (obj !== null && obj.length !== undefined && obj instanceof Array) {
    return obj.length;
  } else if (obj !== null) {
    return 1;
  } else {
    return 0;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (objectCount);

/***/ }),

/***/ "./src/javascript/utils/objectIterator.js":
/*!************************************************!*\
  !*** ./src/javascript/utils/objectIterator.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Returns true if it is a DOM element
 *
 * @param o {Object}
 * @return {Boolean}
 */
var isElement = function isElement(o) {
  return (typeof HTMLElement === "undefined" ? "undefined" : _typeof(HTMLElement)) === 'object' ? o instanceof HTMLElement :
  /* DOM2 */
  o && _typeof(o) === 'object' && o !== null && o.nodeType === 1 && typeof o.nodeName === 'string';
};
/**
 * Object iterator - best usage is for a list of DOM elements
 * @param obj
 * @param callback
 */


var objectIterator = function objectIterator(obj, callback) {
  if (typeof obj !== 'undefined' && obj !== null && typeof obj.length !== 'undefined' && obj instanceof Array) {
    var count = 0;

    for (var key in obj) {
      // adding additional check to see if object is element or array
      if (isElement(obj[key])) {
        callback(obj[key], key, count, obj.length);
      }

      count++;
    }
  } else if (typeof obj !== 'undefined' && obj !== null) {
    // adding additional check to see if object is element or array
    if (isElement(obj)) {
      callback(obj, 0, 0, 1);
    }
  }
};

/* harmony default export */ __webpack_exports__["default"] = (objectIterator);

/***/ }),

/***/ "./src/javascript/utils/query.js":
/*!***************************************!*\
  !*** ./src/javascript/utils/query.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _modules_cLabs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/cLabs */ "./src/javascript/modules/cLabs.js");
/* harmony import */ var _trim__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./trim */ "./src/javascript/utils/trim.js");


/**
 * Query selector, supports CSS element selection
 *
 * Supports:
 *  - Class selection: ".element"
 *  - ID selection: "#element"
 *  - Tag selection: "div"
 *  - Multi depth selection: '.element ul li'
 *
 * @param {Object} "optional"
 * @param {String} CSS element selector
 * @returns {(Object|null|Array)} depending on the provided selector results can vary (null, node, NodeList array)
 */

var query = function query(doc, selector) {
  var result;
  var tmpDoc = doc;
  var tmpSelector = selector; // used for debug only

  if (typeof doc === 'string' && selector === undefined) {
    selector = doc;
    doc = document;
  }

  try {
    if (doc !== null) {
      selector = Object(_trim__WEBPACK_IMPORTED_MODULE_1__["default"])(selector); //

      if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].classSelector)) {
        result = doc.getElementsByClassName(selector.replace('.', ''));
      } else if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].idSelector)) {
        result = document.getElementById(selector.replace('#', ''));
      } else if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].tagSelector)) {
        result = doc.getElementsByTagName(selector);
      } else {
        result = doc.querySelectorAll(selector);
      }
    }

    if (result !== null && result !== undefined && result.nodeType) {
      return result;
    } else if (result !== null && result !== undefined && result.length === 1) {
      return result[0];
    } else if (result !== null && result !== undefined && result.length > 0) {
      return Array.prototype.slice.call(result);
    } else {
      return null;
    }
  } catch (e) {
    console.log(e);
    console.log(tmpSelector);
    console.log(tmpDoc);
    console.log(doc, selector);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (query);

/***/ }),

/***/ "./src/javascript/utils/remove.js":
/*!****************************************!*\
  !*** ./src/javascript/utils/remove.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Removes an HTML DOM element
 * @paramobj el {Object} DOM element
 */
var remove = function remove(el) {
  if (el !== null) {
    el.parentElement.removeChild(el);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (remove);

/***/ }),

/***/ "./src/javascript/utils/removeClass.js":
/*!*********************************************!*\
  !*** ./src/javascript/utils/removeClass.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Remove class string from provided DOM element
 * @param element
 * @param className
 * @returns {{classList}|*}
 */
var removeClass = function removeClass(element, className) {
  try {
    if (element.classList) {
      element.classList.remove(className);
    } else {
      element.className = element.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
    }
  } catch (e) {
    console.log(element, className); // console.error(e);
    // console.trace();
  }

  return element;
};

/* harmony default export */ __webpack_exports__["default"] = (removeClass);

/***/ }),

/***/ "./src/javascript/utils/scrollEnabled.js":
/*!***********************************************!*\
  !*** ./src/javascript/utils/scrollEnabled.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var scrollEnabled = function scrollEnabled(doc) {
  return doc !== null ? doc.scrollHeight > doc.offsetHeight : false;
};

/* harmony default export */ __webpack_exports__["default"] = (scrollEnabled);

/***/ }),

/***/ "./src/javascript/utils/sizeof.js":
/*!****************************************!*\
  !*** ./src/javascript/utils/sizeof.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _isElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isElement */ "./src/javascript/utils/isElement.js");

/**
 * returns the size of an Object or array
 *
 * @param obj {Object}
 * @return {Number}
 */

var sizeof = function sizeof(obj) {
  var size = 0;
  var key;

  for (key in obj) {
    if (obj.hasOwnProperty(key)) size++;
  }

  if (size === 0 && Object(_isElement__WEBPACK_IMPORTED_MODULE_0__["default"])(obj)) {
    size = 1;
  }

  return size;
};

/* harmony default export */ __webpack_exports__["default"] = (sizeof);

/***/ }),

/***/ "./src/javascript/utils/stringContains.js":
/*!************************************************!*\
  !*** ./src/javascript/utils/stringContains.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * A check if a string contains an entry of searched for term
 * @param str {string}
 * @param partial {string}
 * @returns {boolean}
 */
var stringContains = function stringContains(str, partial) {
  return str.indexOf(partial) > -1;
};

/* harmony default export */ __webpack_exports__["default"] = (stringContains);

/***/ }),

/***/ "./src/javascript/utils/stripHtml.js":
/*!*******************************************!*\
  !*** ./src/javascript/utils/stripHtml.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Removes HTML tags from the provided input and returns only the text
 * - this is a very basic implementation and should be used carefully
 * @param html {string}
 * @returns {string | string}
 */
var stripHtml = function stripHtml(html) {
  var tmp = document.createElement('DIV');
  tmp.innerHTML = html;
  return tmp.textContent || tmp.innerText || '';
};

/* harmony default export */ __webpack_exports__["default"] = (stripHtml);

/***/ }),

/***/ "./src/javascript/utils/trim.js":
/*!**************************************!*\
  !*** ./src/javascript/utils/trim.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var trim = function trim(string) {
  return string.replace(/^\s+|\s+$/g, '');
};

/* harmony default export */ __webpack_exports__["default"] = (trim);

/***/ }),

/***/ 2:
/*!***********************************************************************************************************!*\
  !*** multi (webpack)-dev-server/client?http://localhost:9000 ./src/javascript/leaderboard.v3-selfinit.js ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! C:\Programiranje\jurepetrovic\leaderboard_v3\node_modules\webpack-dev-server\client\index.js?http://localhost:9000 */"./node_modules/webpack-dev-server/client/index.js?http://localhost:9000");
module.exports = __webpack_require__(/*! ./src/javascript/leaderboard.v3-selfinit.js */"./src/javascript/leaderboard.v3-selfinit.js");


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Fuc2ktaHRtbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2h0bWwtZW50aXRpZXMvbGliL2h0bWw0LWVudGl0aWVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9odG1sLWVudGl0aWVzL2xpYi9odG1sNS1lbnRpdGllcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaHRtbC1lbnRpdGllcy9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2h0bWwtZW50aXRpZXMvbGliL3htbC1lbnRpdGllcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaWRlbnRpY29uLmpzL2lkZW50aWNvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaWRlbnRpY29uLmpzL3BuZ2xpYi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXNhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNzaGEvZGlzdC9zaGEubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2dsZXZlbC9saWIvbG9nbGV2ZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbWVudC9tb21lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25vZGUtbGlicy1icm93c2VyL25vZGVfbW9kdWxlcy9wdW55Y29kZS9wdW55Y29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2RlY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2VuY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zb2NranMtY2xpZW50L2Rpc3Qvc29ja2pzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXJsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXRpbC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spLWRldi1zZXJ2ZXIvY2xpZW50L2NsaWVudHMvQmFzZUNsaWVudC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spLWRldi1zZXJ2ZXIvY2xpZW50L2NsaWVudHMvU29ja0pTQ2xpZW50LmpzIiwid2VicGFjazovLy8od2VicGFjayktZGV2LXNlcnZlci9jbGllbnQiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS1kZXYtc2VydmVyL2NsaWVudC9vdmVybGF5LmpzIiwid2VicGFjazovLy8od2VicGFjayktZGV2LXNlcnZlci9jbGllbnQvc29ja2V0LmpzIiwid2VicGFjazovLy8od2VicGFjayktZGV2LXNlcnZlci9jbGllbnQvdXRpbHMvY3JlYXRlU29ja2V0VXJsLmpzIiwid2VicGFjazovLy8od2VicGFjayktZGV2LXNlcnZlci9jbGllbnQvdXRpbHMvZ2V0Q3VycmVudFNjcmlwdFNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spLWRldi1zZXJ2ZXIvY2xpZW50L3V0aWxzL2xvZy5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spLWRldi1zZXJ2ZXIvY2xpZW50L3V0aWxzL3JlbG9hZEFwcC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spLWRldi1zZXJ2ZXIvY2xpZW50L3V0aWxzL3NlbmRNZXNzYWdlLmpzIiwid2VicGFjazovLy8od2VicGFjayktZGV2LXNlcnZlci9ub2RlX21vZHVsZXMvYW5zaS1yZWdleC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spLWRldi1zZXJ2ZXIvbm9kZV9tb2R1bGVzL3N0cmlwLWFuc2kvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8od2VicGFjaykvaG90IHN5bmMgbm9ucmVjdXJzaXZlIF5cXC5cXC9sb2ckIiwid2VicGFjazovLy8od2VicGFjaykvaG90L2VtaXR0ZXIuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9ob3QvbG9nLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L2xlYWRlcmJvYXJkLnYzLXNlbGZpbml0LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L21vZHVsZXMvQWpheC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC9tb2R1bGVzL0xiV2lkZ2V0LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L21vZHVsZXMvTWFpbldpZGdldC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC9tb2R1bGVzL01lc3NhZ2luZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC9tb2R1bGVzL01pbmlTY29yZUJvYXJkLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L21vZHVsZXMvTm90aWZpY2F0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC9tb2R1bGVzL2NMYWJzLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L21vZHVsZXMvZHJhZ0VsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvbW9kdWxlcy9zZXRUaW1lb3V0R2xvYmFsLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3BvbHlmaWxscy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9hZGRDbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9hcHBlbmROZXh0LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL2Nsb3Nlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL2dldE9mZnNldC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9oYXNDbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9pc0VsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvaXNNb2JpbGVUYWJsZXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvaXNpT1NEZXZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvbWVyZ2VPYmplY3RzLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL29iamVjdENvdW50LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL29iamVjdEl0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL3F1ZXJ5LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL3JlbW92ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9yZW1vdmVDbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9zY3JvbGxFbmFibGVkLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL3NpemVvZi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9zdHJpbmdDb250YWlucy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9zdHJpcEh0bWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvdHJpbS5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJfY2xMZWFkZXJCb2FyZFYzU2VsZkluaXQiLCJMYldpZGdldCIsImNvbnNvbGUiLCJ3YXJuIiwiY0xhYnMiLCJBamF4IiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJwcm90b3R5cGUiLCJjcmVhdGVDT1JTUmVxdWVzdCIsIm1ldGhvZCIsInVybCIsIm9iaiIsIm9wZW4iLCJYRG9tYWluUmVxdWVzdCIsImluZGV4T2YiLCJsb2NhdGlvbiIsInByb3RvY29sIiwicmVwbGFjZSIsImFib3J0IiwiX3RoaXMiLCJyZWFkeVN0YXRlIiwiZ2V0RGF0YSIsImRhdGEiLCJ0eXBlIiwidW5kZWZpbmVkIiwibGVuZ3RoIiwic3VjY2VzcyIsImVycm9yIiwiaGVhZGVycyIsImV4dHJhQ2FsbGJhY2siLCJvbmxvYWQiLCJyZXNwb25zZVRleHQiLCJvbmVycm9yIiwic3RhdHVzIiwic2l6ZW9mIiwiaXRlbSIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwiSlNPTiIsInN0cmluZ2lmeSIsImVyciIsImxvZyIsInRyYW5zbGF0aW9uIiwicmVxdWlyZSIsIm9wdGlvbnMiLCJzZXR0aW5ncyIsImRlYnVnIiwiYmluZENvbnRhaW5lciIsImRvY3VtZW50IiwiYm9keSIsImF1dG9TdGFydCIsInNzZU1lc3NhZ2luZyIsIm5vdGlmaWNhdGlvbnMiLCJtaW5pU2NvcmVCb2FyZCIsImVuYWJsZU5vdGlmaWNhdGlvbnMiLCJtYWluV2lkZ2V0IiwiZ2xvYmFsQWpheCIsImNoZWNrQWpheCIsImxhbmd1YWdlIiwicHJvY2VzcyIsImN1cnJlbmN5Iiwic3BhY2VOYW1lIiwibWVtYmVySWQiLCJncm91cHMiLCJnYW1lSWQiLCJlbmZvcmNlR2FtZUxvb2t1cCIsImFwaUtleSIsIm1lbWJlciIsImNvbXBldGl0aW9uIiwiYWN0aXZlQ29tcGV0aXRpb25JZCIsImFjdGl2ZUNvbnRlc3RJZCIsImFjdGl2ZUNvbXBldGl0aW9uIiwiYWN0aXZlQ29udGVzdCIsInJlZnJlc2hJbnRlcnZhbCIsInJlZnJlc2hJbnRlcnZhbE1pbGxpcyIsImV4dHJhY3RJbWFnZUhlYWRlciIsImFjaGlldmVtZW50cyIsImxpc3QiLCJhdmFpbGFibGVSZXdhcmRzIiwicmV3YXJkcyIsImV4cGlyZWRSZXdhcmRzIiwicmV3YXJkRm9ybWF0dGVyIiwicmV3YXJkIiwiZGVmYXVsdFJld2FyZFZhbHVlIiwidmFsdWUiLCJ1bml0T2ZNZWFzdXJlIiwic3ltYm9sIiwibWVzc2FnZXMiLCJlbmFibGUiLCJ0b3VybmFtZW50cyIsInJlYWR5Q29tcGV0aXRpb25zIiwiYWN0aXZlQ29tcGV0aXRpb25zIiwiZmluaXNoZWRDb21wZXRpdGlvbnMiLCJsZWFkZXJib2FyZCIsImZ1bGxMZWFkZXJib2FyZFNpemUiLCJyZWZyZXNoTGJEYXRhSW50ZXJ2YWwiLCJsZWFkZXJib2FyZERhdGEiLCJsb2FkTGVhZGVyYm9hcmRIaXN0b3J5IiwidXJpIiwiZ2F0ZXdheURvbWFpbiIsImFwaSIsIm1lbWJlcnMiLCJhc3NldHMiLCJtZW1iZXJTU0UiLCJtZW1iZXJTU0VIZWFydGJlYXQiLCJjb21wZXRpdGlvbnMiLCJjb21wZXRpdGlvbkJ5SWQiLCJjb250ZXN0TGVhZGVyYm9hcmQiLCJhY2hpZXZlbWVudCIsImFjaGlldmVtZW50c1Byb2dyZXNzaW9uIiwiYWNoaWV2ZW1lbnRzSXNzdWVkIiwibWVzc2FnZUJ5SWQiLCJtZW1iZXJSZXdhcmQiLCJtZW1iZXJSZXdhcmRDbGFpbSIsIm1lbWJlckNvbXBldGl0aW9ucyIsIm1lbWJlckNvbXBldGl0aW9uQnlJZCIsIm1lbWJlckNvbXBldGl0aW9uT3B0SW4iLCJtZW1iZXJDb21wZXRpdGlvbk9wdEluQ2hlY2siLCJ0cmFuc2xhdGlvblBhdGgiLCJsb2FkVHJhbnNsYXRpb25zIiwicmVzb3VyY2VzIiwiRGF0ZSIsImdldFRpbWUiLCJsYXlvdXRCdWlsZENhbGxiYWNrIiwibGF5b3V0IiwiaW5zdGFuY2UiLCJtZXJnZU9iamVjdHMiLCJtZXNzYWdlIiwiZm9ybWF0RGF0ZVRpbWUiLCJkdXJhdGlvbiIsImxhcmdlUmVzdWx0IiwicmVzdWx0IiwiZGF5cyIsInB1c2giLCJ0aW1lIiwiaG91cnMiLCJmb3JtYXROdW1iZXJMZWFkaW5nWmVyb3MiLCJtaW51dGVzIiwibWludXRlc1Nob3J0SGFuZCIsInNlY29uZHMiLCJqb2luIiwicG9wdWxhdGVJZGVudGljb25CYXNlNjRJbWFnZSIsInN0ciIsInNoYU9iaiIsImpzU0hBIiwidXBkYXRlIiwiaGFzaCIsImdldEhhc2giLCJJZGVudGljb24iLCJiYWNrZ3JvdW5kIiwibWFyZ2luIiwic2l6ZSIsImZvcm1hdCIsInRvU3RyaW5nIiwiaWNvbiIsImNvbXBldGl0aW9uQ2hlY2tBamF4IiwiY2hlY2tGb3JBdmFpbGFibGVDb21wZXRpdGlvbnMiLCJjYWxsYmFjayIsImFqYXhJbnN0YW5jZSIsImZpbHRlcnMiLCJhamF4SW5zdGFuY2VUb1VzZSIsInJlc3BvbnNlIiwiZGF0YU9iaiIsImpzb24iLCJwYXJzZSIsIm1hcE9iamVjdCIsImNvbXAiLCJzdGF0dXNDb2RlIiwiY2hlY2tGb3JGaW5pc2hlZENvbXBldGl0aW9ucyIsImNvbXBldGl0aW9uRmluaXNoZWRDaGVja0FqYXgiLCJwcmVwYXJlQWN0aXZlQ29tcGV0aXRpb24iLCJpZCIsImRlYWN0aXZhdGVDb21wZXRpdGlvbnNBbmRMZWFkZXJib2FyZHMiLCJsb2FkQWN0aXZlQ29tcGV0aXRpb24iLCJzZXRBY3RpdmVDb21wZXRpdGlvbiIsImNvbnRlc3RzIiwiY29udGVzdCIsInJld2FyZFJhbmsiLCJyYW5rUGFydHMiLCJzcGxpdCIsInBhcnQiLCJzdHJpbmdDb250YWlucyIsInJhbmtSYW5nZSIsInJhZ2VTdGFydCIsInBhcnNlSW50IiwicmFuZ2VFbmQiLCJpIiwiZ2V0TGVhZGVyYm9hcmREYXRhIiwiY291bnQiLCJtYXNrTmFtZXMiLCJteW5hbWUiLCJsZWFkYm9hcmQiLCJuYW1lIiwic2VwYXJhdGVkIiwiY2FzTmFtZSIsIm1hc2tXb3JkIiwicGxheWVyTmFtZSIsIndvcmQiLCJyZXQiLCJzdWJzdHJpbmciLCJjaGVja0FjaGlldmVtZW50c0FqYXgiLCJjaGVja0ZvckF2YWlsYWJsZUFjaGlldmVtZW50cyIsIndpdGhHcm91cHMiLCJqc29uRm9yQWxsIiwiYWNoIiwiZmlsdGVyQWNoaWV2ZW1lbnRCeVByb2R1Y3QiLCJnYW1laWQiLCJzZWxmIiwicHJvZHVjdHMiLCJwcm9kIiwicHJvZHVjdFJlZklkIiwiZ2V0QWNoaWV2ZW1lbnRzQWpheCIsImdldEFjaGlldmVtZW50IiwiYWNoaWV2ZW1lbnRJZCIsImUiLCJnZXRSZXdhcmRBamF4IiwiZ2V0UmV3YXJkIiwicmV3YXJkSWQiLCJnZXRNZXNzYWdlQWpheCIsImdldE1lc3NhZ2UiLCJtZXNzYWdlSWQiLCJjbGFpbVJld2FyZEFqYXgiLCJjbGFpbVJld2FyZCIsImNoZWNrRm9yTWVtYmVyQWNoaWV2ZW1lbnRzQWpheCIsImNoZWNrRm9yTWVtYmVyQWNoaWV2ZW1lbnRzSXNzdWVkIiwiaWRMaXN0IiwiYWdncmVnYXRpb25zIiwiaXRlbXMiLCJjaGVja0Zvck1lbWJlckFjaGlldmVtZW50c1Byb2dyZXNzaW9uQWpheCIsImNoZWNrRm9yTWVtYmVyQWNoaWV2ZW1lbnRzUHJvZ3Jlc3Npb24iLCJjaGVja0ZvckF2YWlsYWJsZVJld2FyZHNBamF4IiwiY2hlY2tGb3JBdmFpbGFibGVSZXdhcmRzIiwiZXhwaXJlZCIsImV4cGlyeSIsIm1vbWVudCIsImRpZmYiLCJkYXRlIiwidXRjRGF0ZSIsImdldFVUQ0Z1bGxZZWFyIiwiZ2V0VVRDTW9udGgiLCJnZXRVVENEYXRlIiwiZ2V0VVRDSG91cnMiLCJnZXRVVENNaW51dGVzIiwiY2hlY2tGb3JBdmFpbGFibGVNZXNzYWdlc0FqYXgiLCJjaGVja0ZvckF2YWlsYWJsZU1lc3NhZ2VzIiwic2V0RGF0ZSIsImdldE1vbnRoIiwiY3JlYXRlZERhdGVGaWx0ZXIiLCJnZXRGdWxsWWVhciIsImdldERhdGUiLCJvcHRJbk1lbWJlckFqYXgiLCJvcHRJbk1lbWJlclRvQWN0aXZlQ29tcGV0aXRpb24iLCJyZXZhbGlkYXRpb25Db3VudCIsInJldmFsaWRhdGVJZlN1Y2Nlc3NmdWxsT3B0SW4iLCJjb21wZXRpdGlvbkpzb24iLCJvcHRpbiIsInNldFRpbWVvdXQiLCJsZWFkZXJib2FyZERhdGFSZWZyZXNoIiwiY2xlYXJUaW1lb3V0Iiwib3B0aW5SZXF1aXJlZCIsImFjdGl2ZSIsImxvYWRTY29yZUJvYXJkIiwibG9hZExlYWRlcmJvYXJkIiwiYWN0aXZlQ29tcGV0aXRpb25EYXRhUmVmcmVzaCIsImNsZWFyQWxsIiwic3RvcEFjdGl2aXR5IiwiY2xlYXJJbnRlcnZhbCIsInVwZGF0ZUludGVydmFsIiwicmVzdGFydEFjdGl2aXR5IiwidXBkYXRlU2NvcmVCb2FyZCIsImxvYWRNZW1iZXIiLCJpbml0IiwibG9hZFdpZGdldFRyYW5zbGF0aW9ucyIsImFqYXhPcHRpb25zIiwidGhyb3duRXJyb3IiLCJzdGFydHVwIiwiaW5pdExheW91dCIsImNsZWFudXAiLCJfY2xlYW51cEluc3RhbmNlIiwicHJlTG9hZGVyUmVydW4iLCJsb2FkU3R5bGVzaGVldCIsImNyZWF0ZWRSZXNvdXJjZXMiLCJhdmFpbGFibGVMaW5rcyIsIm9iamVjdEl0ZXJhdG9yIiwicXVlcnkiLCJsaW5rIiwiaHJlZiIsInJlc291cmNlIiwia2V5IiwiZXhpc3RzIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiY2xpY2tlZE1pbmlTY29yZUJvYXJkIiwiZHJhZ2dpbmciLCJjb250YWluZXIiLCJzdHlsZSIsImRpc3BsYXkiLCJvcGVuV2l0aFRhYkFuZEFjdGlvbiIsInRhYiIsImFjdGlvbkNhbGxiYWNrIiwibG9hZFRhYiIsIm5hdmlnYXRpb25Td2l0Y2giLCJsb2FkQ29tcGV0aXRpb25MaXN0QWpheCIsImV2ZW50SGFuZGxlcnMiLCJlbCIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCJsb2FkQ29tcGV0aXRpb25EZXRhaWxzIiwicmVtb3ZlQ2xhc3MiLCJjb21wZXRpdGlvbkRldGFpbHNPcHRJbkJ1dHRvblN0YXRlIiwicGFyZW50Tm9kZSIsImhpZGVOb3RpZmljYXRpb24iLCJoaWRlIiwiZGF0YXNldCIsImxvYWRBY2hpZXZlbWVudERldGFpbHMiLCJoaWRlQ29tcGV0aXRpb25EZXRhaWxzIiwiaGlkZUFjaGlldmVtZW50RGV0YWlscyIsImhpZGVSZXdhcmREZXRhaWxzIiwiaGlkZU1lc3NhZ2VEZXRhaWxzIiwiY2xvc2VzdCIsImxvYWRSZXdhcmREZXRhaWxzIiwibG9hZE1lc3NhZ2VEZXRhaWxzIiwiY2xhaW1lZCIsImxvYWRSZXdhcmRzIiwiaW5uZXJIVE1MIiwiY2xhaW0iLCJsb2FkQ29tcGV0aXRpb25MaXN0IiwidG91cm5hbWVudElkIiwicHJlTG9hZGVyIiwicHJlbG9hZGVyIiwic2hvdyIsImhpZGVDb21wZXRpdGlvbkxpc3QiLCJhY2NvcmRpb25OYXZpZ2F0aW9uIiwiZXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJrZXlDb2RlIiwiaXNNb2JpbGUiLCJ0YXJnZXQiLCJjbG9zZUV2ZXJ5dGhpbmciLCJwcmVMb2FkZXJBY3RpdmUiLCJpc01vYmlsZVRhYmxldCIsIk5vdGlmaWNhdGlvbnMiLCJNaW5pU2NvcmVCb2FyZCIsIk1haW5XaWRnZXQiLCJsYldpZGdldCIsIm5hdmlnYXRpb24iLCJzZWN0aW9uIiwiZGV0YWlsc0NvbnRhaW5lciIsInRvdXJuYW1lbnRMaXN0Q29udGFpbmVyIiwiaGVhZGVyRGF0ZSIsInByZUxvYWRlcmxhc3RBdHRlbXB0IiwicHJlbG9hZGVyQ2FsbGJhY2tSZWNvdmVyeSIsImRlZmF1bHRFbXB0eUxpc3QiLCJ0b3BSZXN1bHRTaXplIiwiaGVhZGVyIiwidG9wUmVzdWx0cyIsInRpbWVySW50ZXJ2YWwiLCJ0b3VybmFtZW50c1NlY3Rpb24iLCJhY2NvcmRpb25MYXlvdXQiLCJsYWJlbCIsInNob3dUb3BSZXN1bHRzIiwicmV3YXJkc1NlY3Rpb24iLCJuYXZpZ2F0aW9uU3dpdGNoTGFzdEF0ZW1wdCIsIm5hdmlnYXRpb25Td2l0Y2hJblByb2dyZXNzIiwib3B0IiwiaGFzT3duUHJvcGVydHkiLCJhY2NvcmRpb25TdHlsZSIsIm9uTGF5b3V0IiwiYWNjb3JkaW9uV3JhcHBlciIsImVudHJ5IiwiYWNjb3JkaW9uU2VjdGlvbiIsImFjY29yZGlvbkxhYmVsIiwidG9wU2hvd25FbnRyeSIsImFjY29yZGlvbkxpc3RDb250YWluZXIiLCJhY2NvcmRpb25MaXN0IiwiZWxlbWVudCIsInBhcmVudEVsIiwid3JhcHBlciIsImlubmVyV3JhcHBlciIsIm5hdmlnYXRpb25Db250YWluZXIiLCJuYXZpZ2F0aW9uSXRlbXMiLCJuYXZpZ2F0aW9uSXRlbUxCIiwibmF2aWdhdGlvbkl0ZW1MQkljb24iLCJuYXZpZ2F0aW9uSXRlbUFDSCIsIm5hdmlnYXRpb25JdGVtQUNISWNvbiIsIm5hdmlnYXRpb25JdGVtUmV3YXJkcyIsIm5hdmlnYXRpb25JdGVtUmV3YXJkc0ljb24iLCJuYXZpZ2F0aW9uSXRlbUluYm94IiwibmF2aWdhdGlvbkl0ZW1JbmJveEljb24iLCJtYWluU2VjdGlvbkNvbnRhaW5lciIsInByZUxvYWRlckNvbnRhaW5lciIsInByZUxvYWRlckNvbnRlbnQiLCJwcmVMb2FkZXJCYXIxIiwicHJlTG9hZGVyQmFyMiIsInByZUxvYWRlckJhcjMiLCJzZWN0aW9uTEIiLCJsZWFkZXJib2FyZEFyZWFMYXlvdXQiLCJzZWN0aW9uQUNIIiwiYWNoaWV2ZW1lbnRzQXJlYUxheW91dCIsInNlY3Rpb25SZXdhcmRzIiwicmV3YXJkc0FyZWFMYXlvdXQiLCJzZWN0aW9uSW5ib3giLCJpbmJveEFyZWFMYXlvdXQiLCJzZWN0aW9uTEJIZWFkZXIiLCJzZWN0aW9uTEJIZWFkZXJMaXN0Iiwic2VjdGlvbkxCSGVhZGVyTGlzdEljb24iLCJzZWN0aW9uTEJIZWFkZXJMYWJlbCIsInNlY3Rpb25MQkhlYWRlckRhdGUiLCJzZWN0aW9uTEJIZWFkZXJDbG9zZSIsInNlY3Rpb25MQkRldGFpbHMiLCJzZWN0aW9uTEJEZXRhaWxzSW5mbyIsInNlY3Rpb25MQkRldGFpbHNJbmZvSWNvbiIsInNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyIiwic2VjdGlvbkxCRGV0YWlsc0NvbnRlbnRDb250YWluZXJMYWJlbCIsInNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyRGF0ZSIsInNlY3Rpb25MQkxlYWRlcmJvYXJkIiwic2VjdGlvbkxCTGVhZGVyYm9hcmRIZWFkZXIiLCJzZWN0aW9uTEJMZWFkZXJib2FyZEhlYWRlckxhYmVscyIsInNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyVG9wUmVzdWx0cyIsInNlY3Rpb25MQkxlYWRlcmJvYXJkQm9keSIsInNlY3Rpb25MQkxlYWRlcmJvYXJkQm9keVJlc3VsdHMiLCJzZWN0aW9uTEJNaXNzaW5nTWVtYmVyIiwic2VjdGlvbkxCT3B0SW5Db250YWluZXIiLCJzZWN0aW9uTEJPcHRJbkFjdGlvbiIsInNlY3Rpb25MQkZvb3RlciIsInNlY3Rpb25MQkZvb3RlckNvbnRlbnQiLCJzZWN0aW9uVG91cm5hbWVudERldGFpbHNDb250YWluZXIiLCJzZWN0aW9uVG91cm5hbWVudERldGFpbHNIZWFkZXIiLCJzZWN0aW9uVG91cm5hbWVudERldGFpbHNIZWFkZXJMYWJlbCIsInNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0hlYWRlckRhdGUiLCJzZWN0aW9uVG91cm5hbWVudERldGFpbHNCYWNrQnRuIiwic2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQm9keUNvbnRhaW5lciIsInNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JvZHlJbWFnZUNvbnRhaW5lciIsInNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JvZHkiLCJzZWN0aW9uVG91cm5hbWVudERldGFpbHNPcHRJbkNvbnRhaW5lciIsInNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc09wdEluQWN0aW9uIiwic2VjdGlvblRvdXJuYW1lbnRMaXN0Iiwic2VjdGlvblRvdXJuYW1lbnRMaXN0Qm9keSIsInNlY3Rpb25Ub3VybmFtZW50TGlzdEJvZHlSZXN1bHRzIiwic2VjdGlvblRvdXJuYW1lbnRCYWNrQWN0aW9uIiwiZ2xvYmFsIiwiY29weSIsImVudGVyIiwic2VjdGlvbkFDSEhlYWRlciIsInNlY3Rpb25BQ0hIZWFkZXJMYWJlbCIsInNlY3Rpb25BQ0hIZWFkZXJEYXRlIiwic2VjdGlvbkFDSEhlYWRlckNsb3NlIiwic2VjdGlvbkFDSERldGFpbHMiLCJzZWN0aW9uQUNIRGV0YWlsc0luZm8iLCJzZWN0aW9uQUNIRGV0YWlsc0luZm9JY29uIiwic2VjdGlvbkFDSERldGFpbHNDb250ZW50Q29udGFpbmVyIiwic2VjdGlvbkFDSERldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWwiLCJzZWN0aW9uQUNIRGV0YWlsc0NvbnRlbnRDb250YWluZXJEYXRlIiwic2VjdGlvbkFDSExpc3QiLCJzZWN0aW9uQUNITGlzdEJvZHkiLCJzZWN0aW9uQUNITGlzdEJvZHlSZXN1bHRzIiwic2VjdGlvbkFDSEZvb3RlciIsInNlY3Rpb25BQ0hGb290ZXJDb250ZW50Iiwic2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0NvbnRhaW5lciIsInNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXIiLCJzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzSGVhZGVyTGFiZWwiLCJzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzSGVhZGVyRGF0ZSIsInNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCYWNrQnRuIiwic2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0JvZHlDb250YWluZXIiLCJzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQm9keUltYWdlQ29udGFpbmVyIiwic2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0JvZHkiLCJzZWN0aW9uUmV3YXJkc0hlYWRlciIsInNlY3Rpb25SZXdhcmRzSGVhZGVyTGFiZWwiLCJzZWN0aW9uUmV3YXJkc0hlYWRlckRhdGUiLCJzZWN0aW9uUmV3YXJkc0hlYWRlckNsb3NlIiwic2VjdGlvblJld2FyZHNEZXRhaWxzIiwic2VjdGlvblJld2FyZHNEZXRhaWxzSW5mbyIsInNlY3Rpb25SZXdhcmRzRGV0YWlsc0luZm9JY29uIiwic2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGVudENvbnRhaW5lciIsInNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRlbnRDb250YWluZXJMYWJlbCIsInNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRlbnRDb250YWluZXJEYXRlIiwic2VjdGlvblJld2FyZHNMaXN0Iiwic2VjdGlvblJld2FyZHNMaXN0Qm9keSIsInNlY3Rpb25SZXdhcmRzTGlzdEJvZHlSZXN1bHRzIiwic2VjdGlvblJld2FyZHNGb290ZXIiLCJzZWN0aW9uUmV3YXJkc0Zvb3RlckNvbnRlbnQiLCJzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250YWluZXIiLCJzZWN0aW9uUmV3YXJkc0RldGFpbHNIZWFkZXIiLCJzZWN0aW9uUmV3YXJkc0RldGFpbHNIZWFkZXJMYWJlbCIsInNlY3Rpb25SZXdhcmRzRGV0YWlsc0hlYWRlckRhdGUiLCJzZWN0aW9uUmV3YXJkc0RldGFpbHNCYWNrQnRuIiwic2VjdGlvblJld2FyZHNEZXRhaWxzQm9keUNvbnRhaW5lciIsInNlY3Rpb25SZXdhcmRzRGV0YWlsc0JvZHlJbWFnZUNvbnRhaW5lciIsInNlY3Rpb25SZXdhcmRzRGV0YWlsc0JvZHkiLCJzZWN0aW9uUmV3YXJkc1dpbm5pbmdzQ29udGFpbmVyIiwic2VjdGlvblJld2FyZHNXaW5uaW5nc0ljb24iLCJzZWN0aW9uUmV3YXJkc1dpbm5pbmdzVmFsdWUiLCJzZWN0aW9uUmV3YXJkc0NsYWltQ29udGFpbmVyIiwic2VjdGlvblJld2FyZHNDbGFpbUJ0biIsInNlY3Rpb25JbmJveEhlYWRlciIsInNlY3Rpb25JbmJveEhlYWRlckxhYmVsIiwic2VjdGlvbkluYm94SGVhZGVyRGF0ZSIsInNlY3Rpb25JbmJveEhlYWRlckNsb3NlIiwic2VjdGlvbkluYm94RGV0YWlscyIsInNlY3Rpb25JbmJveERldGFpbHNJbmZvIiwic2VjdGlvbkluYm94RGV0YWlsc0luZm9JY29uIiwic2VjdGlvbkluYm94RGV0YWlsc0NvbnRlbnRDb250YWluZXIiLCJzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsIiwic2VjdGlvbkluYm94RGV0YWlsc0NvbnRlbnRDb250YWluZXJEYXRlIiwic2VjdGlvbkluYm94TGlzdCIsInNlY3Rpb25JbmJveExpc3RCb2R5Iiwic2VjdGlvbkluYm94TGlzdEJvZHlSZXN1bHRzIiwic2VjdGlvbkluYm94Rm9vdGVyIiwic2VjdGlvbkluYm94Rm9vdGVyQ29udGVudCIsInNlY3Rpb25JbmJveERldGFpbHNDb250YWluZXIiLCJzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyIiwic2VjdGlvbkluYm94RGV0YWlsc0hlYWRlckxhYmVsIiwic2VjdGlvbkluYm94RGV0YWlsc0hlYWRlckRhdGUiLCJzZWN0aW9uSW5ib3hEZXRhaWxzQmFja0J0biIsInNlY3Rpb25JbmJveERldGFpbHNCb2R5Q29udGFpbmVyIiwic2VjdGlvbkluYm94RGV0YWlsc0JvZHkiLCJsZWFkZXJib2FyZEhlYWRlciIsInJhbmtDb2wiLCJpY29uQ29sIiwibmFtZUNvbCIsImdyb3d0aENvbCIsInBvaW50c0NvbCIsInJhbmsiLCJwb2ludHMiLCJyZXdhcmRDb2wiLCJyZXdhcmRFbmFibGVkIiwicHJpemUiLCJsZWFkZXJib2FyZFJvdyIsImNoYW5nZSIsImdyb3d0aCIsIm1lbWJlckZvdW5kIiwiY2VsbFdyYXBwZXIiLCJyYW5rQ2VsIiwicmFua0NlbFZhbHVlIiwiaWNvbkNlbCIsImljb25DZWxJbWciLCJJbWFnZSIsIm5hbWVDZWwiLCJncm93dGhDZWwiLCJwb2ludHNDZWwiLCJtZW1iZXJGb3VuZENsYXNzIiwic3JjIiwiYWx0IiwicmV3YXJkQ2VsIiwibGVhZGVyYm9hcmRSb3dVcGRhdGUiLCJvbk1pc3NpbmciLCJjZWxsUm93Iiwicm93SGFzQ2xhc3MiLCJwb3B1bGF0ZUxlYWRlcmJvYXJkUmVzdWx0c1dpdGhEZWZhdWx0RW50cmllcyIsInJlbWFpbmluZ1Jlc3VsdHMiLCJtZW1iZXJSZWZJZCIsInMiLCJ1cGRhdGVMZWFkZXJib2FyZFRvcFJlc3VsdHMiLCJ1cGRhdGVMZWFkZXJib2FyZFJlc3VsdHMiLCJyYW5rQ2hlY2siLCJjbGVhbnVwUmFua0NoZWNrIiwibGIiLCJyZW1vdmUiLCJtZW1iZXJOYW1lIiwieW91IiwiZ3Jvd3RoVHlwZSIsImdyb3d0aEljb24iLCJyYyIsIm5ld1JvdyIsInByZXZDZWxsUm93IiwiYXBwZW5kTmV4dCIsInJld2FyZFJlc3BvbnNlIiwiQXJyYXkiLCJhdHRyaWJ1dGVzIiwidXBkYXRlTGVhZGVyYm9hcmQiLCJtaXNzaW5nTWVtYmVyIiwiaXNFbGVtZW50VmlzaWJsZUluVmlldyIsInVwZGF0ZUxlYWRlcmJvYXJkVGltZSIsInNjaGVkdWxlZFN0YXJ0Iiwic2NoZWR1bGVkRW5kIiwiZmluaXNoaW5nIiwiZmluaXNoZWQiLCJkZXRhaWxzQ29udGFpbmVyRGF0ZSIsImxlYWRlcmJvYXJkRGV0YWlsc1VwZGF0ZSIsIm1haW5MYWJlbCIsIm5vQXZhaWxhYmxlQ29tcGV0aXRpb25zIiwibGVhZGVyYm9hcmRPcHRJbkNoZWNrIiwib3B0SW4iLCJvcGFjaXR5IiwiaXNWaXNpYmxlIiwiYXJlYSIsInBvc2l0aW9uIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZWxlbUNvbnRhaW5lciIsImVsZW1Ub3AiLCJ0b3AiLCJlbGVtQm90dG9tIiwiYm90dG9tIiwiZWxlbUhlaWdodCIsImhlaWdodCIsIm9uc2Nyb2xsIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJvbnJlc2l6ZSIsInJlZ2lzdGVyZWQiLCJpbWFnZSIsImRlc2NyaXB0aW9uIiwiaW1nIiwibmV3SW1nIiwiY2xvbmVOb2RlIiwibGlzdFJlc0NvbnRhaW5lciIsImFjY29yZGlvbk9iaiIsImxpc3RDb250YWluZXIiLCJ0b3BFbnRyeUNvbnRhaW5lciIsInRvdXJuYW1lbnREYXRhIiwidG91cm5hbWVudCIsInRvcEVudHJ5Q29udGFpbmVSbGlzdEl0ZW0iLCJ0b3VybmFtZW50SXRlbSIsImxpc3RJdGVtIiwiYWNoaWV2ZW1lbnRJdGVtIiwiYWNoaWV2ZWQiLCJwZXJjIiwiZGV0YWlsc1dyYXBwZXIiLCJjYXRlZ29yeSIsInByb2dyZXNzaW9uV3JhcHBlciIsInByb2dyZXNzaW9uQm94IiwicHJvZ3Jlc3Npb25Db250IiwicHJvZ3Jlc3Npb25CYXIiLCJwcm9ncmVzc2lvblBlcmNlbnQiLCJpc3N1ZWRCb3giLCJpc3N1ZWRCb3hDb3VudCIsImlzc3VlZEJveENoZWNrIiwiaXNzdWVkQm94Tm90Q2hlY2siLCJpc3N1ZWRCb3hHaWZ0IiwibW9yZUJ1dHRvbiIsInJld2FyZE5hbWUiLCJjcG9tbnRhaW5zSW1hZ2UiLCJtb3JlIiwiaW1hZ2VJY29uV3JhcHBlciIsImFjaGlldmVtZW50TGlzdExheW91dCIsImFjaGlldmVtZW50RGF0YSIsImFjaExpc3QiLCJpbWFnZUxvb2t1cCIsImNsYWltQnRuIiwiX2ltYWdlIiwic3ViamVjdCIsImdldEFjaGlldmVtZW50SW5mbyIsInVwZGF0ZUFjaGlldmVtZW50UHJvZ3Jlc3Npb25BbmRJc3N1ZWQiLCJpc3N1ZWQiLCJwcm9ncmVzc2lvbiIsImFjaEluZm8iLCJpc3N1ZWRDbnQiLCJpc3N1ZWRDaGNrIiwiaXNzdWVkQm94Q2hlY2tHaWZ0IiwiaXNBcnJheSIsInByIiwic2NoZWR1bGluZyIsInNjaGVkdWxlVHlwZSIsInBhcnNlRmxvYXQiLCJnb2FsUGVyY2VudGFnZUNvbXBsZXRlIiwidG9GaXhlZCIsImJhciIsInBlcmNlbnROdW0iLCJpc3N1ZWRDb3VudCIsImlzc3VlZENoZWNrIiwid2lkdGgiLCJNYXRoIiwicm91bmQiLCJsb2FkQWNoaWV2ZW1lbnRzIiwicmV3YXJkSXRlbSIsInJldyIsImxhYmVsVGV4dCIsInN0cmlwSHRtbCIsImRlc2NyaXB0aW9uVGV4dCIsInN1YnN0ciIsIm1lc3NhZ2VJdGVtIiwiaW5ib3giLCJjb250ZW50IiwiZGVzY3JpcHRpb25Db250ZW50IiwicmV3YXJkc0xpc3RMYXlvdXQiLCJyZXdhcmRMaXN0IiwicmV3YXJkRGF0YSIsIm1lc3NhZ2VzTGlzdExheW91dCIsIm1lc3NhZ2VMaXN0IiwiaW5ib3hJdGVtIiwibG9hZE1lc3NhZ2VzIiwiY2hhbmdlSW50ZXJ2YWwiLCJjaGFuZ2VDb250YWluZXJJbnRlcnZhbCIsImxiQ29udGFpbmVyIiwiYWNoQ29udGFpbmVyIiwicmV3YXJkc0NvbnRhaW5lciIsImluYm94Q29udGFpbmVyIiwicmVzZXROYXZpZ2F0aW9uIiwiTWVzc2FnaW5nIiwic291cmNlIiwiYWpheCIsImVycm9yQ2FsbGJhY2siLCJzc2VVcmwiLCJoZWFydGJlYXQiLCJsYXN0SGVhcnRiZWF0IiwibWFpbkFqYXgiLCJoZWFydEJlYXRBamF4IiwiaGVhcnRXYWl0VGltZSIsIm1lc3NhZ2VRdWV1ZSIsIm1lc3NhZ2VJbnRlcnZhbCIsInN0YXJ0dXBDaGVjayIsIm9uU3RhcnR1cEVycm9yIiwiaW50ZXJ2YWxJbnN0YW5jZSIsImhlYXJ0YmVhdEludGVydmFsSW5zdGFuY2UiLCJsb29rdXBEYXRhIiwiaW5kZXgiLCJzcGxpY2UiLCJzZXRJbnRlcnZhbCIsImN1cnJlbnRUaW1lIiwiY2xvc2VDaGFuZWwiLCJoZWFyQmVhdENoZWNrIiwiZGF0YU9iamVjdCIsIm9wZW5DaGFuZWwiLCJFdmVudFNvdXJjZSIsIndpdGhDcmVkZW50aWFscyIsInNlcnZlclNpZGVFdmVudExpc3RlbmVycyIsIkNMT1NFRCIsImNsb3NlIiwic3NlRmFpbGVkIiwid2luZG93QWN0aXZpdHkiLCJoaWRkZW4iLCJvbmNoYW5nZSIsIm9uZm9jdXNpbiIsIm9uZm9jdXNvdXQiLCJvbnBhZ2VzaG93Iiwib25wYWdlaGlkZSIsIm9uZm9jdXMiLCJvbmJsdXIiLCJ2IiwiaCIsImV2dE1hcCIsImZvY3VzIiwiZm9jdXNpbiIsInBhZ2VzaG93IiwiYmx1ciIsImZvY3Vzb3V0IiwicGFnZWhpZGUiLCJvdmVybGF5Q29udGFpbmVyIiwiaW5mb0NvbnRhaW5lciIsInVwZGF0ZUludGVydmFsVGltZSIsImVuYWJsZURyYWdnaW5nIiwiaWNvbldyYXBwZXIiLCJpbmZvcm1hdGlvbldyYXBwZXIiLCJpbmZvcm1hdGlvblRvcFdyYXBwZXIiLCJpbmZvcm1hdGlvbldyYXBwZXJDbG9zZSIsImluZm9ybWF0aW9uQ2xvc2UiLCJvdmVybGF5TGF5b3V0IiwidGltZU1hbmFnZW1lbnQiLCJkYXRlT2JqIiwiaW52ZXJzZSIsIm1pbmlMZWFkZXJib2FyZCIsInN0YXJ0c0luIiwic3RhcnRpbmciLCJsYXlvdXREZWZhdWx0T3JFbXB0eUVudHJ5IiwibGJSZXN1bHRzTWVtRW50cnkiLCJsYlJlc3VsdHNNZW1MYWJlbCIsImxiUmVzdWx0c01lbVJhbmsiLCJsYlJlc3VsdHNNZW1JY29uIiwibGJSZXN1bHRzTWVtSW1nIiwibGJSZXN1bHRzTWVtUG9pbnRzIiwibGF5b3V0Rmlyc3RUb09yRW1wdHlFbnRyeSIsImxheW91dERlZmF1bHRPckVtcHR5Iiwid3JhcHBlckRvbU9iaiIsImRlZmF1bHREb21PYmoiLCJyZW1vdmVVbnVzZWRFbGVtZW50cyIsImxiV3JhcHBlciIsImxiRGF0ZVdyYXBwZXIiLCJsYkRhdGVMYWJlbCIsImxiRGF0ZSIsImxiUmVzdWx0c1dyYXBwZXIiLCJsYlJlc3VsdHNMaXN0IiwibGJIZWFkZXJzIiwibGJIZWFkZXJzUmFuayIsImxiSGVhZGVyc1BvaW50cyIsImxiRW50cnkiLCJyYW5raW5ncyIsInNjb3JlQXJlYSIsImxiUmFua2luZ0VudHJ5Iiwic2VsZk1lbWJlciIsImxheW91dEZpcnN0VG9PckVtcHR5Iiwic3RyYXRlZ3kiLCJyZWNvcmRUaW1lV2hlblN1bVJlYWNoZXMiLCJsYXlvdXRTdW1CZXN0T2YiLCJzdW1CZXN0RG9tT2JqIiwibGJSZXN1bHRzU2NvcmVBcmVhIiwibGJSZXN1bHRzU2NvcmVBcmVhSGlnaCIsImxiUmVzdWx0c1Njb3JlQXJlYUhpZ2hMYWJlbCIsImxiUmVzdWx0c1Njb3JlQXJlYUhpZ2hTY29yZSIsImxiUmVzdWx0c1Njb3JlQXJlYUxhc3QiLCJsYlJlc3VsdHNTY29yZUFyZWFMYXN0TGFiZWwiLCJsYlJlc3VsdHNTY29yZUFyZWFMYXN0U2NvcmUiLCJsYlJlc3VsdHNSYW5rQXJlYSIsImxiUmVzdWx0c1JhbmtWYWx1ZSIsImhpZ2hTY29yZSIsImxhc3RTY29yZSIsInJhbmtWYWx1ZSIsIlN0cmluZyIsImxheW91dFJlcXVpcmVzT3B0SW4iLCJvcHRJbldyYXBwZXIiLCJvcHRJbkRhdGVXcmFwcGVyIiwib3B0SW5EYXRlTGFiZWwiLCJvcHRJbkRhdGUiLCJvcHRJbkRhdGVBY3Rpb25XcmFwcGVyIiwib3B0SW5EYXRlQWN0aW9uIiwiZGVmYXVsdExheW91dFdyYXBwZXJEb21PYmoiLCJvcHRJbldyYXBwZXJEb21PYmoiLCJmaXJzdFRvRG9tT2JqIiwicmVtb3ZlSW5mb0FyZWEiLCJsb2FkSW5mb0FyZWEiLCJkcmFnRWxlbWVudCIsIm5ld1RvcCIsIm5ld0xlZnQiLCJldmVudFN0cmVhbSIsImNoZWNrVGltZW91dCIsIm9uRGlzcGxheUNoZWNrVGltZW91dCIsImNoZWNrSW50ZXJ2YWwiLCJhdXRvTm90aWZpY2F0aW9uSGlkZUludGVydmFsIiwiYXV0b05vdGlmaWNhdGlvbkhpZGVUaW1lIiwiZGlzcGxheUluUHJvZ3Jlc3MiLCJsYXlvdXRXcmFwcGVyIiwiaW5mb3JtYXRpb25EZXRhaWxzQ29udGFpbmVyIiwiaW5mb3JtYXRpb25EZXRhaWxzTGFiZWwiLCJpbmZvcm1hdGlvbkRldGFpbHNEZXNjcmlwdGlvbiIsInByb2Nlc3NlZCIsInN0YXJ0U1NFIiwic3NlSW5zdGFuY2UiLCJkYXRhS2V5IiwiYXV0b05vdGlmaWNhdGlvbkhpZGUiLCJzaG93QWNoaWV2ZW1lbnROb3RpZmljYXRpb24iLCJldmVudFN0cmVhbUNoZWNrIiwibm90aWZpY2F0aW9uSWQiLCJhcGlVUkwiLCJjbGFzc1NlbGVjdG9yIiwiaWRTZWxlY3RvciIsInRhZ1NlbGVjdG9yIiwibW92ZW1lbnRJbnRlcnZhbCIsImVsbW50IiwiZHJhZ2dhYmxlRWwiLCJmaW5pc2hEcmFnZ2luZyIsIm1vYmlsZVRvdWNoIiwicG9zMSIsInBvczIiLCJwb3MzIiwicG9zNCIsImlzaU9TIiwiaXNpT1NEZXZpY2UiLCJpc1BhcmVudFdpbmRvdyIsIm5vZGVOYW1lIiwibWF4TGVmdCIsImlubmVyV2lkdGgiLCJvZmZzZXRXaWR0aCIsIm1heFRvcCIsImlubmVySGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwidG91Y2hTdGFydCIsIm1vdmluZyIsIm9uV2luZG93Q2hhbmdlIiwiaXNWZXJ0aWNhbCIsIm9mZnNldE1heExlZnQiLCJvZmZzZXRNYXhUb3AiLCJlbFRvcCIsImVsTGVmdCIsImxlZnQiLCJqdXN0QVRvdWNoIiwicGFzc2l2ZSIsInRhcmdldFRvdWNoZXMiLCJwYWdlWCIsInBhZ2VZIiwiZWxlbWVudERyYWciLCJjbG9zZURyYWdFbGVtZW50Iiwib25tb3VzZWRvd24iLCJkcmFnTW91c2VEb3duIiwiY2xpZW50WCIsImNsaWVudFkiLCJvbm1vdXNldXAiLCJvbm1vdXNlbW92ZSIsImNoZWNrTWF4TWluUmVzdHJhaW50cyIsIm1pbkxlZnQiLCJwb3NYIiwicG9zWSIsImNoZWNrTW92ZW1lbnQiLCJvZmZzZXRUb3AiLCJvZmZzZXRMZWZ0IiwibGVmdFRvcENoZWNrIiwic2V0VGltZW91dEdsb2JhbCIsIl9zZXRUaW1lb3V0R2xvYmFsUmVwb3NpdG9yeSIsImZ1bmMiLCJ0aW1lciIsImludGVydmFsIiwiRXJyb3IiLCJjbG9zZVRpbWVvdXQiLCJyZUVuYWJsZVRpbWVvdXRzIiwidG1wIiwiU3ludGF4RXJyb3IiLCJFdmVudCIsInJldHVyblZhbHVlIiwic3RvcFByb3BhZ2F0aW9uIiwiY2FuY2VsQnViYmxlIiwidCIsIm4iLCJyIiwiRWxlbWVudCIsInNyY0VsZW1lbnQiLCJjdXJyZW50VGFyZ2V0Iiwic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsImhhbmRsZUV2ZW50IiwiY2FsbCIsIm8iLCJhdHRhY2hFdmVudCIsIm9iamVjdCIsImxpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwiSFRNTERvY3VtZW50IiwiV2luZG93IiwicGFyZW50RWxlbWVudCIsInJlbW92ZUNoaWxkIiwiTm9kZUxpc3QiLCJIVE1MQ29sbGVjdGlvbiIsImYiLCJxdW90ZSIsImVzY2FwYWJsZSIsImxhc3RJbmRleCIsInRlc3QiLCJtZXRhIiwiY2hhckNvZGVBdCIsInNsaWNlIiwiYSIsInAiLCJnYXAiLCJ1IiwidG9KU09OIiwicmVwIiwiaXNGaW5pdGUiLCJpbmRlbnQiLCJPYmplY3QiLCJhcHBseSIsInZhbHVlT2YiLCJnZXRVVENTZWNvbmRzIiwiTnVtYmVyIiwiQm9vbGVhbiIsImN4IiwidGV4dCIsInJldml2ZXIiLCJ3YWxrIiwiaiIsImV2YWwiLCJfc2xpY2UiLCJkb2N1bWVudEVsZW1lbnQiLCJjIiwibCIsImNoYXJBdCIsInJlVHJpbSIsImV2ZW50c291cmNlIiwibGFzdEV2ZW50SWQiLCJjYWNoZSIsIlVSTCIsIkNPTk5FQ1RJTkciLCJfcG9sbFRpbWVyIiwiX3hociIsInBvbGxBZ2FpbiIsInBvbGwiLCJ0aW1lb3V0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwiT1BFTiIsImRpc3BhdGNoRXZlbnQiLCJwYXJ0cyIsImV2ZW50VHlwZSIsImxpbmUiLCJyZXRyeSIsImlzTmFOIiwiTWVzc2FnZUV2ZW50IiwiaGFuZGxlcnMiLCJoYW5kbGVyIiwib25tZXNzYWdlIiwib25vcGVuIiwib3JpZ2luIiwibW9kdWxlIiwiZXhwb3J0cyIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsImFkZCIsInRyYWNlIiwibmV3Tm9kZSIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwic2VsZWN0b3IiLCJzZWxlY3RvckNsYXNzU3RyaW5nIiwiZ2V0QXR0cmlidXRlIiwic2VsZWN0b3JJZFN0cmluZyIsIm1hdGNoIiwidG9VcHBlckNhc2UiLCJudW0iLCJnZXRPZmZzZXQiLCJfeCIsIl95Iiwib2Zmc2V0UGFyZW50IiwiX2hhc0NsYXNzIiwiY29udGFpbnMiLCJSZWdFeHAiLCJzdGFjayIsImlzRWxlbWVudCIsIkhUTUxFbGVtZW50Iiwibm9kZVR5cGUiLCJjaGVjayIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInZlbmRvciIsIm9wZXJhIiwidG9Mb3dlckNhc2UiLCJwbGF0Zm9ybSIsIm9iajEiLCJvYmoyIiwiYXJyYXlUeXBlIiwib2JqMyIsImsiLCJvYmplY3RDb3VudCIsImRvYyIsInRtcERvYyIsInRtcFNlbGVjdG9yIiwidHJpbSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJnZXRFbGVtZW50QnlJZCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicXVlcnlTZWxlY3RvckFsbCIsInNjcm9sbEVuYWJsZWQiLCJzY3JvbGxIZWlnaHQiLCJwYXJ0aWFsIiwiaHRtbCIsInRleHRDb250ZW50IiwiaW5uZXJUZXh0Iiwic3RyaW5nIl0sIm1hcHBpbmdzIjoiO1FBQUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7OztRQUdBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwwQ0FBMEMsZ0NBQWdDO1FBQzFFO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0Esd0RBQXdELGtCQUFrQjtRQUMxRTtRQUNBLGlEQUFpRCxjQUFjO1FBQy9EOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSx5Q0FBeUMsaUNBQWlDO1FBQzFFLGdIQUFnSCxtQkFBbUIsRUFBRTtRQUNySTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDJCQUEyQiwwQkFBMEIsRUFBRTtRQUN2RCxpQ0FBaUMsZUFBZTtRQUNoRDtRQUNBO1FBQ0E7O1FBRUE7UUFDQSxzREFBc0QsK0RBQStEOztRQUVySDtRQUNBOzs7UUFHQTtRQUNBOzs7Ozs7Ozs7Ozs7O0FDbEZZOztBQUVaOztBQUVBO0FBQ0EsbURBQW1ELElBQUksU0FBUyxNQUFNLElBQUk7O0FBRTFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQztBQUNEO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QixHQUFHO0FBQ0g7QUFDQSxzQkFBc0I7QUFDdEIsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVDQUF1QyxVQUFVLCtCQUErQjtBQUNoRjtBQUNBLG1EQUFtRDtBQUNuRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7Ozs7QUMvS1k7O0FBRVo7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQyxTQUFTO0FBQzNDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQ0FBMEMsVUFBVTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7OztBQ3ZKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFWTs7QUFFWixhQUFhLG1CQUFPLENBQUMsb0RBQVc7QUFDaEMsY0FBYyxtQkFBTyxDQUFDLGdEQUFTO0FBQy9CLGNBQWMsbUJBQU8sQ0FBQyxnREFBUzs7QUFFL0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixtREFBbUQ7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixVQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsdUNBQXVDLFNBQVM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpQkFBaUI7QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLGlCQUFpQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsRUFBRTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZUFBZTtBQUN2QztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBLHFCQUFxQixlQUFlO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUIsU0FBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGtCQUFrQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsbUJBQW1CLGNBQWM7QUFDakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RCxPQUFPO0FBQzlEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1REFBdUQsT0FBTztBQUM5RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0I7QUFDbEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUIsUUFBUTtBQUM3QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLFNBQVM7QUFDNUI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsaUJBQWlCO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLFlBQVk7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixnQkFBZ0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7OztBQzV2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixzQkFBc0I7QUFDdkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsbUJBQW1CLFNBQVM7QUFDNUI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FB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QUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7Ozs7Ozs7Ozs7OztBQzNRRDs7QUFFQSxDQUFDO0FBQ0QsSUFBSSxLQUE0RDtBQUNoRSxJQUFJLFNBQ3lCO0FBQzdCLENBQUMscUJBQXFCOztBQUV0Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsZ0JBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkIsU0FBUztBQUNwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUIsNkJBQTZCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixTQUFTO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNB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QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsUUFBUTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVCQUF1QixPQUFPO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsT0FBTztBQUMxQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQixPQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixPQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtSUFBa0M7QUFDbEQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0JBQStCO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkNBQTJDLEVBQUUsSUFBSSxFQUFFO0FBQ25ELHdDQUF3QyxFQUFFLElBQUksRUFBRTs7QUFFaEQ7O0FBRUE7QUFDQSxpQ0FBaUMsRUFBRTtBQUNuQywyQkFBMkIsRUFBRTtBQUM3Qiw2QkFBNkIsRUFBRTtBQUMvQiwyQkFBMkIsRUFBRTtBQUM3Qix5QkFBeUIsRUFBRSxJQUFJLEVBQUU7QUFDakMsd0JBQXdCLEVBQUU7QUFDMUIsK0JBQStCLEdBQUc7QUFDbEMseUJBQXlCLEVBQUU7QUFDM0I7QUFDQSwyQkFBMkIsRUFBRSxJQUFJLEVBQUU7QUFDbkMsMEJBQTBCLEVBQUUsSUFBSSxFQUFFO0FBQ2xDLHdCQUF3QixFQUFFO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw0Q0FBNEMsT0FBTztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4REFBOEQsSUFBSSwwREFBMEQsSUFBSSxxRUFBcUUsRUFBRTs7QUFFdk07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsbUJBQW1CLG1CQUFtQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixzQkFBc0I7QUFDekM7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxrQ0FBa0MsZ0JBQWdCO0FBQ2xEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsb0JBQW9CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QixxQkFBcUI7QUFDNUM7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDZCQUE2QjtBQUN0QztBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsY0FBYztBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSw2REFBNkQ7QUFDN0QseURBQXlEO0FBQ3pELCtEQUErRDtBQUMvRCx3REFBd0QsT0FBTztBQUMvRCx3REFBd0QsT0FBTztBQUMvRCx1REFBdUQsT0FBTztBQUM5RCxtRUFBbUUsT0FBTztBQUMxRSxxRUFBcUUsT0FBTztBQUM1RTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxxQkFBcUI7QUFDeEQsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMscUJBQXFCO0FBQ3hELFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QjtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0IsbUJBQW1CO0FBQzNDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixtQkFBbUI7QUFDeEM7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLE9BQU87QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9DQUFvQyxJQUFJO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7O0FBRUw7OztBQUdBOztBQUVB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDLGFBQWEsUUFBUSxFQUFFOztBQUV4QixDQUFDLEVBQUUsdUlBQXVJO0FBQzFJO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLENBQUMsYUFBYSxRQUFRLEVBQUU7O0FBRXhCLENBQUMsRUFBRSxtRUFBbUU7QUFDdEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxDQUFDLEVBQUUsc0ZBQXNGO0FBQ3pGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyxhQUFhLFFBQVEsRUFBRSwwSEFBMEg7O0FBRWxKLENBQUMsRUFBRSxzSEFBc0g7QUFDekg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLENBQUMsYUFBYSxRQUFRLEVBQUU7O0FBRXhCLENBQUMsRUFBRSx3TkFBd047QUFDM047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUMscUlBQXFJOztBQUV0SSxDQUFDLEdBQUc7QUFDSjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxnREFBZ0QsV0FBVztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBOztBQUVBOztBQUVBOztBQUVBLENBQUMsYUFBYSxRQUFRLEVBQUUsMEhBQTBIOztBQUVsSixDQUFDLEVBQUUsZ0ZBQWdGO0FBQ25GO0FBQ0E7O0FBRUEsQ0FBQyxxSUFBcUk7O0FBRXRJLENBQUMsR0FBRztBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBOztBQUVBLENBQUMscUlBQXFJOztBQUV0SSxDQUFDLEdBQUc7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxDQUFDLEVBQUUsd0dBQXdHO0FBQzNHOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBLENBQUMsRUFBRSxxRkFBcUY7QUFDeEY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyxhQUFhLFFBQVEsRUFBRTs7QUFFeEIsQ0FBQyxFQUFFLCtJQUErSTtBQUNsSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyxxSUFBcUk7O0FBRXRJLENBQUMsRUFBRSxtRkFBbUY7QUFDdEY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLENBQUMsYUFBYSxRQUFRLEVBQUU7O0FBRXhCLENBQUMsRUFBRSxxRUFBcUU7QUFDeEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxDQUFDLGFBQWEsUUFBUSxFQUFFOztBQUV4QixDQUFDLEVBQUUsb0NBQW9DO0FBQ3ZDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlGQUF5Rjs7QUFFekY7O0FBRUE7QUFDQTs7QUFFQSxDQUFDLHFJQUFxSTs7QUFFdEksQ0FBQyxFQUFFLHFEQUFxRDtBQUN4RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLENBQUMsYUFBYSxRQUFRLEVBQUU7O0FBRXhCLENBQUMsRUFBRSxvQ0FBb0M7QUFDdkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyxhQUFhLFFBQVEsRUFBRTs7QUFFeEIsQ0FBQyxFQUFFLG9GQUFvRjtBQUN2RjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBLENBQUMsYUFBYSxRQUFRLEVBQUU7O0FBRXhCLENBQUMsRUFBRSxxREFBcUQ7QUFDeEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxDQUFDLGFBQWEsUUFBUSxFQUFFLDBIQUEwSDs7QUFFbEosQ0FBQyxFQUFFLHlHQUF5RztBQUM1RztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYzs7QUFFZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsMEJBQTBCLHFEQUFxRCxtQkFBbUIsV0FBVztBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLENBQUMsYUFBYSxRQUFRLEVBQUUsMEhBQTBIOztBQUVsSixDQUFDLEVBQUUsa0lBQWtJO0FBQ3JJO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLEVBQUU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLENBQUMsYUFBYSxRQUFRLEVBQUU7O0FBRXhCLENBQUMsRUFBRSxvQ0FBb0M7QUFDdkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFXO0FBQ2Q7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDLHFJQUFxSTs7QUFFdEksQ0FBQyxFQUFFLGNBQWM7QUFDakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFD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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG9EQUFvRDtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQiw0QkFBNEI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIseUJBQXlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLE9BQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsT0FBTztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxPQUFPO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLG1CQUFtQjtBQUNyQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsaUJBQWlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFFBQVE7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsTUFBTTtBQUNoQjtBQUNB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QUFQO0FBQ0Q7O0FBRUQsU0FBT0EsSUFBUDtBQUNELENBWEQ7O0FBYWVySCxxRUFBZixFOzs7Ozs7Ozs7Ozs7QUNyQkE7QUFBQTs7Ozs7O0FBTUEsSUFBTW1KLGNBQWMsR0FBRyxTQUFqQkEsY0FBaUIsQ0FBVXZDLEdBQVYsRUFBZXczQixPQUFmLEVBQXdCO0FBQzdDLFNBQVF4M0IsR0FBRyxDQUFDaEksT0FBSixDQUFZdy9CLE9BQVosSUFBdUIsQ0FBQyxDQUFoQztBQUNELENBRkQ7O0FBSWVqMUIsNkVBQWYsRTs7Ozs7Ozs7Ozs7O0FDVkE7QUFBQTs7Ozs7O0FBTUEsSUFBTXdlLFNBQVMsR0FBRyxTQUFaQSxTQUFZLENBQVUwVyxJQUFWLEVBQWdCO0FBQ2hDLE1BQUl6SSxHQUFHLEdBQUc5MEIsUUFBUSxDQUFDa1AsYUFBVCxDQUF1QixLQUF2QixDQUFWO0FBQ0E0bEIsS0FBRyxDQUFDempCLFNBQUosR0FBZ0Jrc0IsSUFBaEI7QUFDQSxTQUFPekksR0FBRyxDQUFDMEksV0FBSixJQUFtQjFJLEdBQUcsQ0FBQzJJLFNBQXZCLElBQW9DLEVBQTNDO0FBQ0QsQ0FKRDs7QUFNZTVXLHdFQUFmLEU7Ozs7Ozs7Ozs7OztBQ1pBO0FBQUEsSUFBTWtXLElBQUksR0FBRyxTQUFQQSxJQUFPLENBQVVXLE1BQVYsRUFBa0I7QUFDN0IsU0FBT0EsTUFBTSxDQUFDei9CLE9BQVAsQ0FBZSxZQUFmLEVBQTZCLEVBQTdCLENBQVA7QUFDRCxDQUZEOztBQUllOCtCLG1FQUFmLEUiLCJmaWxlIjoibGVhZGVyYm9hcmQudjMtc2VsZmluaXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMik7XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBhbnNpSFRNTFxuXG4vLyBSZWZlcmVuY2UgdG8gaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9hbnNpLXJlZ2V4XG52YXIgX3JlZ0FOU0kgPSAvKD86KD86XFx1MDAxYlxcWyl8XFx1MDA5YikoPzooPzpbMC05XXsxLDN9KT8oPzooPzo7WzAtOV17MCwzfSkqKT9bQS1NfGYtbV0pfFxcdTAwMWJbQS1NXS9cblxudmFyIF9kZWZDb2xvcnMgPSB7XG4gIHJlc2V0OiBbJ2ZmZicsICcwMDAnXSwgLy8gW0ZPUkVHUk9VRF9DT0xPUiwgQkFDS0dST1VORF9DT0xPUl1cbiAgYmxhY2s6ICcwMDAnLFxuICByZWQ6ICdmZjAwMDAnLFxuICBncmVlbjogJzIwOTgwNScsXG4gIHllbGxvdzogJ2U4YmYwMycsXG4gIGJsdWU6ICcwMDAwZmYnLFxuICBtYWdlbnRhOiAnZmYwMGZmJyxcbiAgY3lhbjogJzAwZmZlZScsXG4gIGxpZ2h0Z3JleTogJ2YwZjBmMCcsXG4gIGRhcmtncmV5OiAnODg4J1xufVxudmFyIF9zdHlsZXMgPSB7XG4gIDMwOiAnYmxhY2snLFxuICAzMTogJ3JlZCcsXG4gIDMyOiAnZ3JlZW4nLFxuICAzMzogJ3llbGxvdycsXG4gIDM0OiAnYmx1ZScsXG4gIDM1OiAnbWFnZW50YScsXG4gIDM2OiAnY3lhbicsXG4gIDM3OiAnbGlnaHRncmV5J1xufVxudmFyIF9vcGVuVGFncyA9IHtcbiAgJzEnOiAnZm9udC13ZWlnaHQ6Ym9sZCcsIC8vIGJvbGRcbiAgJzInOiAnb3BhY2l0eTowLjUnLCAvLyBkaW1cbiAgJzMnOiAnPGk+JywgLy8gaXRhbGljXG4gICc0JzogJzx1PicsIC8vIHVuZGVyc2NvcmVcbiAgJzgnOiAnZGlzcGxheTpub25lJywgLy8gaGlkZGVuXG4gICc5JzogJzxkZWw+JyAvLyBkZWxldGVcbn1cbnZhciBfY2xvc2VUYWdzID0ge1xuICAnMjMnOiAnPC9pPicsIC8vIHJlc2V0IGl0YWxpY1xuICAnMjQnOiAnPC91PicsIC8vIHJlc2V0IHVuZGVyc2NvcmVcbiAgJzI5JzogJzwvZGVsPicgLy8gcmVzZXQgZGVsZXRlXG59XG5cbjtbMCwgMjEsIDIyLCAyNywgMjgsIDM5LCA0OV0uZm9yRWFjaChmdW5jdGlvbiAobikge1xuICBfY2xvc2VUYWdzW25dID0gJzwvc3Bhbj4nXG59KVxuXG4vKipcbiAqIENvbnZlcnRzIHRleHQgd2l0aCBBTlNJIGNvbG9yIGNvZGVzIHRvIEhUTUwgbWFya3VwLlxuICogQHBhcmFtIHtTdHJpbmd9IHRleHRcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBhbnNpSFRNTCAodGV4dCkge1xuICAvLyBSZXR1cm5zIHRoZSB0ZXh0IGlmIHRoZSBzdHJpbmcgaGFzIG5vIEFOU0kgZXNjYXBlIGNvZGUuXG4gIGlmICghX3JlZ0FOU0kudGVzdCh0ZXh0KSkge1xuICAgIHJldHVybiB0ZXh0XG4gIH1cblxuICAvLyBDYWNoZSBvcGVuZWQgc2VxdWVuY2UuXG4gIHZhciBhbnNpQ29kZXMgPSBbXVxuICAvLyBSZXBsYWNlIHdpdGggbWFya3VwLlxuICB2YXIgcmV0ID0gdGV4dC5yZXBsYWNlKC9cXDAzM1xcWyhcXGQrKSptL2csIGZ1bmN0aW9uIChtYXRjaCwgc2VxKSB7XG4gICAgdmFyIG90ID0gX29wZW5UYWdzW3NlcV1cbiAgICBpZiAob3QpIHtcbiAgICAgIC8vIElmIGN1cnJlbnQgc2VxdWVuY2UgaGFzIGJlZW4gb3BlbmVkLCBjbG9zZSBpdC5cbiAgICAgIGlmICghIX5hbnNpQ29kZXMuaW5kZXhPZihzZXEpKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXh0cmEtYm9vbGVhbi1jYXN0XG4gICAgICAgIGFuc2lDb2Rlcy5wb3AoKVxuICAgICAgICByZXR1cm4gJzwvc3Bhbj4nXG4gICAgICB9XG4gICAgICAvLyBPcGVuIHRhZy5cbiAgICAgIGFuc2lDb2Rlcy5wdXNoKHNlcSlcbiAgICAgIHJldHVybiBvdFswXSA9PT0gJzwnID8gb3QgOiAnPHNwYW4gc3R5bGU9XCInICsgb3QgKyAnO1wiPidcbiAgICB9XG5cbiAgICB2YXIgY3QgPSBfY2xvc2VUYWdzW3NlcV1cbiAgICBpZiAoY3QpIHtcbiAgICAgIC8vIFBvcCBzZXF1ZW5jZVxuICAgICAgYW5zaUNvZGVzLnBvcCgpXG4gICAgICByZXR1cm4gY3RcbiAgICB9XG4gICAgcmV0dXJuICcnXG4gIH0pXG5cbiAgLy8gTWFrZSBzdXJlIHRhZ3MgYXJlIGNsb3NlZC5cbiAgdmFyIGwgPSBhbnNpQ29kZXMubGVuZ3RoXG4gIDsobCA+IDApICYmIChyZXQgKz0gQXJyYXkobCArIDEpLmpvaW4oJzwvc3Bhbj4nKSlcblxuICByZXR1cm4gcmV0XG59XG5cbi8qKlxuICogQ3VzdG9taXplIGNvbG9ycy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb2xvcnMgcmVmZXJlbmNlIHRvIF9kZWZDb2xvcnNcbiAqL1xuYW5zaUhUTUwuc2V0Q29sb3JzID0gZnVuY3Rpb24gKGNvbG9ycykge1xuICBpZiAodHlwZW9mIGNvbG9ycyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2Bjb2xvcnNgIHBhcmFtZXRlciBtdXN0IGJlIGFuIE9iamVjdC4nKVxuICB9XG5cbiAgdmFyIF9maW5hbENvbG9ycyA9IHt9XG4gIGZvciAodmFyIGtleSBpbiBfZGVmQ29sb3JzKSB7XG4gICAgdmFyIGhleCA9IGNvbG9ycy5oYXNPd25Qcm9wZXJ0eShrZXkpID8gY29sb3JzW2tleV0gOiBudWxsXG4gICAgaWYgKCFoZXgpIHtcbiAgICAgIF9maW5hbENvbG9yc1trZXldID0gX2RlZkNvbG9yc1trZXldXG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICBpZiAoJ3Jlc2V0JyA9PT0ga2V5KSB7XG4gICAgICBpZiAodHlwZW9mIGhleCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaGV4ID0gW2hleF1cbiAgICAgIH1cbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShoZXgpIHx8IGhleC5sZW5ndGggPT09IDAgfHwgaGV4LnNvbWUoZnVuY3Rpb24gKGgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBoICE9PSAnc3RyaW5nJ1xuICAgICAgfSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgdmFsdWUgb2YgYCcgKyBrZXkgKyAnYCBwcm9wZXJ0eSBtdXN0IGJlIGFuIEFycmF5IGFuZCBlYWNoIGl0ZW0gY291bGQgb25seSBiZSBhIGhleCBzdHJpbmcsIGUuZy46IEZGMDAwMCcpXG4gICAgICB9XG4gICAgICB2YXIgZGVmSGV4Q29sb3IgPSBfZGVmQ29sb3JzW2tleV1cbiAgICAgIGlmICghaGV4WzBdKSB7XG4gICAgICAgIGhleFswXSA9IGRlZkhleENvbG9yWzBdXG4gICAgICB9XG4gICAgICBpZiAoaGV4Lmxlbmd0aCA9PT0gMSB8fCAhaGV4WzFdKSB7XG4gICAgICAgIGhleCA9IFtoZXhbMF1dXG4gICAgICAgIGhleC5wdXNoKGRlZkhleENvbG9yWzFdKVxuICAgICAgfVxuXG4gICAgICBoZXggPSBoZXguc2xpY2UoMCwgMilcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBoZXggIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSB2YWx1ZSBvZiBgJyArIGtleSArICdgIHByb3BlcnR5IG11c3QgYmUgYSBoZXggc3RyaW5nLCBlLmcuOiBGRjAwMDAnKVxuICAgIH1cbiAgICBfZmluYWxDb2xvcnNba2V5XSA9IGhleFxuICB9XG4gIF9zZXRUYWdzKF9maW5hbENvbG9ycylcbn1cblxuLyoqXG4gKiBSZXNldCBjb2xvcnMuXG4gKi9cbmFuc2lIVE1MLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICBfc2V0VGFncyhfZGVmQ29sb3JzKVxufVxuXG4vKipcbiAqIEV4cG9zZSB0YWdzLCBpbmNsdWRpbmcgb3BlbiBhbmQgY2xvc2UuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5hbnNpSFRNTC50YWdzID0ge31cblxuaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYW5zaUhUTUwudGFncywgJ29wZW4nLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfb3BlblRhZ3MgfVxuICB9KVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYW5zaUhUTUwudGFncywgJ2Nsb3NlJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX2Nsb3NlVGFncyB9XG4gIH0pXG59IGVsc2Uge1xuICBhbnNpSFRNTC50YWdzLm9wZW4gPSBfb3BlblRhZ3NcbiAgYW5zaUhUTUwudGFncy5jbG9zZSA9IF9jbG9zZVRhZ3Ncbn1cblxuZnVuY3Rpb24gX3NldFRhZ3MgKGNvbG9ycykge1xuICAvLyByZXNldCBhbGxcbiAgX29wZW5UYWdzWycwJ10gPSAnZm9udC13ZWlnaHQ6bm9ybWFsO29wYWNpdHk6MTtjb2xvcjojJyArIGNvbG9ycy5yZXNldFswXSArICc7YmFja2dyb3VuZDojJyArIGNvbG9ycy5yZXNldFsxXVxuICAvLyBpbnZlcnNlXG4gIF9vcGVuVGFnc1snNyddID0gJ2NvbG9yOiMnICsgY29sb3JzLnJlc2V0WzFdICsgJztiYWNrZ3JvdW5kOiMnICsgY29sb3JzLnJlc2V0WzBdXG4gIC8vIGRhcmsgZ3JleVxuICBfb3BlblRhZ3NbJzkwJ10gPSAnY29sb3I6IycgKyBjb2xvcnMuZGFya2dyZXlcblxuICBmb3IgKHZhciBjb2RlIGluIF9zdHlsZXMpIHtcbiAgICB2YXIgY29sb3IgPSBfc3R5bGVzW2NvZGVdXG4gICAgdmFyIG9yaUNvbG9yID0gY29sb3JzW2NvbG9yXSB8fCAnMDAwJ1xuICAgIF9vcGVuVGFnc1tjb2RlXSA9ICdjb2xvcjojJyArIG9yaUNvbG9yXG4gICAgY29kZSA9IHBhcnNlSW50KGNvZGUpXG4gICAgX29wZW5UYWdzWyhjb2RlICsgMTApLnRvU3RyaW5nKCldID0gJ2JhY2tncm91bmQ6IycgKyBvcmlDb2xvclxuICB9XG59XG5cbmFuc2lIVE1MLnJlc2V0KClcbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5leHBvcnRzLnRvQnl0ZUFycmF5ID0gdG9CeXRlQXJyYXlcbmV4cG9ydHMuZnJvbUJ5dGVBcnJheSA9IGZyb21CeXRlQXJyYXlcblxudmFyIGxvb2t1cCA9IFtdXG52YXIgcmV2TG9va3VwID0gW11cbnZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXlcblxudmFyIGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLydcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV1cbiAgcmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV0gPSBpXG59XG5cbi8vIFN1cHBvcnQgZGVjb2RpbmcgVVJMLXNhZmUgYmFzZTY0IHN0cmluZ3MsIGFzIE5vZGUuanMgZG9lcy5cbi8vIFNlZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0I1VSTF9hcHBsaWNhdGlvbnNcbnJldkxvb2t1cFsnLScuY2hhckNvZGVBdCgwKV0gPSA2MlxucmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzXG5cbmZ1bmN0aW9uIGdldExlbnMgKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuXG4gIGlmIChsZW4gJSA0ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG4gIH1cblxuICAvLyBUcmltIG9mZiBleHRyYSBieXRlcyBhZnRlciBwbGFjZWhvbGRlciBieXRlcyBhcmUgZm91bmRcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvaXNzdWVzLzQyXG4gIHZhciB2YWxpZExlbiA9IGI2NC5pbmRleE9mKCc9JylcbiAgaWYgKHZhbGlkTGVuID09PSAtMSkgdmFsaWRMZW4gPSBsZW5cblxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gdmFsaWRMZW4gPT09IGxlblxuICAgID8gMFxuICAgIDogNCAtICh2YWxpZExlbiAlIDQpXG5cbiAgcmV0dXJuIFt2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuXVxufVxuXG4vLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiBfYnl0ZUxlbmd0aCAoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSB7XG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuXG4gIHZhciBhcnIgPSBuZXcgQXJyKF9ieXRlTGVuZ3RoKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikpXG5cbiAgdmFyIGN1ckJ5dGUgPSAwXG5cbiAgLy8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuICB2YXIgbGVuID0gcGxhY2VIb2xkZXJzTGVuID4gMFxuICAgID8gdmFsaWRMZW4gLSA0XG4gICAgOiB2YWxpZExlblxuXG4gIHZhciBpXG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDEyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfFxuICAgICAgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV1cbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gMTYpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDIpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAxKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDEwKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgNCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDEyICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gNiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtICYgMHgzRl1cbn1cblxuZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG4gIHZhciB0bXBcbiAgdmFyIG91dHB1dCA9IFtdXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID1cbiAgICAgICgodWludDhbaV0gPDwgMTYpICYgMHhGRjAwMDApICtcbiAgICAgICgodWludDhbaSArIDFdIDw8IDgpICYgMHhGRjAwKSArXG4gICAgICAodWludDhbaSArIDJdICYgMHhGRilcbiAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSlcbiAgfVxuICByZXR1cm4gb3V0cHV0LmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGZyb21CeXRlQXJyYXkgKHVpbnQ4KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbiA9IHVpbnQ4Lmxlbmd0aFxuICB2YXIgZXh0cmFCeXRlcyA9IGxlbiAlIDMgLy8gaWYgd2UgaGF2ZSAxIGJ5dGUgbGVmdCwgcGFkIDIgYnl0ZXNcbiAgdmFyIHBhcnRzID0gW11cbiAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODMgLy8gbXVzdCBiZSBtdWx0aXBsZSBvZiAzXG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVDaHVuayhcbiAgICAgIHVpbnQ4LCBpLCAoaSArIG1heENodW5rTGVuZ3RoKSA+IGxlbjIgPyBsZW4yIDogKGkgKyBtYXhDaHVua0xlbmd0aClcbiAgICApKVxuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXSArXG4gICAgICAnPT0nXG4gICAgKVxuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDEwXSArXG4gICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl0gK1xuICAgICAgJz0nXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG4iLCIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgVXNlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogRHVlIHRvIHZhcmlvdXMgYnJvd3NlciBidWdzLCBzb21ldGltZXMgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiB3aWxsIGJlIHVzZWQgZXZlblxuICogd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0eXBlZCBhcnJheXMuXG4gKlxuICogTm90ZTpcbiAqXG4gKiAgIC0gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLFxuICogICAgIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4LlxuICpcbiAqICAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuICpcbiAqICAgLSBJRTEwIGhhcyBhIGJyb2tlbiBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYXJyYXlzIG9mXG4gKiAgICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG5cbiAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGAgdG8gYGZhbHNlYCBzbyB0aGV5XG4gKiBnZXQgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaXMgc2xvd2VyIGJ1dCBiZWhhdmVzIGNvcnJlY3RseS5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVCAhPT0gdW5kZWZpbmVkXG4gID8gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgOiB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbi8qXG4gKiBFeHBvcnQga01heExlbmd0aCBhZnRlciB0eXBlZCBhcnJheSBzdXBwb3J0IGlzIGRldGVybWluZWQuXG4gKi9cbmV4cG9ydHMua01heExlbmd0aCA9IGtNYXhMZW5ndGgoKVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgYXJyLl9fcHJvdG9fXyA9IHtfX3Byb3RvX186IFVpbnQ4QXJyYXkucHJvdG90eXBlLCBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH19XG4gICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcbiAgICAgICAgdHlwZW9mIGFyci5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJyAmJiAvLyBjaHJvbWUgOS0xMCBsYWNrIGBzdWJhcnJheWBcbiAgICAgICAgYXJyLnN1YmFycmF5KDEsIDEpLmJ5dGVMZW5ndGggPT09IDAgLy8gaWUxMCBoYXMgYnJva2VuIGBzdWJhcnJheWBcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIGtNYXhMZW5ndGggKCkge1xuICByZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgICA/IDB4N2ZmZmZmZmZcbiAgICA6IDB4M2ZmZmZmZmZcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyICh0aGF0LCBsZW5ndGgpIHtcbiAgaWYgKGtNYXhMZW5ndGgoKSA8IGxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCcpXG4gIH1cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgaWYgKHRoYXQgPT09IG51bGwpIHtcbiAgICAgIHRoYXQgPSBuZXcgQnVmZmVyKGxlbmd0aClcbiAgICB9XG4gICAgdGhhdC5sZW5ndGggPSBsZW5ndGhcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBoYXZlIHRoZWlyXG4gKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mXG4gKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzXG4gKiBhbmQgdGhlIGBVaW50OEFycmF5YCBtZXRob2RzLiBTcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdFxuICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBUaGUgYFVpbnQ4QXJyYXlgIHByb3RvdHlwZSByZW1haW5zIHVubW9kaWZpZWQuXG4gKi9cblxuZnVuY3Rpb24gQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmICEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZydcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKHRoaXMsIGFyZylcbiAgfVxuICByZXR1cm4gZnJvbSh0aGlzLCBhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbi8vIFRPRE86IExlZ2FjeSwgbm90IG5lZWRlZCBhbnltb3JlLiBSZW1vdmUgaW4gbmV4dCBtYWpvciB2ZXJzaW9uLlxuQnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikge1xuICBhcnIuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIGZyb20gKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICByZXR1cm4gZnJvbU9iamVjdCh0aGF0LCB2YWx1ZSlcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbShudWxsLCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5pZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgQnVmZmVyLnByb3RvdHlwZS5fX3Byb3RvX18gPSBVaW50OEFycmF5LnByb3RvdHlwZVxuICBCdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnNwZWNpZXMgJiZcbiAgICAgIEJ1ZmZlcltTeW1ib2wuc3BlY2llc10gPT09IEJ1ZmZlcikge1xuICAgIC8vIEZpeCBzdWJhcnJheSgpIGluIEVTMjAxNi4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzk3XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlciwgU3ltYm9sLnNwZWNpZXMsIHtcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpXG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsb2MgKHRoYXQsIHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgaWYgKHNpemUgPD0gMCkge1xuICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbiAgfVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcbiAgICAvLyBwcmV2ZW50cyBhY2NpZGVudGFsbHkgc2VuZGluZyBpbiBhIG51bWJlciB0aGF0IHdvdWxkXG4gICAgLy8gYmUgaW50ZXJwcmV0dGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxuICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG4gICAgICA/IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgICAgOiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsKVxuICB9XG4gIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG4gKiovXG5CdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGFsbG9jKG51bGwsIHNpemUsIGZpbGwsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBhbGxvY1Vuc2FmZSAodGhhdCwgc2l6ZSkge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7ICsraSkge1xuICAgICAgdGhhdFtpXSA9IDBcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nICh0aGF0LCBzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gIH1cblxuICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJylcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcblxuICB2YXIgYWN0dWFsID0gdGhhdC53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXG4gIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuXG4gICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG4gICAgdGhhdCA9IHRoYXQuc2xpY2UoMCwgYWN0dWFsKVxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAodGhhdCwgYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAodGhhdCwgYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBhcnJheS5ieXRlTGVuZ3RoIC8vIHRoaXMgdGhyb3dzIGlmIGBhcnJheWAgaXMgbm90IGEgdmFsaWQgQXJyYXlCdWZmZXJcblxuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnb2Zmc2V0XFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdsZW5ndGhcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IGFycmF5XG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIHRoYXQgPSBmcm9tQXJyYXlMaWtlKHRoYXQsIGFycmF5KVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21PYmplY3QgKHRoYXQsIG9iaikge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iaikpIHtcbiAgICB2YXIgbGVuID0gY2hlY2tlZChvYmoubGVuZ3RoKSB8IDBcbiAgICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbilcblxuICAgIGlmICh0aGF0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoYXRcbiAgICB9XG5cbiAgICBvYmouY29weSh0aGF0LCAwLCAwLCBsZW4pXG4gICAgcmV0dXJuIHRoYXRcbiAgfVxuXG4gIGlmIChvYmopIHtcbiAgICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fCAnbGVuZ3RoJyBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgaXNuYW4ob2JqLmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCAwKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqKVxuICAgIH1cblxuICAgIGlmIChvYmoudHlwZSA9PT0gJ0J1ZmZlcicgJiYgaXNBcnJheShvYmouZGF0YSkpIHtcbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iai5kYXRhKVxuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4nKVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwga01heExlbmd0aCgpYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IGtNYXhMZW5ndGgoKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBrTWF4TGVuZ3RoKCkudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDBcbiAgfVxuICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG4gIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpXG59XG5cbkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhKSB8fCAhQnVmZmVyLmlzQnVmZmVyKGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIG11c3QgYmUgQnVmZmVycycpXG4gIH1cblxuICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcblxuICB2YXIgeCA9IGEubGVuZ3RoXG4gIHZhciB5ID0gYi5sZW5ndGhcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXVxuICAgICAgeSA9IGJbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG5CdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcbiAgaWYgKCFpc0FycmF5KGxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcbiAgfVxuXG4gIHZhciBpXG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgbGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgdmFyIGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpXG4gIHZhciBwb3MgPSAwXG4gIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGJ1ZiA9IGxpc3RbaV1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBzdHJpbmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICBzdHJpbmcgPSAnJyArIHN0cmluZ1xuICB9XG5cbiAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiBsZW4gKiAyXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gbGVuID4+PiAxXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjhcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2Vyc2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGUgcHJvcGVydHkgaXMgdXNlZCBieSBgQnVmZmVyLmlzQnVmZmVyYCBhbmQgYGlzLWJ1ZmZlcmAgKGluIFNhZmFyaSA1LTcpIHRvIGRldGVjdFxuLy8gQnVmZmVyIGluc3RhbmNlcy5cbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIHZhciBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfCAwXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKCcgJylcbiAgICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG4gIH1cbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIHZhciB5ID0gZW5kIC0gc3RhcnRcbiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIHZhciB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAgLy8gQ29lcmNlIHRvIE51bWJlci5cbiAgaWYgKGlzTmFOKGJ5dGVPZmZzZXQpKSB7XG4gICAgLy8gYnl0ZU9mZnNldDogaXQgaXQncyB1bmRlZmluZWQsIG51bGwsIE5hTiwgXCJmb29cIiwgZXRjLCBzZWFyY2ggd2hvbGUgYnVmZmVyXG4gICAgYnl0ZU9mZnNldCA9IGRpciA/IDAgOiAoYnVmZmVyLmxlbmd0aCAtIDEpXG4gIH1cblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldFxuICBpZiAoYnl0ZU9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgaWYgKGRpcikgcmV0dXJuIC0xXG4gICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDFcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgMCkge1xuICAgIGlmIChkaXIpIGJ5dGVPZmZzZXQgPSAwXG4gICAgZWxzZSByZXR1cm4gLTFcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSB2YWxcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsID0gQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuICAgIC8vIFNwZWNpYWwgY2FzZTogbG9va2luZyBmb3IgZW1wdHkgc3RyaW5nL2J1ZmZlciBhbHdheXMgZmFpbHNcbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAweEZGIC8vIFNlYXJjaCBmb3IgYSBieXRlIHZhbHVlIFswLTI1NV1cbiAgICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiZcbiAgICAgICAgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgWyB2YWwgXSwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpXG59XG5cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZiAoYXJyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgdmFyIGluZGV4U2l6ZSA9IDFcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGhcbiAgdmFyIHZhbExlbmd0aCA9IHZhbC5sZW5ndGhcblxuICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcbiAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgaW5kZXhTaXplID0gMlxuICAgICAgYXJyTGVuZ3RoIC89IDJcbiAgICAgIHZhbExlbmd0aCAvPSAyXG4gICAgICBieXRlT2Zmc2V0IC89IDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkIChidWYsIGkpIHtcbiAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG4gICAgICByZXR1cm4gYnVmW2ldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG4gICAgfVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGRpcikge1xuICAgIHZhciBmb3VuZEluZGV4ID0gLTFcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcbiAgICAgICAgZm91bmRJbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBmb3VuZCA9IHRydWVcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuICAgICAgICAgIGZvdW5kID0gZmFsc2VcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxufVxuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgdmFyIHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuXG4gIC8vIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgZGlnaXRzXG4gIHZhciBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChzdHJMZW4gJSAyICE9PSAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuICAgIGlmIChpc05hTihwYXJzZWQpKSByZXR1cm4gaVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gbGF0aW4xV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggfCAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgLy8gbGVnYWN5IHdyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKSAtIHJlbW92ZSBpbiB2MC4xM1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIHZhciByZXMgPSBbXVxuXG4gIHZhciBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGxcbiAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKSA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikgPyAyXG4gICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIHZhciBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbnZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgdmFyIHJlcyA9ICcnXG4gIHZhciBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyBieXRlc1tpICsgMV0gKiAyNTYpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgdmFyIG5ld0J1ZlxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBuZXdCdWYgPSB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpXG4gICAgbmV3QnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICB2YXIgc2xpY2VMZW4gPSBlbmQgLSBzdGFydFxuICAgIG5ld0J1ZiA9IG5ldyBCdWZmZXIoc2xpY2VMZW4sIHVuZGVmaW5lZClcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyArK2kpIHtcbiAgICAgIG5ld0J1ZltpXSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdCdWZcbn1cblxuLypcbiAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuICovXG5mdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIHZhciBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArXG4gICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgIHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoXG4gIHZhciBtdWwgPSAxXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pXG4gIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24gcmVhZEludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdKSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10gPDwgMjQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkUgPSBmdW5jdGlvbiByZWFkSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCAyKTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG4gICAgICAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSAqIDhcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgNCk7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgPj4+IChsaXR0bGVFbmRpYW4gPyBpIDogMyAtIGkpICogOCkgJiAweGZmXG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gMFxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIGlmICghc3RhcnQpIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcbiAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwXG4gIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcbiAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cbiAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICB9XG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG4gIHZhciBpXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yIChpID0gbGVuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2UgaWYgKGxlbiA8IDEwMDAgfHwgIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gYXNjZW5kaW5nIGNvcHkgZnJvbSBzdGFydFxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoY29kZSA8IDI1Nikge1xuICAgICAgICB2YWwgPSBjb2RlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1XG4gIH1cblxuICAvLyBJbnZhbGlkIHJhbmdlcyBhcmUgbm90IHNldCB0byBhIGRlZmF1bHQsIHNvIGNhbiByYW5nZSBjaGVjayBlYXJseS5cbiAgaWYgKHN0YXJ0IDwgMCB8fCB0aGlzLmxlbmd0aCA8IHN0YXJ0IHx8IHRoaXMubGVuZ3RoIDwgZW5kKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHN0YXJ0ID0gc3RhcnQgPj4+IDBcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGVuZCA+Pj4gMFxuXG4gIGlmICghdmFsKSB2YWwgPSAwXG5cbiAgdmFyIGlcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgdGhpc1tpXSA9IHZhbFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKVxuICAgICAgPyB2YWxcbiAgICAgIDogdXRmOFRvQnl0ZXMobmV3IEJ1ZmZlcih2YWwsIGVuY29kaW5nKS50b1N0cmluZygpKVxuICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09XG5cbnZhciBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXitcXC8wLTlBLVphLXotX10vZ1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHJpbmd0cmltKHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpXG4gIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcbiAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG4gIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbn1cblxuZnVuY3Rpb24gdG9IZXggKG4pIHtcbiAgaWYgKG4gPCAxNikgcmV0dXJuICcwJyArIG4udG9TdHJpbmcoMTYpXG4gIHJldHVybiBuLnRvU3RyaW5nKDE2KVxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIHZhciBjb2RlUG9pbnRcbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIHZhciBieXRlcyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cbiAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcbiAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gbm8gbGVhZCB5ZXRcbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhbGlkIGxlYWRcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3dcbiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcbiAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIHZhciBjLCBoaSwgbG9cbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiBpc25hbiAodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IHZhbCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxufVxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLm9uY2UgPSBvbmNlO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZXZlbnRMaXN0ZW5lcigpIHtcbiAgICAgIGlmIChlcnJvckxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuICAgIHZhciBlcnJvckxpc3RlbmVyO1xuXG4gICAgLy8gQWRkaW5nIGFuIGVycm9yIGxpc3RlbmVyIGlzIG5vdCBvcHRpb25hbCBiZWNhdXNlXG4gICAgLy8gaWYgYW4gZXJyb3IgaXMgdGhyb3duIG9uIGFuIGV2ZW50IGVtaXR0ZXIgd2UgY2Fubm90XG4gICAgLy8gZ3VhcmFudGVlIHRoYXQgdGhlIGFjdHVhbCBldmVudCB3ZSBhcmUgd2FpdGluZyB3aWxsXG4gICAgLy8gYmUgZmlyZWQuIFRoZSByZXN1bHQgY291bGQgYmUgYSBzaWxlbnQgd2F5IHRvIGNyZWF0ZVxuICAgIC8vIG1lbW9yeSBvciBmaWxlIGRlc2NyaXB0b3IgbGVha3MsIHdoaWNoIGlzIHNvbWV0aGluZ1xuICAgIC8vIHdlIHNob3VsZCBhdm9pZC5cbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgZXJyb3JMaXN0ZW5lciA9IGZ1bmN0aW9uIGVycm9yTGlzdGVuZXIoZXJyKSB7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgZXZlbnRMaXN0ZW5lcik7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfTtcblxuICAgICAgZW1pdHRlci5vbmNlKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgIH1cblxuICAgIGVtaXR0ZXIub25jZShuYW1lLCBldmVudExpc3RlbmVyKTtcbiAgfSk7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBIVE1MX0FMUEhBID0gWydhcG9zJywgJ25ic3AnLCAnaWV4Y2wnLCAnY2VudCcsICdwb3VuZCcsICdjdXJyZW4nLCAneWVuJywgJ2JydmJhcicsICdzZWN0JywgJ3VtbCcsICdjb3B5JywgJ29yZGYnLCAnbGFxdW8nLCAnbm90JywgJ3NoeScsICdyZWcnLCAnbWFjcicsICdkZWcnLCAncGx1c21uJywgJ3N1cDInLCAnc3VwMycsICdhY3V0ZScsICdtaWNybycsICdwYXJhJywgJ21pZGRvdCcsICdjZWRpbCcsICdzdXAxJywgJ29yZG0nLCAncmFxdW8nLCAnZnJhYzE0JywgJ2ZyYWMxMicsICdmcmFjMzQnLCAnaXF1ZXN0JywgJ0FncmF2ZScsICdBYWN1dGUnLCAnQWNpcmMnLCAnQXRpbGRlJywgJ0F1bWwnLCAnQXJpbmcnLCAnQWVsaWcnLCAnQ2NlZGlsJywgJ0VncmF2ZScsICdFYWN1dGUnLCAnRWNpcmMnLCAnRXVtbCcsICdJZ3JhdmUnLCAnSWFjdXRlJywgJ0ljaXJjJywgJ0l1bWwnLCAnRVRIJywgJ050aWxkZScsICdPZ3JhdmUnLCAnT2FjdXRlJywgJ09jaXJjJywgJ090aWxkZScsICdPdW1sJywgJ3RpbWVzJywgJ09zbGFzaCcsICdVZ3JhdmUnLCAnVWFjdXRlJywgJ1VjaXJjJywgJ1V1bWwnLCAnWWFjdXRlJywgJ1RIT1JOJywgJ3N6bGlnJywgJ2FncmF2ZScsICdhYWN1dGUnLCAnYWNpcmMnLCAnYXRpbGRlJywgJ2F1bWwnLCAnYXJpbmcnLCAnYWVsaWcnLCAnY2NlZGlsJywgJ2VncmF2ZScsICdlYWN1dGUnLCAnZWNpcmMnLCAnZXVtbCcsICdpZ3JhdmUnLCAnaWFjdXRlJywgJ2ljaXJjJywgJ2l1bWwnLCAnZXRoJywgJ250aWxkZScsICdvZ3JhdmUnLCAnb2FjdXRlJywgJ29jaXJjJywgJ290aWxkZScsICdvdW1sJywgJ2RpdmlkZScsICdvc2xhc2gnLCAndWdyYXZlJywgJ3VhY3V0ZScsICd1Y2lyYycsICd1dW1sJywgJ3lhY3V0ZScsICd0aG9ybicsICd5dW1sJywgJ3F1b3QnLCAnYW1wJywgJ2x0JywgJ2d0JywgJ09FbGlnJywgJ29lbGlnJywgJ1NjYXJvbicsICdzY2Fyb24nLCAnWXVtbCcsICdjaXJjJywgJ3RpbGRlJywgJ2Vuc3AnLCAnZW1zcCcsICd0aGluc3AnLCAnenduaicsICd6d2onLCAnbHJtJywgJ3JsbScsICduZGFzaCcsICdtZGFzaCcsICdsc3F1bycsICdyc3F1bycsICdzYnF1bycsICdsZHF1bycsICdyZHF1bycsICdiZHF1bycsICdkYWdnZXInLCAnRGFnZ2VyJywgJ3Blcm1pbCcsICdsc2FxdW8nLCAncnNhcXVvJywgJ2V1cm8nLCAnZm5vZicsICdBbHBoYScsICdCZXRhJywgJ0dhbW1hJywgJ0RlbHRhJywgJ0Vwc2lsb24nLCAnWmV0YScsICdFdGEnLCAnVGhldGEnLCAnSW90YScsICdLYXBwYScsICdMYW1iZGEnLCAnTXUnLCAnTnUnLCAnWGknLCAnT21pY3JvbicsICdQaScsICdSaG8nLCAnU2lnbWEnLCAnVGF1JywgJ1Vwc2lsb24nLCAnUGhpJywgJ0NoaScsICdQc2knLCAnT21lZ2EnLCAnYWxwaGEnLCAnYmV0YScsICdnYW1tYScsICdkZWx0YScsICdlcHNpbG9uJywgJ3pldGEnLCAnZXRhJywgJ3RoZXRhJywgJ2lvdGEnLCAna2FwcGEnLCAnbGFtYmRhJywgJ211JywgJ251JywgJ3hpJywgJ29taWNyb24nLCAncGknLCAncmhvJywgJ3NpZ21hZicsICdzaWdtYScsICd0YXUnLCAndXBzaWxvbicsICdwaGknLCAnY2hpJywgJ3BzaScsICdvbWVnYScsICd0aGV0YXN5bScsICd1cHNpaCcsICdwaXYnLCAnYnVsbCcsICdoZWxsaXAnLCAncHJpbWUnLCAnUHJpbWUnLCAnb2xpbmUnLCAnZnJhc2wnLCAnd2VpZXJwJywgJ2ltYWdlJywgJ3JlYWwnLCAndHJhZGUnLCAnYWxlZnN5bScsICdsYXJyJywgJ3VhcnInLCAncmFycicsICdkYXJyJywgJ2hhcnInLCAnY3JhcnInLCAnbEFycicsICd1QXJyJywgJ3JBcnInLCAnZEFycicsICdoQXJyJywgJ2ZvcmFsbCcsICdwYXJ0JywgJ2V4aXN0JywgJ2VtcHR5JywgJ25hYmxhJywgJ2lzaW4nLCAnbm90aW4nLCAnbmknLCAncHJvZCcsICdzdW0nLCAnbWludXMnLCAnbG93YXN0JywgJ3JhZGljJywgJ3Byb3AnLCAnaW5maW4nLCAnYW5nJywgJ2FuZCcsICdvcicsICdjYXAnLCAnY3VwJywgJ2ludCcsICd0aGVyZTQnLCAnc2ltJywgJ2NvbmcnLCAnYXN5bXAnLCAnbmUnLCAnZXF1aXYnLCAnbGUnLCAnZ2UnLCAnc3ViJywgJ3N1cCcsICduc3ViJywgJ3N1YmUnLCAnc3VwZScsICdvcGx1cycsICdvdGltZXMnLCAncGVycCcsICdzZG90JywgJ2xjZWlsJywgJ3JjZWlsJywgJ2xmbG9vcicsICdyZmxvb3InLCAnbGFuZycsICdyYW5nJywgJ2xveicsICdzcGFkZXMnLCAnY2x1YnMnLCAnaGVhcnRzJywgJ2RpYW1zJ107XG52YXIgSFRNTF9DT0RFUyA9IFszOSwgMTYwLCAxNjEsIDE2MiwgMTYzLCAxNjQsIDE2NSwgMTY2LCAxNjcsIDE2OCwgMTY5LCAxNzAsIDE3MSwgMTcyLCAxNzMsIDE3NCwgMTc1LCAxNzYsIDE3NywgMTc4LCAxNzksIDE4MCwgMTgxLCAxODIsIDE4MywgMTg0LCAxODUsIDE4NiwgMTg3LCAxODgsIDE4OSwgMTkwLCAxOTEsIDE5MiwgMTkzLCAxOTQsIDE5NSwgMTk2LCAxOTcsIDE5OCwgMTk5LCAyMDAsIDIwMSwgMjAyLCAyMDMsIDIwNCwgMjA1LCAyMDYsIDIwNywgMjA4LCAyMDksIDIxMCwgMjExLCAyMTIsIDIxMywgMjE0LCAyMTUsIDIxNiwgMjE3LCAyMTgsIDIxOSwgMjIwLCAyMjEsIDIyMiwgMjIzLCAyMjQsIDIyNSwgMjI2LCAyMjcsIDIyOCwgMjI5LCAyMzAsIDIzMSwgMjMyLCAyMzMsIDIzNCwgMjM1LCAyMzYsIDIzNywgMjM4LCAyMzksIDI0MCwgMjQxLCAyNDIsIDI0MywgMjQ0LCAyNDUsIDI0NiwgMjQ3LCAyNDgsIDI0OSwgMjUwLCAyNTEsIDI1MiwgMjUzLCAyNTQsIDI1NSwgMzQsIDM4LCA2MCwgNjIsIDMzOCwgMzM5LCAzNTIsIDM1MywgMzc2LCA3MTAsIDczMiwgODE5NCwgODE5NSwgODIwMSwgODIwNCwgODIwNSwgODIwNiwgODIwNywgODIxMSwgODIxMiwgODIxNiwgODIxNywgODIxOCwgODIyMCwgODIyMSwgODIyMiwgODIyNCwgODIyNSwgODI0MCwgODI0OSwgODI1MCwgODM2NCwgNDAyLCA5MTMsIDkxNCwgOTE1LCA5MTYsIDkxNywgOTE4LCA5MTksIDkyMCwgOTIxLCA5MjIsIDkyMywgOTI0LCA5MjUsIDkyNiwgOTI3LCA5MjgsIDkyOSwgOTMxLCA5MzIsIDkzMywgOTM0LCA5MzUsIDkzNiwgOTM3LCA5NDUsIDk0NiwgOTQ3LCA5NDgsIDk0OSwgOTUwLCA5NTEsIDk1MiwgOTUzLCA5NTQsIDk1NSwgOTU2LCA5NTcsIDk1OCwgOTU5LCA5NjAsIDk2MSwgOTYyLCA5NjMsIDk2NCwgOTY1LCA5NjYsIDk2NywgOTY4LCA5NjksIDk3NywgOTc4LCA5ODIsIDgyMjYsIDgyMzAsIDgyNDIsIDgyNDMsIDgyNTQsIDgyNjAsIDg0NzIsIDg0NjUsIDg0NzYsIDg0ODIsIDg1MDEsIDg1OTIsIDg1OTMsIDg1OTQsIDg1OTUsIDg1OTYsIDg2MjksIDg2NTYsIDg2NTcsIDg2NTgsIDg2NTksIDg2NjAsIDg3MDQsIDg3MDYsIDg3MDcsIDg3MDksIDg3MTEsIDg3MTIsIDg3MTMsIDg3MTUsIDg3MTksIDg3MjEsIDg3MjIsIDg3MjcsIDg3MzAsIDg3MzMsIDg3MzQsIDg3MzYsIDg3NDMsIDg3NDQsIDg3NDUsIDg3NDYsIDg3NDcsIDg3NTYsIDg3NjQsIDg3NzMsIDg3NzYsIDg4MDAsIDg4MDEsIDg4MDQsIDg4MDUsIDg4MzQsIDg4MzUsIDg4MzYsIDg4MzgsIDg4MzksIDg4NTMsIDg4NTUsIDg4NjksIDg5MDEsIDg5NjgsIDg5NjksIDg5NzAsIDg5NzEsIDkwMDEsIDkwMDIsIDk2NzQsIDk4MjQsIDk4MjcsIDk4MjksIDk4MzBdO1xudmFyIGFscGhhSW5kZXggPSB7fTtcbnZhciBudW1JbmRleCA9IHt9O1xuKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGxlbmd0aCA9IEhUTUxfQUxQSEEubGVuZ3RoO1xuICAgIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBhID0gSFRNTF9BTFBIQVtpXTtcbiAgICAgICAgdmFyIGMgPSBIVE1MX0NPREVTW2ldO1xuICAgICAgICBhbHBoYUluZGV4W2FdID0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgICAgICAgbnVtSW5kZXhbY10gPSBhO1xuICAgICAgICBpKys7XG4gICAgfVxufSkoKTtcbnZhciBIdG1sNEVudGl0aWVzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEh0bWw0RW50aXRpZXMoKSB7XG4gICAgfVxuICAgIEh0bWw0RW50aXRpZXMucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgaWYgKCFzdHIgfHwgIXN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyYoIz9bXFx3XFxkXSspOz8vZywgZnVuY3Rpb24gKHMsIGVudGl0eSkge1xuICAgICAgICAgICAgdmFyIGNocjtcbiAgICAgICAgICAgIGlmIChlbnRpdHkuY2hhckF0KDApID09PSBcIiNcIikge1xuICAgICAgICAgICAgICAgIHZhciBjb2RlID0gZW50aXR5LmNoYXJBdCgxKS50b0xvd2VyQ2FzZSgpID09PSAneCcgP1xuICAgICAgICAgICAgICAgICAgICBwYXJzZUludChlbnRpdHkuc3Vic3RyKDIpLCAxNikgOlxuICAgICAgICAgICAgICAgICAgICBwYXJzZUludChlbnRpdHkuc3Vic3RyKDEpKTtcbiAgICAgICAgICAgICAgICBpZiAoIShpc05hTihjb2RlKSB8fCBjb2RlIDwgLTMyNzY4IHx8IGNvZGUgPiA2NTUzNSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hyID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaHIgPSBhbHBoYUluZGV4W2VudGl0eV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hyIHx8IHM7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSHRtbDRFbnRpdGllcy5kZWNvZGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBuZXcgSHRtbDRFbnRpdGllcygpLmRlY29kZShzdHIpO1xuICAgIH07XG4gICAgSHRtbDRFbnRpdGllcy5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICBpZiAoIXN0ciB8fCAhc3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHJMZW5ndGggPSBzdHIubGVuZ3RoO1xuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBzdHJMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IG51bUluZGV4W3N0ci5jaGFyQ29kZUF0KGkpXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSBhbHBoYSA/IFwiJlwiICsgYWxwaGEgKyBcIjtcIiA6IHN0ci5jaGFyQXQoaSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIEh0bWw0RW50aXRpZXMuZW5jb2RlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gbmV3IEh0bWw0RW50aXRpZXMoKS5lbmNvZGUoc3RyKTtcbiAgICB9O1xuICAgIEh0bWw0RW50aXRpZXMucHJvdG90eXBlLmVuY29kZU5vblVURiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgaWYgKCFzdHIgfHwgIXN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RyTGVuZ3RoID0gc3RyLmxlbmd0aDtcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgc3RyTGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgY2MgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IG51bUluZGV4W2NjXTtcbiAgICAgICAgICAgIGlmIChhbHBoYSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIiZcIiArIGFscGhhICsgXCI7XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjYyA8IDMyIHx8IGNjID4gMTI2KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiJiNcIiArIGNjICsgXCI7XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgSHRtbDRFbnRpdGllcy5lbmNvZGVOb25VVEYgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBuZXcgSHRtbDRFbnRpdGllcygpLmVuY29kZU5vblVURihzdHIpO1xuICAgIH07XG4gICAgSHRtbDRFbnRpdGllcy5wcm90b3R5cGUuZW5jb2RlTm9uQVNDSUkgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIGlmICghc3RyIHx8ICFzdHIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0ckxlbmd0aCA9IHN0ci5sZW5ndGg7XG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHN0ckxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChjIDw9IDI1NSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBzdHJbaSsrXTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCArPSAnJiMnICsgYyArICc7JztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgSHRtbDRFbnRpdGllcy5lbmNvZGVOb25BU0NJSSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIdG1sNEVudGl0aWVzKCkuZW5jb2RlTm9uQVNDSUkoc3RyKTtcbiAgICB9O1xuICAgIHJldHVybiBIdG1sNEVudGl0aWVzO1xufSgpKTtcbmV4cG9ydHMuSHRtbDRFbnRpdGllcyA9IEh0bWw0RW50aXRpZXM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFTlRJVElFUyA9IFtbJ0FhY3V0ZScsIFsxOTNdXSwgWydhYWN1dGUnLCBbMjI1XV0sIFsnQWJyZXZlJywgWzI1OF1dLCBbJ2FicmV2ZScsIFsyNTldXSwgWydhYycsIFs4NzY2XV0sIFsnYWNkJywgWzg3NjddXSwgWydhY0UnLCBbODc2NiwgODE5XV0sIFsnQWNpcmMnLCBbMTk0XV0sIFsnYWNpcmMnLCBbMjI2XV0sIFsnYWN1dGUnLCBbMTgwXV0sIFsnQWN5JywgWzEwNDBdXSwgWydhY3knLCBbMTA3Ml1dLCBbJ0FFbGlnJywgWzE5OF1dLCBbJ2FlbGlnJywgWzIzMF1dLCBbJ2FmJywgWzgyODldXSwgWydBZnInLCBbMTIwMDY4XV0sIFsnYWZyJywgWzEyMDA5NF1dLCBbJ0FncmF2ZScsIFsxOTJdXSwgWydhZ3JhdmUnLCBbMjI0XV0sIFsnYWxlZnN5bScsIFs4NTAxXV0sIFsnYWxlcGgnLCBbODUwMV1dLCBbJ0FscGhhJywgWzkxM11dLCBbJ2FscGhhJywgWzk0NV1dLCBbJ0FtYWNyJywgWzI1Nl1dLCBbJ2FtYWNyJywgWzI1N11dLCBbJ2FtYWxnJywgWzEwODE1XV0sIFsnYW1wJywgWzM4XV0sIFsnQU1QJywgWzM4XV0sIFsnYW5kYW5kJywgWzEwODM3XV0sIFsnQW5kJywgWzEwODM1XV0sIFsnYW5kJywgWzg3NDNdXSwgWydhbmRkJywgWzEwODQ0XV0sIFsnYW5kc2xvcGUnLCBbMTA4NDBdXSwgWydhbmR2JywgWzEwODQyXV0sIFsnYW5nJywgWzg3MzZdXSwgWydhbmdlJywgWzEwNjYwXV0sIFsnYW5nbGUnLCBbODczNl1dLCBbJ2FuZ21zZGFhJywgWzEwNjY0XV0sIFsnYW5nbXNkYWInLCBbMTA2NjVdXSwgWydhbmdtc2RhYycsIFsxMDY2Nl1dLCBbJ2FuZ21zZGFkJywgWzEwNjY3XV0sIFsnYW5nbXNkYWUnLCBbMTA2NjhdXSwgWydhbmdtc2RhZicsIFsxMDY2OV1dLCBbJ2FuZ21zZGFnJywgWzEwNjcwXV0sIFsnYW5nbXNkYWgnLCBbMTA2NzFdXSwgWydhbmdtc2QnLCBbODczN11dLCBbJ2FuZ3J0JywgWzg3MzVdXSwgWydhbmdydHZiJywgWzg4OTRdXSwgWydhbmdydHZiZCcsIFsxMDY1M11dLCBbJ2FuZ3NwaCcsIFs4NzM4XV0sIFsnYW5nc3QnLCBbMTk3XV0sIFsnYW5nemFycicsIFs5MDg0XV0sIFsnQW9nb24nLCBbMjYwXV0sIFsnYW9nb24nLCBbMjYxXV0sIFsnQW9wZicsIFsxMjAxMjBdXSwgWydhb3BmJywgWzEyMDE0Nl1dLCBbJ2FwYWNpcicsIFsxMDg2M11dLCBbJ2FwJywgWzg3NzZdXSwgWydhcEUnLCBbMTA4NjRdXSwgWydhcGUnLCBbODc3OF1dLCBbJ2FwaWQnLCBbODc3OV1dLCBbJ2Fwb3MnLCBbMzldXSwgWydBcHBseUZ1bmN0aW9uJywgWzgyODldXSwgWydhcHByb3gnLCBbODc3Nl1dLCBbJ2FwcHJveGVxJywgWzg3NzhdXSwgWydBcmluZycsIFsxOTddXSwgWydhcmluZycsIFsyMjldXSwgWydBc2NyJywgWzExOTk2NF1dLCBbJ2FzY3InLCBbMTE5OTkwXV0sIFsnQXNzaWduJywgWzg3ODhdXSwgWydhc3QnLCBbNDJdXSwgWydhc3ltcCcsIFs4Nzc2XV0sIFsnYXN5bXBlcScsIFs4NzgxXV0sIFsnQXRpbGRlJywgWzE5NV1dLCBbJ2F0aWxkZScsIFsyMjddXSwgWydBdW1sJywgWzE5Nl1dLCBbJ2F1bWwnLCBbMjI4XV0sIFsnYXdjb25pbnQnLCBbODc1NV1dLCBbJ2F3aW50JywgWzEwNzY5XV0sIFsnYmFja2NvbmcnLCBbODc4MF1dLCBbJ2JhY2tlcHNpbG9uJywgWzEwMTRdXSwgWydiYWNrcHJpbWUnLCBbODI0NV1dLCBbJ2JhY2tzaW0nLCBbODc2NV1dLCBbJ2JhY2tzaW1lcScsIFs4OTA5XV0sIFsnQmFja3NsYXNoJywgWzg3MjZdXSwgWydCYXJ2JywgWzEwOTgzXV0sIFsnYmFydmVlJywgWzg4OTNdXSwgWydiYXJ3ZWQnLCBbODk2NV1dLCBbJ0JhcndlZCcsIFs4OTY2XV0sIFsnYmFyd2VkZ2UnLCBbODk2NV1dLCBbJ2JicmsnLCBbOTE0MV1dLCBbJ2Jicmt0YnJrJywgWzkxNDJdXSwgWydiY29uZycsIFs4NzgwXV0sIFsnQmN5JywgWzEwNDFdXSwgWydiY3knLCBbMTA3M11dLCBbJ2JkcXVvJywgWzgyMjJdXSwgWydiZWNhdXMnLCBbODc1N11dLCBbJ2JlY2F1c2UnLCBbODc1N11dLCBbJ0JlY2F1c2UnLCBbODc1N11dLCBbJ2JlbXB0eXYnLCBbMTA2NzJdXSwgWydiZXBzaScsIFsxMDE0XV0sIFsnYmVybm91JywgWzg0OTJdXSwgWydCZXJub3VsbGlzJywgWzg0OTJdXSwgWydCZXRhJywgWzkxNF1dLCBbJ2JldGEnLCBbOTQ2XV0sIFsnYmV0aCcsIFs4NTAyXV0sIFsnYmV0d2VlbicsIFs4ODEyXV0sIFsnQmZyJywgWzEyMDA2OV1dLCBbJ2JmcicsIFsxMjAwOTVdXSwgWydiaWdjYXAnLCBbODg5OF1dLCBbJ2JpZ2NpcmMnLCBbOTcxMV1dLCBbJ2JpZ2N1cCcsIFs4ODk5XV0sIFsnYmlnb2RvdCcsIFsxMDc1Ml1dLCBbJ2JpZ29wbHVzJywgWzEwNzUzXV0sIFsnYmlnb3RpbWVzJywgWzEwNzU0XV0sIFsnYmlnc3FjdXAnLCBbMTA3NThdXSwgWydiaWdzdGFyJywgWzk3MzNdXSwgWydiaWd0cmlhbmdsZWRvd24nLCBbOTY2MV1dLCBbJ2JpZ3RyaWFuZ2xldXAnLCBbOTY1MV1dLCBbJ2JpZ3VwbHVzJywgWzEwNzU2XV0sIFsnYmlndmVlJywgWzg4OTddXSwgWydiaWd3ZWRnZScsIFs4ODk2XV0sIFsnYmthcm93JywgWzEwNTA5XV0sIFsnYmxhY2tsb3plbmdlJywgWzEwNzMxXV0sIFsnYmxhY2tzcXVhcmUnLCBbOTY0Ml1dLCBbJ2JsYWNrdHJpYW5nbGUnLCBbOTY1Ml1dLCBbJ2JsYWNrdHJpYW5nbGVkb3duJywgWzk2NjJdXSwgWydibGFja3RyaWFuZ2xlbGVmdCcsIFs5NjY2XV0sIFsnYmxhY2t0cmlhbmdsZXJpZ2h0JywgWzk2NTZdXSwgWydibGFuaycsIFs5MjUxXV0sIFsnYmxrMTInLCBbOTYxOF1dLCBbJ2JsazE0JywgWzk2MTddXSwgWydibGszNCcsIFs5NjE5XV0sIFsnYmxvY2snLCBbOTYwOF1dLCBbJ2JuZScsIFs2MSwgODQyMV1dLCBbJ2JuZXF1aXYnLCBbODgwMSwgODQyMV1dLCBbJ2JOb3QnLCBbMTA5ODldXSwgWydibm90JywgWzg5NzZdXSwgWydCb3BmJywgWzEyMDEyMV1dLCBbJ2JvcGYnLCBbMTIwMTQ3XV0sIFsnYm90JywgWzg4NjldXSwgWydib3R0b20nLCBbODg2OV1dLCBbJ2Jvd3RpZScsIFs4OTA0XV0sIFsnYm94Ym94JywgWzEwNjk3XV0sIFsnYm94ZGwnLCBbOTQ4OF1dLCBbJ2JveGRMJywgWzk1NTddXSwgWydib3hEbCcsIFs5NTU4XV0sIFsnYm94REwnLCBbOTU1OV1dLCBbJ2JveGRyJywgWzk0ODRdXSwgWydib3hkUicsIFs5NTU0XV0sIFsnYm94RHInLCBbOTU1NV1dLCBbJ2JveERSJywgWzk1NTZdXSwgWydib3hoJywgWzk0NzJdXSwgWydib3hIJywgWzk1NTJdXSwgWydib3hoZCcsIFs5NTE2XV0sIFsnYm94SGQnLCBbOTU3Ml1dLCBbJ2JveGhEJywgWzk1NzNdXSwgWydib3hIRCcsIFs5NTc0XV0sIFsnYm94aHUnLCBbOTUyNF1dLCBbJ2JveEh1JywgWzk1NzVdXSwgWydib3hoVScsIFs5NTc2XV0sIFsnYm94SFUnLCBbOTU3N11dLCBbJ2JveG1pbnVzJywgWzg4NjNdXSwgWydib3hwbHVzJywgWzg4NjJdXSwgWydib3h0aW1lcycsIFs4ODY0XV0sIFsnYm94dWwnLCBbOTQ5Nl1dLCBbJ2JveHVMJywgWzk1NjNdXSwgWydib3hVbCcsIFs5NTY0XV0sIFsnYm94VUwnLCBbOTU2NV1dLCBbJ2JveHVyJywgWzk0OTJdXSwgWydib3h1UicsIFs5NTYwXV0sIFsnYm94VXInLCBbOTU2MV1dLCBbJ2JveFVSJywgWzk1NjJdXSwgWydib3h2JywgWzk0NzRdXSwgWydib3hWJywgWzk1NTNdXSwgWydib3h2aCcsIFs5NTMyXV0sIFsnYm94dkgnLCBbOTU3OF1dLCBbJ2JveFZoJywgWzk1NzldXSwgWydib3hWSCcsIFs5NTgwXV0sIFsnYm94dmwnLCBbOTUwOF1dLCBbJ2JveHZMJywgWzk1NjldXSwgWydib3hWbCcsIFs5NTcwXV0sIFsnYm94VkwnLCBbOTU3MV1dLCBbJ2JveHZyJywgWzk1MDBdXSwgWydib3h2UicsIFs5NTY2XV0sIFsnYm94VnInLCBbOTU2N11dLCBbJ2JveFZSJywgWzk1NjhdXSwgWydicHJpbWUnLCBbODI0NV1dLCBbJ2JyZXZlJywgWzcyOF1dLCBbJ0JyZXZlJywgWzcyOF1dLCBbJ2JydmJhcicsIFsxNjZdXSwgWydic2NyJywgWzExOTk5MV1dLCBbJ0JzY3InLCBbODQ5Ml1dLCBbJ2JzZW1pJywgWzgyNzFdXSwgWydic2ltJywgWzg3NjVdXSwgWydic2ltZScsIFs4OTA5XV0sIFsnYnNvbGInLCBbMTA2OTNdXSwgWydic29sJywgWzkyXV0sIFsnYnNvbGhzdWInLCBbMTAxODRdXSwgWydidWxsJywgWzgyMjZdXSwgWydidWxsZXQnLCBbODIyNl1dLCBbJ2J1bXAnLCBbODc4Ml1dLCBbJ2J1bXBFJywgWzEwOTI2XV0sIFsnYnVtcGUnLCBbODc4M11dLCBbJ0J1bXBlcScsIFs4NzgyXV0sIFsnYnVtcGVxJywgWzg3ODNdXSwgWydDYWN1dGUnLCBbMjYyXV0sIFsnY2FjdXRlJywgWzI2M11dLCBbJ2NhcGFuZCcsIFsxMDgyMF1dLCBbJ2NhcGJyY3VwJywgWzEwODI1XV0sIFsnY2FwY2FwJywgWzEwODI3XV0sIFsnY2FwJywgWzg3NDVdXSwgWydDYXAnLCBbODkxNF1dLCBbJ2NhcGN1cCcsIFsxMDgyM11dLCBbJ2NhcGRvdCcsIFsxMDgxNl1dLCBbJ0NhcGl0YWxEaWZmZXJlbnRpYWxEJywgWzg1MTddXSwgWydjYXBzJywgWzg3NDUsIDY1MDI0XV0sIFsnY2FyZXQnLCBbODI1N11dLCBbJ2Nhcm9uJywgWzcxMV1dLCBbJ0NheWxleXMnLCBbODQ5M11dLCBbJ2NjYXBzJywgWzEwODI5XV0sIFsnQ2Nhcm9uJywgWzI2OF1dLCBbJ2NjYXJvbicsIFsyNjldXSwgWydDY2VkaWwnLCBbMTk5XV0sIFsnY2NlZGlsJywgWzIzMV1dLCBbJ0NjaXJjJywgWzI2NF1dLCBbJ2NjaXJjJywgWzI2NV1dLCBbJ0Njb25pbnQnLCBbODc1Ml1dLCBbJ2NjdXBzJywgWzEwODI4XV0sIFsnY2N1cHNzbScsIFsxMDgzMl1dLCBbJ0Nkb3QnLCBbMjY2XV0sIFsnY2RvdCcsIFsyNjddXSwgWydjZWRpbCcsIFsxODRdXSwgWydDZWRpbGxhJywgWzE4NF1dLCBbJ2NlbXB0eXYnLCBbMTA2NzRdXSwgWydjZW50JywgWzE2Ml1dLCBbJ2NlbnRlcmRvdCcsIFsxODNdXSwgWydDZW50ZXJEb3QnLCBbMTgzXV0sIFsnY2ZyJywgWzEyMDA5Nl1dLCBbJ0NmcicsIFs4NDkzXV0sIFsnQ0hjeScsIFsxMDYzXV0sIFsnY2hjeScsIFsxMDk1XV0sIFsnY2hlY2snLCBbMTAwMDNdXSwgWydjaGVja21hcmsnLCBbMTAwMDNdXSwgWydDaGknLCBbOTM1XV0sIFsnY2hpJywgWzk2N11dLCBbJ2NpcmMnLCBbNzEwXV0sIFsnY2lyY2VxJywgWzg3OTFdXSwgWydjaXJjbGVhcnJvd2xlZnQnLCBbODYzNF1dLCBbJ2NpcmNsZWFycm93cmlnaHQnLCBbODYzNV1dLCBbJ2NpcmNsZWRhc3QnLCBbODg1OV1dLCBbJ2NpcmNsZWRjaXJjJywgWzg4NThdXSwgWydjaXJjbGVkZGFzaCcsIFs4ODYxXV0sIFsnQ2lyY2xlRG90JywgWzg4NTddXSwgWydjaXJjbGVkUicsIFsxNzRdXSwgWydjaXJjbGVkUycsIFs5NDE2XV0sIFsnQ2lyY2xlTWludXMnLCBbODg1NF1dLCBbJ0NpcmNsZVBsdXMnLCBbODg1M11dLCBbJ0NpcmNsZVRpbWVzJywgWzg4NTVdXSwgWydjaXInLCBbOTY3NV1dLCBbJ2NpckUnLCBbMTA2OTFdXSwgWydjaXJlJywgWzg3OTFdXSwgWydjaXJmbmludCcsIFsxMDc2OF1dLCBbJ2Npcm1pZCcsIFsxMDk5MV1dLCBbJ2NpcnNjaXInLCBbMTA2OTBdXSwgWydDbG9ja3dpc2VDb250b3VySW50ZWdyYWwnLCBbODc1NF1dLCBbJ2NsdWJzJywgWzk4MjddXSwgWydjbHVic3VpdCcsIFs5ODI3XV0sIFsnY29sb24nLCBbNThdXSwgWydDb2xvbicsIFs4NzU5XV0sIFsnQ29sb25lJywgWzEwODY4XV0sIFsnY29sb25lJywgWzg3ODhdXSwgWydjb2xvbmVxJywgWzg3ODhdXSwgWydjb21tYScsIFs0NF1dLCBbJ2NvbW1hdCcsIFs2NF1dLCBbJ2NvbXAnLCBbODcwNV1dLCBbJ2NvbXBmbicsIFs4NzI4XV0sIFsnY29tcGxlbWVudCcsIFs4NzA1XV0sIFsnY29tcGxleGVzJywgWzg0NTBdXSwgWydjb25nJywgWzg3NzNdXSwgWydjb25nZG90JywgWzEwODYxXV0sIFsnQ29uZ3J1ZW50JywgWzg4MDFdXSwgWydjb25pbnQnLCBbODc1MF1dLCBbJ0NvbmludCcsIFs4NzUxXV0sIFsnQ29udG91ckludGVncmFsJywgWzg3NTBdXSwgWydjb3BmJywgWzEyMDE0OF1dLCBbJ0NvcGYnLCBbODQ1MF1dLCBbJ2NvcHJvZCcsIFs4NzIwXV0sIFsnQ29wcm9kdWN0JywgWzg3MjBdXSwgWydjb3B5JywgWzE2OV1dLCBbJ0NPUFknLCBbMTY5XV0sIFsnY29weXNyJywgWzg0NzFdXSwgWydDb3VudGVyQ2xvY2t3aXNlQ29udG91ckludGVncmFsJywgWzg3NTVdXSwgWydjcmFycicsIFs4NjI5XV0sIFsnY3Jvc3MnLCBbMTAwMDddXSwgWydDcm9zcycsIFsxMDc5OV1dLCBbJ0NzY3InLCBbMTE5OTY2XV0sIFsnY3NjcicsIFsxMTk5OTJdXSwgWydjc3ViJywgWzEwOTU5XV0sIFsnY3N1YmUnLCBbMTA5NjFdXSwgWydjc3VwJywgWzEwOTYwXV0sIFsnY3N1cGUnLCBbMTA5NjJdXSwgWydjdGRvdCcsIFs4OTQzXV0sIFsnY3VkYXJybCcsIFsxMDU1Ml1dLCBbJ2N1ZGFycnInLCBbMTA1NDldXSwgWydjdWVwcicsIFs4OTI2XV0sIFsnY3Vlc2MnLCBbODkyN11dLCBbJ2N1bGFycicsIFs4NjMwXV0sIFsnY3VsYXJycCcsIFsxMDU1N11dLCBbJ2N1cGJyY2FwJywgWzEwODI0XV0sIFsnY3VwY2FwJywgWzEwODIyXV0sIFsnQ3VwQ2FwJywgWzg3ODFdXSwgWydjdXAnLCBbODc0Nl1dLCBbJ0N1cCcsIFs4OTE1XV0sIFsnY3VwY3VwJywgWzEwODI2XV0sIFsnY3VwZG90JywgWzg4NDVdXSwgWydjdXBvcicsIFsxMDgyMV1dLCBbJ2N1cHMnLCBbODc0NiwgNjUwMjRdXSwgWydjdXJhcnInLCBbODYzMV1dLCBbJ2N1cmFycm0nLCBbMTA1NTZdXSwgWydjdXJseWVxcHJlYycsIFs4OTI2XV0sIFsnY3VybHllcXN1Y2MnLCBbODkyN11dLCBbJ2N1cmx5dmVlJywgWzg5MTBdXSwgWydjdXJseXdlZGdlJywgWzg5MTFdXSwgWydjdXJyZW4nLCBbMTY0XV0sIFsnY3VydmVhcnJvd2xlZnQnLCBbODYzMF1dLCBbJ2N1cnZlYXJyb3dyaWdodCcsIFs4NjMxXV0sIFsnY3V2ZWUnLCBbODkxMF1dLCBbJ2N1d2VkJywgWzg5MTFdXSwgWydjd2NvbmludCcsIFs4NzU0XV0sIFsnY3dpbnQnLCBbODc1M11dLCBbJ2N5bGN0eScsIFs5MDA1XV0sIFsnZGFnZ2VyJywgWzgyMjRdXSwgWydEYWdnZXInLCBbODIyNV1dLCBbJ2RhbGV0aCcsIFs4NTA0XV0sIFsnZGFycicsIFs4NTk1XV0sIFsnRGFycicsIFs4NjA5XV0sIFsnZEFycicsIFs4NjU5XV0sIFsnZGFzaCcsIFs4MjA4XV0sIFsnRGFzaHYnLCBbMTA5ODBdXSwgWydkYXNodicsIFs4ODY3XV0sIFsnZGJrYXJvdycsIFsxMDUxMV1dLCBbJ2RibGFjJywgWzczM11dLCBbJ0RjYXJvbicsIFsyNzBdXSwgWydkY2Fyb24nLCBbMjcxXV0sIFsnRGN5JywgWzEwNDRdXSwgWydkY3knLCBbMTA3Nl1dLCBbJ2RkYWdnZXInLCBbODIyNV1dLCBbJ2RkYXJyJywgWzg2NTBdXSwgWydERCcsIFs4NTE3XV0sIFsnZGQnLCBbODUxOF1dLCBbJ0REb3RyYWhkJywgWzEwNTEzXV0sIFsnZGRvdHNlcScsIFsxMDg3MV1dLCBbJ2RlZycsIFsxNzZdXSwgWydEZWwnLCBbODcxMV1dLCBbJ0RlbHRhJywgWzkxNl1dLCBbJ2RlbHRhJywgWzk0OF1dLCBbJ2RlbXB0eXYnLCBbMTA2NzNdXSwgWydkZmlzaHQnLCBbMTA2MjNdXSwgWydEZnInLCBbMTIwMDcxXV0sIFsnZGZyJywgWzEyMDA5N11dLCBbJ2RIYXInLCBbMTA1OTddXSwgWydkaGFybCcsIFs4NjQzXV0sIFsnZGhhcnInLCBbODY0Ml1dLCBbJ0RpYWNyaXRpY2FsQWN1dGUnLCBbMTgwXV0sIFsnRGlhY3JpdGljYWxEb3QnLCBbNzI5XV0sIFsnRGlhY3JpdGljYWxEb3VibGVBY3V0ZScsIFs3MzNdXSwgWydEaWFjcml0aWNhbEdyYXZlJywgWzk2XV0sIFsnRGlhY3JpdGljYWxUaWxkZScsIFs3MzJdXSwgWydkaWFtJywgWzg5MDBdXSwgWydkaWFtb25kJywgWzg5MDBdXSwgWydEaWFtb25kJywgWzg5MDBdXSwgWydkaWFtb25kc3VpdCcsIFs5ODMwXV0sIFsnZGlhbXMnLCBbOTgzMF1dLCBbJ2RpZScsIFsxNjhdXSwgWydEaWZmZXJlbnRpYWxEJywgWzg1MThdXSwgWydkaWdhbW1hJywgWzk4OV1dLCBbJ2Rpc2luJywgWzg5NDZdXSwgWydkaXYnLCBbMjQ3XV0sIFsnZGl2aWRlJywgWzI0N11dLCBbJ2RpdmlkZW9udGltZXMnLCBbODkwM11dLCBbJ2Rpdm9ueCcsIFs4OTAzXV0sIFsnREpjeScsIFsxMDI2XV0sIFsnZGpjeScsIFsxMTA2XV0sIFsnZGxjb3JuJywgWzg5OTBdXSwgWydkbGNyb3AnLCBbODk3M11dLCBbJ2RvbGxhcicsIFszNl1dLCBbJ0RvcGYnLCBbMTIwMTIzXV0sIFsnZG9wZicsIFsxMjAxNDldXSwgWydEb3QnLCBbMTY4XV0sIFsnZG90JywgWzcyOV1dLCBbJ0RvdERvdCcsIFs4NDEyXV0sIFsnZG90ZXEnLCBbODc4NF1dLCBbJ2RvdGVxZG90JywgWzg3ODVdXSwgWydEb3RFcXVhbCcsIFs4Nzg0XV0sIFsnZG90bWludXMnLCBbODc2MF1dLCBbJ2RvdHBsdXMnLCBbODcyNF1dLCBbJ2RvdHNxdWFyZScsIFs4ODY1XV0sIFsnZG91YmxlYmFyd2VkZ2UnLCBbODk2Nl1dLCBbJ0RvdWJsZUNvbnRvdXJJbnRlZ3JhbCcsIFs4NzUxXV0sIFsnRG91YmxlRG90JywgWzE2OF1dLCBbJ0RvdWJsZURvd25BcnJvdycsIFs4NjU5XV0sIFsnRG91YmxlTGVmdEFycm93JywgWzg2NTZdXSwgWydEb3VibGVMZWZ0UmlnaHRBcnJvdycsIFs4NjYwXV0sIFsnRG91YmxlTGVmdFRlZScsIFsxMDk4MF1dLCBbJ0RvdWJsZUxvbmdMZWZ0QXJyb3cnLCBbMTAyMzJdXSwgWydEb3VibGVMb25nTGVmdFJpZ2h0QXJyb3cnLCBbMTAyMzRdXSwgWydEb3VibGVMb25nUmlnaHRBcnJvdycsIFsxMDIzM11dLCBbJ0RvdWJsZVJpZ2h0QXJyb3cnLCBbODY1OF1dLCBbJ0RvdWJsZVJpZ2h0VGVlJywgWzg4NzJdXSwgWydEb3VibGVVcEFycm93JywgWzg2NTddXSwgWydEb3VibGVVcERvd25BcnJvdycsIFs4NjYxXV0sIFsnRG91YmxlVmVydGljYWxCYXInLCBbODc0MV1dLCBbJ0Rvd25BcnJvd0JhcicsIFsxMDUxNV1dLCBbJ2Rvd25hcnJvdycsIFs4NTk1XV0sIFsnRG93bkFycm93JywgWzg1OTVdXSwgWydEb3duYXJyb3cnLCBbODY1OV1dLCBbJ0Rvd25BcnJvd1VwQXJyb3cnLCBbODY5M11dLCBbJ0Rvd25CcmV2ZScsIFs3ODVdXSwgWydkb3duZG93bmFycm93cycsIFs4NjUwXV0sIFsnZG93bmhhcnBvb25sZWZ0JywgWzg2NDNdXSwgWydkb3duaGFycG9vbnJpZ2h0JywgWzg2NDJdXSwgWydEb3duTGVmdFJpZ2h0VmVjdG9yJywgWzEwNTc2XV0sIFsnRG93bkxlZnRUZWVWZWN0b3InLCBbMTA1OTBdXSwgWydEb3duTGVmdFZlY3RvckJhcicsIFsxMDU4Ml1dLCBbJ0Rvd25MZWZ0VmVjdG9yJywgWzg2MzddXSwgWydEb3duUmlnaHRUZWVWZWN0b3InLCBbMTA1OTFdXSwgWydEb3duUmlnaHRWZWN0b3JCYXInLCBbMTA1ODNdXSwgWydEb3duUmlnaHRWZWN0b3InLCBbODY0MV1dLCBbJ0Rvd25UZWVBcnJvdycsIFs4NjE1XV0sIFsnRG93blRlZScsIFs4ODY4XV0sIFsnZHJia2Fyb3cnLCBbMTA1MTJdXSwgWydkcmNvcm4nLCBbODk5MV1dLCBbJ2RyY3JvcCcsIFs4OTcyXV0sIFsnRHNjcicsIFsxMTk5NjddXSwgWydkc2NyJywgWzExOTk5M11dLCBbJ0RTY3knLCBbMTAyOV1dLCBbJ2RzY3knLCBbMTEwOV1dLCBbJ2Rzb2wnLCBbMTA3NDJdXSwgWydEc3Ryb2snLCBbMjcyXV0sIFsnZHN0cm9rJywgWzI3M11dLCBbJ2R0ZG90JywgWzg5NDVdXSwgWydkdHJpJywgWzk2NjNdXSwgWydkdHJpZicsIFs5NjYyXV0sIFsnZHVhcnInLCBbODY5M11dLCBbJ2R1aGFyJywgWzEwNjA3XV0sIFsnZHdhbmdsZScsIFsxMDY2Ml1dLCBbJ0RaY3knLCBbMTAzOV1dLCBbJ2R6Y3knLCBbMTExOV1dLCBbJ2R6aWdyYXJyJywgWzEwMjM5XV0sIFsnRWFjdXRlJywgWzIwMV1dLCBbJ2VhY3V0ZScsIFsyMzNdXSwgWydlYXN0ZXInLCBbMTA4NjJdXSwgWydFY2Fyb24nLCBbMjgyXV0sIFsnZWNhcm9uJywgWzI4M11dLCBbJ0VjaXJjJywgWzIwMl1dLCBbJ2VjaXJjJywgWzIzNF1dLCBbJ2VjaXInLCBbODc5MF1dLCBbJ2Vjb2xvbicsIFs4Nzg5XV0sIFsnRWN5JywgWzEwNjldXSwgWydlY3knLCBbMTEwMV1dLCBbJ2VERG90JywgWzEwODcxXV0sIFsnRWRvdCcsIFsyNzhdXSwgWydlZG90JywgWzI3OV1dLCBbJ2VEb3QnLCBbODc4NV1dLCBbJ2VlJywgWzg1MTldXSwgWydlZkRvdCcsIFs4Nzg2XV0sIFsnRWZyJywgWzEyMDA3Ml1dLCBbJ2VmcicsIFsxMjAwOThdXSwgWydlZycsIFsxMDkwNl1dLCBbJ0VncmF2ZScsIFsyMDBdXSwgWydlZ3JhdmUnLCBbMjMyXV0sIFsnZWdzJywgWzEwOTAyXV0sIFsnZWdzZG90JywgWzEwOTA0XV0sIFsnZWwnLCBbMTA5MDVdXSwgWydFbGVtZW50JywgWzg3MTJdXSwgWydlbGludGVycycsIFs5MTkxXV0sIFsnZWxsJywgWzg0NjddXSwgWydlbHMnLCBbMTA5MDFdXSwgWydlbHNkb3QnLCBbMTA5MDNdXSwgWydFbWFjcicsIFsyNzRdXSwgWydlbWFjcicsIFsyNzVdXSwgWydlbXB0eScsIFs4NzA5XV0sIFsnZW1wdHlzZXQnLCBbODcwOV1dLCBbJ0VtcHR5U21hbGxTcXVhcmUnLCBbOTcyM11dLCBbJ2VtcHR5dicsIFs4NzA5XV0sIFsnRW1wdHlWZXJ5U21hbGxTcXVhcmUnLCBbOTY0M11dLCBbJ2Vtc3AxMycsIFs4MTk2XV0sIFsnZW1zcDE0JywgWzgxOTddXSwgWydlbXNwJywgWzgxOTVdXSwgWydFTkcnLCBbMzMwXV0sIFsnZW5nJywgWzMzMV1dLCBbJ2Vuc3AnLCBbODE5NF1dLCBbJ0VvZ29uJywgWzI4MF1dLCBbJ2VvZ29uJywgWzI4MV1dLCBbJ0VvcGYnLCBbMTIwMTI0XV0sIFsnZW9wZicsIFsxMjAxNTBdXSwgWydlcGFyJywgWzg5MTddXSwgWydlcGFyc2wnLCBbMTA3MjNdXSwgWydlcGx1cycsIFsxMDg2NV1dLCBbJ2Vwc2knLCBbOTQ5XV0sIFsnRXBzaWxvbicsIFs5MTddXSwgWydlcHNpbG9uJywgWzk0OV1dLCBbJ2Vwc2l2JywgWzEwMTNdXSwgWydlcWNpcmMnLCBbODc5MF1dLCBbJ2VxY29sb24nLCBbODc4OV1dLCBbJ2Vxc2ltJywgWzg3NzBdXSwgWydlcXNsYW50Z3RyJywgWzEwOTAyXV0sIFsnZXFzbGFudGxlc3MnLCBbMTA5MDFdXSwgWydFcXVhbCcsIFsxMDg2OV1dLCBbJ2VxdWFscycsIFs2MV1dLCBbJ0VxdWFsVGlsZGUnLCBbODc3MF1dLCBbJ2VxdWVzdCcsIFs4Nzk5XV0sIFsnRXF1aWxpYnJpdW0nLCBbODY1Ml1dLCBbJ2VxdWl2JywgWzg4MDFdXSwgWydlcXVpdkREJywgWzEwODcyXV0sIFsnZXF2cGFyc2wnLCBbMTA3MjVdXSwgWydlcmFycicsIFsxMDYwOV1dLCBbJ2VyRG90JywgWzg3ODddXSwgWydlc2NyJywgWzg0OTVdXSwgWydFc2NyJywgWzg0OTZdXSwgWydlc2RvdCcsIFs4Nzg0XV0sIFsnRXNpbScsIFsxMDg2N11dLCBbJ2VzaW0nLCBbODc3MF1dLCBbJ0V0YScsIFs5MTldXSwgWydldGEnLCBbOTUxXV0sIFsnRVRIJywgWzIwOF1dLCBbJ2V0aCcsIFsyNDBdXSwgWydFdW1sJywgWzIwM11dLCBbJ2V1bWwnLCBbMjM1XV0sIFsnZXVybycsIFs4MzY0XV0sIFsnZXhjbCcsIFszM11dLCBbJ2V4aXN0JywgWzg3MDddXSwgWydFeGlzdHMnLCBbODcwN11dLCBbJ2V4cGVjdGF0aW9uJywgWzg0OTZdXSwgWydleHBvbmVudGlhbGUnLCBbODUxOV1dLCBbJ0V4cG9uZW50aWFsRScsIFs4NTE5XV0sIFsnZmFsbGluZ2RvdHNlcScsIFs4Nzg2XV0sIFsnRmN5JywgWzEwNjBdXSwgWydmY3knLCBbMTA5Ml1dLCBbJ2ZlbWFsZScsIFs5NzkyXV0sIFsnZmZpbGlnJywgWzY0MjU5XV0sIFsnZmZsaWcnLCBbNjQyNTZdXSwgWydmZmxsaWcnLCBbNjQyNjBdXSwgWydGZnInLCBbMTIwMDczXV0sIFsnZmZyJywgWzEyMDA5OV1dLCBbJ2ZpbGlnJywgWzY0MjU3XV0sIFsnRmlsbGVkU21hbGxTcXVhcmUnLCBbOTcyNF1dLCBbJ0ZpbGxlZFZlcnlTbWFsbFNxdWFyZScsIFs5NjQyXV0sIFsnZmpsaWcnLCBbMTAyLCAxMDZdXSwgWydmbGF0JywgWzk4MzddXSwgWydmbGxpZycsIFs2NDI1OF1dLCBbJ2ZsdG5zJywgWzk2NDldXSwgWydmbm9mJywgWzQwMl1dLCBbJ0ZvcGYnLCBbMTIwMTI1XV0sIFsnZm9wZicsIFsxMjAxNTFdXSwgWydmb3JhbGwnLCBbODcwNF1dLCBbJ0ZvckFsbCcsIFs4NzA0XV0sIFsnZm9yaycsIFs4OTE2XV0sIFsnZm9ya3YnLCBbMTA5NjldXSwgWydGb3VyaWVydHJmJywgWzg0OTddXSwgWydmcGFydGludCcsIFsxMDc2NV1dLCBbJ2ZyYWMxMicsIFsxODldXSwgWydmcmFjMTMnLCBbODUzMV1dLCBbJ2ZyYWMxNCcsIFsxODhdXSwgWydmcmFjMTUnLCBbODUzM11dLCBbJ2ZyYWMxNicsIFs4NTM3XV0sIFsnZnJhYzE4JywgWzg1MzldXSwgWydmcmFjMjMnLCBbODUzMl1dLCBbJ2ZyYWMyNScsIFs4NTM0XV0sIFsnZnJhYzM0JywgWzE5MF1dLCBbJ2ZyYWMzNScsIFs4NTM1XV0sIFsnZnJhYzM4JywgWzg1NDBdXSwgWydmcmFjNDUnLCBbODUzNl1dLCBbJ2ZyYWM1NicsIFs4NTM4XV0sIFsnZnJhYzU4JywgWzg1NDFdXSwgWydmcmFjNzgnLCBbODU0Ml1dLCBbJ2ZyYXNsJywgWzgyNjBdXSwgWydmcm93bicsIFs4OTk0XV0sIFsnZnNjcicsIFsxMTk5OTVdXSwgWydGc2NyJywgWzg0OTddXSwgWydnYWN1dGUnLCBbNTAxXV0sIFsnR2FtbWEnLCBbOTE1XV0sIFsnZ2FtbWEnLCBbOTQ3XV0sIFsnR2FtbWFkJywgWzk4OF1dLCBbJ2dhbW1hZCcsIFs5ODldXSwgWydnYXAnLCBbMTA4ODZdXSwgWydHYnJldmUnLCBbMjg2XV0sIFsnZ2JyZXZlJywgWzI4N11dLCBbJ0djZWRpbCcsIFsyOTBdXSwgWydHY2lyYycsIFsyODRdXSwgWydnY2lyYycsIFsyODVdXSwgWydHY3knLCBbMTA0M11dLCBbJ2djeScsIFsxMDc1XV0sIFsnR2RvdCcsIFsyODhdXSwgWydnZG90JywgWzI4OV1dLCBbJ2dlJywgWzg4MDVdXSwgWydnRScsIFs4ODA3XV0sIFsnZ0VsJywgWzEwODkyXV0sIFsnZ2VsJywgWzg5MjNdXSwgWydnZXEnLCBbODgwNV1dLCBbJ2dlcXEnLCBbODgwN11dLCBbJ2dlcXNsYW50JywgWzEwODc4XV0sIFsnZ2VzY2MnLCBbMTA5MjFdXSwgWydnZXMnLCBbMTA4NzhdXSwgWydnZXNkb3QnLCBbMTA4ODBdXSwgWydnZXNkb3RvJywgWzEwODgyXV0sIFsnZ2VzZG90b2wnLCBbMTA4ODRdXSwgWydnZXNsJywgWzg5MjMsIDY1MDI0XV0sIFsnZ2VzbGVzJywgWzEwOTAwXV0sIFsnR2ZyJywgWzEyMDA3NF1dLCBbJ2dmcicsIFsxMjAxMDBdXSwgWydnZycsIFs4ODExXV0sIFsnR2cnLCBbODkyMV1dLCBbJ2dnZycsIFs4OTIxXV0sIFsnZ2ltZWwnLCBbODUwM11dLCBbJ0dKY3knLCBbMTAyN11dLCBbJ2dqY3knLCBbMTEwN11dLCBbJ2dsYScsIFsxMDkxN11dLCBbJ2dsJywgWzg4MjNdXSwgWydnbEUnLCBbMTA4OThdXSwgWydnbGonLCBbMTA5MTZdXSwgWydnbmFwJywgWzEwODkwXV0sIFsnZ25hcHByb3gnLCBbMTA4OTBdXSwgWydnbmUnLCBbMTA4ODhdXSwgWydnbkUnLCBbODgwOV1dLCBbJ2duZXEnLCBbMTA4ODhdXSwgWydnbmVxcScsIFs4ODA5XV0sIFsnZ25zaW0nLCBbODkzNV1dLCBbJ0dvcGYnLCBbMTIwMTI2XV0sIFsnZ29wZicsIFsxMjAxNTJdXSwgWydncmF2ZScsIFs5Nl1dLCBbJ0dyZWF0ZXJFcXVhbCcsIFs4ODA1XV0sIFsnR3JlYXRlckVxdWFsTGVzcycsIFs4OTIzXV0sIFsnR3JlYXRlckZ1bGxFcXVhbCcsIFs4ODA3XV0sIFsnR3JlYXRlckdyZWF0ZXInLCBbMTA5MTRdXSwgWydHcmVhdGVyTGVzcycsIFs4ODIzXV0sIFsnR3JlYXRlclNsYW50RXF1YWwnLCBbMTA4NzhdXSwgWydHcmVhdGVyVGlsZGUnLCBbODgxOV1dLCBbJ0dzY3InLCBbMTE5OTcwXV0sIFsnZ3NjcicsIFs4NDU4XV0sIFsnZ3NpbScsIFs4ODE5XV0sIFsnZ3NpbWUnLCBbMTA4OTRdXSwgWydnc2ltbCcsIFsxMDg5Nl1dLCBbJ2d0Y2MnLCBbMTA5MTldXSwgWydndGNpcicsIFsxMDg3NF1dLCBbJ2d0JywgWzYyXV0sIFsnR1QnLCBbNjJdXSwgWydHdCcsIFs4ODExXV0sIFsnZ3Rkb3QnLCBbODkxOV1dLCBbJ2d0bFBhcicsIFsxMDY0NV1dLCBbJ2d0cXVlc3QnLCBbMTA4NzZdXSwgWydndHJhcHByb3gnLCBbMTA4ODZdXSwgWydndHJhcnInLCBbMTA2MTZdXSwgWydndHJkb3QnLCBbODkxOV1dLCBbJ2d0cmVxbGVzcycsIFs4OTIzXV0sIFsnZ3RyZXFxbGVzcycsIFsxMDg5Ml1dLCBbJ2d0cmxlc3MnLCBbODgyM11dLCBbJ2d0cnNpbScsIFs4ODE5XV0sIFsnZ3ZlcnRuZXFxJywgWzg4MDksIDY1MDI0XV0sIFsnZ3ZuRScsIFs4ODA5LCA2NTAyNF1dLCBbJ0hhY2VrJywgWzcxMV1dLCBbJ2hhaXJzcCcsIFs4MjAyXV0sIFsnaGFsZicsIFsxODldXSwgWydoYW1pbHQnLCBbODQ1OV1dLCBbJ0hBUkRjeScsIFsxMDY2XV0sIFsnaGFyZGN5JywgWzEwOThdXSwgWydoYXJyY2lyJywgWzEwNTY4XV0sIFsnaGFycicsIFs4NTk2XV0sIFsnaEFycicsIFs4NjYwXV0sIFsnaGFycncnLCBbODYyMV1dLCBbJ0hhdCcsIFs5NF1dLCBbJ2hiYXInLCBbODQ2M11dLCBbJ0hjaXJjJywgWzI5Ml1dLCBbJ2hjaXJjJywgWzI5M11dLCBbJ2hlYXJ0cycsIFs5ODI5XV0sIFsnaGVhcnRzdWl0JywgWzk4MjldXSwgWydoZWxsaXAnLCBbODIzMF1dLCBbJ2hlcmNvbicsIFs4ODg5XV0sIFsnaGZyJywgWzEyMDEwMV1dLCBbJ0hmcicsIFs4NDYwXV0sIFsnSGlsYmVydFNwYWNlJywgWzg0NTldXSwgWydoa3NlYXJvdycsIFsxMDUzM11dLCBbJ2hrc3dhcm93JywgWzEwNTM0XV0sIFsnaG9hcnInLCBbODcwM11dLCBbJ2hvbXRodCcsIFs4NzYzXV0sIFsnaG9va2xlZnRhcnJvdycsIFs4NjE3XV0sIFsnaG9va3JpZ2h0YXJyb3cnLCBbODYxOF1dLCBbJ2hvcGYnLCBbMTIwMTUzXV0sIFsnSG9wZicsIFs4NDYxXV0sIFsnaG9yYmFyJywgWzgyMTNdXSwgWydIb3Jpem9udGFsTGluZScsIFs5NDcyXV0sIFsnaHNjcicsIFsxMTk5OTddXSwgWydIc2NyJywgWzg0NTldXSwgWydoc2xhc2gnLCBbODQ2M11dLCBbJ0hzdHJvaycsIFsyOTRdXSwgWydoc3Ryb2snLCBbMjk1XV0sIFsnSHVtcERvd25IdW1wJywgWzg3ODJdXSwgWydIdW1wRXF1YWwnLCBbODc4M11dLCBbJ2h5YnVsbCcsIFs4MjU5XV0sIFsnaHlwaGVuJywgWzgyMDhdXSwgWydJYWN1dGUnLCBbMjA1XV0sIFsnaWFjdXRlJywgWzIzN11dLCBbJ2ljJywgWzgyOTFdXSwgWydJY2lyYycsIFsyMDZdXSwgWydpY2lyYycsIFsyMzhdXSwgWydJY3knLCBbMTA0OF1dLCBbJ2ljeScsIFsxMDgwXV0sIFsnSWRvdCcsIFszMDRdXSwgWydJRWN5JywgWzEwNDVdXSwgWydpZWN5JywgWzEwNzddXSwgWydpZXhjbCcsIFsxNjFdXSwgWydpZmYnLCBbODY2MF1dLCBbJ2lmcicsIFsxMjAxMDJdXSwgWydJZnInLCBbODQ2NV1dLCBbJ0lncmF2ZScsIFsyMDRdXSwgWydpZ3JhdmUnLCBbMjM2XV0sIFsnaWknLCBbODUyMF1dLCBbJ2lpaWludCcsIFsxMDc2NF1dLCBbJ2lpaW50JywgWzg3NDldXSwgWydpaW5maW4nLCBbMTA3MTZdXSwgWydpaW90YScsIFs4NDg5XV0sIFsnSUpsaWcnLCBbMzA2XV0sIFsnaWpsaWcnLCBbMzA3XV0sIFsnSW1hY3InLCBbMjk4XV0sIFsnaW1hY3InLCBbMjk5XV0sIFsnaW1hZ2UnLCBbODQ2NV1dLCBbJ0ltYWdpbmFyeUknLCBbODUyMF1dLCBbJ2ltYWdsaW5lJywgWzg0NjRdXSwgWydpbWFncGFydCcsIFs4NDY1XV0sIFsnaW1hdGgnLCBbMzA1XV0sIFsnSW0nLCBbODQ2NV1dLCBbJ2ltb2YnLCBbODg4N11dLCBbJ2ltcGVkJywgWzQzN11dLCBbJ0ltcGxpZXMnLCBbODY1OF1dLCBbJ2luY2FyZScsIFs4NDUzXV0sIFsnaW4nLCBbODcxMl1dLCBbJ2luZmluJywgWzg3MzRdXSwgWydpbmZpbnRpZScsIFsxMDcxN11dLCBbJ2lub2RvdCcsIFszMDVdXSwgWydpbnRjYWwnLCBbODg5MF1dLCBbJ2ludCcsIFs4NzQ3XV0sIFsnSW50JywgWzg3NDhdXSwgWydpbnRlZ2VycycsIFs4NDg0XV0sIFsnSW50ZWdyYWwnLCBbODc0N11dLCBbJ2ludGVyY2FsJywgWzg4OTBdXSwgWydJbnRlcnNlY3Rpb24nLCBbODg5OF1dLCBbJ2ludGxhcmhrJywgWzEwNzc1XV0sIFsnaW50cHJvZCcsIFsxMDgxMl1dLCBbJ0ludmlzaWJsZUNvbW1hJywgWzgyOTFdXSwgWydJbnZpc2libGVUaW1lcycsIFs4MjkwXV0sIFsnSU9jeScsIFsxMDI1XV0sIFsnaW9jeScsIFsxMTA1XV0sIFsnSW9nb24nLCBbMzAyXV0sIFsnaW9nb24nLCBbMzAzXV0sIFsnSW9wZicsIFsxMjAxMjhdXSwgWydpb3BmJywgWzEyMDE1NF1dLCBbJ0lvdGEnLCBbOTIxXV0sIFsnaW90YScsIFs5NTNdXSwgWydpcHJvZCcsIFsxMDgxMl1dLCBbJ2lxdWVzdCcsIFsxOTFdXSwgWydpc2NyJywgWzExOTk5OF1dLCBbJ0lzY3InLCBbODQ2NF1dLCBbJ2lzaW4nLCBbODcxMl1dLCBbJ2lzaW5kb3QnLCBbODk0OV1dLCBbJ2lzaW5FJywgWzg5NTNdXSwgWydpc2lucycsIFs4OTQ4XV0sIFsnaXNpbnN2JywgWzg5NDddXSwgWydpc2ludicsIFs4NzEyXV0sIFsnaXQnLCBbODI5MF1dLCBbJ0l0aWxkZScsIFsyOTZdXSwgWydpdGlsZGUnLCBbMjk3XV0sIFsnSXVrY3knLCBbMTAzMF1dLCBbJ2l1a2N5JywgWzExMTBdXSwgWydJdW1sJywgWzIwN11dLCBbJ2l1bWwnLCBbMjM5XV0sIFsnSmNpcmMnLCBbMzA4XV0sIFsnamNpcmMnLCBbMzA5XV0sIFsnSmN5JywgWzEwNDldXSwgWydqY3knLCBbMTA4MV1dLCBbJ0pmcicsIFsxMjAwNzddXSwgWydqZnInLCBbMTIwMTAzXV0sIFsnam1hdGgnLCBbNTY3XV0sIFsnSm9wZicsIFsxMjAxMjldXSwgWydqb3BmJywgWzEyMDE1NV1dLCBbJ0pzY3InLCBbMTE5OTczXV0sIFsnanNjcicsIFsxMTk5OTldXSwgWydKc2VyY3knLCBbMTAzMl1dLCBbJ2pzZXJjeScsIFsxMTEyXV0sIFsnSnVrY3knLCBbMTAyOF1dLCBbJ2p1a2N5JywgWzExMDhdXSwgWydLYXBwYScsIFs5MjJdXSwgWydrYXBwYScsIFs5NTRdXSwgWydrYXBwYXYnLCBbMTAwOF1dLCBbJ0tjZWRpbCcsIFszMTBdXSwgWydrY2VkaWwnLCBbMzExXV0sIFsnS2N5JywgWzEwNTBdXSwgWydrY3knLCBbMTA4Ml1dLCBbJ0tmcicsIFsxMjAwNzhdXSwgWydrZnInLCBbMTIwMTA0XV0sIFsna2dyZWVuJywgWzMxMl1dLCBbJ0tIY3knLCBbMTA2MV1dLCBbJ2toY3knLCBbMTA5M11dLCBbJ0tKY3knLCBbMTAzNl1dLCBbJ2tqY3knLCBbMTExNl1dLCBbJ0tvcGYnLCBbMTIwMTMwXV0sIFsna29wZicsIFsxMjAxNTZdXSwgWydLc2NyJywgWzExOTk3NF1dLCBbJ2tzY3InLCBbMTIwMDAwXV0sIFsnbEFhcnInLCBbODY2Nl1dLCBbJ0xhY3V0ZScsIFszMTNdXSwgWydsYWN1dGUnLCBbMzE0XV0sIFsnbGFlbXB0eXYnLCBbMTA2NzZdXSwgWydsYWdyYW4nLCBbODQ2Nl1dLCBbJ0xhbWJkYScsIFs5MjNdXSwgWydsYW1iZGEnLCBbOTU1XV0sIFsnbGFuZycsIFsxMDIxNl1dLCBbJ0xhbmcnLCBbMTAyMThdXSwgWydsYW5nZCcsIFsxMDY0MV1dLCBbJ2xhbmdsZScsIFsxMDIxNl1dLCBbJ2xhcCcsIFsxMDg4NV1dLCBbJ0xhcGxhY2V0cmYnLCBbODQ2Nl1dLCBbJ2xhcXVvJywgWzE3MV1dLCBbJ2xhcnJiJywgWzg2NzZdXSwgWydsYXJyYmZzJywgWzEwNTI3XV0sIFsnbGFycicsIFs4NTkyXV0sIFsnTGFycicsIFs4NjA2XV0sIFsnbEFycicsIFs4NjU2XV0sIFsnbGFycmZzJywgWzEwNTI1XV0sIFsnbGFycmhrJywgWzg2MTddXSwgWydsYXJybHAnLCBbODYxOV1dLCBbJ2xhcnJwbCcsIFsxMDU1M11dLCBbJ2xhcnJzaW0nLCBbMTA2MTFdXSwgWydsYXJydGwnLCBbODYxMF1dLCBbJ2xhdGFpbCcsIFsxMDUyMV1dLCBbJ2xBdGFpbCcsIFsxMDUyM11dLCBbJ2xhdCcsIFsxMDkyM11dLCBbJ2xhdGUnLCBbMTA5MjVdXSwgWydsYXRlcycsIFsxMDkyNSwgNjUwMjRdXSwgWydsYmFycicsIFsxMDUwOF1dLCBbJ2xCYXJyJywgWzEwNTEwXV0sIFsnbGJicmsnLCBbMTAwOThdXSwgWydsYnJhY2UnLCBbMTIzXV0sIFsnbGJyYWNrJywgWzkxXV0sIFsnbGJya2UnLCBbMTA2MzVdXSwgWydsYnJrc2xkJywgWzEwNjM5XV0sIFsnbGJya3NsdScsIFsxMDYzN11dLCBbJ0xjYXJvbicsIFszMTddXSwgWydsY2Fyb24nLCBbMzE4XV0sIFsnTGNlZGlsJywgWzMxNV1dLCBbJ2xjZWRpbCcsIFszMTZdXSwgWydsY2VpbCcsIFs4OTY4XV0sIFsnbGN1YicsIFsxMjNdXSwgWydMY3knLCBbMTA1MV1dLCBbJ2xjeScsIFsxMDgzXV0sIFsnbGRjYScsIFsxMDU1MF1dLCBbJ2xkcXVvJywgWzgyMjBdXSwgWydsZHF1b3InLCBbODIyMl1dLCBbJ2xkcmRoYXInLCBbMTA1OTldXSwgWydsZHJ1c2hhcicsIFsxMDU3MV1dLCBbJ2xkc2gnLCBbODYyNl1dLCBbJ2xlJywgWzg4MDRdXSwgWydsRScsIFs4ODA2XV0sIFsnTGVmdEFuZ2xlQnJhY2tldCcsIFsxMDIxNl1dLCBbJ0xlZnRBcnJvd0JhcicsIFs4Njc2XV0sIFsnbGVmdGFycm93JywgWzg1OTJdXSwgWydMZWZ0QXJyb3cnLCBbODU5Ml1dLCBbJ0xlZnRhcnJvdycsIFs4NjU2XV0sIFsnTGVmdEFycm93UmlnaHRBcnJvdycsIFs4NjQ2XV0sIFsnbGVmdGFycm93dGFpbCcsIFs4NjEwXV0sIFsnTGVmdENlaWxpbmcnLCBbODk2OF1dLCBbJ0xlZnREb3VibGVCcmFja2V0JywgWzEwMjE0XV0sIFsnTGVmdERvd25UZWVWZWN0b3InLCBbMTA1OTNdXSwgWydMZWZ0RG93blZlY3RvckJhcicsIFsxMDU4NV1dLCBbJ0xlZnREb3duVmVjdG9yJywgWzg2NDNdXSwgWydMZWZ0Rmxvb3InLCBbODk3MF1dLCBbJ2xlZnRoYXJwb29uZG93bicsIFs4NjM3XV0sIFsnbGVmdGhhcnBvb251cCcsIFs4NjM2XV0sIFsnbGVmdGxlZnRhcnJvd3MnLCBbODY0N11dLCBbJ2xlZnRyaWdodGFycm93JywgWzg1OTZdXSwgWydMZWZ0UmlnaHRBcnJvdycsIFs4NTk2XV0sIFsnTGVmdHJpZ2h0YXJyb3cnLCBbODY2MF1dLCBbJ2xlZnRyaWdodGFycm93cycsIFs4NjQ2XV0sIFsnbGVmdHJpZ2h0aGFycG9vbnMnLCBbODY1MV1dLCBbJ2xlZnRyaWdodHNxdWlnYXJyb3cnLCBbODYyMV1dLCBbJ0xlZnRSaWdodFZlY3RvcicsIFsxMDU3NF1dLCBbJ0xlZnRUZWVBcnJvdycsIFs4NjEyXV0sIFsnTGVmdFRlZScsIFs4ODY3XV0sIFsnTGVmdFRlZVZlY3RvcicsIFsxMDU4Nl1dLCBbJ2xlZnR0aHJlZXRpbWVzJywgWzg5MDddXSwgWydMZWZ0VHJpYW5nbGVCYXInLCBbMTA3MDNdXSwgWydMZWZ0VHJpYW5nbGUnLCBbODg4Ml1dLCBbJ0xlZnRUcmlhbmdsZUVxdWFsJywgWzg4ODRdXSwgWydMZWZ0VXBEb3duVmVjdG9yJywgWzEwNTc3XV0sIFsnTGVmdFVwVGVlVmVjdG9yJywgWzEwNTkyXV0sIFsnTGVmdFVwVmVjdG9yQmFyJywgWzEwNTg0XV0sIFsnTGVmdFVwVmVjdG9yJywgWzg2MzldXSwgWydMZWZ0VmVjdG9yQmFyJywgWzEwNTc4XV0sIFsnTGVmdFZlY3RvcicsIFs4NjM2XV0sIFsnbEVnJywgWzEwODkxXV0sIFsnbGVnJywgWzg5MjJdXSwgWydsZXEnLCBbODgwNF1dLCBbJ2xlcXEnLCBbODgwNl1dLCBbJ2xlcXNsYW50JywgWzEwODc3XV0sIFsnbGVzY2MnLCBbMTA5MjBdXSwgWydsZXMnLCBbMTA4NzddXSwgWydsZXNkb3QnLCBbMTA4NzldXSwgWydsZXNkb3RvJywgWzEwODgxXV0sIFsnbGVzZG90b3InLCBbMTA4ODNdXSwgWydsZXNnJywgWzg5MjIsIDY1MDI0XV0sIFsnbGVzZ2VzJywgWzEwODk5XV0sIFsnbGVzc2FwcHJveCcsIFsxMDg4NV1dLCBbJ2xlc3Nkb3QnLCBbODkxOF1dLCBbJ2xlc3NlcWd0cicsIFs4OTIyXV0sIFsnbGVzc2VxcWd0cicsIFsxMDg5MV1dLCBbJ0xlc3NFcXVhbEdyZWF0ZXInLCBbODkyMl1dLCBbJ0xlc3NGdWxsRXF1YWwnLCBbODgwNl1dLCBbJ0xlc3NHcmVhdGVyJywgWzg4MjJdXSwgWydsZXNzZ3RyJywgWzg4MjJdXSwgWydMZXNzTGVzcycsIFsxMDkxM11dLCBbJ2xlc3NzaW0nLCBbODgxOF1dLCBbJ0xlc3NTbGFudEVxdWFsJywgWzEwODc3XV0sIFsnTGVzc1RpbGRlJywgWzg4MThdXSwgWydsZmlzaHQnLCBbMTA2MjBdXSwgWydsZmxvb3InLCBbODk3MF1dLCBbJ0xmcicsIFsxMjAwNzldXSwgWydsZnInLCBbMTIwMTA1XV0sIFsnbGcnLCBbODgyMl1dLCBbJ2xnRScsIFsxMDg5N11dLCBbJ2xIYXInLCBbMTA1OTRdXSwgWydsaGFyZCcsIFs4NjM3XV0sIFsnbGhhcnUnLCBbODYzNl1dLCBbJ2xoYXJ1bCcsIFsxMDYwMl1dLCBbJ2xoYmxrJywgWzk2MDRdXSwgWydMSmN5JywgWzEwMzNdXSwgWydsamN5JywgWzExMTNdXSwgWydsbGFycicsIFs4NjQ3XV0sIFsnbGwnLCBbODgxMF1dLCBbJ0xsJywgWzg5MjBdXSwgWydsbGNvcm5lcicsIFs4OTkwXV0sIFsnTGxlZnRhcnJvdycsIFs4NjY2XV0sIFsnbGxoYXJkJywgWzEwNjAzXV0sIFsnbGx0cmknLCBbOTcyMl1dLCBbJ0xtaWRvdCcsIFszMTldXSwgWydsbWlkb3QnLCBbMzIwXV0sIFsnbG1vdXN0YWNoZScsIFs5MTM2XV0sIFsnbG1vdXN0JywgWzkxMzZdXSwgWydsbmFwJywgWzEwODg5XV0sIFsnbG5hcHByb3gnLCBbMTA4ODldXSwgWydsbmUnLCBbMTA4ODddXSwgWydsbkUnLCBbODgwOF1dLCBbJ2xuZXEnLCBbMTA4ODddXSwgWydsbmVxcScsIFs4ODA4XV0sIFsnbG5zaW0nLCBbODkzNF1dLCBbJ2xvYW5nJywgWzEwMjIwXV0sIFsnbG9hcnInLCBbODcwMV1dLCBbJ2xvYnJrJywgWzEwMjE0XV0sIFsnbG9uZ2xlZnRhcnJvdycsIFsxMDIyOV1dLCBbJ0xvbmdMZWZ0QXJyb3cnLCBbMTAyMjldXSwgWydMb25nbGVmdGFycm93JywgWzEwMjMyXV0sIFsnbG9uZ2xlZnRyaWdodGFycm93JywgWzEwMjMxXV0sIFsnTG9uZ0xlZnRSaWdodEFycm93JywgWzEwMjMxXV0sIFsnTG9uZ2xlZnRyaWdodGFycm93JywgWzEwMjM0XV0sIFsnbG9uZ21hcHN0bycsIFsxMDIzNl1dLCBbJ2xvbmdyaWdodGFycm93JywgWzEwMjMwXV0sIFsnTG9uZ1JpZ2h0QXJyb3cnLCBbMTAyMzBdXSwgWydMb25ncmlnaHRhcnJvdycsIFsxMDIzM11dLCBbJ2xvb3BhcnJvd2xlZnQnLCBbODYxOV1dLCBbJ2xvb3BhcnJvd3JpZ2h0JywgWzg2MjBdXSwgWydsb3BhcicsIFsxMDYyOV1dLCBbJ0xvcGYnLCBbMTIwMTMxXV0sIFsnbG9wZicsIFsxMjAxNTddXSwgWydsb3BsdXMnLCBbMTA3OTddXSwgWydsb3RpbWVzJywgWzEwODA0XV0sIFsnbG93YXN0JywgWzg3MjddXSwgWydsb3diYXInLCBbOTVdXSwgWydMb3dlckxlZnRBcnJvdycsIFs4NjAxXV0sIFsnTG93ZXJSaWdodEFycm93JywgWzg2MDBdXSwgWydsb3onLCBbOTY3NF1dLCBbJ2xvemVuZ2UnLCBbOTY3NF1dLCBbJ2xvemYnLCBbMTA3MzFdXSwgWydscGFyJywgWzQwXV0sIFsnbHBhcmx0JywgWzEwNjQzXV0sIFsnbHJhcnInLCBbODY0Nl1dLCBbJ2xyY29ybmVyJywgWzg5OTFdXSwgWydscmhhcicsIFs4NjUxXV0sIFsnbHJoYXJkJywgWzEwNjA1XV0sIFsnbHJtJywgWzgyMDZdXSwgWydscnRyaScsIFs4ODk1XV0sIFsnbHNhcXVvJywgWzgyNDldXSwgWydsc2NyJywgWzEyMDAwMV1dLCBbJ0xzY3InLCBbODQ2Nl1dLCBbJ2xzaCcsIFs4NjI0XV0sIFsnTHNoJywgWzg2MjRdXSwgWydsc2ltJywgWzg4MThdXSwgWydsc2ltZScsIFsxMDg5M11dLCBbJ2xzaW1nJywgWzEwODk1XV0sIFsnbHNxYicsIFs5MV1dLCBbJ2xzcXVvJywgWzgyMTZdXSwgWydsc3F1b3InLCBbODIxOF1dLCBbJ0xzdHJvaycsIFszMjFdXSwgWydsc3Ryb2snLCBbMzIyXV0sIFsnbHRjYycsIFsxMDkxOF1dLCBbJ2x0Y2lyJywgWzEwODczXV0sIFsnbHQnLCBbNjBdXSwgWydMVCcsIFs2MF1dLCBbJ0x0JywgWzg4MTBdXSwgWydsdGRvdCcsIFs4OTE4XV0sIFsnbHRocmVlJywgWzg5MDddXSwgWydsdGltZXMnLCBbODkwNV1dLCBbJ2x0bGFycicsIFsxMDYxNF1dLCBbJ2x0cXVlc3QnLCBbMTA4NzVdXSwgWydsdHJpJywgWzk2NjddXSwgWydsdHJpZScsIFs4ODg0XV0sIFsnbHRyaWYnLCBbOTY2Nl1dLCBbJ2x0clBhcicsIFsxMDY0Nl1dLCBbJ2x1cmRzaGFyJywgWzEwNTcwXV0sIFsnbHVydWhhcicsIFsxMDU5OF1dLCBbJ2x2ZXJ0bmVxcScsIFs4ODA4LCA2NTAyNF1dLCBbJ2x2bkUnLCBbODgwOCwgNjUwMjRdXSwgWydtYWNyJywgWzE3NV1dLCBbJ21hbGUnLCBbOTc5NF1dLCBbJ21hbHQnLCBbMTAwMTZdXSwgWydtYWx0ZXNlJywgWzEwMDE2XV0sIFsnTWFwJywgWzEwNTAxXV0sIFsnbWFwJywgWzg2MTRdXSwgWydtYXBzdG8nLCBbODYxNF1dLCBbJ21hcHN0b2Rvd24nLCBbODYxNV1dLCBbJ21hcHN0b2xlZnQnLCBbODYxMl1dLCBbJ21hcHN0b3VwJywgWzg2MTNdXSwgWydtYXJrZXInLCBbOTY0Nl1dLCBbJ21jb21tYScsIFsxMDc5M11dLCBbJ01jeScsIFsxMDUyXV0sIFsnbWN5JywgWzEwODRdXSwgWydtZGFzaCcsIFs4MjEyXV0sIFsnbUREb3QnLCBbODc2Ml1dLCBbJ21lYXN1cmVkYW5nbGUnLCBbODczN11dLCBbJ01lZGl1bVNwYWNlJywgWzgyODddXSwgWydNZWxsaW50cmYnLCBbODQ5OV1dLCBbJ01mcicsIFsxMjAwODBdXSwgWydtZnInLCBbMTIwMTA2XV0sIFsnbWhvJywgWzg0ODddXSwgWydtaWNybycsIFsxODFdXSwgWydtaWRhc3QnLCBbNDJdXSwgWydtaWRjaXInLCBbMTA5OTJdXSwgWydtaWQnLCBbODczOV1dLCBbJ21pZGRvdCcsIFsxODNdXSwgWydtaW51c2InLCBbODg2M11dLCBbJ21pbnVzJywgWzg3MjJdXSwgWydtaW51c2QnLCBbODc2MF1dLCBbJ21pbnVzZHUnLCBbMTA3OTRdXSwgWydNaW51c1BsdXMnLCBbODcyM11dLCBbJ21sY3AnLCBbMTA5NzFdXSwgWydtbGRyJywgWzgyMzBdXSwgWydtbnBsdXMnLCBbODcyM11dLCBbJ21vZGVscycsIFs4ODcxXV0sIFsnTW9wZicsIFsxMjAxMzJdXSwgWydtb3BmJywgWzEyMDE1OF1dLCBbJ21wJywgWzg3MjNdXSwgWydtc2NyJywgWzEyMDAwMl1dLCBbJ01zY3InLCBbODQ5OV1dLCBbJ21zdHBvcycsIFs4NzY2XV0sIFsnTXUnLCBbOTI0XV0sIFsnbXUnLCBbOTU2XV0sIFsnbXVsdGltYXAnLCBbODg4OF1dLCBbJ211bWFwJywgWzg4ODhdXSwgWyduYWJsYScsIFs4NzExXV0sIFsnTmFjdXRlJywgWzMyM11dLCBbJ25hY3V0ZScsIFszMjRdXSwgWyduYW5nJywgWzg3MzYsIDg0MDJdXSwgWyduYXAnLCBbODc3N11dLCBbJ25hcEUnLCBbMTA4NjQsIDgyNF1dLCBbJ25hcGlkJywgWzg3NzksIDgyNF1dLCBbJ25hcG9zJywgWzMyOV1dLCBbJ25hcHByb3gnLCBbODc3N11dLCBbJ25hdHVyYWwnLCBbOTgzOF1dLCBbJ25hdHVyYWxzJywgWzg0NjldXSwgWyduYXR1cicsIFs5ODM4XV0sIFsnbmJzcCcsIFsxNjBdXSwgWyduYnVtcCcsIFs4NzgyLCA4MjRdXSwgWyduYnVtcGUnLCBbODc4MywgODI0XV0sIFsnbmNhcCcsIFsxMDgxOV1dLCBbJ05jYXJvbicsIFszMjddXSwgWyduY2Fyb24nLCBbMzI4XV0sIFsnTmNlZGlsJywgWzMyNV1dLCBbJ25jZWRpbCcsIFszMjZdXSwgWyduY29uZycsIFs4Nzc1XV0sIFsnbmNvbmdkb3QnLCBbMTA4NjEsIDgyNF1dLCBbJ25jdXAnLCBbMTA4MThdXSwgWydOY3knLCBbMTA1M11dLCBbJ25jeScsIFsxMDg1XV0sIFsnbmRhc2gnLCBbODIxMV1dLCBbJ25lYXJoaycsIFsxMDUzMl1dLCBbJ25lYXJyJywgWzg1OTldXSwgWyduZUFycicsIFs4NjYzXV0sIFsnbmVhcnJvdycsIFs4NTk5XV0sIFsnbmUnLCBbODgwMF1dLCBbJ25lZG90JywgWzg3ODQsIDgyNF1dLCBbJ05lZ2F0aXZlTWVkaXVtU3BhY2UnLCBbODIwM11dLCBbJ05lZ2F0aXZlVGhpY2tTcGFjZScsIFs4MjAzXV0sIFsnTmVnYXRpdmVUaGluU3BhY2UnLCBbODIwM11dLCBbJ05lZ2F0aXZlVmVyeVRoaW5TcGFjZScsIFs4MjAzXV0sIFsnbmVxdWl2JywgWzg4MDJdXSwgWyduZXNlYXInLCBbMTA1MzZdXSwgWyduZXNpbScsIFs4NzcwLCA4MjRdXSwgWydOZXN0ZWRHcmVhdGVyR3JlYXRlcicsIFs4ODExXV0sIFsnTmVzdGVkTGVzc0xlc3MnLCBbODgxMF1dLCBbJ25leGlzdCcsIFs4NzA4XV0sIFsnbmV4aXN0cycsIFs4NzA4XV0sIFsnTmZyJywgWzEyMDA4MV1dLCBbJ25mcicsIFsxMjAxMDddXSwgWyduZ0UnLCBbODgwNywgODI0XV0sIFsnbmdlJywgWzg4MTddXSwgWyduZ2VxJywgWzg4MTddXSwgWyduZ2VxcScsIFs4ODA3LCA4MjRdXSwgWyduZ2Vxc2xhbnQnLCBbMTA4NzgsIDgyNF1dLCBbJ25nZXMnLCBbMTA4NzgsIDgyNF1dLCBbJ25HZycsIFs4OTIxLCA4MjRdXSwgWyduZ3NpbScsIFs4ODIxXV0sIFsnbkd0JywgWzg4MTEsIDg0MDJdXSwgWyduZ3QnLCBbODgxNV1dLCBbJ25ndHInLCBbODgxNV1dLCBbJ25HdHYnLCBbODgxMSwgODI0XV0sIFsnbmhhcnInLCBbODYyMl1dLCBbJ25oQXJyJywgWzg2NTRdXSwgWyduaHBhcicsIFsxMDk5NF1dLCBbJ25pJywgWzg3MTVdXSwgWyduaXMnLCBbODk1Nl1dLCBbJ25pc2QnLCBbODk1NF1dLCBbJ25pdicsIFs4NzE1XV0sIFsnTkpjeScsIFsxMDM0XV0sIFsnbmpjeScsIFsxMTE0XV0sIFsnbmxhcnInLCBbODYwMl1dLCBbJ25sQXJyJywgWzg2NTNdXSwgWydubGRyJywgWzgyMjldXSwgWydubEUnLCBbODgwNiwgODI0XV0sIFsnbmxlJywgWzg4MTZdXSwgWydubGVmdGFycm93JywgWzg2MDJdXSwgWyduTGVmdGFycm93JywgWzg2NTNdXSwgWydubGVmdHJpZ2h0YXJyb3cnLCBbODYyMl1dLCBbJ25MZWZ0cmlnaHRhcnJvdycsIFs4NjU0XV0sIFsnbmxlcScsIFs4ODE2XV0sIFsnbmxlcXEnLCBbODgwNiwgODI0XV0sIFsnbmxlcXNsYW50JywgWzEwODc3LCA4MjRdXSwgWydubGVzJywgWzEwODc3LCA4MjRdXSwgWydubGVzcycsIFs4ODE0XV0sIFsnbkxsJywgWzg5MjAsIDgyNF1dLCBbJ25sc2ltJywgWzg4MjBdXSwgWyduTHQnLCBbODgxMCwgODQwMl1dLCBbJ25sdCcsIFs4ODE0XV0sIFsnbmx0cmknLCBbODkzOF1dLCBbJ25sdHJpZScsIFs4OTQwXV0sIFsnbkx0dicsIFs4ODEwLCA4MjRdXSwgWydubWlkJywgWzg3NDBdXSwgWydOb0JyZWFrJywgWzgyODhdXSwgWydOb25CcmVha2luZ1NwYWNlJywgWzE2MF1dLCBbJ25vcGYnLCBbMTIwMTU5XV0sIFsnTm9wZicsIFs4NDY5XV0sIFsnTm90JywgWzEwOTg4XV0sIFsnbm90JywgWzE3Ml1dLCBbJ05vdENvbmdydWVudCcsIFs4ODAyXV0sIFsnTm90Q3VwQ2FwJywgWzg4MTNdXSwgWydOb3REb3VibGVWZXJ0aWNhbEJhcicsIFs4NzQyXV0sIFsnTm90RWxlbWVudCcsIFs4NzEzXV0sIFsnTm90RXF1YWwnLCBbODgwMF1dLCBbJ05vdEVxdWFsVGlsZGUnLCBbODc3MCwgODI0XV0sIFsnTm90RXhpc3RzJywgWzg3MDhdXSwgWydOb3RHcmVhdGVyJywgWzg4MTVdXSwgWydOb3RHcmVhdGVyRXF1YWwnLCBbODgxN11dLCBbJ05vdEdyZWF0ZXJGdWxsRXF1YWwnLCBbODgwNywgODI0XV0sIFsnTm90R3JlYXRlckdyZWF0ZXInLCBbODgxMSwgODI0XV0sIFsnTm90R3JlYXRlckxlc3MnLCBbODgyNV1dLCBbJ05vdEdyZWF0ZXJTbGFudEVxdWFsJywgWzEwODc4LCA4MjRdXSwgWydOb3RHcmVhdGVyVGlsZGUnLCBbODgyMV1dLCBbJ05vdEh1bXBEb3duSHVtcCcsIFs4NzgyLCA4MjRdXSwgWydOb3RIdW1wRXF1YWwnLCBbODc4MywgODI0XV0sIFsnbm90aW4nLCBbODcxM11dLCBbJ25vdGluZG90JywgWzg5NDksIDgyNF1dLCBbJ25vdGluRScsIFs4OTUzLCA4MjRdXSwgWydub3RpbnZhJywgWzg3MTNdXSwgWydub3RpbnZiJywgWzg5NTFdXSwgWydub3RpbnZjJywgWzg5NTBdXSwgWydOb3RMZWZ0VHJpYW5nbGVCYXInLCBbMTA3MDMsIDgyNF1dLCBbJ05vdExlZnRUcmlhbmdsZScsIFs4OTM4XV0sIFsnTm90TGVmdFRyaWFuZ2xlRXF1YWwnLCBbODk0MF1dLCBbJ05vdExlc3MnLCBbODgxNF1dLCBbJ05vdExlc3NFcXVhbCcsIFs4ODE2XV0sIFsnTm90TGVzc0dyZWF0ZXInLCBbODgyNF1dLCBbJ05vdExlc3NMZXNzJywgWzg4MTAsIDgyNF1dLCBbJ05vdExlc3NTbGFudEVxdWFsJywgWzEwODc3LCA4MjRdXSwgWydOb3RMZXNzVGlsZGUnLCBbODgyMF1dLCBbJ05vdE5lc3RlZEdyZWF0ZXJHcmVhdGVyJywgWzEwOTE0LCA4MjRdXSwgWydOb3ROZXN0ZWRMZXNzTGVzcycsIFsxMDkxMywgODI0XV0sIFsnbm90bmknLCBbODcxNl1dLCBbJ25vdG5pdmEnLCBbODcxNl1dLCBbJ25vdG5pdmInLCBbODk1OF1dLCBbJ25vdG5pdmMnLCBbODk1N11dLCBbJ05vdFByZWNlZGVzJywgWzg4MzJdXSwgWydOb3RQcmVjZWRlc0VxdWFsJywgWzEwOTI3LCA4MjRdXSwgWydOb3RQcmVjZWRlc1NsYW50RXF1YWwnLCBbODkyOF1dLCBbJ05vdFJldmVyc2VFbGVtZW50JywgWzg3MTZdXSwgWydOb3RSaWdodFRyaWFuZ2xlQmFyJywgWzEwNzA0LCA4MjRdXSwgWydOb3RSaWdodFRyaWFuZ2xlJywgWzg5MzldXSwgWydOb3RSaWdodFRyaWFuZ2xlRXF1YWwnLCBbODk0MV1dLCBbJ05vdFNxdWFyZVN1YnNldCcsIFs4ODQ3LCA4MjRdXSwgWydOb3RTcXVhcmVTdWJzZXRFcXVhbCcsIFs4OTMwXV0sIFsnTm90U3F1YXJlU3VwZXJzZXQnLCBbODg0OCwgODI0XV0sIFsnTm90U3F1YXJlU3VwZXJzZXRFcXVhbCcsIFs4OTMxXV0sIFsnTm90U3Vic2V0JywgWzg4MzQsIDg0MDJdXSwgWydOb3RTdWJzZXRFcXVhbCcsIFs4ODQwXV0sIFsnTm90U3VjY2VlZHMnLCBbODgzM11dLCBbJ05vdFN1Y2NlZWRzRXF1YWwnLCBbMTA5MjgsIDgyNF1dLCBbJ05vdFN1Y2NlZWRzU2xhbnRFcXVhbCcsIFs4OTI5XV0sIFsnTm90U3VjY2VlZHNUaWxkZScsIFs4ODMxLCA4MjRdXSwgWydOb3RTdXBlcnNldCcsIFs4ODM1LCA4NDAyXV0sIFsnTm90U3VwZXJzZXRFcXVhbCcsIFs4ODQxXV0sIFsnTm90VGlsZGUnLCBbODc2OV1dLCBbJ05vdFRpbGRlRXF1YWwnLCBbODc3Ml1dLCBbJ05vdFRpbGRlRnVsbEVxdWFsJywgWzg3NzVdXSwgWydOb3RUaWxkZVRpbGRlJywgWzg3NzddXSwgWydOb3RWZXJ0aWNhbEJhcicsIFs4NzQwXV0sIFsnbnBhcmFsbGVsJywgWzg3NDJdXSwgWyducGFyJywgWzg3NDJdXSwgWyducGFyc2wnLCBbMTEwMDUsIDg0MjFdXSwgWyducGFydCcsIFs4NzA2LCA4MjRdXSwgWyducG9saW50JywgWzEwNzcyXV0sIFsnbnByJywgWzg4MzJdXSwgWyducHJjdWUnLCBbODkyOF1dLCBbJ25wcmVjJywgWzg4MzJdXSwgWyducHJlY2VxJywgWzEwOTI3LCA4MjRdXSwgWyducHJlJywgWzEwOTI3LCA4MjRdXSwgWyducmFycmMnLCBbMTA1NDcsIDgyNF1dLCBbJ25yYXJyJywgWzg2MDNdXSwgWyduckFycicsIFs4NjU1XV0sIFsnbnJhcnJ3JywgWzg2MDUsIDgyNF1dLCBbJ25yaWdodGFycm93JywgWzg2MDNdXSwgWyduUmlnaHRhcnJvdycsIFs4NjU1XV0sIFsnbnJ0cmknLCBbODkzOV1dLCBbJ25ydHJpZScsIFs4OTQxXV0sIFsnbnNjJywgWzg4MzNdXSwgWyduc2NjdWUnLCBbODkyOV1dLCBbJ25zY2UnLCBbMTA5MjgsIDgyNF1dLCBbJ05zY3InLCBbMTE5OTc3XV0sIFsnbnNjcicsIFsxMjAwMDNdXSwgWyduc2hvcnRtaWQnLCBbODc0MF1dLCBbJ25zaG9ydHBhcmFsbGVsJywgWzg3NDJdXSwgWyduc2ltJywgWzg3NjldXSwgWyduc2ltZScsIFs4NzcyXV0sIFsnbnNpbWVxJywgWzg3NzJdXSwgWyduc21pZCcsIFs4NzQwXV0sIFsnbnNwYXInLCBbODc0Ml1dLCBbJ25zcXN1YmUnLCBbODkzMF1dLCBbJ25zcXN1cGUnLCBbODkzMV1dLCBbJ25zdWInLCBbODgzNl1dLCBbJ25zdWJFJywgWzEwOTQ5LCA4MjRdXSwgWyduc3ViZScsIFs4ODQwXV0sIFsnbnN1YnNldCcsIFs4ODM0LCA4NDAyXV0sIFsnbnN1YnNldGVxJywgWzg4NDBdXSwgWyduc3Vic2V0ZXFxJywgWzEwOTQ5LCA4MjRdXSwgWyduc3VjYycsIFs4ODMzXV0sIFsnbnN1Y2NlcScsIFsxMDkyOCwgODI0XV0sIFsnbnN1cCcsIFs4ODM3XV0sIFsnbnN1cEUnLCBbMTA5NTAsIDgyNF1dLCBbJ25zdXBlJywgWzg4NDFdXSwgWyduc3Vwc2V0JywgWzg4MzUsIDg0MDJdXSwgWyduc3Vwc2V0ZXEnLCBbODg0MV1dLCBbJ25zdXBzZXRlcXEnLCBbMTA5NTAsIDgyNF1dLCBbJ250Z2wnLCBbODgyNV1dLCBbJ050aWxkZScsIFsyMDldXSwgWydudGlsZGUnLCBbMjQxXV0sIFsnbnRsZycsIFs4ODI0XV0sIFsnbnRyaWFuZ2xlbGVmdCcsIFs4OTM4XV0sIFsnbnRyaWFuZ2xlbGVmdGVxJywgWzg5NDBdXSwgWydudHJpYW5nbGVyaWdodCcsIFs4OTM5XV0sIFsnbnRyaWFuZ2xlcmlnaHRlcScsIFs4OTQxXV0sIFsnTnUnLCBbOTI1XV0sIFsnbnUnLCBbOTU3XV0sIFsnbnVtJywgWzM1XV0sIFsnbnVtZXJvJywgWzg0NzBdXSwgWydudW1zcCcsIFs4MTk5XV0sIFsnbnZhcCcsIFs4NzgxLCA4NDAyXV0sIFsnbnZkYXNoJywgWzg4NzZdXSwgWydudkRhc2gnLCBbODg3N11dLCBbJ25WZGFzaCcsIFs4ODc4XV0sIFsnblZEYXNoJywgWzg4NzldXSwgWydudmdlJywgWzg4MDUsIDg0MDJdXSwgWydudmd0JywgWzYyLCA4NDAyXV0sIFsnbnZIYXJyJywgWzEwNTAwXV0sIFsnbnZpbmZpbicsIFsxMDcxOF1dLCBbJ252bEFycicsIFsxMDQ5OF1dLCBbJ252bGUnLCBbODgwNCwgODQwMl1dLCBbJ252bHQnLCBbNjAsIDg0MDJdXSwgWydudmx0cmllJywgWzg4ODQsIDg0MDJdXSwgWydudnJBcnInLCBbMTA0OTldXSwgWydudnJ0cmllJywgWzg4ODUsIDg0MDJdXSwgWydudnNpbScsIFs4NzY0LCA4NDAyXV0sIFsnbndhcmhrJywgWzEwNTMxXV0sIFsnbndhcnInLCBbODU5OF1dLCBbJ253QXJyJywgWzg2NjJdXSwgWydud2Fycm93JywgWzg1OThdXSwgWydud25lYXInLCBbMTA1MzVdXSwgWydPYWN1dGUnLCBbMjExXV0sIFsnb2FjdXRlJywgWzI0M11dLCBbJ29hc3QnLCBbODg1OV1dLCBbJ09jaXJjJywgWzIxMl1dLCBbJ29jaXJjJywgWzI0NF1dLCBbJ29jaXInLCBbODg1OF1dLCBbJ09jeScsIFsxMDU0XV0sIFsnb2N5JywgWzEwODZdXSwgWydvZGFzaCcsIFs4ODYxXV0sIFsnT2RibGFjJywgWzMzNl1dLCBbJ29kYmxhYycsIFszMzddXSwgWydvZGl2JywgWzEwODA4XV0sIFsnb2RvdCcsIFs4ODU3XV0sIFsnb2Rzb2xkJywgWzEwNjg0XV0sIFsnT0VsaWcnLCBbMzM4XV0sIFsnb2VsaWcnLCBbMzM5XV0sIFsnb2ZjaXInLCBbMTA2ODddXSwgWydPZnInLCBbMTIwMDgyXV0sIFsnb2ZyJywgWzEyMDEwOF1dLCBbJ29nb24nLCBbNzMxXV0sIFsnT2dyYXZlJywgWzIxMF1dLCBbJ29ncmF2ZScsIFsyNDJdXSwgWydvZ3QnLCBbMTA2ODldXSwgWydvaGJhcicsIFsxMDY3N11dLCBbJ29obScsIFs5MzddXSwgWydvaW50JywgWzg3NTBdXSwgWydvbGFycicsIFs4NjM0XV0sIFsnb2xjaXInLCBbMTA2ODZdXSwgWydvbGNyb3NzJywgWzEwNjgzXV0sIFsnb2xpbmUnLCBbODI1NF1dLCBbJ29sdCcsIFsxMDY4OF1dLCBbJ09tYWNyJywgWzMzMl1dLCBbJ29tYWNyJywgWzMzM11dLCBbJ09tZWdhJywgWzkzN11dLCBbJ29tZWdhJywgWzk2OV1dLCBbJ09taWNyb24nLCBbOTI3XV0sIFsnb21pY3JvbicsIFs5NTldXSwgWydvbWlkJywgWzEwNjc4XV0sIFsnb21pbnVzJywgWzg4NTRdXSwgWydPb3BmJywgWzEyMDEzNF1dLCBbJ29vcGYnLCBbMTIwMTYwXV0sIFsnb3BhcicsIFsxMDY3OV1dLCBbJ09wZW5DdXJseURvdWJsZVF1b3RlJywgWzgyMjBdXSwgWydPcGVuQ3VybHlRdW90ZScsIFs4MjE2XV0sIFsnb3BlcnAnLCBbMTA2ODFdXSwgWydvcGx1cycsIFs4ODUzXV0sIFsnb3JhcnInLCBbODYzNV1dLCBbJ09yJywgWzEwODM2XV0sIFsnb3InLCBbODc0NF1dLCBbJ29yZCcsIFsxMDg0NV1dLCBbJ29yZGVyJywgWzg1MDBdXSwgWydvcmRlcm9mJywgWzg1MDBdXSwgWydvcmRmJywgWzE3MF1dLCBbJ29yZG0nLCBbMTg2XV0sIFsnb3JpZ29mJywgWzg4ODZdXSwgWydvcm9yJywgWzEwODM4XV0sIFsnb3JzbG9wZScsIFsxMDgzOV1dLCBbJ29ydicsIFsxMDg0M11dLCBbJ29TJywgWzk0MTZdXSwgWydPc2NyJywgWzExOTk3OF1dLCBbJ29zY3InLCBbODUwMF1dLCBbJ09zbGFzaCcsIFsyMTZdXSwgWydvc2xhc2gnLCBbMjQ4XV0sIFsnb3NvbCcsIFs4ODU2XV0sIFsnT3RpbGRlJywgWzIxM11dLCBbJ290aWxkZScsIFsyNDVdXSwgWydvdGltZXNhcycsIFsxMDgwNl1dLCBbJ090aW1lcycsIFsxMDgwN11dLCBbJ290aW1lcycsIFs4ODU1XV0sIFsnT3VtbCcsIFsyMTRdXSwgWydvdW1sJywgWzI0Nl1dLCBbJ292YmFyJywgWzkwMjFdXSwgWydPdmVyQmFyJywgWzgyNTRdXSwgWydPdmVyQnJhY2UnLCBbOTE4Ml1dLCBbJ092ZXJCcmFja2V0JywgWzkxNDBdXSwgWydPdmVyUGFyZW50aGVzaXMnLCBbOTE4MF1dLCBbJ3BhcmEnLCBbMTgyXV0sIFsncGFyYWxsZWwnLCBbODc0MV1dLCBbJ3BhcicsIFs4NzQxXV0sIFsncGFyc2ltJywgWzEwOTk1XV0sIFsncGFyc2wnLCBbMTEwMDVdXSwgWydwYXJ0JywgWzg3MDZdXSwgWydQYXJ0aWFsRCcsIFs4NzA2XV0sIFsnUGN5JywgWzEwNTVdXSwgWydwY3knLCBbMTA4N11dLCBbJ3BlcmNudCcsIFszN11dLCBbJ3BlcmlvZCcsIFs0Nl1dLCBbJ3Blcm1pbCcsIFs4MjQwXV0sIFsncGVycCcsIFs4ODY5XV0sIFsncGVydGVuaycsIFs4MjQxXV0sIFsnUGZyJywgWzEyMDA4M11dLCBbJ3BmcicsIFsxMjAxMDldXSwgWydQaGknLCBbOTM0XV0sIFsncGhpJywgWzk2Nl1dLCBbJ3BoaXYnLCBbOTgxXV0sIFsncGhtbWF0JywgWzg0OTldXSwgWydwaG9uZScsIFs5NzQyXV0sIFsnUGknLCBbOTI4XV0sIFsncGknLCBbOTYwXV0sIFsncGl0Y2hmb3JrJywgWzg5MTZdXSwgWydwaXYnLCBbOTgyXV0sIFsncGxhbmNrJywgWzg0NjNdXSwgWydwbGFuY2toJywgWzg0NjJdXSwgWydwbGFua3YnLCBbODQ2M11dLCBbJ3BsdXNhY2lyJywgWzEwNzg3XV0sIFsncGx1c2InLCBbODg2Ml1dLCBbJ3BsdXNjaXInLCBbMTA3ODZdXSwgWydwbHVzJywgWzQzXV0sIFsncGx1c2RvJywgWzg3MjRdXSwgWydwbHVzZHUnLCBbMTA3ODldXSwgWydwbHVzZScsIFsxMDg2Nl1dLCBbJ1BsdXNNaW51cycsIFsxNzddXSwgWydwbHVzbW4nLCBbMTc3XV0sIFsncGx1c3NpbScsIFsxMDc5MF1dLCBbJ3BsdXN0d28nLCBbMTA3OTFdXSwgWydwbScsIFsxNzddXSwgWydQb2luY2FyZXBsYW5lJywgWzg0NjBdXSwgWydwb2ludGludCcsIFsxMDc3M11dLCBbJ3BvcGYnLCBbMTIwMTYxXV0sIFsnUG9wZicsIFs4NDczXV0sIFsncG91bmQnLCBbMTYzXV0sIFsncHJhcCcsIFsxMDkzNV1dLCBbJ1ByJywgWzEwOTM5XV0sIFsncHInLCBbODgyNl1dLCBbJ3ByY3VlJywgWzg4MjhdXSwgWydwcmVjYXBwcm94JywgWzEwOTM1XV0sIFsncHJlYycsIFs4ODI2XV0sIFsncHJlY2N1cmx5ZXEnLCBbODgyOF1dLCBbJ1ByZWNlZGVzJywgWzg4MjZdXSwgWydQcmVjZWRlc0VxdWFsJywgWzEwOTI3XV0sIFsnUHJlY2VkZXNTbGFudEVxdWFsJywgWzg4MjhdXSwgWydQcmVjZWRlc1RpbGRlJywgWzg4MzBdXSwgWydwcmVjZXEnLCBbMTA5MjddXSwgWydwcmVjbmFwcHJveCcsIFsxMDkzN11dLCBbJ3ByZWNuZXFxJywgWzEwOTMzXV0sIFsncHJlY25zaW0nLCBbODkzNl1dLCBbJ3ByZScsIFsxMDkyN11dLCBbJ3ByRScsIFsxMDkzMV1dLCBbJ3ByZWNzaW0nLCBbODgzMF1dLCBbJ3ByaW1lJywgWzgyNDJdXSwgWydQcmltZScsIFs4MjQzXV0sIFsncHJpbWVzJywgWzg0NzNdXSwgWydwcm5hcCcsIFsxMDkzN11dLCBbJ3BybkUnLCBbMTA5MzNdXSwgWydwcm5zaW0nLCBbODkzNl1dLCBbJ3Byb2QnLCBbODcxOV1dLCBbJ1Byb2R1Y3QnLCBbODcxOV1dLCBbJ3Byb2ZhbGFyJywgWzkwMDZdXSwgWydwcm9mbGluZScsIFs4OTc4XV0sIFsncHJvZnN1cmYnLCBbODk3OV1dLCBbJ3Byb3AnLCBbODczM11dLCBbJ1Byb3BvcnRpb25hbCcsIFs4NzMzXV0sIFsnUHJvcG9ydGlvbicsIFs4NzU5XV0sIFsncHJvcHRvJywgWzg3MzNdXSwgWydwcnNpbScsIFs4ODMwXV0sIFsncHJ1cmVsJywgWzg4ODBdXSwgWydQc2NyJywgWzExOTk3OV1dLCBbJ3BzY3InLCBbMTIwMDA1XV0sIFsnUHNpJywgWzkzNl1dLCBbJ3BzaScsIFs5NjhdXSwgWydwdW5jc3AnLCBbODIwMF1dLCBbJ1FmcicsIFsxMjAwODRdXSwgWydxZnInLCBbMTIwMTEwXV0sIFsncWludCcsIFsxMDc2NF1dLCBbJ3FvcGYnLCBbMTIwMTYyXV0sIFsnUW9wZicsIFs4NDc0XV0sIFsncXByaW1lJywgWzgyNzldXSwgWydRc2NyJywgWzExOTk4MF1dLCBbJ3FzY3InLCBbMTIwMDA2XV0sIFsncXVhdGVybmlvbnMnLCBbODQ2MV1dLCBbJ3F1YXRpbnQnLCBbMTA3NzRdXSwgWydxdWVzdCcsIFs2M11dLCBbJ3F1ZXN0ZXEnLCBbODc5OV1dLCBbJ3F1b3QnLCBbMzRdXSwgWydRVU9UJywgWzM0XV0sIFsnckFhcnInLCBbODY2N11dLCBbJ3JhY2UnLCBbODc2NSwgODE3XV0sIFsnUmFjdXRlJywgWzM0MF1dLCBbJ3JhY3V0ZScsIFszNDFdXSwgWydyYWRpYycsIFs4NzMwXV0sIFsncmFlbXB0eXYnLCBbMTA2NzVdXSwgWydyYW5nJywgWzEwMjE3XV0sIFsnUmFuZycsIFsxMDIxOV1dLCBbJ3JhbmdkJywgWzEwNjQyXV0sIFsncmFuZ2UnLCBbMTA2NjFdXSwgWydyYW5nbGUnLCBbMTAyMTddXSwgWydyYXF1bycsIFsxODddXSwgWydyYXJyYXAnLCBbMTA2MTNdXSwgWydyYXJyYicsIFs4Njc3XV0sIFsncmFycmJmcycsIFsxMDUyOF1dLCBbJ3JhcnJjJywgWzEwNTQ3XV0sIFsncmFycicsIFs4NTk0XV0sIFsnUmFycicsIFs4NjA4XV0sIFsnckFycicsIFs4NjU4XV0sIFsncmFycmZzJywgWzEwNTI2XV0sIFsncmFycmhrJywgWzg2MThdXSwgWydyYXJybHAnLCBbODYyMF1dLCBbJ3JhcnJwbCcsIFsxMDU2NV1dLCBbJ3JhcnJzaW0nLCBbMTA2MTJdXSwgWydSYXJydGwnLCBbMTA1MThdXSwgWydyYXJydGwnLCBbODYxMV1dLCBbJ3JhcnJ3JywgWzg2MDVdXSwgWydyYXRhaWwnLCBbMTA1MjJdXSwgWydyQXRhaWwnLCBbMTA1MjRdXSwgWydyYXRpbycsIFs4NzU4XV0sIFsncmF0aW9uYWxzJywgWzg0NzRdXSwgWydyYmFycicsIFsxMDUwOV1dLCBbJ3JCYXJyJywgWzEwNTExXV0sIFsnUkJhcnInLCBbMTA1MTJdXSwgWydyYmJyaycsIFsxMDA5OV1dLCBbJ3JicmFjZScsIFsxMjVdXSwgWydyYnJhY2snLCBbOTNdXSwgWydyYnJrZScsIFsxMDYzNl1dLCBbJ3JicmtzbGQnLCBbMTA2MzhdXSwgWydyYnJrc2x1JywgWzEwNjQwXV0sIFsnUmNhcm9uJywgWzM0NF1dLCBbJ3JjYXJvbicsIFszNDVdXSwgWydSY2VkaWwnLCBbMzQyXV0sIFsncmNlZGlsJywgWzM0M11dLCBbJ3JjZWlsJywgWzg5NjldXSwgWydyY3ViJywgWzEyNV1dLCBbJ1JjeScsIFsxMDU2XV0sIFsncmN5JywgWzEwODhdXSwgWydyZGNhJywgWzEwNTUxXV0sIFsncmRsZGhhcicsIFsxMDYwMV1dLCBbJ3JkcXVvJywgWzgyMjFdXSwgWydyZHF1b3InLCBbODIyMV1dLCBbJ0Nsb3NlQ3VybHlEb3VibGVRdW90ZScsIFs4MjIxXV0sIFsncmRzaCcsIFs4NjI3XV0sIFsncmVhbCcsIFs4NDc2XV0sIFsncmVhbGluZScsIFs4NDc1XV0sIFsncmVhbHBhcnQnLCBbODQ3Nl1dLCBbJ3JlYWxzJywgWzg0NzddXSwgWydSZScsIFs4NDc2XV0sIFsncmVjdCcsIFs5NjQ1XV0sIFsncmVnJywgWzE3NF1dLCBbJ1JFRycsIFsxNzRdXSwgWydSZXZlcnNlRWxlbWVudCcsIFs4NzE1XV0sIFsnUmV2ZXJzZUVxdWlsaWJyaXVtJywgWzg2NTFdXSwgWydSZXZlcnNlVXBFcXVpbGlicml1bScsIFsxMDYwN11dLCBbJ3JmaXNodCcsIFsxMDYyMV1dLCBbJ3JmbG9vcicsIFs4OTcxXV0sIFsncmZyJywgWzEyMDExMV1dLCBbJ1JmcicsIFs4NDc2XV0sIFsnckhhcicsIFsxMDU5Nl1dLCBbJ3JoYXJkJywgWzg2NDFdXSwgWydyaGFydScsIFs4NjQwXV0sIFsncmhhcnVsJywgWzEwNjA0XV0sIFsnUmhvJywgWzkyOV1dLCBbJ3JobycsIFs5NjFdXSwgWydyaG92JywgWzEwMDldXSwgWydSaWdodEFuZ2xlQnJhY2tldCcsIFsxMDIxN11dLCBbJ1JpZ2h0QXJyb3dCYXInLCBbODY3N11dLCBbJ3JpZ2h0YXJyb3cnLCBbODU5NF1dLCBbJ1JpZ2h0QXJyb3cnLCBbODU5NF1dLCBbJ1JpZ2h0YXJyb3cnLCBbODY1OF1dLCBbJ1JpZ2h0QXJyb3dMZWZ0QXJyb3cnLCBbODY0NF1dLCBbJ3JpZ2h0YXJyb3d0YWlsJywgWzg2MTFdXSwgWydSaWdodENlaWxpbmcnLCBbODk2OV1dLCBbJ1JpZ2h0RG91YmxlQnJhY2tldCcsIFsxMDIxNV1dLCBbJ1JpZ2h0RG93blRlZVZlY3RvcicsIFsxMDU4OV1dLCBbJ1JpZ2h0RG93blZlY3RvckJhcicsIFsxMDU4MV1dLCBbJ1JpZ2h0RG93blZlY3RvcicsIFs4NjQyXV0sIFsnUmlnaHRGbG9vcicsIFs4OTcxXV0sIFsncmlnaHRoYXJwb29uZG93bicsIFs4NjQxXV0sIFsncmlnaHRoYXJwb29udXAnLCBbODY0MF1dLCBbJ3JpZ2h0bGVmdGFycm93cycsIFs4NjQ0XV0sIFsncmlnaHRsZWZ0aGFycG9vbnMnLCBbODY1Ml1dLCBbJ3JpZ2h0cmlnaHRhcnJvd3MnLCBbODY0OV1dLCBbJ3JpZ2h0c3F1aWdhcnJvdycsIFs4NjA1XV0sIFsnUmlnaHRUZWVBcnJvdycsIFs4NjE0XV0sIFsnUmlnaHRUZWUnLCBbODg2Nl1dLCBbJ1JpZ2h0VGVlVmVjdG9yJywgWzEwNTg3XV0sIFsncmlnaHR0aHJlZXRpbWVzJywgWzg5MDhdXSwgWydSaWdodFRyaWFuZ2xlQmFyJywgWzEwNzA0XV0sIFsnUmlnaHRUcmlhbmdsZScsIFs4ODgzXV0sIFsnUmlnaHRUcmlhbmdsZUVxdWFsJywgWzg4ODVdXSwgWydSaWdodFVwRG93blZlY3RvcicsIFsxMDU3NV1dLCBbJ1JpZ2h0VXBUZWVWZWN0b3InLCBbMTA1ODhdXSwgWydSaWdodFVwVmVjdG9yQmFyJywgWzEwNTgwXV0sIFsnUmlnaHRVcFZlY3RvcicsIFs4NjM4XV0sIFsnUmlnaHRWZWN0b3JCYXInLCBbMTA1NzldXSwgWydSaWdodFZlY3RvcicsIFs4NjQwXV0sIFsncmluZycsIFs3MzBdXSwgWydyaXNpbmdkb3RzZXEnLCBbODc4N11dLCBbJ3JsYXJyJywgWzg2NDRdXSwgWydybGhhcicsIFs4NjUyXV0sIFsncmxtJywgWzgyMDddXSwgWydybW91c3RhY2hlJywgWzkxMzddXSwgWydybW91c3QnLCBbOTEzN11dLCBbJ3JubWlkJywgWzEwOTkwXV0sIFsncm9hbmcnLCBbMTAyMjFdXSwgWydyb2FycicsIFs4NzAyXV0sIFsncm9icmsnLCBbMTAyMTVdXSwgWydyb3BhcicsIFsxMDYzMF1dLCBbJ3JvcGYnLCBbMTIwMTYzXV0sIFsnUm9wZicsIFs4NDc3XV0sIFsncm9wbHVzJywgWzEwNzk4XV0sIFsncm90aW1lcycsIFsxMDgwNV1dLCBbJ1JvdW5kSW1wbGllcycsIFsxMDYwOF1dLCBbJ3JwYXInLCBbNDFdXSwgWydycGFyZ3QnLCBbMTA2NDRdXSwgWydycHBvbGludCcsIFsxMDc3MF1dLCBbJ3JyYXJyJywgWzg2NDldXSwgWydScmlnaHRhcnJvdycsIFs4NjY3XV0sIFsncnNhcXVvJywgWzgyNTBdXSwgWydyc2NyJywgWzEyMDAwN11dLCBbJ1JzY3InLCBbODQ3NV1dLCBbJ3JzaCcsIFs4NjI1XV0sIFsnUnNoJywgWzg2MjVdXSwgWydyc3FiJywgWzkzXV0sIFsncnNxdW8nLCBbODIxN11dLCBbJ3JzcXVvcicsIFs4MjE3XV0sIFsnQ2xvc2VDdXJseVF1b3RlJywgWzgyMTddXSwgWydydGhyZWUnLCBbODkwOF1dLCBbJ3J0aW1lcycsIFs4OTA2XV0sIFsncnRyaScsIFs5NjU3XV0sIFsncnRyaWUnLCBbODg4NV1dLCBbJ3J0cmlmJywgWzk2NTZdXSwgWydydHJpbHRyaScsIFsxMDcwMl1dLCBbJ1J1bGVEZWxheWVkJywgWzEwNzQwXV0sIFsncnVsdWhhcicsIFsxMDYwMF1dLCBbJ3J4JywgWzg0NzhdXSwgWydTYWN1dGUnLCBbMzQ2XV0sIFsnc2FjdXRlJywgWzM0N11dLCBbJ3NicXVvJywgWzgyMThdXSwgWydzY2FwJywgWzEwOTM2XV0sIFsnU2Nhcm9uJywgWzM1Ml1dLCBbJ3NjYXJvbicsIFszNTNdXSwgWydTYycsIFsxMDk0MF1dLCBbJ3NjJywgWzg4MjddXSwgWydzY2N1ZScsIFs4ODI5XV0sIFsnc2NlJywgWzEwOTI4XV0sIFsnc2NFJywgWzEwOTMyXV0sIFsnU2NlZGlsJywgWzM1MF1dLCBbJ3NjZWRpbCcsIFszNTFdXSwgWydTY2lyYycsIFszNDhdXSwgWydzY2lyYycsIFszNDldXSwgWydzY25hcCcsIFsxMDkzOF1dLCBbJ3NjbkUnLCBbMTA5MzRdXSwgWydzY25zaW0nLCBbODkzN11dLCBbJ3NjcG9saW50JywgWzEwNzcxXV0sIFsnc2NzaW0nLCBbODgzMV1dLCBbJ1NjeScsIFsxMDU3XV0sIFsnc2N5JywgWzEwODldXSwgWydzZG90YicsIFs4ODY1XV0sIFsnc2RvdCcsIFs4OTAxXV0sIFsnc2RvdGUnLCBbMTA4NTRdXSwgWydzZWFyaGsnLCBbMTA1MzNdXSwgWydzZWFycicsIFs4NjAwXV0sIFsnc2VBcnInLCBbODY2NF1dLCBbJ3NlYXJyb3cnLCBbODYwMF1dLCBbJ3NlY3QnLCBbMTY3XV0sIFsnc2VtaScsIFs1OV1dLCBbJ3Nlc3dhcicsIFsxMDUzN11dLCBbJ3NldG1pbnVzJywgWzg3MjZdXSwgWydzZXRtbicsIFs4NzI2XV0sIFsnc2V4dCcsIFsxMDAzOF1dLCBbJ1NmcicsIFsxMjAwODZdXSwgWydzZnInLCBbMTIwMTEyXV0sIFsnc2Zyb3duJywgWzg5OTRdXSwgWydzaGFycCcsIFs5ODM5XV0sIFsnU0hDSGN5JywgWzEwNjVdXSwgWydzaGNoY3knLCBbMTA5N11dLCBbJ1NIY3knLCBbMTA2NF1dLCBbJ3NoY3knLCBbMTA5Nl1dLCBbJ1Nob3J0RG93bkFycm93JywgWzg1OTVdXSwgWydTaG9ydExlZnRBcnJvdycsIFs4NTkyXV0sIFsnc2hvcnRtaWQnLCBbODczOV1dLCBbJ3Nob3J0cGFyYWxsZWwnLCBbODc0MV1dLCBbJ1Nob3J0UmlnaHRBcnJvdycsIFs4NTk0XV0sIFsnU2hvcnRVcEFycm93JywgWzg1OTNdXSwgWydzaHknLCBbMTczXV0sIFsnU2lnbWEnLCBbOTMxXV0sIFsnc2lnbWEnLCBbOTYzXV0sIFsnc2lnbWFmJywgWzk2Ml1dLCBbJ3NpZ21hdicsIFs5NjJdXSwgWydzaW0nLCBbODc2NF1dLCBbJ3NpbWRvdCcsIFsxMDg1OF1dLCBbJ3NpbWUnLCBbODc3MV1dLCBbJ3NpbWVxJywgWzg3NzFdXSwgWydzaW1nJywgWzEwOTEwXV0sIFsnc2ltZ0UnLCBbMTA5MTJdXSwgWydzaW1sJywgWzEwOTA5XV0sIFsnc2ltbEUnLCBbMTA5MTFdXSwgWydzaW1uZScsIFs4Nzc0XV0sIFsnc2ltcGx1cycsIFsxMDc4OF1dLCBbJ3NpbXJhcnInLCBbMTA2MTBdXSwgWydzbGFycicsIFs4NTkyXV0sIFsnU21hbGxDaXJjbGUnLCBbODcyOF1dLCBbJ3NtYWxsc2V0bWludXMnLCBbODcyNl1dLCBbJ3NtYXNocCcsIFsxMDgwM11dLCBbJ3NtZXBhcnNsJywgWzEwNzI0XV0sIFsnc21pZCcsIFs4NzM5XV0sIFsnc21pbGUnLCBbODk5NV1dLCBbJ3NtdCcsIFsxMDkyMl1dLCBbJ3NtdGUnLCBbMTA5MjRdXSwgWydzbXRlcycsIFsxMDkyNCwgNjUwMjRdXSwgWydTT0ZUY3knLCBbMTA2OF1dLCBbJ3NvZnRjeScsIFsxMTAwXV0sIFsnc29sYmFyJywgWzkwMjNdXSwgWydzb2xiJywgWzEwNjkyXV0sIFsnc29sJywgWzQ3XV0sIFsnU29wZicsIFsxMjAxMzhdXSwgWydzb3BmJywgWzEyMDE2NF1dLCBbJ3NwYWRlcycsIFs5ODI0XV0sIFsnc3BhZGVzdWl0JywgWzk4MjRdXSwgWydzcGFyJywgWzg3NDFdXSwgWydzcWNhcCcsIFs4ODUxXV0sIFsnc3FjYXBzJywgWzg4NTEsIDY1MDI0XV0sIFsnc3FjdXAnLCBbODg1Ml1dLCBbJ3NxY3VwcycsIFs4ODUyLCA2NTAyNF1dLCBbJ1NxcnQnLCBbODczMF1dLCBbJ3Nxc3ViJywgWzg4NDddXSwgWydzcXN1YmUnLCBbODg0OV1dLCBbJ3Nxc3Vic2V0JywgWzg4NDddXSwgWydzcXN1YnNldGVxJywgWzg4NDldXSwgWydzcXN1cCcsIFs4ODQ4XV0sIFsnc3FzdXBlJywgWzg4NTBdXSwgWydzcXN1cHNldCcsIFs4ODQ4XV0sIFsnc3FzdXBzZXRlcScsIFs4ODUwXV0sIFsnc3F1YXJlJywgWzk2MzNdXSwgWydTcXVhcmUnLCBbOTYzM11dLCBbJ1NxdWFyZUludGVyc2VjdGlvbicsIFs4ODUxXV0sIFsnU3F1YXJlU3Vic2V0JywgWzg4NDddXSwgWydTcXVhcmVTdWJzZXRFcXVhbCcsIFs4ODQ5XV0sIFsnU3F1YXJlU3VwZXJzZXQnLCBbODg0OF1dLCBbJ1NxdWFyZVN1cGVyc2V0RXF1YWwnLCBbODg1MF1dLCBbJ1NxdWFyZVVuaW9uJywgWzg4NTJdXSwgWydzcXVhcmYnLCBbOTY0Ml1dLCBbJ3NxdScsIFs5NjMzXV0sIFsnc3F1ZicsIFs5NjQyXV0sIFsnc3JhcnInLCBbODU5NF1dLCBbJ1NzY3InLCBbMTE5OTgyXV0sIFsnc3NjcicsIFsxMjAwMDhdXSwgWydzc2V0bW4nLCBbODcyNl1dLCBbJ3NzbWlsZScsIFs4OTk1XV0sIFsnc3N0YXJmJywgWzg5MDJdXSwgWydTdGFyJywgWzg5MDJdXSwgWydzdGFyJywgWzk3MzRdXSwgWydzdGFyZicsIFs5NzMzXV0sIFsnc3RyYWlnaHRlcHNpbG9uJywgWzEwMTNdXSwgWydzdHJhaWdodHBoaScsIFs5ODFdXSwgWydzdHJucycsIFsxNzVdXSwgWydzdWInLCBbODgzNF1dLCBbJ1N1YicsIFs4OTEyXV0sIFsnc3ViZG90JywgWzEwOTQxXV0sIFsnc3ViRScsIFsxMDk0OV1dLCBbJ3N1YmUnLCBbODgzOF1dLCBbJ3N1YmVkb3QnLCBbMTA5NDddXSwgWydzdWJtdWx0JywgWzEwOTQ1XV0sIFsnc3VibkUnLCBbMTA5NTVdXSwgWydzdWJuZScsIFs4ODQyXV0sIFsnc3VicGx1cycsIFsxMDk0M11dLCBbJ3N1YnJhcnInLCBbMTA2MTddXSwgWydzdWJzZXQnLCBbODgzNF1dLCBbJ1N1YnNldCcsIFs4OTEyXV0sIFsnc3Vic2V0ZXEnLCBbODgzOF1dLCBbJ3N1YnNldGVxcScsIFsxMDk0OV1dLCBbJ1N1YnNldEVxdWFsJywgWzg4MzhdXSwgWydzdWJzZXRuZXEnLCBbODg0Ml1dLCBbJ3N1YnNldG5lcXEnLCBbMTA5NTVdXSwgWydzdWJzaW0nLCBbMTA5NTFdXSwgWydzdWJzdWInLCBbMTA5NjVdXSwgWydzdWJzdXAnLCBbMTA5NjNdXSwgWydzdWNjYXBwcm94JywgWzEwOTM2XV0sIFsnc3VjYycsIFs4ODI3XV0sIFsnc3VjY2N1cmx5ZXEnLCBbODgyOV1dLCBbJ1N1Y2NlZWRzJywgWzg4MjddXSwgWydTdWNjZWVkc0VxdWFsJywgWzEwOTI4XV0sIFsnU3VjY2VlZHNTbGFudEVxdWFsJywgWzg4MjldXSwgWydTdWNjZWVkc1RpbGRlJywgWzg4MzFdXSwgWydzdWNjZXEnLCBbMTA5MjhdXSwgWydzdWNjbmFwcHJveCcsIFsxMDkzOF1dLCBbJ3N1Y2NuZXFxJywgWzEwOTM0XV0sIFsnc3VjY25zaW0nLCBbODkzN11dLCBbJ3N1Y2NzaW0nLCBbODgzMV1dLCBbJ1N1Y2hUaGF0JywgWzg3MTVdXSwgWydzdW0nLCBbODcyMV1dLCBbJ1N1bScsIFs4NzIxXV0sIFsnc3VuZycsIFs5ODM0XV0sIFsnc3VwMScsIFsxODVdXSwgWydzdXAyJywgWzE3OF1dLCBbJ3N1cDMnLCBbMTc5XV0sIFsnc3VwJywgWzg4MzVdXSwgWydTdXAnLCBbODkxM11dLCBbJ3N1cGRvdCcsIFsxMDk0Ml1dLCBbJ3N1cGRzdWInLCBbMTA5NjhdXSwgWydzdXBFJywgWzEwOTUwXV0sIFsnc3VwZScsIFs4ODM5XV0sIFsnc3VwZWRvdCcsIFsxMDk0OF1dLCBbJ1N1cGVyc2V0JywgWzg4MzVdXSwgWydTdXBlcnNldEVxdWFsJywgWzg4MzldXSwgWydzdXBoc29sJywgWzEwMTg1XV0sIFsnc3VwaHN1YicsIFsxMDk2N11dLCBbJ3N1cGxhcnInLCBbMTA2MTldXSwgWydzdXBtdWx0JywgWzEwOTQ2XV0sIFsnc3VwbkUnLCBbMTA5NTZdXSwgWydzdXBuZScsIFs4ODQzXV0sIFsnc3VwcGx1cycsIFsxMDk0NF1dLCBbJ3N1cHNldCcsIFs4ODM1XV0sIFsnU3Vwc2V0JywgWzg5MTNdXSwgWydzdXBzZXRlcScsIFs4ODM5XV0sIFsnc3Vwc2V0ZXFxJywgWzEwOTUwXV0sIFsnc3Vwc2V0bmVxJywgWzg4NDNdXSwgWydzdXBzZXRuZXFxJywgWzEwOTU2XV0sIFsnc3Vwc2ltJywgWzEwOTUyXV0sIFsnc3Vwc3ViJywgWzEwOTY0XV0sIFsnc3Vwc3VwJywgWzEwOTY2XV0sIFsnc3dhcmhrJywgWzEwNTM0XV0sIFsnc3dhcnInLCBbODYwMV1dLCBbJ3N3QXJyJywgWzg2NjVdXSwgWydzd2Fycm93JywgWzg2MDFdXSwgWydzd253YXInLCBbMTA1MzhdXSwgWydzemxpZycsIFsyMjNdXSwgWydUYWInLCBbOV1dLCBbJ3RhcmdldCcsIFs4OTgyXV0sIFsnVGF1JywgWzkzMl1dLCBbJ3RhdScsIFs5NjRdXSwgWyd0YnJrJywgWzkxNDBdXSwgWydUY2Fyb24nLCBbMzU2XV0sIFsndGNhcm9uJywgWzM1N11dLCBbJ1RjZWRpbCcsIFszNTRdXSwgWyd0Y2VkaWwnLCBbMzU1XV0sIFsnVGN5JywgWzEwNThdXSwgWyd0Y3knLCBbMTA5MF1dLCBbJ3Rkb3QnLCBbODQxMV1dLCBbJ3RlbHJlYycsIFs4OTgxXV0sIFsnVGZyJywgWzEyMDA4N11dLCBbJ3RmcicsIFsxMjAxMTNdXSwgWyd0aGVyZTQnLCBbODc1Nl1dLCBbJ3RoZXJlZm9yZScsIFs4NzU2XV0sIFsnVGhlcmVmb3JlJywgWzg3NTZdXSwgWydUaGV0YScsIFs5MjBdXSwgWyd0aGV0YScsIFs5NTJdXSwgWyd0aGV0YXN5bScsIFs5NzddXSwgWyd0aGV0YXYnLCBbOTc3XV0sIFsndGhpY2thcHByb3gnLCBbODc3Nl1dLCBbJ3RoaWNrc2ltJywgWzg3NjRdXSwgWydUaGlja1NwYWNlJywgWzgyODcsIDgyMDJdXSwgWydUaGluU3BhY2UnLCBbODIwMV1dLCBbJ3RoaW5zcCcsIFs4MjAxXV0sIFsndGhrYXAnLCBbODc3Nl1dLCBbJ3Roa3NpbScsIFs4NzY0XV0sIFsnVEhPUk4nLCBbMjIyXV0sIFsndGhvcm4nLCBbMjU0XV0sIFsndGlsZGUnLCBbNzMyXV0sIFsnVGlsZGUnLCBbODc2NF1dLCBbJ1RpbGRlRXF1YWwnLCBbODc3MV1dLCBbJ1RpbGRlRnVsbEVxdWFsJywgWzg3NzNdXSwgWydUaWxkZVRpbGRlJywgWzg3NzZdXSwgWyd0aW1lc2JhcicsIFsxMDgwMV1dLCBbJ3RpbWVzYicsIFs4ODY0XV0sIFsndGltZXMnLCBbMjE1XV0sIFsndGltZXNkJywgWzEwODAwXV0sIFsndGludCcsIFs4NzQ5XV0sIFsndG9lYScsIFsxMDUzNl1dLCBbJ3RvcGJvdCcsIFs5MDE0XV0sIFsndG9wY2lyJywgWzEwOTkzXV0sIFsndG9wJywgWzg4NjhdXSwgWydUb3BmJywgWzEyMDEzOV1dLCBbJ3RvcGYnLCBbMTIwMTY1XV0sIFsndG9wZm9yaycsIFsxMDk3MF1dLCBbJ3Rvc2EnLCBbMTA1MzddXSwgWyd0cHJpbWUnLCBbODI0NF1dLCBbJ3RyYWRlJywgWzg0ODJdXSwgWydUUkFERScsIFs4NDgyXV0sIFsndHJpYW5nbGUnLCBbOTY1M11dLCBbJ3RyaWFuZ2xlZG93bicsIFs5NjYzXV0sIFsndHJpYW5nbGVsZWZ0JywgWzk2NjddXSwgWyd0cmlhbmdsZWxlZnRlcScsIFs4ODg0XV0sIFsndHJpYW5nbGVxJywgWzg3OTZdXSwgWyd0cmlhbmdsZXJpZ2h0JywgWzk2NTddXSwgWyd0cmlhbmdsZXJpZ2h0ZXEnLCBbODg4NV1dLCBbJ3RyaWRvdCcsIFs5NzA4XV0sIFsndHJpZScsIFs4Nzk2XV0sIFsndHJpbWludXMnLCBbMTA4MTBdXSwgWydUcmlwbGVEb3QnLCBbODQxMV1dLCBbJ3RyaXBsdXMnLCBbMTA4MDldXSwgWyd0cmlzYicsIFsxMDcwMV1dLCBbJ3RyaXRpbWUnLCBbMTA4MTFdXSwgWyd0cnBleml1bScsIFs5MTg2XV0sIFsnVHNjcicsIFsxMTk5ODNdXSwgWyd0c2NyJywgWzEyMDAwOV1dLCBbJ1RTY3knLCBbMTA2Ml1dLCBbJ3RzY3knLCBbMTA5NF1dLCBbJ1RTSGN5JywgWzEwMzVdXSwgWyd0c2hjeScsIFsxMTE1XV0sIFsnVHN0cm9rJywgWzM1OF1dLCBbJ3RzdHJvaycsIFszNTldXSwgWyd0d2l4dCcsIFs4ODEyXV0sIFsndHdvaGVhZGxlZnRhcnJvdycsIFs4NjA2XV0sIFsndHdvaGVhZHJpZ2h0YXJyb3cnLCBbODYwOF1dLCBbJ1VhY3V0ZScsIFsyMThdXSwgWyd1YWN1dGUnLCBbMjUwXV0sIFsndWFycicsIFs4NTkzXV0sIFsnVWFycicsIFs4NjA3XV0sIFsndUFycicsIFs4NjU3XV0sIFsnVWFycm9jaXInLCBbMTA1NjldXSwgWydVYnJjeScsIFsxMDM4XV0sIFsndWJyY3knLCBbMTExOF1dLCBbJ1VicmV2ZScsIFszNjRdXSwgWyd1YnJldmUnLCBbMzY1XV0sIFsnVWNpcmMnLCBbMjE5XV0sIFsndWNpcmMnLCBbMjUxXV0sIFsnVWN5JywgWzEwNTldXSwgWyd1Y3knLCBbMTA5MV1dLCBbJ3VkYXJyJywgWzg2NDVdXSwgWydVZGJsYWMnLCBbMzY4XV0sIFsndWRibGFjJywgWzM2OV1dLCBbJ3VkaGFyJywgWzEwNjA2XV0sIFsndWZpc2h0JywgWzEwNjIyXV0sIFsnVWZyJywgWzEyMDA4OF1dLCBbJ3VmcicsIFsxMjAxMTRdXSwgWydVZ3JhdmUnLCBbMjE3XV0sIFsndWdyYXZlJywgWzI0OV1dLCBbJ3VIYXInLCBbMTA1OTVdXSwgWyd1aGFybCcsIFs4NjM5XV0sIFsndWhhcnInLCBbODYzOF1dLCBbJ3VoYmxrJywgWzk2MDBdXSwgWyd1bGNvcm4nLCBbODk4OF1dLCBbJ3VsY29ybmVyJywgWzg5ODhdXSwgWyd1bGNyb3AnLCBbODk3NV1dLCBbJ3VsdHJpJywgWzk3MjBdXSwgWydVbWFjcicsIFszNjJdXSwgWyd1bWFjcicsIFszNjNdXSwgWyd1bWwnLCBbMTY4XV0sIFsnVW5kZXJCYXInLCBbOTVdXSwgWydVbmRlckJyYWNlJywgWzkxODNdXSwgWydVbmRlckJyYWNrZXQnLCBbOTE0MV1dLCBbJ1VuZGVyUGFyZW50aGVzaXMnLCBbOTE4MV1dLCBbJ1VuaW9uJywgWzg4OTldXSwgWydVbmlvblBsdXMnLCBbODg0Nl1dLCBbJ1VvZ29uJywgWzM3MF1dLCBbJ3VvZ29uJywgWzM3MV1dLCBbJ1VvcGYnLCBbMTIwMTQwXV0sIFsndW9wZicsIFsxMjAxNjZdXSwgWydVcEFycm93QmFyJywgWzEwNTE0XV0sIFsndXBhcnJvdycsIFs4NTkzXV0sIFsnVXBBcnJvdycsIFs4NTkzXV0sIFsnVXBhcnJvdycsIFs4NjU3XV0sIFsnVXBBcnJvd0Rvd25BcnJvdycsIFs4NjQ1XV0sIFsndXBkb3duYXJyb3cnLCBbODU5N11dLCBbJ1VwRG93bkFycm93JywgWzg1OTddXSwgWydVcGRvd25hcnJvdycsIFs4NjYxXV0sIFsnVXBFcXVpbGlicml1bScsIFsxMDYwNl1dLCBbJ3VwaGFycG9vbmxlZnQnLCBbODYzOV1dLCBbJ3VwaGFycG9vbnJpZ2h0JywgWzg2MzhdXSwgWyd1cGx1cycsIFs4ODQ2XV0sIFsnVXBwZXJMZWZ0QXJyb3cnLCBbODU5OF1dLCBbJ1VwcGVyUmlnaHRBcnJvdycsIFs4NTk5XV0sIFsndXBzaScsIFs5NjVdXSwgWydVcHNpJywgWzk3OF1dLCBbJ3Vwc2loJywgWzk3OF1dLCBbJ1Vwc2lsb24nLCBbOTMzXV0sIFsndXBzaWxvbicsIFs5NjVdXSwgWydVcFRlZUFycm93JywgWzg2MTNdXSwgWydVcFRlZScsIFs4ODY5XV0sIFsndXB1cGFycm93cycsIFs4NjQ4XV0sIFsndXJjb3JuJywgWzg5ODldXSwgWyd1cmNvcm5lcicsIFs4OTg5XV0sIFsndXJjcm9wJywgWzg5NzRdXSwgWydVcmluZycsIFszNjZdXSwgWyd1cmluZycsIFszNjddXSwgWyd1cnRyaScsIFs5NzIxXV0sIFsnVXNjcicsIFsxMTk5ODRdXSwgWyd1c2NyJywgWzEyMDAxMF1dLCBbJ3V0ZG90JywgWzg5NDRdXSwgWydVdGlsZGUnLCBbMzYwXV0sIFsndXRpbGRlJywgWzM2MV1dLCBbJ3V0cmknLCBbOTY1M11dLCBbJ3V0cmlmJywgWzk2NTJdXSwgWyd1dWFycicsIFs4NjQ4XV0sIFsnVXVtbCcsIFsyMjBdXSwgWyd1dW1sJywgWzI1Ml1dLCBbJ3V3YW5nbGUnLCBbMTA2NjNdXSwgWyd2YW5ncnQnLCBbMTA2NTJdXSwgWyd2YXJlcHNpbG9uJywgWzEwMTNdXSwgWyd2YXJrYXBwYScsIFsxMDA4XV0sIFsndmFybm90aGluZycsIFs4NzA5XV0sIFsndmFycGhpJywgWzk4MV1dLCBbJ3ZhcnBpJywgWzk4Ml1dLCBbJ3ZhcnByb3B0bycsIFs4NzMzXV0sIFsndmFycicsIFs4NTk3XV0sIFsndkFycicsIFs4NjYxXV0sIFsndmFycmhvJywgWzEwMDldXSwgWyd2YXJzaWdtYScsIFs5NjJdXSwgWyd2YXJzdWJzZXRuZXEnLCBbODg0MiwgNjUwMjRdXSwgWyd2YXJzdWJzZXRuZXFxJywgWzEwOTU1LCA2NTAyNF1dLCBbJ3ZhcnN1cHNldG5lcScsIFs4ODQzLCA2NTAyNF1dLCBbJ3ZhcnN1cHNldG5lcXEnLCBbMTA5NTYsIDY1MDI0XV0sIFsndmFydGhldGEnLCBbOTc3XV0sIFsndmFydHJpYW5nbGVsZWZ0JywgWzg4ODJdXSwgWyd2YXJ0cmlhbmdsZXJpZ2h0JywgWzg4ODNdXSwgWyd2QmFyJywgWzEwOTg0XV0sIFsnVmJhcicsIFsxMDk4N11dLCBbJ3ZCYXJ2JywgWzEwOTg1XV0sIFsnVmN5JywgWzEwNDJdXSwgWyd2Y3knLCBbMTA3NF1dLCBbJ3ZkYXNoJywgWzg4NjZdXSwgWyd2RGFzaCcsIFs4ODcyXV0sIFsnVmRhc2gnLCBbODg3M11dLCBbJ1ZEYXNoJywgWzg4NzVdXSwgWydWZGFzaGwnLCBbMTA5ODJdXSwgWyd2ZWViYXInLCBbODg5MV1dLCBbJ3ZlZScsIFs4NzQ0XV0sIFsnVmVlJywgWzg4OTddXSwgWyd2ZWVlcScsIFs4Nzk0XV0sIFsndmVsbGlwJywgWzg5NDJdXSwgWyd2ZXJiYXInLCBbMTI0XV0sIFsnVmVyYmFyJywgWzgyMTRdXSwgWyd2ZXJ0JywgWzEyNF1dLCBbJ1ZlcnQnLCBbODIxNF1dLCBbJ1ZlcnRpY2FsQmFyJywgWzg3MzldXSwgWydWZXJ0aWNhbExpbmUnLCBbMTI0XV0sIFsnVmVydGljYWxTZXBhcmF0b3InLCBbMTAwNzJdXSwgWydWZXJ0aWNhbFRpbGRlJywgWzg3NjhdXSwgWydWZXJ5VGhpblNwYWNlJywgWzgyMDJdXSwgWydWZnInLCBbMTIwMDg5XV0sIFsndmZyJywgWzEyMDExNV1dLCBbJ3ZsdHJpJywgWzg4ODJdXSwgWyd2bnN1YicsIFs4ODM0LCA4NDAyXV0sIFsndm5zdXAnLCBbODgzNSwgODQwMl1dLCBbJ1ZvcGYnLCBbMTIwMTQxXV0sIFsndm9wZicsIFsxMjAxNjddXSwgWyd2cHJvcCcsIFs4NzMzXV0sIFsndnJ0cmknLCBbODg4M11dLCBbJ1ZzY3InLCBbMTE5OTg1XV0sIFsndnNjcicsIFsxMjAwMTFdXSwgWyd2c3VibkUnLCBbMTA5NTUsIDY1MDI0XV0sIFsndnN1Ym5lJywgWzg4NDIsIDY1MDI0XV0sIFsndnN1cG5FJywgWzEwOTU2LCA2NTAyNF1dLCBbJ3ZzdXBuZScsIFs4ODQzLCA2NTAyNF1dLCBbJ1Z2ZGFzaCcsIFs4ODc0XV0sIFsndnppZ3phZycsIFsxMDY1MF1dLCBbJ1djaXJjJywgWzM3Ml1dLCBbJ3djaXJjJywgWzM3M11dLCBbJ3dlZGJhcicsIFsxMDg0N11dLCBbJ3dlZGdlJywgWzg3NDNdXSwgWydXZWRnZScsIFs4ODk2XV0sIFsnd2VkZ2VxJywgWzg3OTNdXSwgWyd3ZWllcnAnLCBbODQ3Ml1dLCBbJ1dmcicsIFsxMjAwOTBdXSwgWyd3ZnInLCBbMTIwMTE2XV0sIFsnV29wZicsIFsxMjAxNDJdXSwgWyd3b3BmJywgWzEyMDE2OF1dLCBbJ3dwJywgWzg0NzJdXSwgWyd3cicsIFs4NzY4XV0sIFsnd3JlYXRoJywgWzg3NjhdXSwgWydXc2NyJywgWzExOTk4Nl1dLCBbJ3dzY3InLCBbMTIwMDEyXV0sIFsneGNhcCcsIFs4ODk4XV0sIFsneGNpcmMnLCBbOTcxMV1dLCBbJ3hjdXAnLCBbODg5OV1dLCBbJ3hkdHJpJywgWzk2NjFdXSwgWydYZnInLCBbMTIwMDkxXV0sIFsneGZyJywgWzEyMDExN11dLCBbJ3hoYXJyJywgWzEwMjMxXV0sIFsneGhBcnInLCBbMTAyMzRdXSwgWydYaScsIFs5MjZdXSwgWyd4aScsIFs5NThdXSwgWyd4bGFycicsIFsxMDIyOV1dLCBbJ3hsQXJyJywgWzEwMjMyXV0sIFsneG1hcCcsIFsxMDIzNl1dLCBbJ3huaXMnLCBbODk1NV1dLCBbJ3hvZG90JywgWzEwNzUyXV0sIFsnWG9wZicsIFsxMjAxNDNdXSwgWyd4b3BmJywgWzEyMDE2OV1dLCBbJ3hvcGx1cycsIFsxMDc1M11dLCBbJ3hvdGltZScsIFsxMDc1NF1dLCBbJ3hyYXJyJywgWzEwMjMwXV0sIFsneHJBcnInLCBbMTAyMzNdXSwgWydYc2NyJywgWzExOTk4N11dLCBbJ3hzY3InLCBbMTIwMDEzXV0sIFsneHNxY3VwJywgWzEwNzU4XV0sIFsneHVwbHVzJywgWzEwNzU2XV0sIFsneHV0cmknLCBbOTY1MV1dLCBbJ3h2ZWUnLCBbODg5N11dLCBbJ3h3ZWRnZScsIFs4ODk2XV0sIFsnWWFjdXRlJywgWzIyMV1dLCBbJ3lhY3V0ZScsIFsyNTNdXSwgWydZQWN5JywgWzEwNzFdXSwgWyd5YWN5JywgWzExMDNdXSwgWydZY2lyYycsIFszNzRdXSwgWyd5Y2lyYycsIFszNzVdXSwgWydZY3knLCBbMTA2N11dLCBbJ3ljeScsIFsxMDk5XV0sIFsneWVuJywgWzE2NV1dLCBbJ1lmcicsIFsxMjAwOTJdXSwgWyd5ZnInLCBbMTIwMTE4XV0sIFsnWUljeScsIFsxMDMxXV0sIFsneWljeScsIFsxMTExXV0sIFsnWW9wZicsIFsxMjAxNDRdXSwgWyd5b3BmJywgWzEyMDE3MF1dLCBbJ1lzY3InLCBbMTE5OTg4XV0sIFsneXNjcicsIFsxMjAwMTRdXSwgWydZVWN5JywgWzEwNzBdXSwgWyd5dWN5JywgWzExMDJdXSwgWyd5dW1sJywgWzI1NV1dLCBbJ1l1bWwnLCBbMzc2XV0sIFsnWmFjdXRlJywgWzM3N11dLCBbJ3phY3V0ZScsIFszNzhdXSwgWydaY2Fyb24nLCBbMzgxXV0sIFsnemNhcm9uJywgWzM4Ml1dLCBbJ1pjeScsIFsxMDQ3XV0sIFsnemN5JywgWzEwNzldXSwgWydaZG90JywgWzM3OV1dLCBbJ3pkb3QnLCBbMzgwXV0sIFsnemVldHJmJywgWzg0ODhdXSwgWydaZXJvV2lkdGhTcGFjZScsIFs4MjAzXV0sIFsnWmV0YScsIFs5MThdXSwgWyd6ZXRhJywgWzk1MF1dLCBbJ3pmcicsIFsxMjAxMTldXSwgWydaZnInLCBbODQ4OF1dLCBbJ1pIY3knLCBbMTA0Nl1dLCBbJ3poY3knLCBbMTA3OF1dLCBbJ3ppZ3JhcnInLCBbODY2OV1dLCBbJ3pvcGYnLCBbMTIwMTcxXV0sIFsnWm9wZicsIFs4NDg0XV0sIFsnWnNjcicsIFsxMTk5ODldXSwgWyd6c2NyJywgWzEyMDAxNV1dLCBbJ3p3aicsIFs4MjA1XV0sIFsnenduaicsIFs4MjA0XV1dO1xudmFyIGFscGhhSW5kZXggPSB7fTtcbnZhciBjaGFySW5kZXggPSB7fTtcbmNyZWF0ZUluZGV4ZXMoYWxwaGFJbmRleCwgY2hhckluZGV4KTtcbnZhciBIdG1sNUVudGl0aWVzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEh0bWw1RW50aXRpZXMoKSB7XG4gICAgfVxuICAgIEh0bWw1RW50aXRpZXMucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgaWYgKCFzdHIgfHwgIXN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyYoIz9bXFx3XFxkXSspOz8vZywgZnVuY3Rpb24gKHMsIGVudGl0eSkge1xuICAgICAgICAgICAgdmFyIGNocjtcbiAgICAgICAgICAgIGlmIChlbnRpdHkuY2hhckF0KDApID09PSBcIiNcIikge1xuICAgICAgICAgICAgICAgIHZhciBjb2RlID0gZW50aXR5LmNoYXJBdCgxKSA9PT0gJ3gnID9cbiAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQoZW50aXR5LnN1YnN0cigyKS50b0xvd2VyQ2FzZSgpLCAxNikgOlxuICAgICAgICAgICAgICAgICAgICBwYXJzZUludChlbnRpdHkuc3Vic3RyKDEpKTtcbiAgICAgICAgICAgICAgICBpZiAoIShpc05hTihjb2RlKSB8fCBjb2RlIDwgLTMyNzY4IHx8IGNvZGUgPiA2NTUzNSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hyID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaHIgPSBhbHBoYUluZGV4W2VudGl0eV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hyIHx8IHM7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSHRtbDVFbnRpdGllcy5kZWNvZGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBuZXcgSHRtbDVFbnRpdGllcygpLmRlY29kZShzdHIpO1xuICAgIH07XG4gICAgSHRtbDVFbnRpdGllcy5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICBpZiAoIXN0ciB8fCAhc3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHJMZW5ndGggPSBzdHIubGVuZ3RoO1xuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBzdHJMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBjaGFySW5mbyA9IGNoYXJJbmRleFtzdHIuY2hhckNvZGVBdChpKV07XG4gICAgICAgICAgICBpZiAoY2hhckluZm8pIHtcbiAgICAgICAgICAgICAgICB2YXIgYWxwaGEgPSBjaGFySW5mb1tzdHIuY2hhckNvZGVBdChpICsgMSldO1xuICAgICAgICAgICAgICAgIGlmIChhbHBoYSkge1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbHBoYSA9IGNoYXJJbmZvWycnXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFscGhhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIiZcIiArIGFscGhhICsgXCI7XCI7XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ICs9IHN0ci5jaGFyQXQoaSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIEh0bWw1RW50aXRpZXMuZW5jb2RlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gbmV3IEh0bWw1RW50aXRpZXMoKS5lbmNvZGUoc3RyKTtcbiAgICB9O1xuICAgIEh0bWw1RW50aXRpZXMucHJvdG90eXBlLmVuY29kZU5vblVURiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgaWYgKCFzdHIgfHwgIXN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RyTGVuZ3RoID0gc3RyLmxlbmd0aDtcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgc3RyTGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgdmFyIGNoYXJJbmZvID0gY2hhckluZGV4W2NdO1xuICAgICAgICAgICAgaWYgKGNoYXJJbmZvKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFscGhhID0gY2hhckluZm9bc3RyLmNoYXJDb2RlQXQoaSArIDEpXTtcbiAgICAgICAgICAgICAgICBpZiAoYWxwaGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWxwaGEgPSBjaGFySW5mb1snJ107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhbHBoYSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCImXCIgKyBhbHBoYSArIFwiO1wiO1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjIDwgMzIgfHwgYyA+IDEyNikge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnJiMnICsgYyArICc7JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBzdHIuY2hhckF0KGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBIdG1sNUVudGl0aWVzLmVuY29kZU5vblVURiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIdG1sNUVudGl0aWVzKCkuZW5jb2RlTm9uVVRGKHN0cik7XG4gICAgfTtcbiAgICBIdG1sNUVudGl0aWVzLnByb3RvdHlwZS5lbmNvZGVOb25BU0NJSSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgaWYgKCFzdHIgfHwgIXN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RyTGVuZ3RoID0gc3RyLmxlbmd0aDtcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgc3RyTGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgaWYgKGMgPD0gMjU1KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IHN0cltpKytdO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ICs9ICcmIycgKyBjICsgJzsnO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBIdG1sNUVudGl0aWVzLmVuY29kZU5vbkFTQ0lJID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gbmV3IEh0bWw1RW50aXRpZXMoKS5lbmNvZGVOb25BU0NJSShzdHIpO1xuICAgIH07XG4gICAgcmV0dXJuIEh0bWw1RW50aXRpZXM7XG59KCkpO1xuZXhwb3J0cy5IdG1sNUVudGl0aWVzID0gSHRtbDVFbnRpdGllcztcbmZ1bmN0aW9uIGNyZWF0ZUluZGV4ZXMoYWxwaGFJbmRleCwgY2hhckluZGV4KSB7XG4gICAgdmFyIGkgPSBFTlRJVElFUy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICB2YXIgZSA9IEVOVElUSUVTW2ldO1xuICAgICAgICB2YXIgYWxwaGEgPSBlWzBdO1xuICAgICAgICB2YXIgY2hhcnMgPSBlWzFdO1xuICAgICAgICB2YXIgY2hyID0gY2hhcnNbMF07XG4gICAgICAgIHZhciBhZGRDaGFyID0gKGNociA8IDMyIHx8IGNociA+IDEyNikgfHwgY2hyID09PSA2MiB8fCBjaHIgPT09IDYwIHx8IGNociA9PT0gMzggfHwgY2hyID09PSAzNCB8fCBjaHIgPT09IDM5O1xuICAgICAgICB2YXIgY2hhckluZm8gPSB2b2lkIDA7XG4gICAgICAgIGlmIChhZGRDaGFyKSB7XG4gICAgICAgICAgICBjaGFySW5mbyA9IGNoYXJJbmRleFtjaHJdID0gY2hhckluZGV4W2Nocl0gfHwge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYXJzWzFdKSB7XG4gICAgICAgICAgICB2YXIgY2hyMiA9IGNoYXJzWzFdO1xuICAgICAgICAgICAgYWxwaGFJbmRleFthbHBoYV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNocikgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGNocjIpO1xuICAgICAgICAgICAgYWRkQ2hhciAmJiAoY2hhckluZm9bY2hyMl0gPSBhbHBoYSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhbHBoYUluZGV4W2FscGhhXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2hyKTtcbiAgICAgICAgICAgIGFkZENoYXIgJiYgKGNoYXJJbmZvWycnXSA9IGFscGhhKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHhtbF9lbnRpdGllc18xID0gcmVxdWlyZShcIi4veG1sLWVudGl0aWVzXCIpO1xuZXhwb3J0cy5YbWxFbnRpdGllcyA9IHhtbF9lbnRpdGllc18xLlhtbEVudGl0aWVzO1xudmFyIGh0bWw0X2VudGl0aWVzXzEgPSByZXF1aXJlKFwiLi9odG1sNC1lbnRpdGllc1wiKTtcbmV4cG9ydHMuSHRtbDRFbnRpdGllcyA9IGh0bWw0X2VudGl0aWVzXzEuSHRtbDRFbnRpdGllcztcbnZhciBodG1sNV9lbnRpdGllc18xID0gcmVxdWlyZShcIi4vaHRtbDUtZW50aXRpZXNcIik7XG5leHBvcnRzLkh0bWw1RW50aXRpZXMgPSBodG1sNV9lbnRpdGllc18xLkh0bWw1RW50aXRpZXM7XG5leHBvcnRzLkFsbEh0bWxFbnRpdGllcyA9IGh0bWw1X2VudGl0aWVzXzEuSHRtbDVFbnRpdGllcztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEFMUEhBX0lOREVYID0ge1xuICAgICcmbHQnOiAnPCcsXG4gICAgJyZndCc6ICc+JyxcbiAgICAnJnF1b3QnOiAnXCInLFxuICAgICcmYXBvcyc6ICdcXCcnLFxuICAgICcmYW1wJzogJyYnLFxuICAgICcmbHQ7JzogJzwnLFxuICAgICcmZ3Q7JzogJz4nLFxuICAgICcmcXVvdDsnOiAnXCInLFxuICAgICcmYXBvczsnOiAnXFwnJyxcbiAgICAnJmFtcDsnOiAnJidcbn07XG52YXIgQ0hBUl9JTkRFWCA9IHtcbiAgICA2MDogJ2x0JyxcbiAgICA2MjogJ2d0JyxcbiAgICAzNDogJ3F1b3QnLFxuICAgIDM5OiAnYXBvcycsXG4gICAgMzg6ICdhbXAnXG59O1xudmFyIENIQVJfU19JTkRFWCA9IHtcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICAnXFwnJzogJyZhcG9zOycsXG4gICAgJyYnOiAnJmFtcDsnXG59O1xudmFyIFhtbEVudGl0aWVzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFhtbEVudGl0aWVzKCkge1xuICAgIH1cbiAgICBYbWxFbnRpdGllcy5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICBpZiAoIXN0ciB8fCAhc3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvWzw+XCInJl0vZywgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBDSEFSX1NfSU5ERVhbc107XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgWG1sRW50aXRpZXMuZW5jb2RlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gbmV3IFhtbEVudGl0aWVzKCkuZW5jb2RlKHN0cik7XG4gICAgfTtcbiAgICBYbWxFbnRpdGllcy5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICBpZiAoIXN0ciB8fCAhc3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvJiM/WzAtOWEtekEtWl0rOz8vZywgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIGlmIChzLmNoYXJBdCgxKSA9PT0gJyMnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBzLmNoYXJBdCgyKS50b0xvd2VyQ2FzZSgpID09PSAneCcgP1xuICAgICAgICAgICAgICAgICAgICBwYXJzZUludChzLnN1YnN0cigzKSwgMTYpIDpcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQocy5zdWJzdHIoMikpO1xuICAgICAgICAgICAgICAgIGlmIChpc05hTihjb2RlKSB8fCBjb2RlIDwgLTMyNzY4IHx8IGNvZGUgPiA2NTUzNSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEFMUEhBX0lOREVYW3NdIHx8IHM7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgWG1sRW50aXRpZXMuZGVjb2RlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gbmV3IFhtbEVudGl0aWVzKCkuZGVjb2RlKHN0cik7XG4gICAgfTtcbiAgICBYbWxFbnRpdGllcy5wcm90b3R5cGUuZW5jb2RlTm9uVVRGID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICBpZiAoIXN0ciB8fCAhc3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHJMZW5ndGggPSBzdHIubGVuZ3RoO1xuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBzdHJMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICB2YXIgYWxwaGEgPSBDSEFSX0lOREVYW2NdO1xuICAgICAgICAgICAgaWYgKGFscGhhKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiJlwiICsgYWxwaGEgKyBcIjtcIjtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA8IDMyIHx8IGMgPiAxMjYpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gJyYjJyArIGMgKyAnOyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgWG1sRW50aXRpZXMuZW5jb2RlTm9uVVRGID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gbmV3IFhtbEVudGl0aWVzKCkuZW5jb2RlTm9uVVRGKHN0cik7XG4gICAgfTtcbiAgICBYbWxFbnRpdGllcy5wcm90b3R5cGUuZW5jb2RlTm9uQVNDSUkgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIGlmICghc3RyIHx8ICFzdHIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0ckxlbmdodCA9IHN0ci5sZW5ndGg7XG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHN0ckxlbmdodCkge1xuICAgICAgICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChjIDw9IDI1NSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBzdHJbaSsrXTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCArPSAnJiMnICsgYyArICc7JztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgWG1sRW50aXRpZXMuZW5jb2RlTm9uQVNDSUkgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBuZXcgWG1sRW50aXRpZXMoKS5lbmNvZGVOb25BU0NJSShzdHIpO1xuICAgIH07XG4gICAgcmV0dXJuIFhtbEVudGl0aWVzO1xufSgpKTtcbmV4cG9ydHMuWG1sRW50aXRpZXMgPSBYbWxFbnRpdGllcztcbiIsIi8qKlxuICogSWRlbnRpY29uLmpzIDIuMy4zXG4gKiBodHRwOi8vZ2l0aHViLmNvbS9zdGV3YXJ0bG9yZC9pZGVudGljb24uanNcbiAqXG4gKiBQTkdMaWIgcmVxdWlyZWQgZm9yIFBORyBvdXRwdXRcbiAqIGh0dHA6Ly93d3cueGFyZy5vcmcvZG93bmxvYWQvcG5nbGliLmpzXG4gKlxuICogQ29weXJpZ2h0IDIwMTgsIFN0ZXdhcnQgTG9yZFxuICogUmVsZWFzZWQgdW5kZXIgdGhlIEJTRCBsaWNlbnNlXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL2JzZC1saWNlbnNlLnBocFxuICovXG5cbihmdW5jdGlvbigpIHtcbiAgICB2YXIgUE5HbGliO1xuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIFBOR2xpYiA9IHJlcXVpcmUoJy4vcG5nbGliJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgUE5HbGliID0gd2luZG93LlBOR2xpYjtcbiAgICB9XG5cbiAgICB2YXIgSWRlbnRpY29uID0gZnVuY3Rpb24oaGFzaCwgb3B0aW9ucyl7XG4gICAgICAgIGlmICh0eXBlb2YoaGFzaCkgIT09ICdzdHJpbmcnIHx8IGhhc2gubGVuZ3RoIDwgMTUpIHtcbiAgICAgICAgICAgIHRocm93ICdBIGhhc2ggb2YgYXQgbGVhc3QgMTUgY2hhcmFjdGVycyBpcyByZXF1aXJlZC4nO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IFsyNDAsIDI0MCwgMjQwLCAyNTVdLFxuICAgICAgICAgICAgbWFyZ2luOiAgICAgMC4wOCxcbiAgICAgICAgICAgIHNpemU6ICAgICAgIDY0LFxuICAgICAgICAgICAgc2F0dXJhdGlvbjogMC43LFxuICAgICAgICAgICAgYnJpZ2h0bmVzczogMC41LFxuICAgICAgICAgICAgZm9ybWF0OiAgICAgJ3BuZydcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSB0eXBlb2Yob3B0aW9ucykgPT09ICdvYmplY3QnID8gb3B0aW9ucyA6IHRoaXMuZGVmYXVsdHM7XG5cbiAgICAgICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIG9sZCBjb25zdHJ1Y3RvciAoaGFzaCwgc2l6ZSwgbWFyZ2luKVxuICAgICAgICBpZiAodHlwZW9mKGFyZ3VtZW50c1sxXSkgPT09ICdudW1iZXInKSB7IHRoaXMub3B0aW9ucy5zaXplICAgPSBhcmd1bWVudHNbMV07IH1cbiAgICAgICAgaWYgKGFyZ3VtZW50c1syXSkgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLm9wdGlvbnMubWFyZ2luID0gYXJndW1lbnRzWzJdOyB9XG5cbiAgICAgICAgdGhpcy5oYXNoICAgICAgICA9IGhhc2hcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kICA9IHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kIHx8IHRoaXMuZGVmYXVsdHMuYmFja2dyb3VuZDtcbiAgICAgICAgdGhpcy5zaXplICAgICAgICA9IHRoaXMub3B0aW9ucy5zaXplICAgICAgIHx8IHRoaXMuZGVmYXVsdHMuc2l6ZTtcbiAgICAgICAgdGhpcy5mb3JtYXQgICAgICA9IHRoaXMub3B0aW9ucy5mb3JtYXQgICAgIHx8IHRoaXMuZGVmYXVsdHMuZm9ybWF0O1xuICAgICAgICB0aGlzLm1hcmdpbiAgICAgID0gdGhpcy5vcHRpb25zLm1hcmdpbiAhPT0gdW5kZWZpbmVkID8gdGhpcy5vcHRpb25zLm1hcmdpbiA6IHRoaXMuZGVmYXVsdHMubWFyZ2luO1xuXG4gICAgICAgIC8vIGZvcmVncm91bmQgZGVmYXVsdHMgdG8gbGFzdCA3IGNoYXJzIGFzIGh1ZSBhdCA3MCUgc2F0dXJhdGlvbiwgNTAlIGJyaWdodG5lc3NcbiAgICAgICAgdmFyIGh1ZSAgICAgICAgICA9IHBhcnNlSW50KHRoaXMuaGFzaC5zdWJzdHIoLTcpLCAxNikgLyAweGZmZmZmZmY7XG4gICAgICAgIHZhciBzYXR1cmF0aW9uICAgPSB0aGlzLm9wdGlvbnMuc2F0dXJhdGlvbiB8fCB0aGlzLmRlZmF1bHRzLnNhdHVyYXRpb247XG4gICAgICAgIHZhciBicmlnaHRuZXNzICAgPSB0aGlzLm9wdGlvbnMuYnJpZ2h0bmVzcyB8fCB0aGlzLmRlZmF1bHRzLmJyaWdodG5lc3M7XG4gICAgICAgIHRoaXMuZm9yZWdyb3VuZCAgPSB0aGlzLm9wdGlvbnMuZm9yZWdyb3VuZCB8fCB0aGlzLmhzbDJyZ2IoaHVlLCBzYXR1cmF0aW9uLCBicmlnaHRuZXNzKTtcbiAgICB9O1xuXG4gICAgSWRlbnRpY29uLnByb3RvdHlwZSA9IHtcbiAgICAgICAgYmFja2dyb3VuZDogbnVsbCxcbiAgICAgICAgZm9yZWdyb3VuZDogbnVsbCxcbiAgICAgICAgaGFzaDogICAgICAgbnVsbCxcbiAgICAgICAgbWFyZ2luOiAgICAgbnVsbCxcbiAgICAgICAgc2l6ZTogICAgICAgbnVsbCxcbiAgICAgICAgZm9ybWF0OiAgICAgbnVsbCxcblxuICAgICAgICBpbWFnZTogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzU3ZnKClcbiAgICAgICAgICAgICAgICA/IG5ldyBTdmcodGhpcy5zaXplLCB0aGlzLmZvcmVncm91bmQsIHRoaXMuYmFja2dyb3VuZClcbiAgICAgICAgICAgICAgICA6IG5ldyBQTkdsaWIodGhpcy5zaXplLCB0aGlzLnNpemUsIDI1Nik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIGltYWdlICAgICAgPSB0aGlzLmltYWdlKCksXG4gICAgICAgICAgICAgICAgc2l6ZSAgICAgICA9IHRoaXMuc2l6ZSxcbiAgICAgICAgICAgICAgICBiYXNlTWFyZ2luID0gTWF0aC5mbG9vcihzaXplICogdGhpcy5tYXJnaW4pLFxuICAgICAgICAgICAgICAgIGNlbGwgICAgICAgPSBNYXRoLmZsb29yKChzaXplIC0gKGJhc2VNYXJnaW4gKiAyKSkgLyA1KSxcbiAgICAgICAgICAgICAgICBtYXJnaW4gICAgID0gTWF0aC5mbG9vcigoc2l6ZSAtIGNlbGwgKiA1KSAvIDIpLFxuICAgICAgICAgICAgICAgIGJnICAgICAgICAgPSBpbWFnZS5jb2xvci5hcHBseShpbWFnZSwgdGhpcy5iYWNrZ3JvdW5kKSxcbiAgICAgICAgICAgICAgICBmZyAgICAgICAgID0gaW1hZ2UuY29sb3IuYXBwbHkoaW1hZ2UsIHRoaXMuZm9yZWdyb3VuZCk7XG5cbiAgICAgICAgICAgIC8vIHRoZSBmaXJzdCAxNSBjaGFyYWN0ZXJzIG9mIHRoZSBoYXNoIGNvbnRyb2wgdGhlIHBpeGVscyAoZXZlbi9vZGQpXG4gICAgICAgICAgICAvLyB0aGV5IGFyZSBkcmF3biBkb3duIHRoZSBtaWRkbGUgZmlyc3QsIHRoZW4gbWlycm9yZWQgb3V0d2FyZHNcbiAgICAgICAgICAgIHZhciBpLCBjb2xvcjtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBwYXJzZUludCh0aGlzLmhhc2guY2hhckF0KGkpLCAxNikgJSAyID8gYmcgOiBmZztcbiAgICAgICAgICAgICAgICBpZiAoaSA8IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWN0YW5nbGUoMiAqIGNlbGwgKyBtYXJnaW4sIGkgKiBjZWxsICsgbWFyZ2luLCBjZWxsLCBjZWxsLCBjb2xvciwgaW1hZ2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA8IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjdGFuZ2xlKDEgKiBjZWxsICsgbWFyZ2luLCAoaSAtIDUpICogY2VsbCArIG1hcmdpbiwgY2VsbCwgY2VsbCwgY29sb3IsIGltYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWN0YW5nbGUoMyAqIGNlbGwgKyBtYXJnaW4sIChpIC0gNSkgKiBjZWxsICsgbWFyZ2luLCBjZWxsLCBjZWxsLCBjb2xvciwgaW1hZ2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA8IDE1KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjdGFuZ2xlKDAgKiBjZWxsICsgbWFyZ2luLCAoaSAtIDEwKSAqIGNlbGwgKyBtYXJnaW4sIGNlbGwsIGNlbGwsIGNvbG9yLCBpbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjdGFuZ2xlKDQgKiBjZWxsICsgbWFyZ2luLCAoaSAtIDEwKSAqIGNlbGwgKyBtYXJnaW4sIGNlbGwsIGNlbGwsIGNvbG9yLCBpbWFnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVjdGFuZ2xlOiBmdW5jdGlvbih4LCB5LCB3LCBoLCBjb2xvciwgaW1hZ2Upe1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNTdmcoKSkge1xuICAgICAgICAgICAgICAgIGltYWdlLnJlY3RhbmdsZXMucHVzaCh7eDogeCwgeTogeSwgdzogdywgaDogaCwgY29sb3I6IGNvbG9yfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBpLCBqO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IHg7IGkgPCB4ICsgdzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IHk7IGogPCB5ICsgaDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5idWZmZXJbaW1hZ2UuaW5kZXgoaSwgaildID0gY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gYWRhcHRlZCBmcm9tOiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9hZW1rZWkvMTMyNTkzN1xuICAgICAgICBoc2wycmdiOiBmdW5jdGlvbihoLCBzLCBiKXtcbiAgICAgICAgICAgIGggKj0gNjtcbiAgICAgICAgICAgIHMgPSBbXG4gICAgICAgICAgICAgICAgYiArPSBzICo9IGIgPCAuNSA/IGIgOiAxIC0gYixcbiAgICAgICAgICAgICAgICBiIC0gaCAlIDEgKiBzICogMixcbiAgICAgICAgICAgICAgICBiIC09IHMgKj0gMixcbiAgICAgICAgICAgICAgICBiLFxuICAgICAgICAgICAgICAgIGIgKyBoICUgMSAqIHMsXG4gICAgICAgICAgICAgICAgYiArIHNcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIHJldHVybltcbiAgICAgICAgICAgICAgICBzWyB+fmggICAgJSA2IF0gKiAyNTUsIC8vIHJlZFxuICAgICAgICAgICAgICAgIHNbIChofDE2KSAlIDYgXSAqIDI1NSwgLy8gZ3JlZW5cbiAgICAgICAgICAgICAgICBzWyAoaHw4KSAgJSA2IF0gKiAyNTUgIC8vIGJsdWVcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uKHJhdyl7XG4gICAgICAgICAgICAvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggb2xkIHRvU3RyaW5nLCBkZWZhdWx0IHRvIGJhc2U2NFxuICAgICAgICAgICAgaWYgKHJhdykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcigpLmdldER1bXAoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKCkuZ2V0QmFzZTY0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaXNTdmc6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQubWF0Y2goL3N2Zy9pKVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBTdmcgPSBmdW5jdGlvbihzaXplLCBmb3JlZ3JvdW5kLCBiYWNrZ3JvdW5kKXtcbiAgICAgICAgdGhpcy5zaXplICAgICAgID0gc2l6ZTtcbiAgICAgICAgdGhpcy5mb3JlZ3JvdW5kID0gdGhpcy5jb2xvci5hcHBseSh0aGlzLCBmb3JlZ3JvdW5kKTtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5jb2xvci5hcHBseSh0aGlzLCBiYWNrZ3JvdW5kKTtcbiAgICAgICAgdGhpcy5yZWN0YW5nbGVzID0gW107XG4gICAgfTtcblxuICAgIFN2Zy5wcm90b3R5cGUgPSB7XG4gICAgICAgIHNpemU6ICAgICAgIG51bGwsXG4gICAgICAgIGZvcmVncm91bmQ6IG51bGwsXG4gICAgICAgIGJhY2tncm91bmQ6IG51bGwsXG4gICAgICAgIHJlY3RhbmdsZXM6IG51bGwsXG5cbiAgICAgICAgY29sb3I6IGZ1bmN0aW9uKHIsIGcsIGIsIGEpe1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFtyLCBnLCBiXS5tYXAoTWF0aC5yb3VuZCk7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaCgoYSA+PSAwKSAmJiAoYSA8PSAyNTUpID8gYS8yNTUgOiAxKTtcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgnICsgdmFsdWVzLmpvaW4oJywnKSArICcpJztcbiAgICAgICAgfSxcblxuICAgICAgICBnZXREdW1wOiBmdW5jdGlvbigpe1xuICAgICAgICAgIHZhciBpLFxuICAgICAgICAgICAgICAgIHhtbCxcbiAgICAgICAgICAgICAgICByZWN0LFxuICAgICAgICAgICAgICAgIGZnICAgICA9IHRoaXMuZm9yZWdyb3VuZCxcbiAgICAgICAgICAgICAgICBiZyAgICAgPSB0aGlzLmJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgc3Ryb2tlID0gdGhpcy5zaXplICogMC4wMDU7XG5cbiAgICAgICAgICAgIHhtbCA9IFwiPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnXCJcbiAgICAgICAgICAgICAgICArIFwiIHdpZHRoPSdcIiArIHRoaXMuc2l6ZSArIFwiJyBoZWlnaHQ9J1wiICsgdGhpcy5zaXplICsgXCInXCJcbiAgICAgICAgICAgICAgICArIFwiIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOlwiICsgYmcgKyBcIjsnPlwiXG4gICAgICAgICAgICAgICAgKyBcIjxnIHN0eWxlPSdmaWxsOlwiICsgZmcgKyBcIjsgc3Ryb2tlOlwiICsgZmcgKyBcIjsgc3Ryb2tlLXdpZHRoOlwiICsgc3Ryb2tlICsgXCI7Jz5cIjtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMucmVjdGFuZ2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLnJlY3RhbmdsZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHJlY3QuY29sb3IgPT0gYmcpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHhtbCArPSBcIjxyZWN0IFwiXG4gICAgICAgICAgICAgICAgICAgICsgXCIgeD0nXCIgICAgICArIHJlY3QueCArIFwiJ1wiXG4gICAgICAgICAgICAgICAgICAgICsgXCIgeT0nXCIgICAgICArIHJlY3QueSArIFwiJ1wiXG4gICAgICAgICAgICAgICAgICAgICsgXCIgd2lkdGg9J1wiICArIHJlY3QudyArIFwiJ1wiXG4gICAgICAgICAgICAgICAgICAgICsgXCIgaGVpZ2h0PSdcIiArIHJlY3QuaCArIFwiJ1wiXG4gICAgICAgICAgICAgICAgICAgICsgXCIvPlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeG1sICs9IFwiPC9nPjwvc3ZnPlwiXG5cbiAgICAgICAgICAgIHJldHVybiB4bWw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0QmFzZTY0OiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBidG9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ0b2EodGhpcy5nZXREdW1wKCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlcih0aGlzLmdldER1bXAoKSwgJ2JpbmFyeScpLnRvU3RyaW5nKCdiYXNlNjQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgJ0Nhbm5vdCBnZW5lcmF0ZSBiYXNlNjQgb3V0cHV0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IElkZW50aWNvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuSWRlbnRpY29uID0gSWRlbnRpY29uO1xuICAgIH1cbn0pKCk7XG4iLCIvKipcbiogQSBoYW5keSBjbGFzcyB0byBjYWxjdWxhdGUgY29sb3IgdmFsdWVzLlxuKlxuKiBAdmVyc2lvbiAxLjBcbiogQGF1dGhvciBSb2JlcnQgRWlzZWxlIDxyb2JlcnRAeGFyZy5vcmc+XG4qIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDEwLCBSb2JlcnQgRWlzZWxlXG4qIEBsaW5rIGh0dHA6Ly93d3cueGFyZy5vcmcvMjAxMC8wMy9nZW5lcmF0ZS1jbGllbnQtc2lkZS1wbmctZmlsZXMtdXNpbmctamF2YXNjcmlwdC9cbiogQGxpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9ic2QtbGljZW5zZS5waHAgQlNEIExpY2Vuc2VcbipcbiovXG5cbihmdW5jdGlvbigpIHtcblxuXHQvLyBoZWxwZXIgZnVuY3Rpb25zIGZvciB0aGF0IGN0eFxuXHRmdW5jdGlvbiB3cml0ZShidWZmZXIsIG9mZnMpIHtcblx0XHRmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBhcmd1bWVudHNbaV0ubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0YnVmZmVyW29mZnMrK10gPSBhcmd1bWVudHNbaV0uY2hhckF0KGopO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGJ5dGUyKHcpIHtcblx0XHRyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgodyA+PiA4KSAmIDI1NSwgdyAmIDI1NSk7XG5cdH1cblxuXHRmdW5jdGlvbiBieXRlNCh3KSB7XG5cdFx0cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoKHcgPj4gMjQpICYgMjU1LCAodyA+PiAxNikgJiAyNTUsICh3ID4+IDgpICYgMjU1LCB3ICYgMjU1KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGJ5dGUybHNiKHcpIHtcblx0XHRyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh3ICYgMjU1LCAodyA+PiA4KSAmIDI1NSk7XG5cdH1cblxuXHQvLyBtb2RpZmllZCBmcm9tIG9yaWdpbmFsIHNvdXJjZSB0byBzdXBwb3J0IE5QTVxuXHR2YXIgUE5HbGliID0gZnVuY3Rpb24od2lkdGgsaGVpZ2h0LGRlcHRoKSB7XG5cblx0XHR0aGlzLndpZHRoICAgPSB3aWR0aDtcblx0XHR0aGlzLmhlaWdodCAgPSBoZWlnaHQ7XG5cdFx0dGhpcy5kZXB0aCAgID0gZGVwdGg7XG5cblx0XHQvLyBwaXhlbCBkYXRhIGFuZCByb3cgZmlsdGVyIGlkZW50aWZpZXIgc2l6ZVxuXHRcdHRoaXMucGl4X3NpemUgPSBoZWlnaHQgKiAod2lkdGggKyAxKTtcblxuXHRcdC8vIGRlZmxhdGUgaGVhZGVyLCBwaXhfc2l6ZSwgYmxvY2sgaGVhZGVycywgYWRsZXIzMiBjaGVja3N1bVxuXHRcdHRoaXMuZGF0YV9zaXplID0gMiArIHRoaXMucGl4X3NpemUgKyA1ICogTWF0aC5mbG9vcigoMHhmZmZlICsgdGhpcy5waXhfc2l6ZSkgLyAweGZmZmYpICsgNDtcblxuXHRcdC8vIG9mZnNldHMgYW5kIHNpemVzIG9mIFBuZyBjaHVua3Ncblx0XHR0aGlzLmloZHJfb2ZmcyA9IDA7XHRcdFx0XHRcdFx0XHRcdFx0Ly8gSUhEUiBvZmZzZXQgYW5kIHNpemVcblx0XHR0aGlzLmloZHJfc2l6ZSA9IDQgKyA0ICsgMTMgKyA0O1xuXHRcdHRoaXMucGx0ZV9vZmZzID0gdGhpcy5paGRyX29mZnMgKyB0aGlzLmloZHJfc2l6ZTtcdC8vIFBMVEUgb2Zmc2V0IGFuZCBzaXplXG5cdFx0dGhpcy5wbHRlX3NpemUgPSA0ICsgNCArIDMgKiBkZXB0aCArIDQ7XG5cdFx0dGhpcy50cm5zX29mZnMgPSB0aGlzLnBsdGVfb2ZmcyArIHRoaXMucGx0ZV9zaXplO1x0Ly8gdFJOUyBvZmZzZXQgYW5kIHNpemVcblx0XHR0aGlzLnRybnNfc2l6ZSA9IDQgKyA0ICsgZGVwdGggKyA0O1xuXHRcdHRoaXMuaWRhdF9vZmZzID0gdGhpcy50cm5zX29mZnMgKyB0aGlzLnRybnNfc2l6ZTtcdC8vIElEQVQgb2Zmc2V0IGFuZCBzaXplXG5cdFx0dGhpcy5pZGF0X3NpemUgPSA0ICsgNCArIHRoaXMuZGF0YV9zaXplICsgNDtcblx0XHR0aGlzLmllbmRfb2ZmcyA9IHRoaXMuaWRhdF9vZmZzICsgdGhpcy5pZGF0X3NpemU7XHQvLyBJRU5EIG9mZnNldCBhbmQgc2l6ZVxuXHRcdHRoaXMuaWVuZF9zaXplID0gNCArIDQgKyA0O1xuXHRcdHRoaXMuYnVmZmVyX3NpemUgID0gdGhpcy5pZW5kX29mZnMgKyB0aGlzLmllbmRfc2l6ZTtcdC8vIHRvdGFsIFBORyBzaXplXG5cblx0XHR0aGlzLmJ1ZmZlciAgPSBuZXcgQXJyYXkoKTtcblx0XHR0aGlzLnBhbGV0dGUgPSBuZXcgT2JqZWN0KCk7XG5cdFx0dGhpcy5waW5kZXggID0gMDtcblxuXHRcdHZhciBfY3JjMzIgPSBuZXcgQXJyYXkoKTtcblxuXHRcdC8vIGluaXRpYWxpemUgYnVmZmVyIHdpdGggemVybyBieXRlc1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5idWZmZXJfc2l6ZTsgaSsrKSB7XG5cdFx0XHR0aGlzLmJ1ZmZlcltpXSA9IFwiXFx4MDBcIjtcblx0XHR9XG5cblx0XHQvLyBpbml0aWFsaXplIG5vbi16ZXJvIGVsZW1lbnRzXG5cdFx0d3JpdGUodGhpcy5idWZmZXIsIHRoaXMuaWhkcl9vZmZzLCBieXRlNCh0aGlzLmloZHJfc2l6ZSAtIDEyKSwgJ0lIRFInLCBieXRlNCh3aWR0aCksIGJ5dGU0KGhlaWdodCksIFwiXFx4MDhcXHgwM1wiKTtcblx0XHR3cml0ZSh0aGlzLmJ1ZmZlciwgdGhpcy5wbHRlX29mZnMsIGJ5dGU0KHRoaXMucGx0ZV9zaXplIC0gMTIpLCAnUExURScpO1xuXHRcdHdyaXRlKHRoaXMuYnVmZmVyLCB0aGlzLnRybnNfb2ZmcywgYnl0ZTQodGhpcy50cm5zX3NpemUgLSAxMiksICd0Uk5TJyk7XG5cdFx0d3JpdGUodGhpcy5idWZmZXIsIHRoaXMuaWRhdF9vZmZzLCBieXRlNCh0aGlzLmlkYXRfc2l6ZSAtIDEyKSwgJ0lEQVQnKTtcblx0XHR3cml0ZSh0aGlzLmJ1ZmZlciwgdGhpcy5pZW5kX29mZnMsIGJ5dGU0KHRoaXMuaWVuZF9zaXplIC0gMTIpLCAnSUVORCcpO1xuXG5cdFx0Ly8gaW5pdGlhbGl6ZSBkZWZsYXRlIGhlYWRlclxuXHRcdHZhciBoZWFkZXIgPSAoKDggKyAoNyA8PCA0KSkgPDwgOCkgfCAoMyA8PCA2KTtcblx0XHRoZWFkZXIrPSAzMSAtIChoZWFkZXIgJSAzMSk7XG5cblx0XHR3cml0ZSh0aGlzLmJ1ZmZlciwgdGhpcy5pZGF0X29mZnMgKyA4LCBieXRlMihoZWFkZXIpKTtcblxuXHRcdC8vIGluaXRpYWxpemUgZGVmbGF0ZSBibG9jayBoZWFkZXJzXG5cdFx0Zm9yICh2YXIgaSA9IDA7IChpIDw8IDE2KSAtIDEgPCB0aGlzLnBpeF9zaXplOyBpKyspIHtcblx0XHRcdHZhciBzaXplLCBiaXRzO1xuXHRcdFx0aWYgKGkgKyAweGZmZmYgPCB0aGlzLnBpeF9zaXplKSB7XG5cdFx0XHRcdHNpemUgPSAweGZmZmY7XG5cdFx0XHRcdGJpdHMgPSBcIlxceDAwXCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzaXplID0gdGhpcy5waXhfc2l6ZSAtIChpIDw8IDE2KSAtIGk7XG5cdFx0XHRcdGJpdHMgPSBcIlxceDAxXCI7XG5cdFx0XHR9XG5cdFx0XHR3cml0ZSh0aGlzLmJ1ZmZlciwgdGhpcy5pZGF0X29mZnMgKyA4ICsgMiArIChpIDw8IDE2KSArIChpIDw8IDIpLCBiaXRzLCBieXRlMmxzYihzaXplKSwgYnl0ZTJsc2IofnNpemUpKTtcblx0XHR9XG5cblx0XHQvKiBDcmVhdGUgY3JjMzIgbG9va3VwIHRhYmxlICovXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuXHRcdFx0dmFyIGMgPSBpO1xuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCA4OyBqKyspIHtcblx0XHRcdFx0aWYgKGMgJiAxKSB7XG5cdFx0XHRcdFx0YyA9IC0zMDY2NzQ5MTIgXiAoKGMgPj4gMSkgJiAweDdmZmZmZmZmKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjID0gKGMgPj4gMSkgJiAweDdmZmZmZmZmO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRfY3JjMzJbaV0gPSBjO1xuXHRcdH1cblxuXHRcdC8vIGNvbXB1dGUgdGhlIGluZGV4IGludG8gYSBwbmcgZm9yIGEgZ2l2ZW4gcGl4ZWxcblx0XHR0aGlzLmluZGV4ID0gZnVuY3Rpb24oeCx5KSB7XG5cdFx0XHR2YXIgaSA9IHkgKiAodGhpcy53aWR0aCArIDEpICsgeCArIDE7XG5cdFx0XHR2YXIgaiA9IHRoaXMuaWRhdF9vZmZzICsgOCArIDIgKyA1ICogTWF0aC5mbG9vcigoaSAvIDB4ZmZmZikgKyAxKSArIGk7XG5cdFx0XHRyZXR1cm4gajtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IGEgY29sb3IgYW5kIGJ1aWxkIHVwIHRoZSBwYWxldHRlXG5cdFx0dGhpcy5jb2xvciA9IGZ1bmN0aW9uKHJlZCwgZ3JlZW4sIGJsdWUsIGFscGhhKSB7XG5cblx0XHRcdGFscGhhID0gYWxwaGEgPj0gMCA/IGFscGhhIDogMjU1O1xuXHRcdFx0dmFyIGNvbG9yID0gKCgoKChhbHBoYSA8PCA4KSB8IHJlZCkgPDwgOCkgfCBncmVlbikgPDwgOCkgfCBibHVlO1xuXG5cdFx0XHRpZiAodHlwZW9mIHRoaXMucGFsZXR0ZVtjb2xvcl0gPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHRpZiAodGhpcy5waW5kZXggPT0gdGhpcy5kZXB0aCkgcmV0dXJuIFwiXFx4MDBcIjtcblxuXHRcdFx0XHR2YXIgbmR4ID0gdGhpcy5wbHRlX29mZnMgKyA4ICsgMyAqIHRoaXMucGluZGV4O1xuXG5cdFx0XHRcdHRoaXMuYnVmZmVyW25keCArIDBdID0gU3RyaW5nLmZyb21DaGFyQ29kZShyZWQpO1xuXHRcdFx0XHR0aGlzLmJ1ZmZlcltuZHggKyAxXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZ3JlZW4pO1xuXHRcdFx0XHR0aGlzLmJ1ZmZlcltuZHggKyAyXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoYmx1ZSk7XG5cdFx0XHRcdHRoaXMuYnVmZmVyW3RoaXMudHJuc19vZmZzKzgrdGhpcy5waW5kZXhdID0gU3RyaW5nLmZyb21DaGFyQ29kZShhbHBoYSk7XG5cblx0XHRcdFx0dGhpcy5wYWxldHRlW2NvbG9yXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5waW5kZXgrKyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcy5wYWxldHRlW2NvbG9yXTtcblx0XHR9XG5cblx0XHQvLyBvdXRwdXQgYSBQTkcgc3RyaW5nLCBCYXNlNjQgZW5jb2RlZFxuXHRcdHRoaXMuZ2V0QmFzZTY0ID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciBzID0gdGhpcy5nZXREdW1wKCk7XG5cblx0XHRcdHZhciBjaCA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIjtcblx0XHRcdHZhciBjMSwgYzIsIGMzLCBlMSwgZTIsIGUzLCBlNDtcblx0XHRcdHZhciBsID0gcy5sZW5ndGg7XG5cdFx0XHR2YXIgaSA9IDA7XG5cdFx0XHR2YXIgciA9IFwiXCI7XG5cblx0XHRcdGRvIHtcblx0XHRcdFx0YzEgPSBzLmNoYXJDb2RlQXQoaSk7XG5cdFx0XHRcdGUxID0gYzEgPj4gMjtcblx0XHRcdFx0YzIgPSBzLmNoYXJDb2RlQXQoaSsxKTtcblx0XHRcdFx0ZTIgPSAoKGMxICYgMykgPDwgNCkgfCAoYzIgPj4gNCk7XG5cdFx0XHRcdGMzID0gcy5jaGFyQ29kZUF0KGkrMik7XG5cdFx0XHRcdGlmIChsIDwgaSsyKSB7IGUzID0gNjQ7IH0gZWxzZSB7IGUzID0gKChjMiAmIDB4ZikgPDwgMikgfCAoYzMgPj4gNik7IH1cblx0XHRcdFx0aWYgKGwgPCBpKzMpIHsgZTQgPSA2NDsgfSBlbHNlIHsgZTQgPSBjMyAmIDB4M2Y7IH1cblx0XHRcdFx0cis9IGNoLmNoYXJBdChlMSkgKyBjaC5jaGFyQXQoZTIpICsgY2guY2hhckF0KGUzKSArIGNoLmNoYXJBdChlNCk7XG5cdFx0XHR9IHdoaWxlICgoaSs9IDMpIDwgbCk7XG5cdFx0XHRyZXR1cm4gcjtcblx0XHR9XG5cblx0XHQvLyBvdXRwdXQgYSBQTkcgc3RyaW5nXG5cdFx0dGhpcy5nZXREdW1wID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIGNvbXB1dGUgYWRsZXIzMiBvZiBvdXRwdXQgcGl4ZWxzICsgcm93IGZpbHRlciBieXRlc1xuXHRcdFx0dmFyIEJBU0UgPSA2NTUyMTsgLyogbGFyZ2VzdCBwcmltZSBzbWFsbGVyIHRoYW4gNjU1MzYgKi9cblx0XHRcdHZhciBOTUFYID0gNTU1MjsgIC8qIE5NQVggaXMgdGhlIGxhcmdlc3QgbiBzdWNoIHRoYXQgMjU1bihuKzEpLzIgKyAobisxKShCQVNFLTEpIDw9IDJeMzItMSAqL1xuXHRcdFx0dmFyIHMxID0gMTtcblx0XHRcdHZhciBzMiA9IDA7XG5cdFx0XHR2YXIgbiA9IE5NQVg7XG5cblx0XHRcdGZvciAodmFyIHkgPSAwOyB5IDwgdGhpcy5oZWlnaHQ7IHkrKykge1xuXHRcdFx0XHRmb3IgKHZhciB4ID0gLTE7IHggPCB0aGlzLndpZHRoOyB4KyspIHtcblx0XHRcdFx0XHRzMSs9IHRoaXMuYnVmZmVyW3RoaXMuaW5kZXgoeCwgeSldLmNoYXJDb2RlQXQoMCk7XG5cdFx0XHRcdFx0czIrPSBzMTtcblx0XHRcdFx0XHRpZiAoKG4tPSAxKSA9PSAwKSB7XG5cdFx0XHRcdFx0XHRzMSU9IEJBU0U7XG5cdFx0XHRcdFx0XHRzMiU9IEJBU0U7XG5cdFx0XHRcdFx0XHRuID0gTk1BWDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHMxJT0gQkFTRTtcblx0XHRcdHMyJT0gQkFTRTtcblx0XHRcdHdyaXRlKHRoaXMuYnVmZmVyLCB0aGlzLmlkYXRfb2ZmcyArIHRoaXMuaWRhdF9zaXplIC0gOCwgYnl0ZTQoKHMyIDw8IDE2KSB8IHMxKSk7XG5cblx0XHRcdC8vIGNvbXB1dGUgY3JjMzIgb2YgdGhlIFBORyBjaHVua3Ncblx0XHRcdGZ1bmN0aW9uIGNyYzMyKHBuZywgb2Zmcywgc2l6ZSkge1xuXHRcdFx0XHR2YXIgY3JjID0gLTE7XG5cdFx0XHRcdGZvciAodmFyIGkgPSA0OyBpIDwgc2l6ZS00OyBpICs9IDEpIHtcblx0XHRcdFx0XHRjcmMgPSBfY3JjMzJbKGNyYyBeIHBuZ1tvZmZzK2ldLmNoYXJDb2RlQXQoMCkpICYgMHhmZl0gXiAoKGNyYyA+PiA4KSAmIDB4MDBmZmZmZmYpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHdyaXRlKHBuZywgb2ZmcytzaXplLTQsIGJ5dGU0KGNyYyBeIC0xKSk7XG5cdFx0XHR9XG5cblx0XHRcdGNyYzMyKHRoaXMuYnVmZmVyLCB0aGlzLmloZHJfb2ZmcywgdGhpcy5paGRyX3NpemUpO1xuXHRcdFx0Y3JjMzIodGhpcy5idWZmZXIsIHRoaXMucGx0ZV9vZmZzLCB0aGlzLnBsdGVfc2l6ZSk7XG5cdFx0XHRjcmMzMih0aGlzLmJ1ZmZlciwgdGhpcy50cm5zX29mZnMsIHRoaXMudHJuc19zaXplKTtcblx0XHRcdGNyYzMyKHRoaXMuYnVmZmVyLCB0aGlzLmlkYXRfb2ZmcywgdGhpcy5pZGF0X3NpemUpO1xuXHRcdFx0Y3JjMzIodGhpcy5idWZmZXIsIHRoaXMuaWVuZF9vZmZzLCB0aGlzLmllbmRfc2l6ZSk7XG5cblx0XHRcdC8vIGNvbnZlcnQgUE5HIHRvIHN0cmluZ1xuXHRcdFx0cmV0dXJuIFwiXFx4ODlQTkdcXHJcXG5cXHgxYVxcblwiK3RoaXMuYnVmZmVyLmpvaW4oJycpO1xuXHRcdH1cblx0fVxuXG5cdC8vIG1vZGlmaWVkIGZyb20gb3JpZ2luYWwgc291cmNlIHRvIHN1cHBvcnQgTlBNXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBQTkdsaWI7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LlBOR2xpYiA9IFBOR2xpYjtcblx0fVxufSkoKTtcbiIsImV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gKGUgKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgZSA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gbUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gKG0gKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAoKHZhbHVlICogYykgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gZSArIGVCaWFzXG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IDBcbiAgICB9XG4gIH1cblxuICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7fVxuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG1cbiAgZUxlbiArPSBtTGVuXG4gIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjhcbn1cbiIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChhcnIpID09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiLyoqXG4gKiBBIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFNIQSBmYW1pbHkgb2YgaGFzaGVzIC0gZGVmaW5lZCBpbiBGSVBTIFBVQiAxODAtNCwgRklQUyBQVUIgMjAyLFxuICogYW5kIFNQIDgwMC0xODUgLSBhcyB3ZWxsIGFzIHRoZSBjb3JyZXNwb25kaW5nIEhNQUMgaW1wbGVtZW50YXRpb24gYXMgZGVmaW5lZCBpbiBGSVBTIFBVQiAxOTgtMS5cbiAqXG4gKiBDb3B5cmlnaHQgMjAwOC0yMDIwIEJyaWFuIFR1cmVrLCAxOTk4LTIwMDkgUGF1bCBKb2huc3RvbiAmIENvbnRyaWJ1dG9yc1xuICogRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBMaWNlbnNlXG4gKiBTZWUgaHR0cDovL2NhbGlnYXRpby5naXRodWIuY29tL2pzU0hBLyBmb3IgbW9yZSBpbmZvcm1hdGlvblxuICovXG5jb25zdCB0PVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiO2Z1bmN0aW9uIG4odCxuLGUscil7bGV0IGkscyxvO2NvbnN0IGg9bnx8WzBdLHU9KGU9ZXx8MCk+Pj4zLHc9LTE9PT1yPzM6MDtmb3IoaT0wO2k8dC5sZW5ndGg7aSs9MSlvPWkrdSxzPW8+Pj4yLGgubGVuZ3RoPD1zJiZoLnB1c2goMCksaFtzXXw9dFtpXTw8OCoodytyKihvJTQpKTtyZXR1cm57dmFsdWU6aCxiaW5MZW46OCp0Lmxlbmd0aCtlfX1mdW5jdGlvbiBlKGUscixpKXtzd2l0Y2gocil7Y2FzZVwiVVRGOFwiOmNhc2VcIlVURjE2QkVcIjpjYXNlXCJVVEYxNkxFXCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJlbmNvZGluZyBtdXN0IGJlIFVURjgsIFVURjE2QkUsIG9yIFVURjE2TEVcIil9c3dpdGNoKGUpe2Nhc2VcIkhFWFwiOnJldHVybiBmdW5jdGlvbih0LG4sZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixlLHIpe2xldCBpLHMsbyxoO2lmKDAhPXQubGVuZ3RoJTIpdGhyb3cgbmV3IEVycm9yKFwiU3RyaW5nIG9mIEhFWCB0eXBlIG11c3QgYmUgaW4gYnl0ZSBpbmNyZW1lbnRzXCIpO2NvbnN0IHU9bnx8WzBdLHc9KGU9ZXx8MCk+Pj4zLGM9LTE9PT1yPzM6MDtmb3IoaT0wO2k8dC5sZW5ndGg7aSs9Mil7aWYocz1wYXJzZUludCh0LnN1YnN0cihpLDIpLDE2KSxpc05hTihzKSl0aHJvdyBuZXcgRXJyb3IoXCJTdHJpbmcgb2YgSEVYIHR5cGUgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzXCIpO2ZvcihoPShpPj4+MSkrdyxvPWg+Pj4yO3UubGVuZ3RoPD1vOyl1LnB1c2goMCk7dVtvXXw9czw8OCooYytyKihoJTQpKX1yZXR1cm57dmFsdWU6dSxiaW5MZW46NCp0Lmxlbmd0aCtlfX0odCxuLGUsaSl9O2Nhc2VcIlRFWFRcIjpyZXR1cm4gZnVuY3Rpb24odCxuLGUpe3JldHVybiBmdW5jdGlvbih0LG4sZSxyLGkpe2xldCBzLG8saCx1LHcsYyxmLGEsbD0wO2NvbnN0IEE9ZXx8WzBdLEU9KHI9cnx8MCk+Pj4zO2lmKFwiVVRGOFwiPT09bilmb3IoZj0tMT09PWk/MzowLGg9MDtoPHQubGVuZ3RoO2grPTEpZm9yKHM9dC5jaGFyQ29kZUF0KGgpLG89W10sMTI4PnM/by5wdXNoKHMpOjIwNDg+cz8oby5wdXNoKDE5MnxzPj4+Niksby5wdXNoKDEyOHw2MyZzKSk6NTUyOTY+c3x8NTczNDQ8PXM/by5wdXNoKDIyNHxzPj4+MTIsMTI4fHM+Pj42JjYzLDEyOHw2MyZzKTooaCs9MSxzPTY1NTM2KygoMTAyMyZzKTw8MTB8MTAyMyZ0LmNoYXJDb2RlQXQoaCkpLG8ucHVzaCgyNDB8cz4+PjE4LDEyOHxzPj4+MTImNjMsMTI4fHM+Pj42JjYzLDEyOHw2MyZzKSksdT0wO3U8by5sZW5ndGg7dSs9MSl7Zm9yKGM9bCtFLHc9Yz4+PjI7QS5sZW5ndGg8PXc7KUEucHVzaCgwKTtBW3ddfD1vW3VdPDw4KihmK2kqKGMlNCkpLGwrPTF9ZWxzZSBmb3IoZj0tMT09PWk/MjowLGE9XCJVVEYxNkxFXCI9PT1uJiYxIT09aXx8XCJVVEYxNkxFXCIhPT1uJiYxPT09aSxoPTA7aDx0Lmxlbmd0aDtoKz0xKXtmb3Iocz10LmNoYXJDb2RlQXQoaCksITA9PT1hJiYodT0yNTUmcyxzPXU8PDh8cz4+PjgpLGM9bCtFLHc9Yz4+PjI7QS5sZW5ndGg8PXc7KUEucHVzaCgwKTtBW3ddfD1zPDw4KihmK2kqKGMlNCkpLGwrPTJ9cmV0dXJue3ZhbHVlOkEsYmluTGVuOjgqbCtyfX0odCxyLG4sZSxpKX07Y2FzZVwiQjY0XCI6cmV0dXJuIGZ1bmN0aW9uKG4sZSxyKXtyZXR1cm4gZnVuY3Rpb24obixlLHIsaSl7bGV0IHMsbyxoLHUsdyxjLGYsYT0wO2NvbnN0IGw9ZXx8WzBdLEE9KHI9cnx8MCk+Pj4zLEU9LTE9PT1pPzM6MCxIPW4uaW5kZXhPZihcIj1cIik7aWYoLTE9PT1uLnNlYXJjaCgvXlthLXpBLVowLTk9Ky9dKyQvKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNoYXJhY3RlciBpbiBiYXNlLTY0IHN0cmluZ1wiKTtpZihuPW4ucmVwbGFjZSgvPS9nLFwiXCIpLC0xIT09SCYmSDxuLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkICc9JyBmb3VuZCBpbiBiYXNlLTY0IHN0cmluZ1wiKTtmb3Iobz0wO288bi5sZW5ndGg7bys9NCl7Zm9yKHc9bi5zdWJzdHIobyw0KSx1PTAsaD0wO2g8dy5sZW5ndGg7aCs9MSlzPXQuaW5kZXhPZih3LmNoYXJBdChoKSksdXw9czw8MTgtNipoO2ZvcihoPTA7aDx3Lmxlbmd0aC0xO2grPTEpe2ZvcihmPWErQSxjPWY+Pj4yO2wubGVuZ3RoPD1jOylsLnB1c2goMCk7bFtjXXw9KHU+Pj4xNi04KmgmMjU1KTw8OCooRStpKihmJTQpKSxhKz0xfX1yZXR1cm57dmFsdWU6bCxiaW5MZW46OCphK3J9fShuLGUscixpKX07Y2FzZVwiQllURVNcIjpyZXR1cm4gZnVuY3Rpb24odCxuLGUpe3JldHVybiBmdW5jdGlvbih0LG4sZSxyKXtsZXQgaSxzLG8saDtjb25zdCB1PW58fFswXSx3PShlPWV8fDApPj4+MyxjPS0xPT09cj8zOjA7Zm9yKHM9MDtzPHQubGVuZ3RoO3MrPTEpaT10LmNoYXJDb2RlQXQocyksaD1zK3csbz1oPj4+Mix1Lmxlbmd0aDw9byYmdS5wdXNoKDApLHVbb118PWk8PDgqKGMrciooaCU0KSk7cmV0dXJue3ZhbHVlOnUsYmluTGVuOjgqdC5sZW5ndGgrZX19KHQsbixlLGkpfTtjYXNlXCJBUlJBWUJVRkZFUlwiOnRyeXtuZXcgQXJyYXlCdWZmZXIoMCl9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKFwiQVJSQVlCVUZGRVIgbm90IHN1cHBvcnRlZCBieSB0aGlzIGVudmlyb25tZW50XCIpfXJldHVybiBmdW5jdGlvbih0LGUscil7cmV0dXJuIGZ1bmN0aW9uKHQsZSxyLGkpe3JldHVybiBuKG5ldyBVaW50OEFycmF5KHQpLGUscixpKX0odCxlLHIsaSl9O2Nhc2VcIlVJTlQ4QVJSQVlcIjp0cnl7bmV3IFVpbnQ4QXJyYXkoMCl9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKFwiVUlOVDhBUlJBWSBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgZW52aXJvbm1lbnRcIil9cmV0dXJuIGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbih0LGUscixpKX07ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJmb3JtYXQgbXVzdCBiZSBIRVgsIFRFWFQsIEI2NCwgQllURVMsIEFSUkFZQlVGRkVSLCBvciBVSU5UOEFSUkFZXCIpfX1mdW5jdGlvbiByKG4sZSxyLGkpe3N3aXRjaChuKXtjYXNlXCJIRVhcIjpyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsbixlLHIpe2xldCBpLHMsbz1cIlwiO2NvbnN0IGg9bi84LHU9LTE9PT1lPzM6MDtmb3IoaT0wO2k8aDtpKz0xKXM9dFtpPj4+Ml0+Pj44Kih1K2UqKGklNCkpLG8rPVwiMDEyMzQ1Njc4OWFiY2RlZlwiLmNoYXJBdChzPj4+NCYxNSkrXCIwMTIzNDU2Nzg5YWJjZGVmXCIuY2hhckF0KDE1JnMpO3JldHVybiByLm91dHB1dFVwcGVyP28udG9VcHBlckNhc2UoKTpvfSh0LGUscixpKX07Y2FzZVwiQjY0XCI6cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbihuLGUscixpKXtsZXQgcyxvLGgsdSx3LGM9XCJcIjtjb25zdCBmPWUvOCxhPS0xPT09cj8zOjA7Zm9yKHM9MDtzPGY7cys9Mylmb3IodT1zKzE8Zj9uW3MrMT4+PjJdOjAsdz1zKzI8Zj9uW3MrMj4+PjJdOjAsaD0obltzPj4+Ml0+Pj44KihhK3IqKHMlNCkpJjI1NSk8PDE2fCh1Pj4+OCooYStyKigocysxKSU0KSkmMjU1KTw8OHx3Pj4+OCooYStyKigocysyKSU0KSkmMjU1LG89MDtvPDQ7bys9MSljKz04KnMrNipvPD1lP3QuY2hhckF0KGg+Pj42KigzLW8pJjYzKTppLmI2NFBhZDtyZXR1cm4gY30obixlLHIsaSl9O2Nhc2VcIkJZVEVTXCI6cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LG4sZSl7bGV0IHIsaSxzPVwiXCI7Y29uc3Qgbz1uLzgsaD0tMT09PWU/MzowO2ZvcihyPTA7cjxvO3IrPTEpaT10W3I+Pj4yXT4+PjgqKGgrZSoociU0KSkmMjU1LHMrPVN0cmluZy5mcm9tQ2hhckNvZGUoaSk7cmV0dXJuIHN9KHQsZSxyKX07Y2FzZVwiQVJSQVlCVUZGRVJcIjp0cnl7bmV3IEFycmF5QnVmZmVyKDApfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIkFSUkFZQlVGRkVSIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBlbnZpcm9ubWVudFwiKX1yZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsbixlKXtsZXQgcjtjb25zdCBpPW4vOCxzPW5ldyBBcnJheUJ1ZmZlcihpKSxvPW5ldyBVaW50OEFycmF5KHMpLGg9LTE9PT1lPzM6MDtmb3Iocj0wO3I8aTtyKz0xKW9bcl09dFtyPj4+Ml0+Pj44KihoK2UqKHIlNCkpJjI1NTtyZXR1cm4gc30odCxlLHIpfTtjYXNlXCJVSU5UOEFSUkFZXCI6dHJ5e25ldyBVaW50OEFycmF5KDApfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIlVJTlQ4QVJSQVkgbm90IHN1cHBvcnRlZCBieSB0aGlzIGVudmlyb25tZW50XCIpfXJldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxuLGUpe2xldCByO2NvbnN0IGk9bi84LHM9LTE9PT1lPzM6MCxvPW5ldyBVaW50OEFycmF5KGkpO2ZvcihyPTA7cjxpO3IrPTEpb1tyXT10W3I+Pj4yXT4+PjgqKHMrZSoociU0KSkmMjU1O3JldHVybiBvfSh0LGUscil9O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiZm9ybWF0IG11c3QgYmUgSEVYLCBCNjQsIEJZVEVTLCBBUlJBWUJVRkZFUiwgb3IgVUlOVDhBUlJBWVwiKX19Y29uc3QgaT1bMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LDE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LDQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsMjM2MTg1MjQyNCwyNDI4NDM2NDc0LDI3NTY3MzQxODcsMzIwNDAzMTQ3OSwzMzI5MzI1Mjk4XSxzPVszMjM4MzcxMDMyLDkxNDE1MDY2Myw4MTI3MDI5OTksNDE0NDkxMjY5Nyw0MjkwNzc1ODU3LDE3NTA2MDMwMjUsMTY5NDA3NjgzOSwzMjA0MDc1NDI4XSxvPVsxNzc5MDMzNzAzLDMxNDQxMzQyNzcsMTAxMzkwNDI0MiwyNzczNDgwNzYyLDEzNTk4OTMxMTksMjYwMDgyMjkyNCw1Mjg3MzQ2MzUsMTU0MTQ1OTIyNV0saD1cIkNob3NlbiBTSEEgdmFyaWFudCBpcyBub3Qgc3VwcG9ydGVkXCI7ZnVuY3Rpb24gdSh0LG4pe2xldCBlLHI7Y29uc3QgaT10LmJpbkxlbj4+PjMscz1uLmJpbkxlbj4+PjMsbz1pPDwzLGg9NC1pPDwzO2lmKGklNCE9MCl7Zm9yKGU9MDtlPHM7ZSs9NClyPWkrZT4+PjIsdC52YWx1ZVtyXXw9bi52YWx1ZVtlPj4+Ml08PG8sdC52YWx1ZS5wdXNoKDApLHQudmFsdWVbcisxXXw9bi52YWx1ZVtlPj4+Ml0+Pj5oO3JldHVybih0LnZhbHVlLmxlbmd0aDw8MiktND49cytpJiZ0LnZhbHVlLnBvcCgpLHt2YWx1ZTp0LnZhbHVlLGJpbkxlbjp0LmJpbkxlbituLmJpbkxlbn19cmV0dXJue3ZhbHVlOnQudmFsdWUuY29uY2F0KG4udmFsdWUpLGJpbkxlbjp0LmJpbkxlbituLmJpbkxlbn19ZnVuY3Rpb24gdyh0KXtjb25zdCBuPXtvdXRwdXRVcHBlcjohMSxiNjRQYWQ6XCI9XCIsb3V0cHV0TGVuOi0xfSxlPXR8fHt9LHI9XCJPdXRwdXQgbGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA4XCI7aWYobi5vdXRwdXRVcHBlcj1lLm91dHB1dFVwcGVyfHwhMSxlLmI2NFBhZCYmKG4uYjY0UGFkPWUuYjY0UGFkKSxlLm91dHB1dExlbil7aWYoZS5vdXRwdXRMZW4lOCE9MCl0aHJvdyBuZXcgRXJyb3Iocik7bi5vdXRwdXRMZW49ZS5vdXRwdXRMZW59ZWxzZSBpZihlLnNoYWtlTGVuKXtpZihlLnNoYWtlTGVuJTghPTApdGhyb3cgbmV3IEVycm9yKHIpO24ub3V0cHV0TGVuPWUuc2hha2VMZW59aWYoXCJib29sZWFuXCIhPXR5cGVvZiBuLm91dHB1dFVwcGVyKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3V0cHV0VXBwZXIgZm9ybWF0dGluZyBvcHRpb25cIik7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIG4uYjY0UGFkKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYjY0UGFkIGZvcm1hdHRpbmcgb3B0aW9uXCIpO3JldHVybiBufWZ1bmN0aW9uIGModCxuLHIsaSl7Y29uc3Qgcz10K1wiIG11c3QgaW5jbHVkZSBhIHZhbHVlIGFuZCBmb3JtYXRcIjtpZighbil7aWYoIWkpdGhyb3cgbmV3IEVycm9yKHMpO3JldHVybiBpfWlmKHZvaWQgMD09PW4udmFsdWV8fCFuLmZvcm1hdCl0aHJvdyBuZXcgRXJyb3Iocyk7cmV0dXJuIGUobi5mb3JtYXQsbi5lbmNvZGluZ3x8XCJVVEY4XCIscikobi52YWx1ZSl9Y2xhc3MgZntjb25zdHJ1Y3Rvcih0LG4sZSl7Y29uc3Qgcj1lfHx7fTtpZih0aGlzLnQ9bix0aGlzLmk9ci5lbmNvZGluZ3x8XCJVVEY4XCIsdGhpcy5udW1Sb3VuZHM9ci5udW1Sb3VuZHN8fDEsaXNOYU4odGhpcy5udW1Sb3VuZHMpfHx0aGlzLm51bVJvdW5kcyE9PXBhcnNlSW50KHRoaXMubnVtUm91bmRzLDEwKXx8MT50aGlzLm51bVJvdW5kcyl0aHJvdyBuZXcgRXJyb3IoXCJudW1Sb3VuZHMgbXVzdCBhIGludGVnZXIgPj0gMVwiKTt0aGlzLnM9dCx0aGlzLm89W10sdGhpcy5oPTAsdGhpcy51PSExLHRoaXMubD0wLHRoaXMuQT0hMSx0aGlzLkg9W10sdGhpcy5TPVtdfXVwZGF0ZSh0KXtsZXQgbixlPTA7Y29uc3Qgcj10aGlzLnA+Pj41LGk9dGhpcy5tKHQsdGhpcy5vLHRoaXMuaCkscz1pLmJpbkxlbixvPWkudmFsdWUsaD1zPj4+NTtmb3Iobj0wO248aDtuKz1yKWUrdGhpcy5wPD1zJiYodGhpcy5DPXRoaXMuUihvLnNsaWNlKG4sbityKSx0aGlzLkMpLGUrPXRoaXMucCk7dGhpcy5sKz1lLHRoaXMubz1vLnNsaWNlKGU+Pj41KSx0aGlzLmg9cyV0aGlzLnAsdGhpcy51PSEwfWdldEhhc2godCxuKXtsZXQgZSxpLHM9dGhpcy5VO2NvbnN0IG89dyhuKTtpZih0aGlzLnYpe2lmKC0xPT09by5vdXRwdXRMZW4pdGhyb3cgbmV3IEVycm9yKFwiT3V0cHV0IGxlbmd0aCBtdXN0IGJlIHNwZWNpZmllZCBpbiBvcHRpb25zXCIpO3M9by5vdXRwdXRMZW59Y29uc3QgaD1yKHQscyx0aGlzLkssbyk7aWYodGhpcy5BJiZ0aGlzLlQpcmV0dXJuIGgodGhpcy5UKG8pKTtmb3IoaT10aGlzLkYodGhpcy5vLnNsaWNlKCksdGhpcy5oLHRoaXMubCx0aGlzLmcodGhpcy5DKSxzKSxlPTE7ZTx0aGlzLm51bVJvdW5kcztlKz0xKXRoaXMudiYmcyUzMiE9MCYmKGlbaS5sZW5ndGgtMV0mPTE2Nzc3MjE1Pj4+MjQtcyUzMiksaT10aGlzLkYoaSxzLDAsdGhpcy5CKHRoaXMucykscyk7cmV0dXJuIGgoaSl9c2V0SE1BQ0tleSh0LG4scil7aWYoIXRoaXMuTCl0aHJvdyBuZXcgRXJyb3IoXCJWYXJpYW50IGRvZXMgbm90IHN1cHBvcnQgSE1BQ1wiKTtpZih0aGlzLnUpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNldCBNQUMga2V5IGFmdGVyIGNhbGxpbmcgdXBkYXRlXCIpO2NvbnN0IGk9ZShuLChyfHx7fSkuZW5jb2Rpbmd8fFwiVVRGOFwiLHRoaXMuSyk7dGhpcy5NKGkodCkpfU0odCl7Y29uc3Qgbj10aGlzLnA+Pj4zLGU9bi80LTE7bGV0IHI7aWYoMSE9PXRoaXMubnVtUm91bmRzKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzZXQgbnVtUm91bmRzIHdpdGggTUFDXCIpO2lmKHRoaXMuQSl0aHJvdyBuZXcgRXJyb3IoXCJNQUMga2V5IGFscmVhZHkgc2V0XCIpO2ZvcihuPHQuYmluTGVuLzgmJih0LnZhbHVlPXRoaXMuRih0LnZhbHVlLHQuYmluTGVuLDAsdGhpcy5CKHRoaXMucyksdGhpcy5VKSk7dC52YWx1ZS5sZW5ndGg8PWU7KXQudmFsdWUucHVzaCgwKTtmb3Iocj0wO3I8PWU7cis9MSl0aGlzLkhbcl09OTA5NTIyNDg2XnQudmFsdWVbcl0sdGhpcy5TW3JdPTE1NDk1NTY4MjhedC52YWx1ZVtyXTt0aGlzLkM9dGhpcy5SKHRoaXMuSCx0aGlzLkMpLHRoaXMubD10aGlzLnAsdGhpcy5BPSEwfWdldEhNQUModCxuKXtjb25zdCBlPXcobik7cmV0dXJuIHIodCx0aGlzLlUsdGhpcy5LLGUpKHRoaXMuaygpKX1rKCl7bGV0IHQ7aWYoIXRoaXMuQSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBnZXRITUFDIHdpdGhvdXQgZmlyc3Qgc2V0dGluZyBNQUMga2V5XCIpO2NvbnN0IG49dGhpcy5GKHRoaXMuby5zbGljZSgpLHRoaXMuaCx0aGlzLmwsdGhpcy5nKHRoaXMuQyksdGhpcy5VKTtyZXR1cm4gdD10aGlzLlIodGhpcy5TLHRoaXMuQih0aGlzLnMpKSx0PXRoaXMuRihuLHRoaXMuVSx0aGlzLnAsdCx0aGlzLlUpLHR9fWZ1bmN0aW9uIGEodCxuKXtyZXR1cm4gdDw8bnx0Pj4+MzItbn1mdW5jdGlvbiBsKHQsbil7cmV0dXJuIHQ+Pj5ufHQ8PDMyLW59ZnVuY3Rpb24gQSh0LG4pe3JldHVybiB0Pj4+bn1mdW5jdGlvbiBFKHQsbixlKXtyZXR1cm4gdF5uXmV9ZnVuY3Rpb24gSCh0LG4sZSl7cmV0dXJuIHQmbl5+dCZlfWZ1bmN0aW9uIFModCxuLGUpe3JldHVybiB0Jm5edCZlXm4mZX1mdW5jdGlvbiBiKHQpe3JldHVybiBsKHQsMilebCh0LDEzKV5sKHQsMjIpfWZ1bmN0aW9uIHAodCxuKXtjb25zdCBlPSg2NTUzNSZ0KSsoNjU1MzUmbik7cmV0dXJuKDY1NTM1Jih0Pj4+MTYpKyhuPj4+MTYpKyhlPj4+MTYpKTw8MTZ8NjU1MzUmZX1mdW5jdGlvbiBkKHQsbixlLHIpe2NvbnN0IGk9KDY1NTM1JnQpKyg2NTUzNSZuKSsoNjU1MzUmZSkrKDY1NTM1JnIpO3JldHVybig2NTUzNSYodD4+PjE2KSsobj4+PjE2KSsoZT4+PjE2KSsocj4+PjE2KSsoaT4+PjE2KSk8PDE2fDY1NTM1Jml9ZnVuY3Rpb24gbSh0LG4sZSxyLGkpe2NvbnN0IHM9KDY1NTM1JnQpKyg2NTUzNSZuKSsoNjU1MzUmZSkrKDY1NTM1JnIpKyg2NTUzNSZpKTtyZXR1cm4oNjU1MzUmKHQ+Pj4xNikrKG4+Pj4xNikrKGU+Pj4xNikrKHI+Pj4xNikrKGk+Pj4xNikrKHM+Pj4xNikpPDwxNnw2NTUzNSZzfWZ1bmN0aW9uIEModCl7cmV0dXJuIGwodCw3KV5sKHQsMTgpXkEodCwzKX1mdW5jdGlvbiB5KHQpe3JldHVybiBsKHQsNilebCh0LDExKV5sKHQsMjUpfWZ1bmN0aW9uIFIodCl7cmV0dXJuWzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OCwzMjg1Mzc3NTIwXX1mdW5jdGlvbiBVKHQsbil7bGV0IGUscixpLHMsbyxoLHU7Y29uc3Qgdz1bXTtmb3IoZT1uWzBdLHI9blsxXSxpPW5bMl0scz1uWzNdLG89bls0XSx1PTA7dTw4MDt1Kz0xKXdbdV09dTwxNj90W3VdOmEod1t1LTNdXndbdS04XV53W3UtMTRdXndbdS0xNl0sMSksaD11PDIwP20oYShlLDUpLEgocixpLHMpLG8sMTUxODUwMDI0OSx3W3VdKTp1PDQwP20oYShlLDUpLEUocixpLHMpLG8sMTg1OTc3NTM5Myx3W3VdKTp1PDYwP20oYShlLDUpLFMocixpLHMpLG8sMjQwMDk1OTcwOCx3W3VdKTptKGEoZSw1KSxFKHIsaSxzKSxvLDMzOTU0Njk3ODIsd1t1XSksbz1zLHM9aSxpPWEociwzMCkscj1lLGU9aDtyZXR1cm4gblswXT1wKGUsblswXSksblsxXT1wKHIsblsxXSksblsyXT1wKGksblsyXSksblszXT1wKHMsblszXSksbls0XT1wKG8sbls0XSksbn1mdW5jdGlvbiB2KHQsbixlLHIpe2xldCBpO2NvbnN0IHM9MTUrKG4rNjU+Pj45PDw0KSxvPW4rZTtmb3IoO3QubGVuZ3RoPD1zOyl0LnB1c2goMCk7Zm9yKHRbbj4+PjVdfD0xMjg8PDI0LW4lMzIsdFtzXT00Mjk0OTY3Mjk1Jm8sdFtzLTFdPW8vNDI5NDk2NzI5NnwwLGk9MDtpPHQubGVuZ3RoO2krPTE2KXI9VSh0LnNsaWNlKGksaSsxNikscik7cmV0dXJuIHJ9Y2xhc3MgSyBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxuLHIpe2lmKFwiU0hBLTFcIiE9PXQpdGhyb3cgbmV3IEVycm9yKGgpO3N1cGVyKHQsbixyKTtjb25zdCBpPXJ8fHt9O3RoaXMuTD0hMCx0aGlzLlQ9dGhpcy5rLHRoaXMuSz0tMSx0aGlzLm09ZSh0aGlzLnQsdGhpcy5pLHRoaXMuSyksdGhpcy5SPVUsdGhpcy5nPWZ1bmN0aW9uKHQpe3JldHVybiB0LnNsaWNlKCl9LHRoaXMuQj1SLHRoaXMuRj12LHRoaXMuQz1bMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdLHRoaXMucD01MTIsdGhpcy5VPTE2MCx0aGlzLnY9ITEsaS5obWFjS2V5JiZ0aGlzLk0oYyhcImhtYWNLZXlcIixpLmhtYWNLZXksdGhpcy5LKSl9fWZ1bmN0aW9uIFQodCl7bGV0IG47cmV0dXJuIG49XCJTSEEtMjI0XCI9PXQ/cy5zbGljZSgpOm8uc2xpY2UoKSxufWZ1bmN0aW9uIEYodCxuKXtsZXQgZSxyLHMsbyxoLHUsdyxjLGYsYSxFO2NvbnN0IFI9W107Zm9yKGU9blswXSxyPW5bMV0scz1uWzJdLG89blszXSxoPW5bNF0sdT1uWzVdLHc9bls2XSxjPW5bN10sRT0wO0U8NjQ7RSs9MSlSW0VdPUU8MTY/dFtFXTpkKGwoVT1SW0UtMl0sMTcpXmwoVSwxOSleQShVLDEwKSxSW0UtN10sQyhSW0UtMTVdKSxSW0UtMTZdKSxmPW0oYyx5KGgpLEgoaCx1LHcpLGlbRV0sUltFXSksYT1wKGIoZSksUyhlLHIscykpLGM9dyx3PXUsdT1oLGg9cChvLGYpLG89cyxzPXIscj1lLGU9cChmLGEpO3ZhciBVO3JldHVybiBuWzBdPXAoZSxuWzBdKSxuWzFdPXAocixuWzFdKSxuWzJdPXAocyxuWzJdKSxuWzNdPXAobyxuWzNdKSxuWzRdPXAoaCxuWzRdKSxuWzVdPXAodSxuWzVdKSxuWzZdPXAodyxuWzZdKSxuWzddPXAoYyxuWzddKSxufWNsYXNzIGcgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsbixyKXtpZihcIlNIQS0yMjRcIiE9PXQmJlwiU0hBLTI1NlwiIT09dCl0aHJvdyBuZXcgRXJyb3IoaCk7c3VwZXIodCxuLHIpO2NvbnN0IGk9cnx8e307dGhpcy5UPXRoaXMuayx0aGlzLkw9ITAsdGhpcy5LPS0xLHRoaXMubT1lKHRoaXMudCx0aGlzLmksdGhpcy5LKSx0aGlzLlI9Rix0aGlzLmc9ZnVuY3Rpb24odCl7cmV0dXJuIHQuc2xpY2UoKX0sdGhpcy5CPVQsdGhpcy5GPWZ1bmN0aW9uKG4sZSxyLGkpe3JldHVybiBmdW5jdGlvbih0LG4sZSxyLGkpe2xldCBzLG87Y29uc3QgaD0xNSsobis2NT4+Pjk8PDQpLHU9bitlO2Zvcig7dC5sZW5ndGg8PWg7KXQucHVzaCgwKTtmb3IodFtuPj4+NV18PTEyODw8MjQtbiUzMix0W2hdPTQyOTQ5NjcyOTUmdSx0W2gtMV09dS80Mjk0OTY3Mjk2fDAscz0wO3M8dC5sZW5ndGg7cys9MTYpcj1GKHQuc2xpY2UocyxzKzE2KSxyKTtyZXR1cm4gbz1cIlNIQS0yMjRcIj09PWk/W3JbMF0sclsxXSxyWzJdLHJbM10scls0XSxyWzVdLHJbNl1dOnIsb30obixlLHIsaSx0KX0sdGhpcy5DPVQodCksdGhpcy5wPTUxMix0aGlzLlU9XCJTSEEtMjI0XCI9PT10PzIyNDoyNTYsdGhpcy52PSExLGkuaG1hY0tleSYmdGhpcy5NKGMoXCJobWFjS2V5XCIsaS5obWFjS2V5LHRoaXMuSykpfX1jbGFzcyBCe2NvbnN0cnVjdG9yKHQsbil7dGhpcy5ZPXQsdGhpcy5OPW59fWZ1bmN0aW9uIEwodCxuKXtsZXQgZTtyZXR1cm4gbj4zMj8oZT02NC1uLG5ldyBCKHQuTjw8bnx0Llk+Pj5lLHQuWTw8bnx0Lk4+Pj5lKSk6MCE9PW4/KGU9MzItbixuZXcgQih0Llk8PG58dC5OPj4+ZSx0Lk48PG58dC5ZPj4+ZSkpOnR9ZnVuY3Rpb24gTSh0LG4pe2xldCBlO3JldHVybiBuPDMyPyhlPTMyLW4sbmV3IEIodC5ZPj4+bnx0Lk48PGUsdC5OPj4+bnx0Llk8PGUpKTooZT02NC1uLG5ldyBCKHQuTj4+Pm58dC5ZPDxlLHQuWT4+Pm58dC5OPDxlKSl9ZnVuY3Rpb24gayh0LG4pe3JldHVybiBuZXcgQih0Llk+Pj5uLHQuTj4+Pm58dC5ZPDwzMi1uKX1mdW5jdGlvbiBZKHQsbixlKXtyZXR1cm4gbmV3IEIodC5ZJm4uWV50LlkmZS5ZXm4uWSZlLlksdC5OJm4uTl50Lk4mZS5OXm4uTiZlLk4pfWZ1bmN0aW9uIE4odCl7Y29uc3Qgbj1NKHQsMjgpLGU9TSh0LDM0KSxyPU0odCwzOSk7cmV0dXJuIG5ldyBCKG4uWV5lLlleci5ZLG4uTl5lLk5eci5OKX1mdW5jdGlvbiBJKHQsbil7bGV0IGUscjtlPSg2NTUzNSZ0Lk4pKyg2NTUzNSZuLk4pLHI9KHQuTj4+PjE2KSsobi5OPj4+MTYpKyhlPj4+MTYpO2NvbnN0IGk9KDY1NTM1JnIpPDwxNnw2NTUzNSZlO3JldHVybiBlPSg2NTUzNSZ0LlkpKyg2NTUzNSZuLlkpKyhyPj4+MTYpLHI9KHQuWT4+PjE2KSsobi5ZPj4+MTYpKyhlPj4+MTYpLG5ldyBCKCg2NTUzNSZyKTw8MTZ8NjU1MzUmZSxpKX1mdW5jdGlvbiBYKHQsbixlLHIpe2xldCBpLHM7aT0oNjU1MzUmdC5OKSsoNjU1MzUmbi5OKSsoNjU1MzUmZS5OKSsoNjU1MzUmci5OKSxzPSh0Lk4+Pj4xNikrKG4uTj4+PjE2KSsoZS5OPj4+MTYpKyhyLk4+Pj4xNikrKGk+Pj4xNik7Y29uc3Qgbz0oNjU1MzUmcyk8PDE2fDY1NTM1Jmk7cmV0dXJuIGk9KDY1NTM1JnQuWSkrKDY1NTM1Jm4uWSkrKDY1NTM1JmUuWSkrKDY1NTM1JnIuWSkrKHM+Pj4xNikscz0odC5ZPj4+MTYpKyhuLlk+Pj4xNikrKGUuWT4+PjE2KSsoci5ZPj4+MTYpKyhpPj4+MTYpLG5ldyBCKCg2NTUzNSZzKTw8MTZ8NjU1MzUmaSxvKX1mdW5jdGlvbiB6KHQsbixlLHIsaSl7bGV0IHMsbztzPSg2NTUzNSZ0Lk4pKyg2NTUzNSZuLk4pKyg2NTUzNSZlLk4pKyg2NTUzNSZyLk4pKyg2NTUzNSZpLk4pLG89KHQuTj4+PjE2KSsobi5OPj4+MTYpKyhlLk4+Pj4xNikrKHIuTj4+PjE2KSsoaS5OPj4+MTYpKyhzPj4+MTYpO2NvbnN0IGg9KDY1NTM1Jm8pPDwxNnw2NTUzNSZzO3JldHVybiBzPSg2NTUzNSZ0LlkpKyg2NTUzNSZuLlkpKyg2NTUzNSZlLlkpKyg2NTUzNSZyLlkpKyg2NTUzNSZpLlkpKyhvPj4+MTYpLG89KHQuWT4+PjE2KSsobi5ZPj4+MTYpKyhlLlk+Pj4xNikrKHIuWT4+PjE2KSsoaS5ZPj4+MTYpKyhzPj4+MTYpLG5ldyBCKCg2NTUzNSZvKTw8MTZ8NjU1MzUmcyxoKX1mdW5jdGlvbiB4KHQsbil7cmV0dXJuIG5ldyBCKHQuWV5uLlksdC5OXm4uTil9ZnVuY3Rpb24gXyh0KXtjb25zdCBuPU0odCwxOSksZT1NKHQsNjEpLHI9ayh0LDYpO3JldHVybiBuZXcgQihuLlleZS5ZXnIuWSxuLk5eZS5OXnIuTil9ZnVuY3Rpb24gTyh0KXtjb25zdCBuPU0odCwxKSxlPU0odCw4KSxyPWsodCw3KTtyZXR1cm4gbmV3IEIobi5ZXmUuWV5yLlksbi5OXmUuTl5yLk4pfWZ1bmN0aW9uIFAodCl7Y29uc3Qgbj1NKHQsMTQpLGU9TSh0LDE4KSxyPU0odCw0MSk7cmV0dXJuIG5ldyBCKG4uWV5lLlleci5ZLG4uTl5lLk5eci5OKX1jb25zdCBWPVtuZXcgQihpWzBdLDM2MDk3Njc0NTgpLG5ldyBCKGlbMV0sNjAyODkxNzI1KSxuZXcgQihpWzJdLDM5NjQ0ODQzOTkpLG5ldyBCKGlbM10sMjE3MzI5NTU0OCksbmV3IEIoaVs0XSw0MDgxNjI4NDcyKSxuZXcgQihpWzVdLDMwNTM4MzQyNjUpLG5ldyBCKGlbNl0sMjkzNzY3MTU3OSksbmV3IEIoaVs3XSwzNjY0NjA5NTYwKSxuZXcgQihpWzhdLDI3MzQ4ODMzOTQpLG5ldyBCKGlbOV0sMTE2NDk5NjU0MiksbmV3IEIoaVsxMF0sMTMyMzYxMDc2NCksbmV3IEIoaVsxMV0sMzU5MDMwNDk5NCksbmV3IEIoaVsxMl0sNDA2ODE4MjM4MyksbmV3IEIoaVsxM10sOTkxMzM2MTEzKSxuZXcgQihpWzE0XSw2MzM4MDMzMTcpLG5ldyBCKGlbMTVdLDM0Nzk3NzQ4NjgpLG5ldyBCKGlbMTZdLDI2NjY2MTM0NTgpLG5ldyBCKGlbMTddLDk0NDcxMTEzOSksbmV3IEIoaVsxOF0sMjM0MTI2Mjc3MyksbmV3IEIoaVsxOV0sMjAwNzgwMDkzMyksbmV3IEIoaVsyMF0sMTQ5NTk5MDkwMSksbmV3IEIoaVsyMV0sMTg1NjQzMTIzNSksbmV3IEIoaVsyMl0sMzE3NTIxODEzMiksbmV3IEIoaVsyM10sMjE5ODk1MDgzNyksbmV3IEIoaVsyNF0sMzk5OTcxOTMzOSksbmV3IEIoaVsyNV0sNzY2Nzg0MDE2KSxuZXcgQihpWzI2XSwyNTY2NTk0ODc5KSxuZXcgQihpWzI3XSwzMjAzMzM3OTU2KSxuZXcgQihpWzI4XSwxMDM0NDU3MDI2KSxuZXcgQihpWzI5XSwyNDY2OTQ4OTAxKSxuZXcgQihpWzMwXSwzNzU4MzI2MzgzKSxuZXcgQihpWzMxXSwxNjg3MTc5MzYpLG5ldyBCKGlbMzJdLDExODgxNzk5NjQpLG5ldyBCKGlbMzNdLDE1NDYwNDU3MzQpLG5ldyBCKGlbMzRdLDE1MjI4MDU0ODUpLG5ldyBCKGlbMzVdLDI2NDM4MzM4MjMpLG5ldyBCKGlbMzZdLDIzNDM1MjczOTApLG5ldyBCKGlbMzddLDEwMTQ0Nzc0ODApLG5ldyBCKGlbMzhdLDEyMDY3NTkxNDIpLG5ldyBCKGlbMzldLDM0NDA3NzYyNyksbmV3IEIoaVs0MF0sMTI5MDg2MzQ2MCksbmV3IEIoaVs0MV0sMzE1ODQ1NDI3MyksbmV3IEIoaVs0Ml0sMzUwNTk1MjY1NyksbmV3IEIoaVs0M10sMTA2MjE3MDA4KSxuZXcgQihpWzQ0XSwzNjA2MDA4MzQ0KSxuZXcgQihpWzQ1XSwxNDMyNzI1Nzc2KSxuZXcgQihpWzQ2XSwxNDY3MDMxNTk0KSxuZXcgQihpWzQ3XSw4NTExNjk3MjApLG5ldyBCKGlbNDhdLDMxMDA4MjM3NTIpLG5ldyBCKGlbNDldLDEzNjMyNTgxOTUpLG5ldyBCKGlbNTBdLDM3NTA2ODU1OTMpLG5ldyBCKGlbNTFdLDM3ODUwNTAyODApLG5ldyBCKGlbNTJdLDMzMTgzMDc0MjcpLG5ldyBCKGlbNTNdLDM4MTI3MjM0MDMpLG5ldyBCKGlbNTRdLDIwMDMwMzQ5OTUpLG5ldyBCKGlbNTVdLDM2MDIwMzY4OTkpLG5ldyBCKGlbNTZdLDE1NzU5OTAwMTIpLG5ldyBCKGlbNTddLDExMjU1OTI5MjgpLG5ldyBCKGlbNThdLDI3MTY5MDQzMDYpLG5ldyBCKGlbNTldLDQ0Mjc3NjA0NCksbmV3IEIoaVs2MF0sNTkzNjk4MzQ0KSxuZXcgQihpWzYxXSwzNzMzMTEwMjQ5KSxuZXcgQihpWzYyXSwyOTk5MzUxNTczKSxuZXcgQihpWzYzXSwzODE1OTIwNDI3KSxuZXcgQigzMzkxNTY5NjE0LDM5MjgzODM5MDApLG5ldyBCKDM1MTUyNjcyNzEsNTY2MjgwNzExKSxuZXcgQigzOTQwMTg3NjA2LDM0NTQwNjk1MzQpLG5ldyBCKDQxMTg2MzAyNzEsNDAwMDIzOTk5MiksbmV3IEIoMTE2NDE4NDc0LDE5MTQxMzg1NTQpLG5ldyBCKDE3NDI5MjQyMSwyNzMxMDU1MjcwKSxuZXcgQigyODkzODAzNTYsMzIwMzk5MzAwNiksbmV3IEIoNDYwMzkzMjY5LDMyMDYyMDMxNSksbmV3IEIoNjg1NDcxNzMzLDU4NzQ5NjgzNiksbmV3IEIoODUyMTQyOTcxLDEwODY3OTI4NTEpLG5ldyBCKDEwMTcwMzYyOTgsMzY1NTQzMTAwKSxuZXcgQigxMTI2MDAwNTgwLDI2MTgyOTc2NzYpLG5ldyBCKDEyODgwMzM0NzAsMzQwOTg1NTE1OCksbmV3IEIoMTUwMTUwNTk0OCw0MjM0NTA5ODY2KSxuZXcgQigxNjA3MTY3OTE1LDk4NzE2NzQ2OCksbmV3IEIoMTgxNjQwMjMxNiwxMjQ2MTg5NTkxKV07ZnVuY3Rpb24gWih0KXtyZXR1cm5cIlNIQS0zODRcIj09PXQ/W25ldyBCKDM0MTgwNzAzNjUsc1swXSksbmV3IEIoMTY1NDI3MDI1MCxzWzFdKSxuZXcgQigyNDM4NTI5MzcwLHNbMl0pLG5ldyBCKDM1NTQ2MjM2MCxzWzNdKSxuZXcgQigxNzMxNDA1NDE1LHNbNF0pLG5ldyBCKDQxMDQ4ODg1ODk1LHNbNV0pLG5ldyBCKDM2NzUwMDg1MjUsc1s2XSksbmV3IEIoMTIwMzA2MjgxMyxzWzddKV06W25ldyBCKG9bMF0sNDA4OTIzNTcyMCksbmV3IEIob1sxXSwyMjI3ODczNTk1KSxuZXcgQihvWzJdLDQyNzExNzU3MjMpLG5ldyBCKG9bM10sMTU5NTc1MDEyOSksbmV3IEIob1s0XSwyOTE3NTY1MTM3KSxuZXcgQihvWzVdLDcyNTUxMTE5OSksbmV3IEIob1s2XSw0MjE1Mzg5NTQ3KSxuZXcgQihvWzddLDMyNzAzMzIwOSldfWZ1bmN0aW9uIGoodCxuKXtsZXQgZSxyLGkscyxvLGgsdSx3LGMsZixhLGw7Y29uc3QgQT1bXTtmb3IoZT1uWzBdLHI9blsxXSxpPW5bMl0scz1uWzNdLG89bls0XSxoPW5bNV0sdT1uWzZdLHc9bls3XSxhPTA7YTw4MDthKz0xKWE8MTY/KGw9MiphLEFbYV09bmV3IEIodFtsXSx0W2wrMV0pKTpBW2FdPVgoXyhBW2EtMl0pLEFbYS03XSxPKEFbYS0xNV0pLEFbYS0xNl0pLGM9eih3LFAobyksKEg9aCxTPXUsbmV3IEIoKEU9bykuWSZILllefkUuWSZTLlksRS5OJkguTl5+RS5OJlMuTikpLFZbYV0sQVthXSksZj1JKE4oZSksWShlLHIsaSkpLHc9dSx1PWgsaD1vLG89SShzLGMpLHM9aSxpPXIscj1lLGU9SShjLGYpO3ZhciBFLEgsUztyZXR1cm4gblswXT1JKGUsblswXSksblsxXT1JKHIsblsxXSksblsyXT1JKGksblsyXSksblszXT1JKHMsblszXSksbls0XT1JKG8sbls0XSksbls1XT1JKGgsbls1XSksbls2XT1JKHUsbls2XSksbls3XT1JKHcsbls3XSksbn1jbGFzcyBxIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LG4scil7aWYoXCJTSEEtMzg0XCIhPT10JiZcIlNIQS01MTJcIiE9PXQpdGhyb3cgbmV3IEVycm9yKGgpO3N1cGVyKHQsbixyKTtjb25zdCBpPXJ8fHt9O3RoaXMuVD10aGlzLmssdGhpcy5MPSEwLHRoaXMuSz0tMSx0aGlzLm09ZSh0aGlzLnQsdGhpcy5pLHRoaXMuSyksdGhpcy5SPWosdGhpcy5nPWZ1bmN0aW9uKHQpe3JldHVybiB0LnNsaWNlKCl9LHRoaXMuQj1aLHRoaXMuRj1mdW5jdGlvbihuLGUscixpKXtyZXR1cm4gZnVuY3Rpb24odCxuLGUscixpKXtsZXQgcyxvO2NvbnN0IGg9MzErKG4rMTI5Pj4+MTA8PDUpLHU9bitlO2Zvcig7dC5sZW5ndGg8PWg7KXQucHVzaCgwKTtmb3IodFtuPj4+NV18PTEyODw8MjQtbiUzMix0W2hdPTQyOTQ5NjcyOTUmdSx0W2gtMV09dS80Mjk0OTY3Mjk2fDAscz0wO3M8dC5sZW5ndGg7cys9MzIpcj1qKHQuc2xpY2UocyxzKzMyKSxyKTtyZXR1cm4gbz1cIlNIQS0zODRcIj09PWk/WyhyPXIpWzBdLlksclswXS5OLHJbMV0uWSxyWzFdLk4sclsyXS5ZLHJbMl0uTixyWzNdLlksclszXS5OLHJbNF0uWSxyWzRdLk4scls1XS5ZLHJbNV0uTl06W3JbMF0uWSxyWzBdLk4sclsxXS5ZLHJbMV0uTixyWzJdLlksclsyXS5OLHJbM10uWSxyWzNdLk4scls0XS5ZLHJbNF0uTixyWzVdLlkscls1XS5OLHJbNl0uWSxyWzZdLk4scls3XS5ZLHJbN10uTl0sb30obixlLHIsaSx0KX0sdGhpcy5DPVoodCksdGhpcy5wPTEwMjQsdGhpcy5VPVwiU0hBLTM4NFwiPT09dD8zODQ6NTEyLHRoaXMudj0hMSxpLmhtYWNLZXkmJnRoaXMuTShjKFwiaG1hY0tleVwiLGkuaG1hY0tleSx0aGlzLkspKX19Y29uc3QgRD1bbmV3IEIoMCwxKSxuZXcgQigwLDMyODk4KSxuZXcgQigyMTQ3NDgzNjQ4LDMyOTA2KSxuZXcgQigyMTQ3NDgzNjQ4LDIxNDc1MTY0MTYpLG5ldyBCKDAsMzI5MDcpLG5ldyBCKDAsMjE0NzQ4MzY0OSksbmV3IEIoMjE0NzQ4MzY0OCwyMTQ3NTE2NTQ1KSxuZXcgQigyMTQ3NDgzNjQ4LDMyNzc3KSxuZXcgQigwLDEzOCksbmV3IEIoMCwxMzYpLG5ldyBCKDAsMjE0NzUxNjQyNSksbmV3IEIoMCwyMTQ3NDgzNjU4KSxuZXcgQigwLDIxNDc1MTY1NTUpLG5ldyBCKDIxNDc0ODM2NDgsMTM5KSxuZXcgQigyMTQ3NDgzNjQ4LDMyOTA1KSxuZXcgQigyMTQ3NDgzNjQ4LDMyNzcxKSxuZXcgQigyMTQ3NDgzNjQ4LDMyNzcwKSxuZXcgQigyMTQ3NDgzNjQ4LDEyOCksbmV3IEIoMCwzMjc3OCksbmV3IEIoMjE0NzQ4MzY0OCwyMTQ3NDgzNjU4KSxuZXcgQigyMTQ3NDgzNjQ4LDIxNDc1MTY1NDUpLG5ldyBCKDIxNDc0ODM2NDgsMzI4OTYpLG5ldyBCKDAsMjE0NzQ4MzY0OSksbmV3IEIoMjE0NzQ4MzY0OCwyMTQ3NTE2NDI0KV0sRz1bWzAsMzYsMyw0MSwxOF0sWzEsNDQsMTAsNDUsMl0sWzYyLDYsNDMsMTUsNjFdLFsyOCw1NSwyNSwyMSw1Nl0sWzI3LDIwLDM5LDgsMTRdXTtmdW5jdGlvbiBKKHQpe2xldCBuO2NvbnN0IGU9W107Zm9yKG49MDtuPDU7bis9MSllW25dPVtuZXcgQigwLDApLG5ldyBCKDAsMCksbmV3IEIoMCwwKSxuZXcgQigwLDApLG5ldyBCKDAsMCldO3JldHVybiBlfWZ1bmN0aW9uIFEodCl7bGV0IG47Y29uc3QgZT1bXTtmb3Iobj0wO248NTtuKz0xKWVbbl09dFtuXS5zbGljZSgpO3JldHVybiBlfWZ1bmN0aW9uIFcodCxuKXtsZXQgZSxyLGkscztjb25zdCBvPVtdLGg9W107aWYobnVsbCE9PXQpZm9yKHI9MDtyPHQubGVuZ3RoO3IrPTIpblsocj4+PjEpJTVdWyhyPj4+MSkvNXwwXT14KG5bKHI+Pj4xKSU1XVsocj4+PjEpLzV8MF0sbmV3IEIodFtyKzFdLHRbcl0pKTtmb3IoZT0wO2U8MjQ7ZSs9MSl7Zm9yKHM9SigpLHI9MDtyPDU7cis9MSlvW3JdPSh1PW5bcl1bMF0sdz1uW3JdWzFdLGM9bltyXVsyXSxmPW5bcl1bM10sYT1uW3JdWzRdLG5ldyBCKHUuWV53LlleYy5ZXmYuWV5hLlksdS5OXncuTl5jLk5eZi5OXmEuTikpO2ZvcihyPTA7cjw1O3IrPTEpaFtyXT14KG9bKHIrNCklNV0sTChvWyhyKzEpJTVdLDEpKTtmb3Iocj0wO3I8NTtyKz0xKWZvcihpPTA7aTw1O2krPTEpbltyXVtpXT14KG5bcl1baV0saFtyXSk7Zm9yKHI9MDtyPDU7cis9MSlmb3IoaT0wO2k8NTtpKz0xKXNbaV1bKDIqciszKmkpJTVdPUwobltyXVtpXSxHW3JdW2ldKTtmb3Iocj0wO3I8NTtyKz0xKWZvcihpPTA7aTw1O2krPTEpbltyXVtpXT14KHNbcl1baV0sbmV3IEIofnNbKHIrMSklNV1baV0uWSZzWyhyKzIpJTVdW2ldLlksfnNbKHIrMSklNV1baV0uTiZzWyhyKzIpJTVdW2ldLk4pKTtuWzBdWzBdPXgoblswXVswXSxEW2VdKX12YXIgdSx3LGMsZixhO3JldHVybiBufWZ1bmN0aW9uICQodCl7bGV0IG4sZSxyPTA7Y29uc3QgaT1bMCwwXSxzPVs0Mjk0OTY3Mjk1JnQsdC80Mjk0OTY3Mjk2JjIwOTcxNTFdO2ZvcihuPTY7bj49MDtuLS0pZT1zW24+PjJdPj4+OCpuJjI1NSwwPT09ZSYmMD09PXJ8fChpW3IrMT4+Ml18PWU8PDgqKHIrMSkscis9MSk7cmV0dXJuIHI9MCE9PXI/cjoxLGlbMF18PXIse3ZhbHVlOnIrMT40P2k6W2lbMF1dLGJpbkxlbjo4Kzgqcn19ZnVuY3Rpb24gdHQodCl7cmV0dXJuIHUoJCh0LmJpbkxlbiksdCl9ZnVuY3Rpb24gbnQodCxuKXtsZXQgZSxyPSQobik7cj11KHIsdCk7Y29uc3QgaT1uPj4+MixzPShpLXIudmFsdWUubGVuZ3RoJWkpJWk7Zm9yKGU9MDtlPHM7ZSsrKXIudmFsdWUucHVzaCgwKTtyZXR1cm4gci52YWx1ZX1jbGFzcyBldCBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxuLHIpe2xldCBpPTYscz0wO3N1cGVyKHQsbixyKTtjb25zdCBvPXJ8fHt9O2lmKDEhPT10aGlzLm51bVJvdW5kcyl7aWYoby5rbWFjS2V5fHxvLmhtYWNLZXkpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNldCBudW1Sb3VuZHMgd2l0aCBNQUNcIik7aWYoXCJDU0hBS0UxMjhcIj09PXRoaXMuc3x8XCJDU0hBS0UyNTZcIj09PXRoaXMucyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc2V0IG51bVJvdW5kcyBmb3IgQ1NIQUtFIHZhcmlhbnRzXCIpfXN3aXRjaCh0aGlzLks9MSx0aGlzLm09ZSh0aGlzLnQsdGhpcy5pLHRoaXMuSyksdGhpcy5SPVcsdGhpcy5nPVEsdGhpcy5CPUosdGhpcy5DPUooKSx0aGlzLnY9ITEsdCl7Y2FzZVwiU0hBMy0yMjRcIjp0aGlzLnA9cz0xMTUyLHRoaXMuVT0yMjQsdGhpcy5MPSEwLHRoaXMuVD10aGlzLms7YnJlYWs7Y2FzZVwiU0hBMy0yNTZcIjp0aGlzLnA9cz0xMDg4LHRoaXMuVT0yNTYsdGhpcy5MPSEwLHRoaXMuVD10aGlzLms7YnJlYWs7Y2FzZVwiU0hBMy0zODRcIjp0aGlzLnA9cz04MzIsdGhpcy5VPTM4NCx0aGlzLkw9ITAsdGhpcy5UPXRoaXMuazticmVhaztjYXNlXCJTSEEzLTUxMlwiOnRoaXMucD1zPTU3Nix0aGlzLlU9NTEyLHRoaXMuTD0hMCx0aGlzLlQ9dGhpcy5rO2JyZWFrO2Nhc2VcIlNIQUtFMTI4XCI6aT0zMSx0aGlzLnA9cz0xMzQ0LHRoaXMuVT0tMSx0aGlzLnY9ITAsdGhpcy5MPSExLHRoaXMuVD1udWxsO2JyZWFrO2Nhc2VcIlNIQUtFMjU2XCI6aT0zMSx0aGlzLnA9cz0xMDg4LHRoaXMuVT0tMSx0aGlzLnY9ITAsdGhpcy5MPSExLHRoaXMuVD1udWxsO2JyZWFrO2Nhc2VcIktNQUMxMjhcIjppPTQsdGhpcy5wPXM9MTM0NCx0aGlzLkkociksdGhpcy5VPS0xLHRoaXMudj0hMCx0aGlzLkw9ITEsdGhpcy5UPXRoaXMuWDticmVhaztjYXNlXCJLTUFDMjU2XCI6aT00LHRoaXMucD1zPTEwODgsdGhpcy5JKHIpLHRoaXMuVT0tMSx0aGlzLnY9ITAsdGhpcy5MPSExLHRoaXMuVD10aGlzLlg7YnJlYWs7Y2FzZVwiQ1NIQUtFMTI4XCI6dGhpcy5wPXM9MTM0NCxpPXRoaXMuXyhyKSx0aGlzLlU9LTEsdGhpcy52PSEwLHRoaXMuTD0hMSx0aGlzLlQ9bnVsbDticmVhaztjYXNlXCJDU0hBS0UyNTZcIjp0aGlzLnA9cz0xMDg4LGk9dGhpcy5fKHIpLHRoaXMuVT0tMSx0aGlzLnY9ITAsdGhpcy5MPSExLHRoaXMuVD1udWxsO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGgpfXRoaXMuRj1mdW5jdGlvbih0LG4sZSxyLG8pe3JldHVybiBmdW5jdGlvbih0LG4sZSxyLGkscyxvKXtsZXQgaCx1LHc9MDtjb25zdCBjPVtdLGY9aT4+PjUsYT1uPj4+NTtmb3IoaD0wO2g8YSYmbj49aTtoKz1mKXI9Vyh0LnNsaWNlKGgsaCtmKSxyKSxuLT1pO2Zvcih0PXQuc2xpY2UoaCksbiU9aTt0Lmxlbmd0aDxmOyl0LnB1c2goMCk7Zm9yKGg9bj4+PjMsdFtoPj4yXV49czw8aCU0KjgsdFtmLTFdXj0yMTQ3NDgzNjQ4LHI9Vyh0LHIpOzMyKmMubGVuZ3RoPG8mJih1PXJbdyU1XVt3LzV8MF0sYy5wdXNoKHUuTiksISgzMipjLmxlbmd0aD49bykpOyljLnB1c2godS5ZKSx3Kz0xLDA9PTY0KnclaSYmKFcobnVsbCxyKSx3PTApO3JldHVybiBjfSh0LG4sMCxyLHMsaSxvKX0sby5obWFjS2V5JiZ0aGlzLk0oYyhcImhtYWNLZXlcIixvLmhtYWNLZXksdGhpcy5LKSl9Xyh0LG4pe2NvbnN0IGU9ZnVuY3Rpb24odCl7Y29uc3Qgbj10fHx7fTtyZXR1cm57ZnVuY05hbWU6YyhcImZ1bmNOYW1lXCIsbi5mdW5jTmFtZSwxLHt2YWx1ZTpbXSxiaW5MZW46MH0pLGN1c3RvbWl6YXRpb246YyhcIkN1c3RvbWl6YXRpb25cIixuLmN1c3RvbWl6YXRpb24sMSx7dmFsdWU6W10sYmluTGVuOjB9KX19KHR8fHt9KTtuJiYoZS5mdW5jTmFtZT1uKTtjb25zdCByPXUodHQoZS5mdW5jTmFtZSksdHQoZS5jdXN0b21pemF0aW9uKSk7aWYoMCE9PWUuY3VzdG9taXphdGlvbi5iaW5MZW58fDAhPT1lLmZ1bmNOYW1lLmJpbkxlbil7Y29uc3QgdD1udChyLHRoaXMucD4+PjMpO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bis9dGhpcy5wPj4+NSl0aGlzLkM9dGhpcy5SKHQuc2xpY2UobixuKyh0aGlzLnA+Pj41KSksdGhpcy5DKSx0aGlzLmwrPXRoaXMucDtyZXR1cm4gNH1yZXR1cm4gMzF9SSh0KXtjb25zdCBuPWZ1bmN0aW9uKHQpe2NvbnN0IG49dHx8e307cmV0dXJue2ttYWNLZXk6YyhcImttYWNLZXlcIixuLmttYWNLZXksMSksZnVuY05hbWU6e3ZhbHVlOlsxMTI4MzUzMDk5XSxiaW5MZW46MzJ9LGN1c3RvbWl6YXRpb246YyhcIkN1c3RvbWl6YXRpb25cIixuLmN1c3RvbWl6YXRpb24sMSx7dmFsdWU6W10sYmluTGVuOjB9KX19KHR8fHt9KTt0aGlzLl8odCxuLmZ1bmNOYW1lKTtjb25zdCBlPW50KHR0KG4ua21hY0tleSksdGhpcy5wPj4+Myk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kz10aGlzLnA+Pj41KXRoaXMuQz10aGlzLlIoZS5zbGljZSh0LHQrKHRoaXMucD4+PjUpKSx0aGlzLkMpLHRoaXMubCs9dGhpcy5wO3RoaXMuQT0hMH1YKHQpe2NvbnN0IG49dSh7dmFsdWU6dGhpcy5vLnNsaWNlKCksYmluTGVuOnRoaXMuaH0sZnVuY3Rpb24odCl7bGV0IG4sZSxyPTA7Y29uc3QgaT1bMCwwXSxzPVs0Mjk0OTY3Mjk1JnQsdC80Mjk0OTY3Mjk2JjIwOTcxNTFdO2ZvcihuPTY7bj49MDtuLS0pZT1zW24+PjJdPj4+OCpuJjI1NSwwPT09ZSYmMD09PXJ8fChpW3I+PjJdfD1lPDw4KnIscis9MSk7cmV0dXJuIHI9MCE9PXI/cjoxLGlbcj4+Ml18PXI8PDgqcix7dmFsdWU6cisxPjQ/aTpbaVswXV0sYmluTGVuOjgrOCpyfX0odC5vdXRwdXRMZW4pKTtyZXR1cm4gdGhpcy5GKG4udmFsdWUsbi5iaW5MZW4sdGhpcy5sLHRoaXMuZyh0aGlzLkMpLHQub3V0cHV0TGVuKX19ZXhwb3J0IGRlZmF1bHQgY2xhc3N7Y29uc3RydWN0b3IodCxuLGUpe2lmKFwiU0hBLTFcIj09dCl0aGlzLk89bmV3IEsodCxuLGUpO2Vsc2UgaWYoXCJTSEEtMjI0XCI9PXR8fFwiU0hBLTI1NlwiPT10KXRoaXMuTz1uZXcgZyh0LG4sZSk7ZWxzZSBpZihcIlNIQS0zODRcIj09dHx8XCJTSEEtNTEyXCI9PXQpdGhpcy5PPW5ldyBxKHQsbixlKTtlbHNle2lmKFwiU0hBMy0yMjRcIiE9dCYmXCJTSEEzLTI1NlwiIT10JiZcIlNIQTMtMzg0XCIhPXQmJlwiU0hBMy01MTJcIiE9dCYmXCJTSEFLRTEyOFwiIT10JiZcIlNIQUtFMjU2XCIhPXQmJlwiQ1NIQUtFMTI4XCIhPXQmJlwiQ1NIQUtFMjU2XCIhPXQmJlwiS01BQzEyOFwiIT10JiZcIktNQUMyNTZcIiE9dCl0aHJvdyBuZXcgRXJyb3IoaCk7dGhpcy5PPW5ldyBldCh0LG4sZSl9fXVwZGF0ZSh0KXt0aGlzLk8udXBkYXRlKHQpfWdldEhhc2godCxuKXtyZXR1cm4gdGhpcy5PLmdldEhhc2godCxuKX1zZXRITUFDS2V5KHQsbixlKXt0aGlzLk8uc2V0SE1BQ0tleSh0LG4sZSl9Z2V0SE1BQyh0LG4pe3JldHVybiB0aGlzLk8uZ2V0SE1BQyh0LG4pfX1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYS5tanMubWFwXG4iLCIvKlxuKiBsb2dsZXZlbCAtIGh0dHBzOi8vZ2l0aHViLmNvbS9waW10ZXJyeS9sb2dsZXZlbFxuKlxuKiBDb3B5cmlnaHQgKGMpIDIwMTMgVGltIFBlcnJ5XG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiovXG4oZnVuY3Rpb24gKHJvb3QsIGRlZmluaXRpb24pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShkZWZpbml0aW9uKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZGVmaW5pdGlvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3QubG9nID0gZGVmaW5pdGlvbigpO1xuICAgIH1cbn0odGhpcywgZnVuY3Rpb24gKCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgLy8gU2xpZ2h0bHkgZHViaW91cyB0cmlja3MgdG8gY3V0IGRvd24gbWluaW1pemVkIGZpbGUgc2l6ZVxuICAgIHZhciBub29wID0gZnVuY3Rpb24oKSB7fTtcbiAgICB2YXIgdW5kZWZpbmVkVHlwZSA9IFwidW5kZWZpbmVkXCI7XG4gICAgdmFyIGlzSUUgPSAodHlwZW9mIHdpbmRvdyAhPT0gdW5kZWZpbmVkVHlwZSkgJiYgKHR5cGVvZiB3aW5kb3cubmF2aWdhdG9yICE9PSB1bmRlZmluZWRUeXBlKSAmJiAoXG4gICAgICAgIC9UcmlkZW50XFwvfE1TSUUgLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KVxuICAgICk7XG5cbiAgICB2YXIgbG9nTWV0aG9kcyA9IFtcbiAgICAgICAgXCJ0cmFjZVwiLFxuICAgICAgICBcImRlYnVnXCIsXG4gICAgICAgIFwiaW5mb1wiLFxuICAgICAgICBcIndhcm5cIixcbiAgICAgICAgXCJlcnJvclwiXG4gICAgXTtcblxuICAgIC8vIENyb3NzLWJyb3dzZXIgYmluZCBlcXVpdmFsZW50IHRoYXQgd29ya3MgYXQgbGVhc3QgYmFjayB0byBJRTZcbiAgICBmdW5jdGlvbiBiaW5kTWV0aG9kKG9iaiwgbWV0aG9kTmFtZSkge1xuICAgICAgICB2YXIgbWV0aG9kID0gb2JqW21ldGhvZE5hbWVdO1xuICAgICAgICBpZiAodHlwZW9mIG1ldGhvZC5iaW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gbWV0aG9kLmJpbmQob2JqKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwobWV0aG9kLCBvYmopO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIE1pc3NpbmcgYmluZCBzaGltIG9yIElFOCArIE1vZGVybml6ciwgZmFsbGJhY2sgdG8gd3JhcHBpbmdcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuYXBwbHkobWV0aG9kLCBbb2JqLCBhcmd1bWVudHNdKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVHJhY2UoKSBkb2Vzbid0IHByaW50IHRoZSBtZXNzYWdlIGluIElFLCBzbyBmb3IgdGhhdCBjYXNlIHdlIG5lZWQgdG8gd3JhcCBpdFxuICAgIGZ1bmN0aW9uIHRyYWNlRm9ySUUoKSB7XG4gICAgICAgIGlmIChjb25zb2xlLmxvZykge1xuICAgICAgICAgICAgaWYgKGNvbnNvbGUubG9nLmFwcGx5KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gb2xkIElFLCBuYXRpdmUgY29uc29sZSBtZXRob2RzIHRoZW1zZWx2ZXMgZG9uJ3QgaGF2ZSBhcHBseSgpLlxuICAgICAgICAgICAgICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5hcHBseShjb25zb2xlLmxvZywgW2NvbnNvbGUsIGFyZ3VtZW50c10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb25zb2xlLnRyYWNlKSBjb25zb2xlLnRyYWNlKCk7XG4gICAgfVxuXG4gICAgLy8gQnVpbGQgdGhlIGJlc3QgbG9nZ2luZyBtZXRob2QgcG9zc2libGUgZm9yIHRoaXMgZW52XG4gICAgLy8gV2hlcmV2ZXIgcG9zc2libGUgd2Ugd2FudCB0byBiaW5kLCBub3Qgd3JhcCwgdG8gcHJlc2VydmUgc3RhY2sgdHJhY2VzXG4gICAgZnVuY3Rpb24gcmVhbE1ldGhvZChtZXRob2ROYW1lKSB7XG4gICAgICAgIGlmIChtZXRob2ROYW1lID09PSAnZGVidWcnKSB7XG4gICAgICAgICAgICBtZXRob2ROYW1lID0gJ2xvZyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgPT09IHVuZGVmaW5lZFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gTm8gbWV0aG9kIHBvc3NpYmxlLCBmb3Igbm93IC0gZml4ZWQgbGF0ZXIgYnkgZW5hYmxlTG9nZ2luZ1doZW5Db25zb2xlQXJyaXZlc1xuICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZE5hbWUgPT09ICd0cmFjZScgJiYgaXNJRSkge1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNlRm9ySUU7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uc29sZVttZXRob2ROYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gYmluZE1ldGhvZChjb25zb2xlLCBtZXRob2ROYW1lKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb25zb2xlLmxvZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gYmluZE1ldGhvZChjb25zb2xlLCAnbG9nJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbm9vcDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRoZXNlIHByaXZhdGUgZnVuY3Rpb25zIGFsd2F5cyBuZWVkIGB0aGlzYCB0byBiZSBzZXQgcHJvcGVybHlcblxuICAgIGZ1bmN0aW9uIHJlcGxhY2VMb2dnaW5nTWV0aG9kcyhsZXZlbCwgbG9nZ2VyTmFtZSkge1xuICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxvZ01ldGhvZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBtZXRob2ROYW1lID0gbG9nTWV0aG9kc1tpXTtcbiAgICAgICAgICAgIHRoaXNbbWV0aG9kTmFtZV0gPSAoaSA8IGxldmVsKSA/XG4gICAgICAgICAgICAgICAgbm9vcCA6XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRob2RGYWN0b3J5KG1ldGhvZE5hbWUsIGxldmVsLCBsb2dnZXJOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlZmluZSBsb2cubG9nIGFzIGFuIGFsaWFzIGZvciBsb2cuZGVidWdcbiAgICAgICAgdGhpcy5sb2cgPSB0aGlzLmRlYnVnO1xuICAgIH1cblxuICAgIC8vIEluIG9sZCBJRSB2ZXJzaW9ucywgdGhlIGNvbnNvbGUgaXNuJ3QgcHJlc2VudCB1bnRpbCB5b3UgZmlyc3Qgb3BlbiBpdC5cbiAgICAvLyBXZSBidWlsZCByZWFsTWV0aG9kKCkgcmVwbGFjZW1lbnRzIGhlcmUgdGhhdCByZWdlbmVyYXRlIGxvZ2dpbmcgbWV0aG9kc1xuICAgIGZ1bmN0aW9uIGVuYWJsZUxvZ2dpbmdXaGVuQ29uc29sZUFycml2ZXMobWV0aG9kTmFtZSwgbGV2ZWwsIGxvZ2dlck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gdW5kZWZpbmVkVHlwZSkge1xuICAgICAgICAgICAgICAgIHJlcGxhY2VMb2dnaW5nTWV0aG9kcy5jYWxsKHRoaXMsIGxldmVsLCBsb2dnZXJOYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzW21ldGhvZE5hbWVdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gQnkgZGVmYXVsdCwgd2UgdXNlIGNsb3NlbHkgYm91bmQgcmVhbCBtZXRob2RzIHdoZXJldmVyIHBvc3NpYmxlLCBhbmRcbiAgICAvLyBvdGhlcndpc2Ugd2Ugd2FpdCBmb3IgYSBjb25zb2xlIHRvIGFwcGVhciwgYW5kIHRoZW4gdHJ5IGFnYWluLlxuICAgIGZ1bmN0aW9uIGRlZmF1bHRNZXRob2RGYWN0b3J5KG1ldGhvZE5hbWUsIGxldmVsLCBsb2dnZXJOYW1lKSB7XG4gICAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICAgIHJldHVybiByZWFsTWV0aG9kKG1ldGhvZE5hbWUpIHx8XG4gICAgICAgICAgICAgICBlbmFibGVMb2dnaW5nV2hlbkNvbnNvbGVBcnJpdmVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gTG9nZ2VyKG5hbWUsIGRlZmF1bHRMZXZlbCwgZmFjdG9yeSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGN1cnJlbnRMZXZlbDtcbiAgICAgIHZhciBzdG9yYWdlS2V5ID0gXCJsb2dsZXZlbFwiO1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgc3RvcmFnZUtleSArPSBcIjpcIiArIG5hbWU7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHBlcnNpc3RMZXZlbElmUG9zc2libGUobGV2ZWxOdW0pIHtcbiAgICAgICAgICB2YXIgbGV2ZWxOYW1lID0gKGxvZ01ldGhvZHNbbGV2ZWxOdW1dIHx8ICdzaWxlbnQnKS50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IHVuZGVmaW5lZFR5cGUpIHJldHVybjtcblxuICAgICAgICAgIC8vIFVzZSBsb2NhbFN0b3JhZ2UgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZVtzdG9yYWdlS2V5XSA9IGxldmVsTmFtZTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZSkge31cblxuICAgICAgICAgIC8vIFVzZSBzZXNzaW9uIGNvb2tpZSBhcyBmYWxsYmFja1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5jb29raWUgPVxuICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdG9yYWdlS2V5KSArIFwiPVwiICsgbGV2ZWxOYW1lICsgXCI7XCI7XG4gICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRQZXJzaXN0ZWRMZXZlbCgpIHtcbiAgICAgICAgICB2YXIgc3RvcmVkTGV2ZWw7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gdW5kZWZpbmVkVHlwZSkgcmV0dXJuO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgc3RvcmVkTGV2ZWwgPSB3aW5kb3cubG9jYWxTdG9yYWdlW3N0b3JhZ2VLZXldO1xuICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZSkge31cblxuICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGNvb2tpZXMgaWYgbG9jYWwgc3RvcmFnZSBnaXZlcyB1cyBub3RoaW5nXG4gICAgICAgICAgaWYgKHR5cGVvZiBzdG9yZWRMZXZlbCA9PT0gdW5kZWZpbmVkVHlwZSkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgdmFyIGNvb2tpZSA9IHdpbmRvdy5kb2N1bWVudC5jb29raWU7XG4gICAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBjb29raWUuaW5kZXhPZihcbiAgICAgICAgICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RvcmFnZUtleSkgKyBcIj1cIik7XG4gICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb24gIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RvcmVkTGV2ZWwgPSAvXihbXjtdKykvLmV4ZWMoY29va2llLnNsaWNlKGxvY2F0aW9uKSlbMV07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZSkge31cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJZiB0aGUgc3RvcmVkIGxldmVsIGlzIG5vdCB2YWxpZCwgdHJlYXQgaXQgYXMgaWYgbm90aGluZyB3YXMgc3RvcmVkLlxuICAgICAgICAgIGlmIChzZWxmLmxldmVsc1tzdG9yZWRMZXZlbF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBzdG9yZWRMZXZlbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gc3RvcmVkTGV2ZWw7XG4gICAgICB9XG5cbiAgICAgIC8qXG4gICAgICAgKlxuICAgICAgICogUHVibGljIGxvZ2dlciBBUEkgLSBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3BpbXRlcnJ5L2xvZ2xldmVsIGZvciBkZXRhaWxzXG4gICAgICAgKlxuICAgICAgICovXG5cbiAgICAgIHNlbGYubmFtZSA9IG5hbWU7XG5cbiAgICAgIHNlbGYubGV2ZWxzID0geyBcIlRSQUNFXCI6IDAsIFwiREVCVUdcIjogMSwgXCJJTkZPXCI6IDIsIFwiV0FSTlwiOiAzLFxuICAgICAgICAgIFwiRVJST1JcIjogNCwgXCJTSUxFTlRcIjogNX07XG5cbiAgICAgIHNlbGYubWV0aG9kRmFjdG9yeSA9IGZhY3RvcnkgfHwgZGVmYXVsdE1ldGhvZEZhY3Rvcnk7XG5cbiAgICAgIHNlbGYuZ2V0TGV2ZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRMZXZlbDtcbiAgICAgIH07XG5cbiAgICAgIHNlbGYuc2V0TGV2ZWwgPSBmdW5jdGlvbiAobGV2ZWwsIHBlcnNpc3QpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGxldmVsID09PSBcInN0cmluZ1wiICYmIHNlbGYubGV2ZWxzW2xldmVsLnRvVXBwZXJDYXNlKCldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgbGV2ZWwgPSBzZWxmLmxldmVsc1tsZXZlbC50b1VwcGVyQ2FzZSgpXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiBsZXZlbCA9PT0gXCJudW1iZXJcIiAmJiBsZXZlbCA+PSAwICYmIGxldmVsIDw9IHNlbGYubGV2ZWxzLlNJTEVOVCkge1xuICAgICAgICAgICAgICBjdXJyZW50TGV2ZWwgPSBsZXZlbDtcbiAgICAgICAgICAgICAgaWYgKHBlcnNpc3QgIT09IGZhbHNlKSB7ICAvLyBkZWZhdWx0cyB0byB0cnVlXG4gICAgICAgICAgICAgICAgICBwZXJzaXN0TGV2ZWxJZlBvc3NpYmxlKGxldmVsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXBsYWNlTG9nZ2luZ01ldGhvZHMuY2FsbChzZWxmLCBsZXZlbCwgbmFtZSk7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSA9PT0gdW5kZWZpbmVkVHlwZSAmJiBsZXZlbCA8IHNlbGYubGV2ZWxzLlNJTEVOVCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiTm8gY29uc29sZSBhdmFpbGFibGUgZm9yIGxvZ2dpbmdcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IFwibG9nLnNldExldmVsKCkgY2FsbGVkIHdpdGggaW52YWxpZCBsZXZlbDogXCIgKyBsZXZlbDtcbiAgICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZWxmLnNldERlZmF1bHRMZXZlbCA9IGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICAgIGlmICghZ2V0UGVyc2lzdGVkTGV2ZWwoKSkge1xuICAgICAgICAgICAgICBzZWxmLnNldExldmVsKGxldmVsLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2VsZi5lbmFibGVBbGwgPSBmdW5jdGlvbihwZXJzaXN0KSB7XG4gICAgICAgICAgc2VsZi5zZXRMZXZlbChzZWxmLmxldmVscy5UUkFDRSwgcGVyc2lzdCk7XG4gICAgICB9O1xuXG4gICAgICBzZWxmLmRpc2FibGVBbGwgPSBmdW5jdGlvbihwZXJzaXN0KSB7XG4gICAgICAgICAgc2VsZi5zZXRMZXZlbChzZWxmLmxldmVscy5TSUxFTlQsIHBlcnNpc3QpO1xuICAgICAgfTtcblxuICAgICAgLy8gSW5pdGlhbGl6ZSB3aXRoIHRoZSByaWdodCBsZXZlbFxuICAgICAgdmFyIGluaXRpYWxMZXZlbCA9IGdldFBlcnNpc3RlZExldmVsKCk7XG4gICAgICBpZiAoaW5pdGlhbExldmVsID09IG51bGwpIHtcbiAgICAgICAgICBpbml0aWFsTGV2ZWwgPSBkZWZhdWx0TGV2ZWwgPT0gbnVsbCA/IFwiV0FSTlwiIDogZGVmYXVsdExldmVsO1xuICAgICAgfVxuICAgICAgc2VsZi5zZXRMZXZlbChpbml0aWFsTGV2ZWwsIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqXG4gICAgICogVG9wLWxldmVsIEFQSVxuICAgICAqXG4gICAgICovXG5cbiAgICB2YXIgZGVmYXVsdExvZ2dlciA9IG5ldyBMb2dnZXIoKTtcblxuICAgIHZhciBfbG9nZ2Vyc0J5TmFtZSA9IHt9O1xuICAgIGRlZmF1bHRMb2dnZXIuZ2V0TG9nZ2VyID0gZnVuY3Rpb24gZ2V0TG9nZ2VyKG5hbWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiIHx8IG5hbWUgPT09IFwiXCIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiWW91IG11c3Qgc3VwcGx5IGEgbmFtZSB3aGVuIGNyZWF0aW5nIGEgbG9nZ2VyLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsb2dnZXIgPSBfbG9nZ2Vyc0J5TmFtZVtuYW1lXTtcbiAgICAgICAgaWYgKCFsb2dnZXIpIHtcbiAgICAgICAgICBsb2dnZXIgPSBfbG9nZ2Vyc0J5TmFtZVtuYW1lXSA9IG5ldyBMb2dnZXIoXG4gICAgICAgICAgICBuYW1lLCBkZWZhdWx0TG9nZ2VyLmdldExldmVsKCksIGRlZmF1bHRMb2dnZXIubWV0aG9kRmFjdG9yeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxvZ2dlcjtcbiAgICB9O1xuXG4gICAgLy8gR3JhYiB0aGUgY3VycmVudCBnbG9iYWwgbG9nIHZhcmlhYmxlIGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG4gICAgdmFyIF9sb2cgPSAodHlwZW9mIHdpbmRvdyAhPT0gdW5kZWZpbmVkVHlwZSkgPyB3aW5kb3cubG9nIDogdW5kZWZpbmVkO1xuICAgIGRlZmF1bHRMb2dnZXIubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gdW5kZWZpbmVkVHlwZSAmJlxuICAgICAgICAgICAgICAgd2luZG93LmxvZyA9PT0gZGVmYXVsdExvZ2dlcikge1xuICAgICAgICAgICAgd2luZG93LmxvZyA9IF9sb2c7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVmYXVsdExvZ2dlcjtcbiAgICB9O1xuXG4gICAgZGVmYXVsdExvZ2dlci5nZXRMb2dnZXJzID0gZnVuY3Rpb24gZ2V0TG9nZ2VycygpIHtcbiAgICAgICAgcmV0dXJuIF9sb2dnZXJzQnlOYW1lO1xuICAgIH07XG5cbiAgICByZXR1cm4gZGVmYXVsdExvZ2dlcjtcbn0pKTtcbiIsIi8vISBtb21lbnQuanNcblxuOyhmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gICAgZ2xvYmFsLm1vbWVudCA9IGZhY3RvcnkoKVxufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgaG9va0NhbGxiYWNrO1xuXG4gICAgZnVuY3Rpb24gaG9va3MgKCkge1xuICAgICAgICByZXR1cm4gaG9va0NhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBpcyBkb25lIHRvIHJlZ2lzdGVyIHRoZSBtZXRob2QgY2FsbGVkIHdpdGggbW9tZW50KClcbiAgICAvLyB3aXRob3V0IGNyZWF0aW5nIGNpcmN1bGFyIGRlcGVuZGVuY2llcy5cbiAgICBmdW5jdGlvbiBzZXRIb29rQ2FsbGJhY2sgKGNhbGxiYWNrKSB7XG4gICAgICAgIGhvb2tDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQXJyYXkoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgQXJyYXkgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc09iamVjdChpbnB1dCkge1xuICAgICAgICAvLyBJRTggd2lsbCB0cmVhdCB1bmRlZmluZWQgYW5kIG51bGwgYXMgb2JqZWN0IGlmIGl0IHdhc24ndCBmb3JcbiAgICAgICAgLy8gaW5wdXQgIT0gbnVsbFxuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBPYmplY3RdJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc09iamVjdEVtcHR5KG9iaikge1xuICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMpIHtcbiAgICAgICAgICAgIHJldHVybiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKS5sZW5ndGggPT09IDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGs7XG4gICAgICAgICAgICBmb3IgKGsgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1VuZGVmaW5lZChpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgPT09IHZvaWQgMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc051bWJlcihpbnB1dCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJyB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBOdW1iZXJdJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0RhdGUoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRGF0ZSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBEYXRlXSc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFwKGFyciwgZm4pIHtcbiAgICAgICAgdmFyIHJlcyA9IFtdLCBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICByZXMucHVzaChmbihhcnJbaV0sIGkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhc093blByb3AoYSwgYikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIGIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4dGVuZChhLCBiKSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gYikge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3AoYiwgaSkpIHtcbiAgICAgICAgICAgICAgICBhW2ldID0gYltpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNPd25Qcm9wKGIsICd0b1N0cmluZycpKSB7XG4gICAgICAgICAgICBhLnRvU3RyaW5nID0gYi50b1N0cmluZztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNPd25Qcm9wKGIsICd2YWx1ZU9mJykpIHtcbiAgICAgICAgICAgIGEudmFsdWVPZiA9IGIudmFsdWVPZjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVVUQyAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIHRydWUpLnV0YygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlZmF1bHRQYXJzaW5nRmxhZ3MoKSB7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gZGVlcCBjbG9uZSB0aGlzIG9iamVjdC5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVtcHR5ICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgdW51c2VkVG9rZW5zICAgIDogW10sXG4gICAgICAgICAgICB1bnVzZWRJbnB1dCAgICAgOiBbXSxcbiAgICAgICAgICAgIG92ZXJmbG93ICAgICAgICA6IC0yLFxuICAgICAgICAgICAgY2hhcnNMZWZ0T3ZlciAgIDogMCxcbiAgICAgICAgICAgIG51bGxJbnB1dCAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgaW52YWxpZE1vbnRoICAgIDogbnVsbCxcbiAgICAgICAgICAgIGludmFsaWRGb3JtYXQgICA6IGZhbHNlLFxuICAgICAgICAgICAgdXNlckludmFsaWRhdGVkIDogZmFsc2UsXG4gICAgICAgICAgICBpc28gICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIHBhcnNlZERhdGVQYXJ0cyA6IFtdLFxuICAgICAgICAgICAgbWVyaWRpZW0gICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgIHJmYzI4MjIgICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgd2Vla2RheU1pc21hdGNoIDogZmFsc2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQYXJzaW5nRmxhZ3MobSkge1xuICAgICAgICBpZiAobS5fcGYgPT0gbnVsbCkge1xuICAgICAgICAgICAgbS5fcGYgPSBkZWZhdWx0UGFyc2luZ0ZsYWdzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG0uX3BmO1xuICAgIH1cblxuICAgIHZhciBzb21lO1xuICAgIGlmIChBcnJheS5wcm90b3R5cGUuc29tZSkge1xuICAgICAgICBzb21lID0gQXJyYXkucHJvdG90eXBlLnNvbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc29tZSA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICAgICAgICAgIHZhciB0ID0gT2JqZWN0KHRoaXMpO1xuICAgICAgICAgICAgdmFyIGxlbiA9IHQubGVuZ3RoID4+PiAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgaW4gdCAmJiBmdW4uY2FsbCh0aGlzLCB0W2ldLCBpLCB0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkKG0pIHtcbiAgICAgICAgaWYgKG0uX2lzVmFsaWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGZsYWdzID0gZ2V0UGFyc2luZ0ZsYWdzKG0pO1xuICAgICAgICAgICAgdmFyIHBhcnNlZFBhcnRzID0gc29tZS5jYWxsKGZsYWdzLnBhcnNlZERhdGVQYXJ0cywgZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaSAhPSBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgaXNOb3dWYWxpZCA9ICFpc05hTihtLl9kLmdldFRpbWUoKSkgJiZcbiAgICAgICAgICAgICAgICBmbGFncy5vdmVyZmxvdyA8IDAgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MuZW1wdHkgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZE1vbnRoICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLmludmFsaWRXZWVrZGF5ICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLndlZWtkYXlNaXNtYXRjaCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5udWxsSW5wdXQgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZEZvcm1hdCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy51c2VySW52YWxpZGF0ZWQgJiZcbiAgICAgICAgICAgICAgICAoIWZsYWdzLm1lcmlkaWVtIHx8IChmbGFncy5tZXJpZGllbSAmJiBwYXJzZWRQYXJ0cykpO1xuXG4gICAgICAgICAgICBpZiAobS5fc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgaXNOb3dWYWxpZCA9IGlzTm93VmFsaWQgJiZcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MuY2hhcnNMZWZ0T3ZlciA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICBmbGFncy51bnVzZWRUb2tlbnMubGVuZ3RoID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgIGZsYWdzLmJpZ0hvdXIgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbiA9PSBudWxsIHx8ICFPYmplY3QuaXNGcm96ZW4obSkpIHtcbiAgICAgICAgICAgICAgICBtLl9pc1ZhbGlkID0gaXNOb3dWYWxpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc05vd1ZhbGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtLl9pc1ZhbGlkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmFsaWQgKGZsYWdzKSB7XG4gICAgICAgIHZhciBtID0gY3JlYXRlVVRDKE5hTik7XG4gICAgICAgIGlmIChmbGFncyAhPSBudWxsKSB7XG4gICAgICAgICAgICBleHRlbmQoZ2V0UGFyc2luZ0ZsYWdzKG0pLCBmbGFncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkudXNlckludmFsaWRhdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cblxuICAgIC8vIFBsdWdpbnMgdGhhdCBhZGQgcHJvcGVydGllcyBzaG91bGQgYWxzbyBhZGQgdGhlIGtleSBoZXJlIChudWxsIHZhbHVlKSxcbiAgICAvLyBzbyB3ZSBjYW4gcHJvcGVybHkgY2xvbmUgb3Vyc2VsdmVzLlxuICAgIHZhciBtb21lbnRQcm9wZXJ0aWVzID0gaG9va3MubW9tZW50UHJvcGVydGllcyA9IFtdO1xuXG4gICAgZnVuY3Rpb24gY29weUNvbmZpZyh0bywgZnJvbSkge1xuICAgICAgICB2YXIgaSwgcHJvcCwgdmFsO1xuXG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNBTW9tZW50T2JqZWN0KSkge1xuICAgICAgICAgICAgdG8uX2lzQU1vbWVudE9iamVjdCA9IGZyb20uX2lzQU1vbWVudE9iamVjdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2kpKSB7XG4gICAgICAgICAgICB0by5faSA9IGZyb20uX2k7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9mKSkge1xuICAgICAgICAgICAgdG8uX2YgPSBmcm9tLl9mO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fbCkpIHtcbiAgICAgICAgICAgIHRvLl9sID0gZnJvbS5fbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3N0cmljdCkpIHtcbiAgICAgICAgICAgIHRvLl9zdHJpY3QgPSBmcm9tLl9zdHJpY3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl90em0pKSB7XG4gICAgICAgICAgICB0by5fdHptID0gZnJvbS5fdHptO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNVVEMpKSB7XG4gICAgICAgICAgICB0by5faXNVVEMgPSBmcm9tLl9pc1VUQztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX29mZnNldCkpIHtcbiAgICAgICAgICAgIHRvLl9vZmZzZXQgPSBmcm9tLl9vZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9wZikpIHtcbiAgICAgICAgICAgIHRvLl9wZiA9IGdldFBhcnNpbmdGbGFncyhmcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2xvY2FsZSkpIHtcbiAgICAgICAgICAgIHRvLl9sb2NhbGUgPSBmcm9tLl9sb2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobW9tZW50UHJvcGVydGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbW9tZW50UHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHByb3AgPSBtb21lbnRQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgICAgIHZhbCA9IGZyb21bcHJvcF07XG4gICAgICAgICAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvW3Byb3BdID0gdmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0bztcbiAgICB9XG5cbiAgICB2YXIgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG4gICAgLy8gTW9tZW50IHByb3RvdHlwZSBvYmplY3RcbiAgICBmdW5jdGlvbiBNb21lbnQoY29uZmlnKSB7XG4gICAgICAgIGNvcHlDb25maWcodGhpcywgY29uZmlnKTtcbiAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5fZCAhPSBudWxsID8gY29uZmlnLl9kLmdldFRpbWUoKSA6IE5hTik7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShOYU4pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcCBpbiBjYXNlIHVwZGF0ZU9mZnNldCBjcmVhdGVzIG5ldyBtb21lbnRcbiAgICAgICAgLy8gb2JqZWN0cy5cbiAgICAgICAgaWYgKHVwZGF0ZUluUHJvZ3Jlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzKTtcbiAgICAgICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTW9tZW50IChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE1vbWVudCB8fCAob2JqICE9IG51bGwgJiYgb2JqLl9pc0FNb21lbnRPYmplY3QgIT0gbnVsbCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWJzRmxvb3IgKG51bWJlcikge1xuICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAgICAgLy8gLTAgLT4gMFxuICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW1iZXIpIHx8IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW1iZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9JbnQoYXJndW1lbnRGb3JDb2VyY2lvbikge1xuICAgICAgICB2YXIgY29lcmNlZE51bWJlciA9ICthcmd1bWVudEZvckNvZXJjaW9uLFxuICAgICAgICAgICAgdmFsdWUgPSAwO1xuXG4gICAgICAgIGlmIChjb2VyY2VkTnVtYmVyICE9PSAwICYmIGlzRmluaXRlKGNvZXJjZWROdW1iZXIpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGFic0Zsb29yKGNvZXJjZWROdW1iZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8vIGNvbXBhcmUgdHdvIGFycmF5cywgcmV0dXJuIHRoZSBudW1iZXIgb2YgZGlmZmVyZW5jZXNcbiAgICBmdW5jdGlvbiBjb21wYXJlQXJyYXlzKGFycmF5MSwgYXJyYXkyLCBkb250Q29udmVydCkge1xuICAgICAgICB2YXIgbGVuID0gTWF0aC5taW4oYXJyYXkxLmxlbmd0aCwgYXJyYXkyLmxlbmd0aCksXG4gICAgICAgICAgICBsZW5ndGhEaWZmID0gTWF0aC5hYnMoYXJyYXkxLmxlbmd0aCAtIGFycmF5Mi5sZW5ndGgpLFxuICAgICAgICAgICAgZGlmZnMgPSAwLFxuICAgICAgICAgICAgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoKGRvbnRDb252ZXJ0ICYmIGFycmF5MVtpXSAhPT0gYXJyYXkyW2ldKSB8fFxuICAgICAgICAgICAgICAgICghZG9udENvbnZlcnQgJiYgdG9JbnQoYXJyYXkxW2ldKSAhPT0gdG9JbnQoYXJyYXkyW2ldKSkpIHtcbiAgICAgICAgICAgICAgICBkaWZmcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaWZmcyArIGxlbmd0aERpZmY7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd2Fybihtc2cpIHtcbiAgICAgICAgaWYgKGhvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAodHlwZW9mIGNvbnNvbGUgIT09ICAndW5kZWZpbmVkJykgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0RlcHJlY2F0aW9uIHdhcm5pbmc6ICcgKyBtc2cpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVwcmVjYXRlKG1zZywgZm4pIHtcbiAgICAgICAgdmFyIGZpcnN0VGltZSA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobnVsbCwgbXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmaXJzdFRpbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBhcmc7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzW2ldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnICs9ICdcXG5bJyArIGkgKyAnXSAnO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGFyZ3VtZW50c1swXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZyArPSBrZXkgKyAnOiAnICsgYXJndW1lbnRzWzBdW2tleV0gKyAnLCAnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKDAsIC0yKTsgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hIGFuZCBzcGFjZVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChhcmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3YXJuKG1zZyArICdcXG5Bcmd1bWVudHM6ICcgKyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKS5qb2luKCcnKSArICdcXG4nICsgKG5ldyBFcnJvcigpKS5zdGFjayk7XG4gICAgICAgICAgICAgICAgZmlyc3RUaW1lID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfSwgZm4pO1xuICAgIH1cblxuICAgIHZhciBkZXByZWNhdGlvbnMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGRlcHJlY2F0ZVNpbXBsZShuYW1lLCBtc2cpIHtcbiAgICAgICAgaWYgKGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobmFtZSwgbXNnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlcHJlY2F0aW9uc1tuYW1lXSkge1xuICAgICAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICAgICAgZGVwcmVjYXRpb25zW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9IGZhbHNlO1xuICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciA9IG51bGw7XG5cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIEZ1bmN0aW9uIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0IChjb25maWcpIHtcbiAgICAgICAgdmFyIHByb3AsIGk7XG4gICAgICAgIGZvciAoaSBpbiBjb25maWcpIHtcbiAgICAgICAgICAgIHByb3AgPSBjb25maWdbaV07XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihwcm9wKSkge1xuICAgICAgICAgICAgICAgIHRoaXNbaV0gPSBwcm9wO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzWydfJyArIGldID0gcHJvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgIC8vIExlbmllbnQgb3JkaW5hbCBwYXJzaW5nIGFjY2VwdHMganVzdCBhIG51bWJlciBpbiBhZGRpdGlvbiB0b1xuICAgICAgICAvLyBudW1iZXIgKyAocG9zc2libHkpIHN0dWZmIGNvbWluZyBmcm9tIF9kYXlPZk1vbnRoT3JkaW5hbFBhcnNlLlxuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgXCJvcmRpbmFsUGFyc2VcIiBmYWxsYmFjayBpbiBuZXh0IG1ham9yIHJlbGVhc2UuXG4gICAgICAgIHRoaXMuX2RheU9mTW9udGhPcmRpbmFsUGFyc2VMZW5pZW50ID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICh0aGlzLl9kYXlPZk1vbnRoT3JkaW5hbFBhcnNlLnNvdXJjZSB8fCB0aGlzLl9vcmRpbmFsUGFyc2Uuc291cmNlKSArXG4gICAgICAgICAgICAgICAgJ3wnICsgKC9cXGR7MSwyfS8pLnNvdXJjZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY2hpbGRDb25maWcpIHtcbiAgICAgICAgdmFyIHJlcyA9IGV4dGVuZCh7fSwgcGFyZW50Q29uZmlnKSwgcHJvcDtcbiAgICAgICAgZm9yIChwcm9wIGluIGNoaWxkQ29uZmlnKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3QocGFyZW50Q29uZmlnW3Byb3BdKSAmJiBpc09iamVjdChjaGlsZENvbmZpZ1twcm9wXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzW3Byb3BdID0ge307XG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZChyZXNbcHJvcF0sIHBhcmVudENvbmZpZ1twcm9wXSk7XG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZChyZXNbcHJvcF0sIGNoaWxkQ29uZmlnW3Byb3BdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkQ29uZmlnW3Byb3BdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzW3Byb3BdID0gY2hpbGRDb25maWdbcHJvcF07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlc1twcm9wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChwcm9wIGluIHBhcmVudENvbmZpZykge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3AocGFyZW50Q29uZmlnLCBwcm9wKSAmJlxuICAgICAgICAgICAgICAgICAgICAhaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkgJiZcbiAgICAgICAgICAgICAgICAgICAgaXNPYmplY3QocGFyZW50Q29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBjaGFuZ2VzIHRvIHByb3BlcnRpZXMgZG9uJ3QgbW9kaWZ5IHBhcmVudCBjb25maWdcbiAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSBleHRlbmQoe30sIHJlc1twcm9wXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBMb2NhbGUoY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zZXQoY29uZmlnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBrZXlzO1xuXG4gICAgaWYgKE9iamVjdC5rZXlzKSB7XG4gICAgICAgIGtleXMgPSBPYmplY3Qua2V5cztcbiAgICB9IGVsc2Uge1xuICAgICAgICBrZXlzID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgdmFyIGksIHJlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKG9iaiwgaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdENhbGVuZGFyID0ge1xuICAgICAgICBzYW1lRGF5IDogJ1tUb2RheSBhdF0gTFQnLFxuICAgICAgICBuZXh0RGF5IDogJ1tUb21vcnJvdyBhdF0gTFQnLFxuICAgICAgICBuZXh0V2VlayA6ICdkZGRkIFthdF0gTFQnLFxuICAgICAgICBsYXN0RGF5IDogJ1tZZXN0ZXJkYXkgYXRdIExUJyxcbiAgICAgICAgbGFzdFdlZWsgOiAnW0xhc3RdIGRkZGQgW2F0XSBMVCcsXG4gICAgICAgIHNhbWVFbHNlIDogJ0wnXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNhbGVuZGFyIChrZXksIG1vbSwgbm93KSB7XG4gICAgICAgIHZhciBvdXRwdXQgPSB0aGlzLl9jYWxlbmRhcltrZXldIHx8IHRoaXMuX2NhbGVuZGFyWydzYW1lRWxzZSddO1xuICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihvdXRwdXQpID8gb3V0cHV0LmNhbGwobW9tLCBub3cpIDogb3V0cHV0O1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9uZ0RhdGVGb3JtYXQgPSB7XG4gICAgICAgIExUUyAgOiAnaDptbTpzcyBBJyxcbiAgICAgICAgTFQgICA6ICdoOm1tIEEnLFxuICAgICAgICBMICAgIDogJ01NL0REL1lZWVknLFxuICAgICAgICBMTCAgIDogJ01NTU0gRCwgWVlZWScsXG4gICAgICAgIExMTCAgOiAnTU1NTSBELCBZWVlZIGg6bW0gQScsXG4gICAgICAgIExMTEwgOiAnZGRkZCwgTU1NTSBELCBZWVlZIGg6bW0gQSdcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbG9uZ0RhdGVGb3JtYXQgKGtleSkge1xuICAgICAgICB2YXIgZm9ybWF0ID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSxcbiAgICAgICAgICAgIGZvcm1hdFVwcGVyID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5LnRvVXBwZXJDYXNlKCldO1xuXG4gICAgICAgIGlmIChmb3JtYXQgfHwgIWZvcm1hdFVwcGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSA9IGZvcm1hdFVwcGVyLnJlcGxhY2UoL01NTU18TU18RER8ZGRkZC9nLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsLnNsaWNlKDEpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdEludmFsaWREYXRlID0gJ0ludmFsaWQgZGF0ZSc7XG5cbiAgICBmdW5jdGlvbiBpbnZhbGlkRGF0ZSAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZhbGlkRGF0ZTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdE9yZGluYWwgPSAnJWQnO1xuICAgIHZhciBkZWZhdWx0RGF5T2ZNb250aE9yZGluYWxQYXJzZSA9IC9cXGR7MSwyfS87XG5cbiAgICBmdW5jdGlvbiBvcmRpbmFsIChudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29yZGluYWwucmVwbGFjZSgnJWQnLCBudW1iZXIpO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0UmVsYXRpdmVUaW1lID0ge1xuICAgICAgICBmdXR1cmUgOiAnaW4gJXMnLFxuICAgICAgICBwYXN0ICAgOiAnJXMgYWdvJyxcbiAgICAgICAgcyAgOiAnYSBmZXcgc2Vjb25kcycsXG4gICAgICAgIHNzIDogJyVkIHNlY29uZHMnLFxuICAgICAgICBtICA6ICdhIG1pbnV0ZScsXG4gICAgICAgIG1tIDogJyVkIG1pbnV0ZXMnLFxuICAgICAgICBoICA6ICdhbiBob3VyJyxcbiAgICAgICAgaGggOiAnJWQgaG91cnMnLFxuICAgICAgICBkICA6ICdhIGRheScsXG4gICAgICAgIGRkIDogJyVkIGRheXMnLFxuICAgICAgICBNICA6ICdhIG1vbnRoJyxcbiAgICAgICAgTU0gOiAnJWQgbW9udGhzJyxcbiAgICAgICAgeSAgOiAnYSB5ZWFyJyxcbiAgICAgICAgeXkgOiAnJWQgeWVhcnMnXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlbGF0aXZlVGltZSAobnVtYmVyLCB3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKSB7XG4gICAgICAgIHZhciBvdXRwdXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbc3RyaW5nXTtcbiAgICAgICAgcmV0dXJuIChpc0Z1bmN0aW9uKG91dHB1dCkpID9cbiAgICAgICAgICAgIG91dHB1dChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIDpcbiAgICAgICAgICAgIG91dHB1dC5yZXBsYWNlKC8lZC9pLCBudW1iZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhc3RGdXR1cmUgKGRpZmYsIG91dHB1dCkge1xuICAgICAgICB2YXIgZm9ybWF0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW2RpZmYgPiAwID8gJ2Z1dHVyZScgOiAncGFzdCddO1xuICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihmb3JtYXQpID8gZm9ybWF0KG91dHB1dCkgOiBmb3JtYXQucmVwbGFjZSgvJXMvaSwgb3V0cHV0KTtcbiAgICB9XG5cbiAgICB2YXIgYWxpYXNlcyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gYWRkVW5pdEFsaWFzICh1bml0LCBzaG9ydGhhbmQpIHtcbiAgICAgICAgdmFyIGxvd2VyQ2FzZSA9IHVuaXQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgYWxpYXNlc1tsb3dlckNhc2VdID0gYWxpYXNlc1tsb3dlckNhc2UgKyAncyddID0gYWxpYXNlc1tzaG9ydGhhbmRdID0gdW5pdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBub3JtYWxpemVVbml0cyh1bml0cykge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHVuaXRzID09PSAnc3RyaW5nJyA/IGFsaWFzZXNbdW5pdHNdIHx8IGFsaWFzZXNbdW5pdHMudG9Mb3dlckNhc2UoKV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplT2JqZWN0VW5pdHMoaW5wdXRPYmplY3QpIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IHt9LFxuICAgICAgICAgICAgbm9ybWFsaXplZFByb3AsXG4gICAgICAgICAgICBwcm9wO1xuXG4gICAgICAgIGZvciAocHJvcCBpbiBpbnB1dE9iamVjdCkge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3AoaW5wdXRPYmplY3QsIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZFByb3AgPSBub3JtYWxpemVVbml0cyhwcm9wKTtcbiAgICAgICAgICAgICAgICBpZiAobm9ybWFsaXplZFByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZElucHV0W25vcm1hbGl6ZWRQcm9wXSA9IGlucHV0T2JqZWN0W3Byb3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub3JtYWxpemVkSW5wdXQ7XG4gICAgfVxuXG4gICAgdmFyIHByaW9yaXRpZXMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGFkZFVuaXRQcmlvcml0eSh1bml0LCBwcmlvcml0eSkge1xuICAgICAgICBwcmlvcml0aWVzW3VuaXRdID0gcHJpb3JpdHk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UHJpb3JpdGl6ZWRVbml0cyh1bml0c09iaikge1xuICAgICAgICB2YXIgdW5pdHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgdSBpbiB1bml0c09iaikge1xuICAgICAgICAgICAgdW5pdHMucHVzaCh7dW5pdDogdSwgcHJpb3JpdHk6IHByaW9yaXRpZXNbdV19KTtcbiAgICAgICAgfVxuICAgICAgICB1bml0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYS5wcmlvcml0eSAtIGIucHJpb3JpdHk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdW5pdHM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gemVyb0ZpbGwobnVtYmVyLCB0YXJnZXRMZW5ndGgsIGZvcmNlU2lnbikge1xuICAgICAgICB2YXIgYWJzTnVtYmVyID0gJycgKyBNYXRoLmFicyhudW1iZXIpLFxuICAgICAgICAgICAgemVyb3NUb0ZpbGwgPSB0YXJnZXRMZW5ndGggLSBhYnNOdW1iZXIubGVuZ3RoLFxuICAgICAgICAgICAgc2lnbiA9IG51bWJlciA+PSAwO1xuICAgICAgICByZXR1cm4gKHNpZ24gPyAoZm9yY2VTaWduID8gJysnIDogJycpIDogJy0nKSArXG4gICAgICAgICAgICBNYXRoLnBvdygxMCwgTWF0aC5tYXgoMCwgemVyb3NUb0ZpbGwpKS50b1N0cmluZygpLnN1YnN0cigxKSArIGFic051bWJlcjtcbiAgICB9XG5cbiAgICB2YXIgZm9ybWF0dGluZ1Rva2VucyA9IC8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhbSGhdbW0oc3MpP3xNb3xNTT9NP00/fERvfERERG98REQ/RD9EP3xkZGQ/ZD98ZG8/fHdbb3x3XT98V1tvfFddP3xRbz98WVlZWVlZfFlZWVlZfFlZWVl8WVl8Z2coZ2dnPyk/fEdHKEdHRz8pP3xlfEV8YXxBfGhoP3xISD98a2s/fG1tP3xzcz98U3sxLDl9fHh8WHx6ej98Wlo/fC4pL2c7XG5cbiAgICB2YXIgbG9jYWxGb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KExUU3xMVHxMTD9MP0w/fGx7MSw0fSkvZztcblxuICAgIHZhciBmb3JtYXRGdW5jdGlvbnMgPSB7fTtcblxuICAgIHZhciBmb3JtYXRUb2tlbkZ1bmN0aW9ucyA9IHt9O1xuXG4gICAgLy8gdG9rZW46ICAgICdNJ1xuICAgIC8vIHBhZGRlZDogICBbJ01NJywgMl1cbiAgICAvLyBvcmRpbmFsOiAgJ01vJ1xuICAgIC8vIGNhbGxiYWNrOiBmdW5jdGlvbiAoKSB7IHRoaXMubW9udGgoKSArIDEgfVxuICAgIGZ1bmN0aW9uIGFkZEZvcm1hdFRva2VuICh0b2tlbiwgcGFkZGVkLCBvcmRpbmFsLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgZnVuYyA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgZnVuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1tjYWxsYmFja10oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0gPSBmdW5jO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYWRkZWQpIHtcbiAgICAgICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3BhZGRlZFswXV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHplcm9GaWxsKGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgcGFkZGVkWzFdLCBwYWRkZWRbMl0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JkaW5hbCkge1xuICAgICAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbb3JkaW5hbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm9yZGluYWwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCB0b2tlbik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlRm9ybWF0dGluZ1Rva2VucyhpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQubWF0Y2goL1xcW1tcXHNcXFNdLykpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC9eXFxbfFxcXSQvZywgJycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC9cXFxcL2csICcnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlRm9ybWF0RnVuY3Rpb24oZm9ybWF0KSB7XG4gICAgICAgIHZhciBhcnJheSA9IGZvcm1hdC5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSwgaSwgbGVuZ3RoO1xuXG4gICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0VG9rZW5GdW5jdGlvbnNbYXJyYXlbaV1dKSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbaV0gPSBmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFycmF5W2ldID0gcmVtb3ZlRm9ybWF0dGluZ1Rva2VucyhhcnJheVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG1vbSkge1xuICAgICAgICAgICAgdmFyIG91dHB1dCA9ICcnLCBpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9IGlzRnVuY3Rpb24oYXJyYXlbaV0pID8gYXJyYXlbaV0uY2FsbChtb20sIGZvcm1hdCkgOiBhcnJheVtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gZm9ybWF0IGRhdGUgdXNpbmcgbmF0aXZlIGRhdGUgb2JqZWN0XG4gICAgZnVuY3Rpb24gZm9ybWF0TW9tZW50KG0sIGZvcm1hdCkge1xuICAgICAgICBpZiAoIW0uaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbS5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1hdCA9IGV4cGFuZEZvcm1hdChmb3JtYXQsIG0ubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gPSBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSB8fCBtYWtlRm9ybWF0RnVuY3Rpb24oZm9ybWF0KTtcblxuICAgICAgICByZXR1cm4gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0obSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbG9jYWxlKSB7XG4gICAgICAgIHZhciBpID0gNTtcblxuICAgICAgICBmdW5jdGlvbiByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMoaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGUubG9uZ0RhdGVGb3JtYXQoaW5wdXQpIHx8IGlucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHdoaWxlIChpID49IDAgJiYgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLnRlc3QoZm9ybWF0KSkge1xuICAgICAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UobG9jYWxGb3JtYXR0aW5nVG9rZW5zLCByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMpO1xuICAgICAgICAgICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICBpIC09IDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm9ybWF0O1xuICAgIH1cblxuICAgIHZhciBtYXRjaDEgICAgICAgICA9IC9cXGQvOyAgICAgICAgICAgIC8vICAgICAgIDAgLSA5XG4gICAgdmFyIG1hdGNoMiAgICAgICAgID0gL1xcZFxcZC87ICAgICAgICAgIC8vICAgICAgMDAgLSA5OVxuICAgIHZhciBtYXRjaDMgICAgICAgICA9IC9cXGR7M30vOyAgICAgICAgIC8vICAgICAwMDAgLSA5OTlcbiAgICB2YXIgbWF0Y2g0ICAgICAgICAgPSAvXFxkezR9LzsgICAgICAgICAvLyAgICAwMDAwIC0gOTk5OVxuICAgIHZhciBtYXRjaDYgICAgICAgICA9IC9bKy1dP1xcZHs2fS87ICAgIC8vIC05OTk5OTkgLSA5OTk5OTlcbiAgICB2YXIgbWF0Y2gxdG8yICAgICAgPSAvXFxkXFxkPy87ICAgICAgICAgLy8gICAgICAgMCAtIDk5XG4gICAgdmFyIG1hdGNoM3RvNCAgICAgID0gL1xcZFxcZFxcZFxcZD8vOyAgICAgLy8gICAgIDk5OSAtIDk5OTlcbiAgICB2YXIgbWF0Y2g1dG82ICAgICAgPSAvXFxkXFxkXFxkXFxkXFxkXFxkPy87IC8vICAgOTk5OTkgLSA5OTk5OTlcbiAgICB2YXIgbWF0Y2gxdG8zICAgICAgPSAvXFxkezEsM30vOyAgICAgICAvLyAgICAgICAwIC0gOTk5XG4gICAgdmFyIG1hdGNoMXRvNCAgICAgID0gL1xcZHsxLDR9LzsgICAgICAgLy8gICAgICAgMCAtIDk5OTlcbiAgICB2YXIgbWF0Y2gxdG82ICAgICAgPSAvWystXT9cXGR7MSw2fS87ICAvLyAtOTk5OTk5IC0gOTk5OTk5XG5cbiAgICB2YXIgbWF0Y2hVbnNpZ25lZCAgPSAvXFxkKy87ICAgICAgICAgICAvLyAgICAgICAwIC0gaW5mXG4gICAgdmFyIG1hdGNoU2lnbmVkICAgID0gL1srLV0/XFxkKy87ICAgICAgLy8gICAgLWluZiAtIGluZlxuXG4gICAgdmFyIG1hdGNoT2Zmc2V0ICAgID0gL1p8WystXVxcZFxcZDo/XFxkXFxkL2dpOyAvLyArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcbiAgICB2YXIgbWF0Y2hTaG9ydE9mZnNldCA9IC9afFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/L2dpOyAvLyArMDAgLTAwICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWlxuXG4gICAgdmFyIG1hdGNoVGltZXN0YW1wID0gL1srLV0/XFxkKyhcXC5cXGR7MSwzfSk/LzsgLy8gMTIzNDU2Nzg5IDEyMzQ1Njc4OS4xMjNcblxuICAgIC8vIGFueSB3b3JkIChvciB0d28pIGNoYXJhY3RlcnMgb3IgbnVtYmVycyBpbmNsdWRpbmcgdHdvL3RocmVlIHdvcmQgbW9udGggaW4gYXJhYmljLlxuICAgIC8vIGluY2x1ZGVzIHNjb3R0aXNoIGdhZWxpYyB0d28gd29yZCBhbmQgaHlwaGVuYXRlZCBtb250aHNcbiAgICB2YXIgbWF0Y2hXb3JkID0gL1swLTldezAsMjU2fVsnYS16XFx1MDBBMC1cXHUwNUZGXFx1MDcwMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRjA3XFx1RkYxMC1cXHVGRkVGXXsxLDI1Nn18W1xcdTA2MDAtXFx1MDZGRlxcL117MSwyNTZ9KFxccyo/W1xcdTA2MDAtXFx1MDZGRl17MSwyNTZ9KXsxLDJ9L2k7XG5cbiAgICB2YXIgcmVnZXhlcyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gYWRkUmVnZXhUb2tlbiAodG9rZW4sIHJlZ2V4LCBzdHJpY3RSZWdleCkge1xuICAgICAgICByZWdleGVzW3Rva2VuXSA9IGlzRnVuY3Rpb24ocmVnZXgpID8gcmVnZXggOiBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZURhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiAoaXNTdHJpY3QgJiYgc3RyaWN0UmVnZXgpID8gc3RyaWN0UmVnZXggOiByZWdleDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4gKHRva2VuLCBjb25maWcpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHJlZ2V4ZXMsIHRva2VuKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodW5lc2NhcGVGb3JtYXQodG9rZW4pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWdleGVzW3Rva2VuXShjb25maWcuX3N0cmljdCwgY29uZmlnLl9sb2NhbGUpO1xuICAgIH1cblxuICAgIC8vIENvZGUgZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM1NjE0OTMvaXMtdGhlcmUtYS1yZWdleHAtZXNjYXBlLWZ1bmN0aW9uLWluLWphdmFzY3JpcHRcbiAgICBmdW5jdGlvbiB1bmVzY2FwZUZvcm1hdChzKSB7XG4gICAgICAgIHJldHVybiByZWdleEVzY2FwZShzLnJlcGxhY2UoJ1xcXFwnLCAnJykucmVwbGFjZSgvXFxcXChcXFspfFxcXFwoXFxdKXxcXFsoW15cXF1cXFtdKilcXF18XFxcXCguKS9nLCBmdW5jdGlvbiAobWF0Y2hlZCwgcDEsIHAyLCBwMywgcDQpIHtcbiAgICAgICAgICAgIHJldHVybiBwMSB8fCBwMiB8fCBwMyB8fCBwNDtcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlZ2V4RXNjYXBlKHMpIHtcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XG4gICAgfVxuXG4gICAgdmFyIHRva2VucyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gYWRkUGFyc2VUb2tlbiAodG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBpLCBmdW5jID0gY2FsbGJhY2s7XG4gICAgICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0b2tlbiA9IFt0b2tlbl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTnVtYmVyKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgZnVuYyA9IGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgICAgICAgICBhcnJheVtjYWxsYmFja10gPSB0b0ludChpbnB1dCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdG9rZW5zW3Rva2VuW2ldXSA9IGZ1bmM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRXZWVrUGFyc2VUb2tlbiAodG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgICAgIGFkZFBhcnNlVG9rZW4odG9rZW4sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgICAgIGNvbmZpZy5fdyA9IGNvbmZpZy5fdyB8fCB7fTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGlucHV0LCBjb25maWcuX3csIGNvbmZpZywgdG9rZW4pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbiwgaW5wdXQsIGNvbmZpZykge1xuICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCAmJiBoYXNPd25Qcm9wKHRva2VucywgdG9rZW4pKSB7XG4gICAgICAgICAgICB0b2tlbnNbdG9rZW5dKGlucHV0LCBjb25maWcuX2EsIGNvbmZpZywgdG9rZW4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIFlFQVIgPSAwO1xuICAgIHZhciBNT05USCA9IDE7XG4gICAgdmFyIERBVEUgPSAyO1xuICAgIHZhciBIT1VSID0gMztcbiAgICB2YXIgTUlOVVRFID0gNDtcbiAgICB2YXIgU0VDT05EID0gNTtcbiAgICB2YXIgTUlMTElTRUNPTkQgPSA2O1xuICAgIHZhciBXRUVLID0gNztcbiAgICB2YXIgV0VFS0RBWSA9IDg7XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignWScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHkgPSB0aGlzLnllYXIoKTtcbiAgICAgICAgcmV0dXJuIHkgPD0gOTk5OSA/ICcnICsgeSA6ICcrJyArIHk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1lZJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueWVhcigpICUgMTAwO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZJywgICA0XSwgICAgICAgMCwgJ3llYXInKTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZJywgIDVdLCAgICAgICAwLCAneWVhcicpO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWVlZJywgNiwgdHJ1ZV0sIDAsICd5ZWFyJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ3llYXInLCAneScpO1xuXG4gICAgLy8gUFJJT1JJVElFU1xuXG4gICAgYWRkVW5pdFByaW9yaXR5KCd5ZWFyJywgMSk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdZJywgICAgICBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignWVknLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1lZWVknLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbiAgICBhZGRSZWdleFRva2VuKCdZWVlZWScsICBtYXRjaDF0bzYsIG1hdGNoNik7XG4gICAgYWRkUmVnZXhUb2tlbignWVlZWVlZJywgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ1lZWVlZJywgJ1lZWVlZWSddLCBZRUFSKTtcbiAgICBhZGRQYXJzZVRva2VuKCdZWVlZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtZRUFSXSA9IGlucHV0Lmxlbmd0aCA9PT0gMiA/IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KSA6IHRvSW50KGlucHV0KTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdZWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbWUVBUl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbWUVBUl0gPSBwYXJzZUludChpbnB1dCwgMTApO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgZnVuY3Rpb24gZGF5c0luWWVhcih5ZWFyKSB7XG4gICAgICAgIHJldHVybiBpc0xlYXBZZWFyKHllYXIpID8gMzY2IDogMzY1O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTGVhcFllYXIoeWVhcikge1xuICAgICAgICByZXR1cm4gKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDA7XG4gICAgfVxuXG4gICAgLy8gSE9PS1NcblxuICAgIGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0b0ludChpbnB1dCkgKyAodG9JbnQoaW5wdXQpID4gNjggPyAxOTAwIDogMjAwMCk7XG4gICAgfTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIHZhciBnZXRTZXRZZWFyID0gbWFrZUdldFNldCgnRnVsbFllYXInLCB0cnVlKTtcblxuICAgIGZ1bmN0aW9uIGdldElzTGVhcFllYXIgKCkge1xuICAgICAgICByZXR1cm4gaXNMZWFwWWVhcih0aGlzLnllYXIoKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUdldFNldCAodW5pdCwga2VlcFRpbWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzZXQkMSh0aGlzLCB1bml0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIGtlZXBUaW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldCh0aGlzLCB1bml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXQgKG1vbSwgdW5pdCkge1xuICAgICAgICByZXR1cm4gbW9tLmlzVmFsaWQoKSA/XG4gICAgICAgICAgICBtb20uX2RbJ2dldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0oKSA6IE5hTjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXQkMSAobW9tLCB1bml0LCB2YWx1ZSkge1xuICAgICAgICBpZiAobW9tLmlzVmFsaWQoKSAmJiAhaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAodW5pdCA9PT0gJ0Z1bGxZZWFyJyAmJiBpc0xlYXBZZWFyKG1vbS55ZWFyKCkpICYmIG1vbS5tb250aCgpID09PSAxICYmIG1vbS5kYXRlKCkgPT09IDI5KSB7XG4gICAgICAgICAgICAgICAgbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKHZhbHVlLCBtb20ubW9udGgoKSwgZGF5c0luTW9udGgodmFsdWUsIG1vbS5tb250aCgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0odmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gc3RyaW5nR2V0ICh1bml0cykge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1t1bml0c10oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIHN0cmluZ1NldCAodW5pdHMsIHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdW5pdHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKHVuaXRzKTtcbiAgICAgICAgICAgIHZhciBwcmlvcml0aXplZCA9IGdldFByaW9yaXRpemVkVW5pdHModW5pdHMpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmlvcml0aXplZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXNbcHJpb3JpdGl6ZWRbaV0udW5pdF0odW5pdHNbcHJpb3JpdGl6ZWRbaV0udW5pdF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzW3VuaXRzXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1t1bml0c10odmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vZChuLCB4KSB7XG4gICAgICAgIHJldHVybiAoKG4gJSB4KSArIHgpICUgeDtcbiAgICB9XG5cbiAgICB2YXIgaW5kZXhPZjtcblxuICAgIGlmIChBcnJheS5wcm90b3R5cGUuaW5kZXhPZikge1xuICAgICAgICBpbmRleE9mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2Y7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaW5kZXhPZiA9IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAvLyBJIGtub3dcbiAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpc1tpXSA9PT0gbykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGF5c0luTW9udGgoeWVhciwgbW9udGgpIHtcbiAgICAgICAgaWYgKGlzTmFOKHllYXIpIHx8IGlzTmFOKG1vbnRoKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbW9kTW9udGggPSBtb2QobW9udGgsIDEyKTtcbiAgICAgICAgeWVhciArPSAobW9udGggLSBtb2RNb250aCkgLyAxMjtcbiAgICAgICAgcmV0dXJuIG1vZE1vbnRoID09PSAxID8gKGlzTGVhcFllYXIoeWVhcikgPyAyOSA6IDI4KSA6ICgzMSAtIG1vZE1vbnRoICUgNyAlIDIpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdNJywgWydNTScsIDJdLCAnTW8nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vbnRoKCkgKyAxO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ01NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRoc1Nob3J0KHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignTU1NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRocyh0aGlzLCBmb3JtYXQpO1xuICAgIH0pO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdtb250aCcsICdNJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdtb250aCcsIDgpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignTScsICAgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignTU0nLCAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdNTU0nLCAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5tb250aHNTaG9ydFJlZ2V4KGlzU3RyaWN0KTtcbiAgICB9KTtcbiAgICBhZGRSZWdleFRva2VuKCdNTU1NJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5tb250aHNSZWdleChpc1N0cmljdCk7XG4gICAgfSk7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnTScsICdNTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W01PTlRIXSA9IHRvSW50KGlucHV0KSAtIDE7XG4gICAgfSk7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnTU1NJywgJ01NTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB2YXIgbW9udGggPSBjb25maWcuX2xvY2FsZS5tb250aHNQYXJzZShpbnB1dCwgdG9rZW4sIGNvbmZpZy5fc3RyaWN0KTtcbiAgICAgICAgLy8gaWYgd2UgZGlkbid0IGZpbmQgYSBtb250aCBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWQuXG4gICAgICAgIGlmIChtb250aCAhPSBudWxsKSB7XG4gICAgICAgICAgICBhcnJheVtNT05USF0gPSBtb250aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRNb250aCA9IGlucHV0O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBMT0NBTEVTXG5cbiAgICB2YXIgTU9OVEhTX0lOX0ZPUk1BVCA9IC9EW29EXT8oXFxbW15cXFtcXF1dKlxcXXxcXHMpK01NTU0/LztcbiAgICB2YXIgZGVmYXVsdExvY2FsZU1vbnRocyA9ICdKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyJy5zcGxpdCgnXycpO1xuICAgIGZ1bmN0aW9uIGxvY2FsZU1vbnRocyAobSwgZm9ybWF0KSB7XG4gICAgICAgIGlmICghbSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzKSA/IHRoaXMuX21vbnRocyA6XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9udGhzWydzdGFuZGFsb25lJ107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzKSA/IHRoaXMuX21vbnRoc1ttLm1vbnRoKCldIDpcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1sodGhpcy5fbW9udGhzLmlzRm9ybWF0IHx8IE1PTlRIU19JTl9GT1JNQVQpLnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQgPSAnSmFuX0ZlYl9NYXJfQXByX01heV9KdW5fSnVsX0F1Z19TZXBfT2N0X05vdl9EZWMnLnNwbGl0KCdfJyk7XG4gICAgZnVuY3Rpb24gbG9jYWxlTW9udGhzU2hvcnQgKG0sIGZvcm1hdCkge1xuICAgICAgICBpZiAoIW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRoc1Nob3J0KSA/IHRoaXMuX21vbnRoc1Nob3J0IDpcbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFsnc3RhbmRhbG9uZSddO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRoc1Nob3J0KSA/IHRoaXMuX21vbnRoc1Nob3J0W20ubW9udGgoKV0gOlxuICAgICAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRbTU9OVEhTX0lOX0ZPUk1BVC50ZXN0KGZvcm1hdCkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ11bbS5tb250aCgpXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVTdHJpY3RQYXJzZShtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgICAgIHZhciBpLCBpaSwgbW9tLCBsbGMgPSBtb250aE5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKCF0aGlzLl9tb250aHNQYXJzZSkge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBub3QgdXNlZFxuICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyArK2kpIHtcbiAgICAgICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IHRoaXMubW9udGhzKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2FsZU1vbnRoc1BhcnNlIChtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgICAgIHZhciBpLCBtb20sIHJlZ2V4O1xuXG4gICAgICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UuY2FsbCh0aGlzLCBtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE86IGFkZCBzb3J0aW5nXG4gICAgICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgbW9udGggKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXJcbiAgICAgICAgLy8gc2VlIHNvcnRpbmcgaW4gY29tcHV0ZU1vbnRoc1BhcnNlXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgaWYgKHN0cmljdCAmJiAhdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc3RyaWN0ICYmICF0aGlzLl9tb250aHNQYXJzZVtpXSkge1xuICAgICAgICAgICAgICAgIHJlZ2V4ID0gJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykgKyAnfF4nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ01NTU0nICYmIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ01NTScgJiYgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl9tb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIHNldE1vbnRoIChtb20sIHZhbHVlKSB7XG4gICAgICAgIHZhciBkYXlPZk1vbnRoO1xuXG4gICAgICAgIGlmICghbW9tLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgLy8gTm8gb3BcbiAgICAgICAgICAgIHJldHVybiBtb207XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKC9eXFxkKyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0b0ludCh2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbW9tLmxvY2FsZURhdGEoKS5tb250aHNQYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogQW5vdGhlciBzaWxlbnQgZmFpbHVyZT9cbiAgICAgICAgICAgICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRheU9mTW9udGggPSBNYXRoLm1pbihtb20uZGF0ZSgpLCBkYXlzSW5Nb250aChtb20ueWVhcigpLCB2YWx1ZSkpO1xuICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgJ01vbnRoJ10odmFsdWUsIGRheU9mTW9udGgpO1xuICAgICAgICByZXR1cm4gbW9tO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldE1vbnRoICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0TW9udGgodGhpcywgdmFsdWUpO1xuICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0KHRoaXMsICdNb250aCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RGF5c0luTW9udGggKCkge1xuICAgICAgICByZXR1cm4gZGF5c0luTW9udGgodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSk7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRNb250aHNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkO1xuICAgIGZ1bmN0aW9uIG1vbnRoc1Nob3J0UmVnZXggKGlzU3RyaWN0KSB7XG4gICAgICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0UmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNTaG9ydFJlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gZGVmYXVsdE1vbnRoc1Nob3J0UmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCA6IHRoaXMuX21vbnRoc1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdE1vbnRoc1JlZ2V4ID0gbWF0Y2hXb3JkO1xuICAgIGZ1bmN0aW9uIG1vbnRoc1JlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVNb250aHNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9udGhzUmVnZXggPSBkZWZhdWx0TW9udGhzUmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4IDogdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21wdXRlTW9udGhzUGFyc2UgKCkge1xuICAgICAgICBmdW5jdGlvbiBjbXBMZW5SZXYoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2hvcnRQaWVjZXMgPSBbXSwgbG9uZ1BpZWNlcyA9IFtdLCBtaXhlZFBpZWNlcyA9IFtdLFxuICAgICAgICAgICAgaSwgbW9tO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcbiAgICAgICAgICAgIHNob3J0UGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG4gICAgICAgICAgICBsb25nUGllY2VzLnB1c2godGhpcy5tb250aHMobW9tLCAnJykpO1xuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgbW9udGggKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXIgaXRcbiAgICAgICAgLy8gd2lsbCBtYXRjaCB0aGUgbG9uZ2VyIHBpZWNlLlxuICAgICAgICBzaG9ydFBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIGxvbmdQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgICAgICBtaXhlZFBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgICBzaG9ydFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKHNob3J0UGllY2VzW2ldKTtcbiAgICAgICAgICAgIGxvbmdQaWVjZXNbaV0gPSByZWdleEVzY2FwZShsb25nUGllY2VzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMjQ7IGkrKykge1xuICAgICAgICAgICAgbWl4ZWRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShtaXhlZFBpZWNlc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tb250aHNSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1peGVkUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRSZWdleCA9IHRoaXMuX21vbnRoc1JlZ2V4O1xuICAgICAgICB0aGlzLl9tb250aHNTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIGxvbmdQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgICAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZURhdGUgKHksIG0sIGQsIGgsIE0sIHMsIG1zKSB7XG4gICAgICAgIC8vIGNhbid0IGp1c3QgYXBwbHkoKSB0byBjcmVhdGUgYSBkYXRlOlxuICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMTgxMzQ4XG4gICAgICAgIHZhciBkYXRlO1xuICAgICAgICAvLyB0aGUgZGF0ZSBjb25zdHJ1Y3RvciByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICAgICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwKSB7XG4gICAgICAgICAgICAvLyBwcmVzZXJ2ZSBsZWFwIHllYXJzIHVzaW5nIGEgZnVsbCA0MDAgeWVhciBjeWNsZSwgdGhlbiByZXNldFxuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHkgKyA0MDAsIG0sIGQsIGgsIE0sIHMsIG1zKTtcbiAgICAgICAgICAgIGlmIChpc0Zpbml0ZShkYXRlLmdldEZ1bGxZZWFyKCkpKSB7XG4gICAgICAgICAgICAgICAgZGF0ZS5zZXRGdWxsWWVhcih5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSh5LCBtLCBkLCBoLCBNLCBzLCBtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVVVENEYXRlICh5KSB7XG4gICAgICAgIHZhciBkYXRlO1xuICAgICAgICAvLyB0aGUgRGF0ZS5VVEMgZnVuY3Rpb24gcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICAgICAgLy8gcHJlc2VydmUgbGVhcCB5ZWFycyB1c2luZyBhIGZ1bGwgNDAwIHllYXIgY3ljbGUsIHRoZW4gcmVzZXRcbiAgICAgICAgICAgIGFyZ3NbMF0gPSB5ICsgNDAwO1xuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUuVVRDLmFwcGx5KG51bGwsIGFyZ3MpKTtcbiAgICAgICAgICAgIGlmIChpc0Zpbml0ZShkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpKSB7XG4gICAgICAgICAgICAgICAgZGF0ZS5zZXRVVENGdWxsWWVhcih5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQy5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cblxuICAgIC8vIHN0YXJ0LW9mLWZpcnN0LXdlZWsgLSBzdGFydC1vZi15ZWFyXG4gICAgZnVuY3Rpb24gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSB7XG4gICAgICAgIHZhciAvLyBmaXJzdC13ZWVrIGRheSAtLSB3aGljaCBqYW51YXJ5IGlzIGFsd2F5cyBpbiB0aGUgZmlyc3Qgd2VlayAoNCBmb3IgaXNvLCAxIGZvciBvdGhlcilcbiAgICAgICAgICAgIGZ3ZCA9IDcgKyBkb3cgLSBkb3ksXG4gICAgICAgICAgICAvLyBmaXJzdC13ZWVrIGRheSBsb2NhbCB3ZWVrZGF5IC0tIHdoaWNoIGxvY2FsIHdlZWtkYXkgaXMgZndkXG4gICAgICAgICAgICBmd2RsdyA9ICg3ICsgY3JlYXRlVVRDRGF0ZSh5ZWFyLCAwLCBmd2QpLmdldFVUQ0RheSgpIC0gZG93KSAlIDc7XG5cbiAgICAgICAgcmV0dXJuIC1md2RsdyArIGZ3ZCAtIDE7XG4gICAgfVxuXG4gICAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZSNDYWxjdWxhdGluZ19hX2RhdGVfZ2l2ZW5fdGhlX3llYXIuMkNfd2Vla19udW1iZXJfYW5kX3dlZWtkYXlcbiAgICBmdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla3MoeWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIGxvY2FsV2Vla2RheSA9ICg3ICsgd2Vla2RheSAtIGRvdykgJSA3LFxuICAgICAgICAgICAgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG4gICAgICAgICAgICBkYXlPZlllYXIgPSAxICsgNyAqICh3ZWVrIC0gMSkgKyBsb2NhbFdlZWtkYXkgKyB3ZWVrT2Zmc2V0LFxuICAgICAgICAgICAgcmVzWWVhciwgcmVzRGF5T2ZZZWFyO1xuXG4gICAgICAgIGlmIChkYXlPZlllYXIgPD0gMCkge1xuICAgICAgICAgICAgcmVzWWVhciA9IHllYXIgLSAxO1xuICAgICAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5c0luWWVhcihyZXNZZWFyKSArIGRheU9mWWVhcjtcbiAgICAgICAgfSBlbHNlIGlmIChkYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXIpKSB7XG4gICAgICAgICAgICByZXNZZWFyID0geWVhciArIDE7XG4gICAgICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXIgLSBkYXlzSW5ZZWFyKHllYXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzWWVhciA9IHllYXI7XG4gICAgICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeWVhcjogcmVzWWVhcixcbiAgICAgICAgICAgIGRheU9mWWVhcjogcmVzRGF5T2ZZZWFyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd2Vla09mWWVhcihtb20sIGRvdywgZG95KSB7XG4gICAgICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KG1vbS55ZWFyKCksIGRvdywgZG95KSxcbiAgICAgICAgICAgIHdlZWsgPSBNYXRoLmZsb29yKChtb20uZGF5T2ZZZWFyKCkgLSB3ZWVrT2Zmc2V0IC0gMSkgLyA3KSArIDEsXG4gICAgICAgICAgICByZXNXZWVrLCByZXNZZWFyO1xuXG4gICAgICAgIGlmICh3ZWVrIDwgMSkge1xuICAgICAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCkgLSAxO1xuICAgICAgICAgICAgcmVzV2VlayA9IHdlZWsgKyB3ZWVrc0luWWVhcihyZXNZZWFyLCBkb3csIGRveSk7XG4gICAgICAgIH0gZWxzZSBpZiAod2VlayA+IHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KSkge1xuICAgICAgICAgICAgcmVzV2VlayA9IHdlZWsgLSB3ZWVrc0luWWVhcihtb20ueWVhcigpLCBkb3csIGRveSk7XG4gICAgICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKTtcbiAgICAgICAgICAgIHJlc1dlZWsgPSB3ZWVrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdlZWs6IHJlc1dlZWssXG4gICAgICAgICAgICB5ZWFyOiByZXNZZWFyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd2Vla3NJblllYXIoeWVhciwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpLFxuICAgICAgICAgICAgd2Vla09mZnNldE5leHQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciArIDEsIGRvdywgZG95KTtcbiAgICAgICAgcmV0dXJuIChkYXlzSW5ZZWFyKHllYXIpIC0gd2Vla09mZnNldCArIHdlZWtPZmZzZXROZXh0KSAvIDc7XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3cnLCBbJ3d3JywgMl0sICd3bycsICd3ZWVrJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ1cnLCBbJ1dXJywgMl0sICdXbycsICdpc29XZWVrJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ3dlZWsnLCAndycpO1xuICAgIGFkZFVuaXRBbGlhcygnaXNvV2VlaycsICdXJyk7XG5cbiAgICAvLyBQUklPUklUSUVTXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ3dlZWsnLCA1KTtcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWsnLCA1KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ3cnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCd3dycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdXJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignV1cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ3cnLCAnd3cnLCAnVycsICdXVyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMSldID0gdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgLy8gTE9DQUxFU1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlV2VlayAobW9tKSB7XG4gICAgICAgIHJldHVybiB3ZWVrT2ZZZWFyKG1vbSwgdGhpcy5fd2Vlay5kb3csIHRoaXMuX3dlZWsuZG95KS53ZWVrO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9jYWxlV2VlayA9IHtcbiAgICAgICAgZG93IDogMCwgLy8gU3VuZGF5IGlzIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsuXG4gICAgICAgIGRveSA6IDYgIC8vIFRoZSB3ZWVrIHRoYXQgY29udGFpbnMgSmFuIDZ0aCBpcyB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgeWVhci5cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZldlZWsgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3c7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZlllYXIgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3k7XG4gICAgfVxuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gZ2V0U2V0V2VlayAoaW5wdXQpIHtcbiAgICAgICAgdmFyIHdlZWsgPSB0aGlzLmxvY2FsZURhdGEoKS53ZWVrKHRoaXMpO1xuICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0SVNPV2VlayAoaW5wdXQpIHtcbiAgICAgICAgdmFyIHdlZWsgPSB3ZWVrT2ZZZWFyKHRoaXMsIDEsIDQpLndlZWs7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignZCcsIDAsICdkbycsICdkYXknKTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzTWluKHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNTaG9ydCh0aGlzLCBmb3JtYXQpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2RkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5cyh0aGlzLCBmb3JtYXQpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2UnLCAwLCAwLCAnd2Vla2RheScpO1xuICAgIGFkZEZvcm1hdFRva2VuKCdFJywgMCwgMCwgJ2lzb1dlZWtkYXknKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnZGF5JywgJ2QnKTtcbiAgICBhZGRVbml0QWxpYXMoJ3dlZWtkYXknLCAnZScpO1xuICAgIGFkZFVuaXRBbGlhcygnaXNvV2Vla2RheScsICdFJyk7XG5cbiAgICAvLyBQUklPUklUWVxuICAgIGFkZFVuaXRQcmlvcml0eSgnZGF5JywgMTEpO1xuICAgIGFkZFVuaXRQcmlvcml0eSgnd2Vla2RheScsIDExKTtcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtkYXknLCAxMSk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdkJywgICAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdlJywgICAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdFJywgICAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c01pblJlZ2V4KGlzU3RyaWN0KTtcbiAgICB9KTtcbiAgICBhZGRSZWdleFRva2VuKCdkZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNTaG9ydFJlZ2V4KGlzU3RyaWN0KTtcbiAgICB9KTtcbiAgICBhZGRSZWdleFRva2VuKCdkZGRkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydkZCcsICdkZGQnLCAnZGRkZCddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgdmFyIHdlZWtkYXkgPSBjb25maWcuX2xvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgICAgICAvLyBpZiB3ZSBkaWRuJ3QgZ2V0IGEgd2Vla2RheSBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWRcbiAgICAgICAgaWYgKHdlZWtkYXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgd2Vlay5kID0gd2Vla2RheTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRXZWVrZGF5ID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZFdlZWtQYXJzZVRva2VuKFsnZCcsICdlJywgJ0UnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIHdlZWtbdG9rZW5dID0gdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgZnVuY3Rpb24gcGFyc2VXZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNOYU4oaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0ID0gbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VJc29XZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCkgJSA3IHx8IDc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzTmFOKGlucHV0KSA/IG51bGwgOiBpbnB1dDtcbiAgICB9XG5cbiAgICAvLyBMT0NBTEVTXG4gICAgZnVuY3Rpb24gc2hpZnRXZWVrZGF5cyAod3MsIG4pIHtcbiAgICAgICAgcmV0dXJuIHdzLnNsaWNlKG4sIDcpLmNvbmNhdCh3cy5zbGljZSgwLCBuKSk7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5cyA9ICdTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheScuc3BsaXQoJ18nKTtcbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrZGF5cyAobSwgZm9ybWF0KSB7XG4gICAgICAgIHZhciB3ZWVrZGF5cyA9IGlzQXJyYXkodGhpcy5fd2Vla2RheXMpID8gdGhpcy5fd2Vla2RheXMgOlxuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNbKG0gJiYgbSAhPT0gdHJ1ZSAmJiB0aGlzLl93ZWVrZGF5cy5pc0Zvcm1hdC50ZXN0KGZvcm1hdCkpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddO1xuICAgICAgICByZXR1cm4gKG0gPT09IHRydWUpID8gc2hpZnRXZWVrZGF5cyh3ZWVrZGF5cywgdGhpcy5fd2Vlay5kb3cpXG4gICAgICAgICAgICA6IChtKSA/IHdlZWtkYXlzW20uZGF5KCldIDogd2Vla2RheXM7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0ID0gJ1N1bl9Nb25fVHVlX1dlZF9UaHVfRnJpX1NhdCcuc3BsaXQoJ18nKTtcbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1Nob3J0IChtKSB7XG4gICAgICAgIHJldHVybiAobSA9PT0gdHJ1ZSkgPyBzaGlmdFdlZWtkYXlzKHRoaXMuX3dlZWtkYXlzU2hvcnQsIHRoaXMuX3dlZWsuZG93KVxuICAgICAgICAgICAgOiAobSkgPyB0aGlzLl93ZWVrZGF5c1Nob3J0W20uZGF5KCldIDogdGhpcy5fd2Vla2RheXNTaG9ydDtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzTWluID0gJ1N1X01vX1R1X1dlX1RoX0ZyX1NhJy5zcGxpdCgnXycpO1xuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzTWluIChtKSB7XG4gICAgICAgIHJldHVybiAobSA9PT0gdHJ1ZSkgPyBzaGlmdFdlZWtkYXlzKHRoaXMuX3dlZWtkYXlzTWluLCB0aGlzLl93ZWVrLmRvdylcbiAgICAgICAgICAgIDogKG0pID8gdGhpcy5fd2Vla2RheXNNaW5bbS5kYXkoKV0gOiB0aGlzLl93ZWVrZGF5c01pbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVTdHJpY3RQYXJzZSQxKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgICAgICB2YXIgaSwgaWksIG1vbSwgbGxjID0gd2Vla2RheU5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlKSB7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7ICsraSkge1xuICAgICAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c01pbihtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RkZGQnKSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1BhcnNlICh3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICAgICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVN0cmljdFBhcnNlJDEuY2FsbCh0aGlzLCB3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlKSB7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcblxuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICAgICAgaWYgKHN0cmljdCAmJiAhdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy53ZWVrZGF5cyhtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcXFwuPycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFxcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy53ZWVrZGF5c01pbihtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcXFwuPycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlW2ldKSB7XG4gICAgICAgICAgICAgICAgcmVnZXggPSAnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKSArICd8XicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKHJlZ2V4LnJlcGxhY2UoJy4nLCAnJyksICdpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuICAgICAgICAgICAgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZGRkJyAmJiB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGRkJyAmJiB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkJyAmJiB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgdGhpcy5fd2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gZ2V0U2V0RGF5T2ZXZWVrIChpbnB1dCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRheSA9IHRoaXMuX2lzVVRDID8gdGhpcy5fZC5nZXRVVENEYXkoKSA6IHRoaXMuX2QuZ2V0RGF5KCk7XG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpbnB1dCA9IHBhcnNlV2Vla2RheShpbnB1dCwgdGhpcy5sb2NhbGVEYXRhKCkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRkKGlucHV0IC0gZGF5LCAnZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGRheTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldExvY2FsZURheU9mV2VlayAoaW5wdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3ZWVrZGF5ID0gKHRoaXMuZGF5KCkgKyA3IC0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93KSAlIDc7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2Vla2RheSA6IHRoaXMuYWRkKGlucHV0IC0gd2Vla2RheSwgJ2QnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRJU09EYXlPZldlZWsgKGlucHV0KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJlaGF2ZXMgdGhlIHNhbWUgYXMgbW9tZW50I2RheSBleGNlcHRcbiAgICAgICAgLy8gYXMgYSBnZXR0ZXIsIHJldHVybnMgNyBpbnN0ZWFkIG9mIDAgKDEtNyByYW5nZSBpbnN0ZWFkIG9mIDAtNilcbiAgICAgICAgLy8gYXMgYSBzZXR0ZXIsIHN1bmRheSBzaG91bGQgYmVsb25nIHRvIHRoZSBwcmV2aW91cyB3ZWVrLlxuXG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgd2Vla2RheSA9IHBhcnNlSXNvV2Vla2RheShpbnB1dCwgdGhpcy5sb2NhbGVEYXRhKCkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF5KHRoaXMuZGF5KCkgJSA3ID8gd2Vla2RheSA6IHdlZWtkYXkgLSA3KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRheSgpIHx8IDc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdFdlZWtkYXlzUmVnZXggPSBtYXRjaFdvcmQ7XG4gICAgZnVuY3Rpb24gd2Vla2RheXNSZWdleCAoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBkZWZhdWx0V2Vla2RheXNSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkO1xuICAgIGZ1bmN0aW9uIHdlZWtkYXlzU2hvcnRSZWdleCAoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1Nob3J0UmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdFdlZWtkYXlzTWluUmVnZXggPSBtYXRjaFdvcmQ7XG4gICAgZnVuY3Rpb24gd2Vla2RheXNNaW5SZWdleCAoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5SZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzTWluUmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSBkZWZhdWx0V2Vla2RheXNNaW5SZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNNaW5SZWdleDtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gY29tcHV0ZVdlZWtkYXlzUGFyc2UgKCkge1xuICAgICAgICBmdW5jdGlvbiBjbXBMZW5SZXYoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWluUGllY2VzID0gW10sIHNob3J0UGllY2VzID0gW10sIGxvbmdQaWVjZXMgPSBbXSwgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgICAgIGksIG1vbSwgbWlucCwgc2hvcnRwLCBsb25ncDtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgICAgICBtaW5wID0gdGhpcy53ZWVrZGF5c01pbihtb20sICcnKTtcbiAgICAgICAgICAgIHNob3J0cCA9IHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKTtcbiAgICAgICAgICAgIGxvbmdwID0gdGhpcy53ZWVrZGF5cyhtb20sICcnKTtcbiAgICAgICAgICAgIG1pblBpZWNlcy5wdXNoKG1pbnApO1xuICAgICAgICAgICAgc2hvcnRQaWVjZXMucHVzaChzaG9ydHApO1xuICAgICAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKGxvbmdwKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2gobWlucCk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHNob3J0cCk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKGxvbmdwKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIHdlZWtkYXkgKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXIgaXRcbiAgICAgICAgLy8gd2lsbCBtYXRjaCB0aGUgbG9uZ2VyIHBpZWNlLlxuICAgICAgICBtaW5QaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgICAgICBzaG9ydFBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIGxvbmdQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgICAgICBtaXhlZFBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuICAgICAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuICAgICAgICAgICAgbWl4ZWRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShtaXhlZFBpZWNlc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl93ZWVrZGF5c1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgICAgICB0aGlzLl93ZWVrZGF5c01pblJlZ2V4ID0gdGhpcy5fd2Vla2RheXNSZWdleDtcblxuICAgICAgICB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbG9uZ1BpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIHNob3J0UGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1pblBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgZnVuY3Rpb24gaEZvcm1hdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaG91cnMoKSAlIDEyIHx8IDEyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGtGb3JtYXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhvdXJzKCkgfHwgMjQ7XG4gICAgfVxuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0gnLCBbJ0hIJywgMl0sIDAsICdob3VyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ2gnLCBbJ2hoJywgMl0sIDAsIGhGb3JtYXQpO1xuICAgIGFkZEZvcm1hdFRva2VuKCdrJywgWydraycsIDJdLCAwLCBrRm9ybWF0KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdobW0nLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnJyArIGhGb3JtYXQuYXBwbHkodGhpcykgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMik7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignaG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnJyArIGhGb3JtYXQuYXBwbHkodGhpcykgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMikgK1xuICAgICAgICAgICAgemVyb0ZpbGwodGhpcy5zZWNvbmRzKCksIDIpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICcnICsgdGhpcy5ob3VycygpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0htbXNzJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMikgK1xuICAgICAgICAgICAgemVyb0ZpbGwodGhpcy5zZWNvbmRzKCksIDIpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gbWVyaWRpZW0gKHRva2VuLCBsb3dlcmNhc2UpIHtcbiAgICAgICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tZXJpZGllbSh0aGlzLmhvdXJzKCksIHRoaXMubWludXRlcygpLCBsb3dlcmNhc2UpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBtZXJpZGllbSgnYScsIHRydWUpO1xuICAgIG1lcmlkaWVtKCdBJywgZmFsc2UpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdob3VyJywgJ2gnKTtcblxuICAgIC8vIFBSSU9SSVRZXG4gICAgYWRkVW5pdFByaW9yaXR5KCdob3VyJywgMTMpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgZnVuY3Rpb24gbWF0Y2hNZXJpZGllbSAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLl9tZXJpZGllbVBhcnNlO1xuICAgIH1cblxuICAgIGFkZFJlZ2V4VG9rZW4oJ2EnLCAgbWF0Y2hNZXJpZGllbSk7XG4gICAgYWRkUmVnZXhUb2tlbignQScsICBtYXRjaE1lcmlkaWVtKTtcbiAgICBhZGRSZWdleFRva2VuKCdIJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignaCcsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2snLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdISCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdoaCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdraycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ2htbScsIG1hdGNoM3RvNCk7XG4gICAgYWRkUmVnZXhUb2tlbignaG1tc3MnLCBtYXRjaDV0bzYpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0htbScsIG1hdGNoM3RvNCk7XG4gICAgYWRkUmVnZXhUb2tlbignSG1tc3MnLCBtYXRjaDV0bzYpO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ0gnLCAnSEgnXSwgSE9VUik7XG4gICAgYWRkUGFyc2VUb2tlbihbJ2snLCAna2snXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBrSW5wdXQgPSB0b0ludChpbnB1dCk7XG4gICAgICAgIGFycmF5W0hPVVJdID0ga0lucHV0ID09PSAyNCA/IDAgOiBrSW5wdXQ7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbihbJ2EnLCAnQSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl9pc1BtID0gY29uZmlnLl9sb2NhbGUuaXNQTShpbnB1dCk7XG4gICAgICAgIGNvbmZpZy5fbWVyaWRpZW0gPSBpbnB1dDtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKFsnaCcsICdoaCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dCk7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ2htbScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG4gICAgICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zKSk7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ2htbXNzJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcbiAgICAgICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MxKSk7XG4gICAgICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgICAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignSG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBwb3MgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICAgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdIbW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQ7XG4gICAgICAgIHZhciBwb3MyID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuICAgICAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcbiAgICAgICAgYXJyYXlbU0VDT05EXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MyKSk7XG4gICAgfSk7XG5cbiAgICAvLyBMT0NBTEVTXG5cbiAgICBmdW5jdGlvbiBsb2NhbGVJc1BNIChpbnB1dCkge1xuICAgICAgICAvLyBJRTggUXVpcmtzIE1vZGUgJiBJRTcgU3RhbmRhcmRzIE1vZGUgZG8gbm90IGFsbG93IGFjY2Vzc2luZyBzdHJpbmdzIGxpa2UgYXJyYXlzXG4gICAgICAgIC8vIFVzaW5nIGNoYXJBdCBzaG91bGQgYmUgbW9yZSBjb21wYXRpYmxlLlxuICAgICAgICByZXR1cm4gKChpbnB1dCArICcnKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKSA9PT0gJ3AnKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2UgPSAvW2FwXVxcLj9tP1xcLj8vaTtcbiAgICBmdW5jdGlvbiBsb2NhbGVNZXJpZGllbSAoaG91cnMsIG1pbnV0ZXMsIGlzTG93ZXIpIHtcbiAgICAgICAgaWYgKGhvdXJzID4gMTEpIHtcbiAgICAgICAgICAgIHJldHVybiBpc0xvd2VyID8gJ3BtJyA6ICdQTSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdhbScgOiAnQU0nO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICAvLyBTZXR0aW5nIHRoZSBob3VyIHNob3VsZCBrZWVwIHRoZSB0aW1lLCBiZWNhdXNlIHRoZSB1c2VyIGV4cGxpY2l0bHlcbiAgICAvLyBzcGVjaWZpZWQgd2hpY2ggaG91ciB0aGV5IHdhbnQuIFNvIHRyeWluZyB0byBtYWludGFpbiB0aGUgc2FtZSBob3VyIChpblxuICAgIC8vIGEgbmV3IHRpbWV6b25lKSBtYWtlcyBzZW5zZS4gQWRkaW5nL3N1YnRyYWN0aW5nIGhvdXJzIGRvZXMgbm90IGZvbGxvd1xuICAgIC8vIHRoaXMgcnVsZS5cbiAgICB2YXIgZ2V0U2V0SG91ciA9IG1ha2VHZXRTZXQoJ0hvdXJzJywgdHJ1ZSk7XG5cbiAgICB2YXIgYmFzZUNvbmZpZyA9IHtcbiAgICAgICAgY2FsZW5kYXI6IGRlZmF1bHRDYWxlbmRhcixcbiAgICAgICAgbG9uZ0RhdGVGb3JtYXQ6IGRlZmF1bHRMb25nRGF0ZUZvcm1hdCxcbiAgICAgICAgaW52YWxpZERhdGU6IGRlZmF1bHRJbnZhbGlkRGF0ZSxcbiAgICAgICAgb3JkaW5hbDogZGVmYXVsdE9yZGluYWwsXG4gICAgICAgIGRheU9mTW9udGhPcmRpbmFsUGFyc2U6IGRlZmF1bHREYXlPZk1vbnRoT3JkaW5hbFBhcnNlLFxuICAgICAgICByZWxhdGl2ZVRpbWU6IGRlZmF1bHRSZWxhdGl2ZVRpbWUsXG5cbiAgICAgICAgbW9udGhzOiBkZWZhdWx0TG9jYWxlTW9udGhzLFxuICAgICAgICBtb250aHNTaG9ydDogZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0LFxuXG4gICAgICAgIHdlZWs6IGRlZmF1bHRMb2NhbGVXZWVrLFxuXG4gICAgICAgIHdlZWtkYXlzOiBkZWZhdWx0TG9jYWxlV2Vla2RheXMsXG4gICAgICAgIHdlZWtkYXlzTWluOiBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4sXG4gICAgICAgIHdlZWtkYXlzU2hvcnQ6IGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0LFxuXG4gICAgICAgIG1lcmlkaWVtUGFyc2U6IGRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlXG4gICAgfTtcblxuICAgIC8vIGludGVybmFsIHN0b3JhZ2UgZm9yIGxvY2FsZSBjb25maWcgZmlsZXNcbiAgICB2YXIgbG9jYWxlcyA9IHt9O1xuICAgIHZhciBsb2NhbGVGYW1pbGllcyA9IHt9O1xuICAgIHZhciBnbG9iYWxMb2NhbGU7XG5cbiAgICBmdW5jdGlvbiBub3JtYWxpemVMb2NhbGUoa2V5KSB7XG4gICAgICAgIHJldHVybiBrZXkgPyBrZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCdfJywgJy0nKSA6IGtleTtcbiAgICB9XG5cbiAgICAvLyBwaWNrIHRoZSBsb2NhbGUgZnJvbSB0aGUgYXJyYXlcbiAgICAvLyB0cnkgWydlbi1hdScsICdlbi1nYiddIGFzICdlbi1hdScsICdlbi1nYicsICdlbicsIGFzIGluIG1vdmUgdGhyb3VnaCB0aGUgbGlzdCB0cnlpbmcgZWFjaFxuICAgIC8vIHN1YnN0cmluZyBmcm9tIG1vc3Qgc3BlY2lmaWMgdG8gbGVhc3QsIGJ1dCBtb3ZlIHRvIHRoZSBuZXh0IGFycmF5IGl0ZW0gaWYgaXQncyBhIG1vcmUgc3BlY2lmaWMgdmFyaWFudCB0aGFuIHRoZSBjdXJyZW50IHJvb3RcbiAgICBmdW5jdGlvbiBjaG9vc2VMb2NhbGUobmFtZXMpIHtcbiAgICAgICAgdmFyIGkgPSAwLCBqLCBuZXh0LCBsb2NhbGUsIHNwbGl0O1xuXG4gICAgICAgIHdoaWxlIChpIDwgbmFtZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBzcGxpdCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpXSkuc3BsaXQoJy0nKTtcbiAgICAgICAgICAgIGogPSBzcGxpdC5sZW5ndGg7XG4gICAgICAgICAgICBuZXh0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2kgKyAxXSk7XG4gICAgICAgICAgICBuZXh0ID0gbmV4dCA/IG5leHQuc3BsaXQoJy0nKSA6IG51bGw7XG4gICAgICAgICAgICB3aGlsZSAoaiA+IDApIHtcbiAgICAgICAgICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKHNwbGl0LnNsaWNlKDAsIGopLmpvaW4oJy0nKSk7XG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0Lmxlbmd0aCA+PSBqICYmIGNvbXBhcmVBcnJheXMoc3BsaXQsIG5leHQsIHRydWUpID49IGogLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhlIG5leHQgYXJyYXkgaXRlbSBpcyBiZXR0ZXIgdGhhbiBhIHNoYWxsb3dlciBzdWJzdHJpbmcgb2YgdGhpcyBvbmVcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGotLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2xvYmFsTG9jYWxlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvYWRMb2NhbGUobmFtZSkge1xuICAgICAgICB2YXIgb2xkTG9jYWxlID0gbnVsbDtcbiAgICAgICAgLy8gVE9ETzogRmluZCBhIGJldHRlciB3YXkgdG8gcmVnaXN0ZXIgYW5kIGxvYWQgYWxsIHRoZSBsb2NhbGVzIGluIE5vZGVcbiAgICAgICAgaWYgKCFsb2NhbGVzW25hbWVdICYmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykgJiZcbiAgICAgICAgICAgICAgICBtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgb2xkTG9jYWxlID0gZ2xvYmFsTG9jYWxlLl9hYmJyO1xuICAgICAgICAgICAgICAgIHZhciBhbGlhc2VkUmVxdWlyZSA9IHJlcXVpcmU7XG4gICAgICAgICAgICAgICAgYWxpYXNlZFJlcXVpcmUoJy4vbG9jYWxlLycgKyBuYW1lKTtcbiAgICAgICAgICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUob2xkTG9jYWxlKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGxvYWQgbG9jYWxlIGFuZCB0aGVuIHNldCB0aGUgZ2xvYmFsIGxvY2FsZS4gIElmXG4gICAgLy8gbm8gYXJndW1lbnRzIGFyZSBwYXNzZWQgaW4sIGl0IHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCBnbG9iYWxcbiAgICAvLyBsb2NhbGUga2V5LlxuICAgIGZ1bmN0aW9uIGdldFNldEdsb2JhbExvY2FsZSAoa2V5LCB2YWx1ZXMpIHtcbiAgICAgICAgdmFyIGRhdGE7XG4gICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGdldExvY2FsZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGRlZmluZUxvY2FsZShrZXksIHZhbHVlcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gbW9tZW50LmR1cmF0aW9uLl9sb2NhbGUgPSBtb21lbnQuX2xvY2FsZSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgZ2xvYmFsTG9jYWxlID0gZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIGNvbnNvbGUgIT09ICAndW5kZWZpbmVkJykgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vd2FybiB1c2VyIGlmIGFyZ3VtZW50cyBhcmUgcGFzc2VkIGJ1dCB0aGUgbG9jYWxlIGNvdWxkIG5vdCBiZSBzZXRcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdMb2NhbGUgJyArIGtleSArICAnIG5vdCBmb3VuZC4gRGlkIHlvdSBmb3JnZXQgdG8gbG9hZCBpdD8nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2xvYmFsTG9jYWxlLl9hYmJyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlZmluZUxvY2FsZSAobmFtZSwgY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWcgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBsb2NhbGUsIHBhcmVudENvbmZpZyA9IGJhc2VDb25maWc7XG4gICAgICAgICAgICBjb25maWcuYWJiciA9IG5hbWU7XG4gICAgICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKCdkZWZpbmVMb2NhbGVPdmVycmlkZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAndXNlIG1vbWVudC51cGRhdGVMb2NhbGUobG9jYWxlTmFtZSwgY29uZmlnKSB0byBjaGFuZ2UgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnYW4gZXhpc3RpbmcgbG9jYWxlLiBtb21lbnQuZGVmaW5lTG9jYWxlKGxvY2FsZU5hbWUsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbmZpZykgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgY3JlYXRpbmcgYSBuZXcgbG9jYWxlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2RlZmluZS1sb2NhbGUvIGZvciBtb3JlIGluZm8uJyk7XG4gICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tuYW1lXS5fY29uZmlnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb25maWcucGFyZW50TG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlc1tjb25maWcucGFyZW50TG9jYWxlXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbY29uZmlnLnBhcmVudExvY2FsZV0uX2NvbmZpZztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKGNvbmZpZy5wYXJlbnRMb2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZS5fY29uZmlnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzogY29uZmlnXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IG5ldyBMb2NhbGUobWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY29uZmlnKSk7XG5cbiAgICAgICAgICAgIGlmIChsb2NhbGVGYW1pbGllc1tuYW1lXSkge1xuICAgICAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW25hbWVdLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5lTG9jYWxlKHgubmFtZSwgeC5jb25maWcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGxvY2FsZSBBRlRFUiBhbGwgY2hpbGQgbG9jYWxlcyBoYXZlIGJlZW5cbiAgICAgICAgICAgIC8vIGNyZWF0ZWQsIHNvIHdlIHdvbid0IGVuZCB1cCB3aXRoIHRoZSBjaGlsZCBsb2NhbGUgc2V0LlxuICAgICAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuXG5cbiAgICAgICAgICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdXNlZnVsIGZvciB0ZXN0aW5nXG4gICAgICAgICAgICBkZWxldGUgbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlTG9jYWxlKG5hbWUsIGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBsb2NhbGUsIHRtcExvY2FsZSwgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcbiAgICAgICAgICAgIC8vIE1FUkdFXG4gICAgICAgICAgICB0bXBMb2NhbGUgPSBsb2FkTG9jYWxlKG5hbWUpO1xuICAgICAgICAgICAgaWYgKHRtcExvY2FsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gdG1wTG9jYWxlLl9jb25maWc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWcgPSBtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjb25maWcpO1xuICAgICAgICAgICAgbG9jYWxlID0gbmV3IExvY2FsZShjb25maWcpO1xuICAgICAgICAgICAgbG9jYWxlLnBhcmVudExvY2FsZSA9IGxvY2FsZXNbbmFtZV07XG4gICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbG9jYWxlO1xuXG4gICAgICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcbiAgICAgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHBhc3MgbnVsbCBmb3IgY29uZmlnIHRvIHVudXBkYXRlLCB1c2VmdWwgZm9yIHRlc3RzXG4gICAgICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbiAgICB9XG5cbiAgICAvLyByZXR1cm5zIGxvY2FsZSBkYXRhXG4gICAgZnVuY3Rpb24gZ2V0TG9jYWxlIChrZXkpIHtcbiAgICAgICAgdmFyIGxvY2FsZTtcblxuICAgICAgICBpZiAoa2V5ICYmIGtleS5fbG9jYWxlICYmIGtleS5fbG9jYWxlLl9hYmJyKSB7XG4gICAgICAgICAgICBrZXkgPSBrZXkuX2xvY2FsZS5fYWJicjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsTG9jYWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc0FycmF5KGtleSkpIHtcbiAgICAgICAgICAgIC8vc2hvcnQtY2lyY3VpdCBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoa2V5KTtcbiAgICAgICAgICAgIGlmIChsb2NhbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAga2V5ID0gW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hvb3NlTG9jYWxlKGtleSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdExvY2FsZXMoKSB7XG4gICAgICAgIHJldHVybiBrZXlzKGxvY2FsZXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoZWNrT3ZlcmZsb3cgKG0pIHtcbiAgICAgICAgdmFyIG92ZXJmbG93O1xuICAgICAgICB2YXIgYSA9IG0uX2E7XG5cbiAgICAgICAgaWYgKGEgJiYgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID09PSAtMikge1xuICAgICAgICAgICAgb3ZlcmZsb3cgPVxuICAgICAgICAgICAgICAgIGFbTU9OVEhdICAgICAgIDwgMCB8fCBhW01PTlRIXSAgICAgICA+IDExICA/IE1PTlRIIDpcbiAgICAgICAgICAgICAgICBhW0RBVEVdICAgICAgICA8IDEgfHwgYVtEQVRFXSAgICAgICAgPiBkYXlzSW5Nb250aChhW1lFQVJdLCBhW01PTlRIXSkgPyBEQVRFIDpcbiAgICAgICAgICAgICAgICBhW0hPVVJdICAgICAgICA8IDAgfHwgYVtIT1VSXSAgICAgICAgPiAyNCB8fCAoYVtIT1VSXSA9PT0gMjQgJiYgKGFbTUlOVVRFXSAhPT0gMCB8fCBhW1NFQ09ORF0gIT09IDAgfHwgYVtNSUxMSVNFQ09ORF0gIT09IDApKSA/IEhPVVIgOlxuICAgICAgICAgICAgICAgIGFbTUlOVVRFXSAgICAgIDwgMCB8fCBhW01JTlVURV0gICAgICA+IDU5ICA/IE1JTlVURSA6XG4gICAgICAgICAgICAgICAgYVtTRUNPTkRdICAgICAgPCAwIHx8IGFbU0VDT05EXSAgICAgID4gNTkgID8gU0VDT05EIDpcbiAgICAgICAgICAgICAgICBhW01JTExJU0VDT05EXSA8IDAgfHwgYVtNSUxMSVNFQ09ORF0gPiA5OTkgPyBNSUxMSVNFQ09ORCA6XG4gICAgICAgICAgICAgICAgLTE7XG5cbiAgICAgICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93RGF5T2ZZZWFyICYmIChvdmVyZmxvdyA8IFlFQVIgfHwgb3ZlcmZsb3cgPiBEQVRFKSkge1xuICAgICAgICAgICAgICAgIG92ZXJmbG93ID0gREFURTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93V2Vla3MgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrZGF5ICYmIG92ZXJmbG93ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIG92ZXJmbG93ID0gV0VFS0RBWTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID0gb3ZlcmZsb3c7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG5cbiAgICAvLyBQaWNrIHRoZSBmaXJzdCBkZWZpbmVkIG9mIHR3byBvciB0aHJlZSBhcmd1bWVudHMuXG4gICAgZnVuY3Rpb24gZGVmYXVsdHMoYSwgYiwgYykge1xuICAgICAgICBpZiAoYSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYiAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZykge1xuICAgICAgICAvLyBob29rcyBpcyBhY3R1YWxseSB0aGUgZXhwb3J0ZWQgbW9tZW50IG9iamVjdFxuICAgICAgICB2YXIgbm93VmFsdWUgPSBuZXcgRGF0ZShob29rcy5ub3coKSk7XG4gICAgICAgIGlmIChjb25maWcuX3VzZVVUQykge1xuICAgICAgICAgICAgcmV0dXJuIFtub3dWYWx1ZS5nZXRVVENGdWxsWWVhcigpLCBub3dWYWx1ZS5nZXRVVENNb250aCgpLCBub3dWYWx1ZS5nZXRVVENEYXRlKCldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbbm93VmFsdWUuZ2V0RnVsbFllYXIoKSwgbm93VmFsdWUuZ2V0TW9udGgoKSwgbm93VmFsdWUuZ2V0RGF0ZSgpXTtcbiAgICB9XG5cbiAgICAvLyBjb252ZXJ0IGFuIGFycmF5IHRvIGEgZGF0ZS5cbiAgICAvLyB0aGUgYXJyYXkgc2hvdWxkIG1pcnJvciB0aGUgcGFyYW1ldGVycyBiZWxvd1xuICAgIC8vIG5vdGU6IGFsbCB2YWx1ZXMgcGFzdCB0aGUgeWVhciBhcmUgb3B0aW9uYWwgYW5kIHdpbGwgZGVmYXVsdCB0byB0aGUgbG93ZXN0IHBvc3NpYmxlIHZhbHVlLlxuICAgIC8vIFt5ZWFyLCBtb250aCwgZGF5ICwgaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpc2Vjb25kXVxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21BcnJheSAoY29uZmlnKSB7XG4gICAgICAgIHZhciBpLCBkYXRlLCBpbnB1dCA9IFtdLCBjdXJyZW50RGF0ZSwgZXhwZWN0ZWRXZWVrZGF5LCB5ZWFyVG9Vc2U7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5fZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudERhdGUgPSBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZyk7XG5cbiAgICAgICAgLy9jb21wdXRlIGRheSBvZiB0aGUgeWVhciBmcm9tIHdlZWtzIGFuZCB3ZWVrZGF5c1xuICAgICAgICBpZiAoY29uZmlnLl93ICYmIGNvbmZpZy5fYVtEQVRFXSA9PSBudWxsICYmIGNvbmZpZy5fYVtNT05USF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2lmIHRoZSBkYXkgb2YgdGhlIHllYXIgaXMgc2V0LCBmaWd1cmUgb3V0IHdoYXQgaXQgaXNcbiAgICAgICAgaWYgKGNvbmZpZy5fZGF5T2ZZZWFyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHllYXJUb1VzZSA9IGRlZmF1bHRzKGNvbmZpZy5fYVtZRUFSXSwgY3VycmVudERhdGVbWUVBUl0pO1xuXG4gICAgICAgICAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXJUb1VzZSkgfHwgY29uZmlnLl9kYXlPZlllYXIgPT09IDApIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dEYXlPZlllYXIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRlID0gY3JlYXRlVVRDRGF0ZSh5ZWFyVG9Vc2UsIDAsIGNvbmZpZy5fZGF5T2ZZZWFyKTtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtNT05USF0gPSBkYXRlLmdldFVUQ01vbnRoKCk7XG4gICAgICAgICAgICBjb25maWcuX2FbREFURV0gPSBkYXRlLmdldFVUQ0RhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlZmF1bHQgdG8gY3VycmVudCBkYXRlLlxuICAgICAgICAvLyAqIGlmIG5vIHllYXIsIG1vbnRoLCBkYXkgb2YgbW9udGggYXJlIGdpdmVuLCBkZWZhdWx0IHRvIHRvZGF5XG4gICAgICAgIC8vICogaWYgZGF5IG9mIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG1vbnRoIGFuZCB5ZWFyXG4gICAgICAgIC8vICogaWYgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgb25seSB5ZWFyXG4gICAgICAgIC8vICogaWYgeWVhciBpcyBnaXZlbiwgZG9uJ3QgZGVmYXVsdCBhbnl0aGluZ1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMyAmJiBjb25maWcuX2FbaV0gPT0gbnVsbDsgKytpKSB7XG4gICAgICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IGN1cnJlbnREYXRlW2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gWmVybyBvdXQgd2hhdGV2ZXIgd2FzIG5vdCBkZWZhdWx0ZWQsIGluY2x1ZGluZyB0aW1lXG4gICAgICAgIGZvciAoOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IChjb25maWcuX2FbaV0gPT0gbnVsbCkgPyAoaSA9PT0gMiA/IDEgOiAwKSA6IGNvbmZpZy5fYVtpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciAyNDowMDowMC4wMDBcbiAgICAgICAgaWYgKGNvbmZpZy5fYVtIT1VSXSA9PT0gMjQgJiZcbiAgICAgICAgICAgICAgICBjb25maWcuX2FbTUlOVVRFXSA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtTRUNPTkRdID09PSAwICYmXG4gICAgICAgICAgICAgICAgY29uZmlnLl9hW01JTExJU0VDT05EXSA9PT0gMCkge1xuICAgICAgICAgICAgY29uZmlnLl9uZXh0RGF5ID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25maWcuX2QgPSAoY29uZmlnLl91c2VVVEMgPyBjcmVhdGVVVENEYXRlIDogY3JlYXRlRGF0ZSkuYXBwbHkobnVsbCwgaW5wdXQpO1xuICAgICAgICBleHBlY3RlZFdlZWtkYXkgPSBjb25maWcuX3VzZVVUQyA/IGNvbmZpZy5fZC5nZXRVVENEYXkoKSA6IGNvbmZpZy5fZC5nZXREYXkoKTtcblxuICAgICAgICAvLyBBcHBseSB0aW1lem9uZSBvZmZzZXQgZnJvbSBpbnB1dC4gVGhlIGFjdHVhbCB1dGNPZmZzZXQgY2FuIGJlIGNoYW5nZWRcbiAgICAgICAgLy8gd2l0aCBwYXJzZVpvbmUuXG4gICAgICAgIGlmIChjb25maWcuX3R6bSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25maWcuX2Quc2V0VVRDTWludXRlcyhjb25maWcuX2QuZ2V0VVRDTWludXRlcygpIC0gY29uZmlnLl90em0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbmZpZy5fbmV4dERheSkge1xuICAgICAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMjQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBmb3IgbWlzbWF0Y2hpbmcgZGF5IG9mIHdlZWtcbiAgICAgICAgaWYgKGNvbmZpZy5fdyAmJiB0eXBlb2YgY29uZmlnLl93LmQgIT09ICd1bmRlZmluZWQnICYmIGNvbmZpZy5fdy5kICE9PSBleHBlY3RlZFdlZWtkYXkpIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLndlZWtkYXlNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKSB7XG4gICAgICAgIHZhciB3LCB3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3ksIHRlbXAsIHdlZWtkYXlPdmVyZmxvdztcblxuICAgICAgICB3ID0gY29uZmlnLl93O1xuICAgICAgICBpZiAody5HRyAhPSBudWxsIHx8IHcuVyAhPSBudWxsIHx8IHcuRSAhPSBudWxsKSB7XG4gICAgICAgICAgICBkb3cgPSAxO1xuICAgICAgICAgICAgZG95ID0gNDtcblxuICAgICAgICAgICAgLy8gVE9ETzogV2UgbmVlZCB0byB0YWtlIHRoZSBjdXJyZW50IGlzb1dlZWtZZWFyLCBidXQgdGhhdCBkZXBlbmRzIG9uXG4gICAgICAgICAgICAvLyBob3cgd2UgaW50ZXJwcmV0IG5vdyAobG9jYWwsIHV0YywgZml4ZWQgb2Zmc2V0KS4gU28gY3JlYXRlXG4gICAgICAgICAgICAvLyBhIG5vdyB2ZXJzaW9uIG9mIGN1cnJlbnQgY29uZmlnICh0YWtlIGxvY2FsL3V0Yy9vZmZzZXQgZmxhZ3MsIGFuZFxuICAgICAgICAgICAgLy8gY3JlYXRlIG5vdykuXG4gICAgICAgICAgICB3ZWVrWWVhciA9IGRlZmF1bHRzKHcuR0csIGNvbmZpZy5fYVtZRUFSXSwgd2Vla09mWWVhcihjcmVhdGVMb2NhbCgpLCAxLCA0KS55ZWFyKTtcbiAgICAgICAgICAgIHdlZWsgPSBkZWZhdWx0cyh3LlcsIDEpO1xuICAgICAgICAgICAgd2Vla2RheSA9IGRlZmF1bHRzKHcuRSwgMSk7XG4gICAgICAgICAgICBpZiAod2Vla2RheSA8IDEgfHwgd2Vla2RheSA+IDcpIHtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5T3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG93ID0gY29uZmlnLl9sb2NhbGUuX3dlZWsuZG93O1xuICAgICAgICAgICAgZG95ID0gY29uZmlnLl9sb2NhbGUuX3dlZWsuZG95O1xuXG4gICAgICAgICAgICB2YXIgY3VyV2VlayA9IHdlZWtPZlllYXIoY3JlYXRlTG9jYWwoKSwgZG93LCBkb3kpO1xuXG4gICAgICAgICAgICB3ZWVrWWVhciA9IGRlZmF1bHRzKHcuZ2csIGNvbmZpZy5fYVtZRUFSXSwgY3VyV2Vlay55ZWFyKTtcblxuICAgICAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IHdlZWsuXG4gICAgICAgICAgICB3ZWVrID0gZGVmYXVsdHMody53LCBjdXJXZWVrLndlZWspO1xuXG4gICAgICAgICAgICBpZiAody5kICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZWVrZGF5IC0tIGxvdyBkYXkgbnVtYmVycyBhcmUgY29uc2lkZXJlZCBuZXh0IHdlZWtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gdy5kO1xuICAgICAgICAgICAgICAgIGlmICh3ZWVrZGF5IDwgMCB8fCB3ZWVrZGF5ID4gNikge1xuICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5T3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAody5lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBsb2NhbCB3ZWVrZGF5IC0tIGNvdW50aW5nIHN0YXJ0cyBmcm9tIGJlZ2lubmluZyBvZiB3ZWVrXG4gICAgICAgICAgICAgICAgd2Vla2RheSA9IHcuZSArIGRvdztcbiAgICAgICAgICAgICAgICBpZiAody5lIDwgMCB8fCB3LmUgPiA2KSB7XG4gICAgICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBkZWZhdWx0IHRvIGJlZ2lubmluZyBvZiB3ZWVrXG4gICAgICAgICAgICAgICAgd2Vla2RheSA9IGRvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAod2VlayA8IDEgfHwgd2VlayA+IHdlZWtzSW5ZZWFyKHdlZWtZZWFyLCBkb3csIGRveSkpIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh3ZWVrZGF5T3ZlcmZsb3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla2RheSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZW1wID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSk7XG4gICAgICAgICAgICBjb25maWcuX2FbWUVBUl0gPSB0ZW1wLnllYXI7XG4gICAgICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRlbXAuZGF5T2ZZZWFyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gaXNvIDg2MDEgcmVnZXhcbiAgICAvLyAwMDAwLTAwLTAwIDAwMDAtVzAwIG9yIDAwMDAtVzAwLTAgKyBUICsgMDAgb3IgMDA6MDAgb3IgMDA6MDA6MDAgb3IgMDA6MDA6MDAuMDAwICsgKzAwOjAwIG9yICswMDAwIG9yICswMClcbiAgICB2YXIgZXh0ZW5kZWRJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSktKD86XFxkXFxkLVxcZFxcZHxXXFxkXFxkLVxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OjpcXGRcXGQoPzo6XFxkXFxkKD86Wy4sXVxcZCspPyk/KT8pKFtcXCtcXC1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLztcbiAgICB2YXIgYmFzaWNJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSkoPzpcXGRcXGRcXGRcXGR8V1xcZFxcZFxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OlxcZFxcZCg/OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC87XG5cbiAgICB2YXIgdHpSZWdleCA9IC9afFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/LztcblxuICAgIHZhciBpc29EYXRlcyA9IFtcbiAgICAgICAgWydZWVlZWVktTU0tREQnLCAvWystXVxcZHs2fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgICAgIFsnWVlZWS1NTS1ERCcsIC9cXGR7NH0tXFxkXFxkLVxcZFxcZC9dLFxuICAgICAgICBbJ0dHR0ctW1ddV1ctRScsIC9cXGR7NH0tV1xcZFxcZC1cXGQvXSxcbiAgICAgICAgWydHR0dHLVtXXVdXJywgL1xcZHs0fS1XXFxkXFxkLywgZmFsc2VdLFxuICAgICAgICBbJ1lZWVktREREJywgL1xcZHs0fS1cXGR7M30vXSxcbiAgICAgICAgWydZWVlZLU1NJywgL1xcZHs0fS1cXGRcXGQvLCBmYWxzZV0sXG4gICAgICAgIFsnWVlZWVlZTU1ERCcsIC9bKy1dXFxkezEwfS9dLFxuICAgICAgICBbJ1lZWVlNTUREJywgL1xcZHs4fS9dLFxuICAgICAgICAvLyBZWVlZTU0gaXMgTk9UIGFsbG93ZWQgYnkgdGhlIHN0YW5kYXJkXG4gICAgICAgIFsnR0dHR1tXXVdXRScsIC9cXGR7NH1XXFxkezN9L10sXG4gICAgICAgIFsnR0dHR1tXXVdXJywgL1xcZHs0fVdcXGR7Mn0vLCBmYWxzZV0sXG4gICAgICAgIFsnWVlZWURERCcsIC9cXGR7N30vXVxuICAgIF07XG5cbiAgICAvLyBpc28gdGltZSBmb3JtYXRzIGFuZCByZWdleGVzXG4gICAgdmFyIGlzb1RpbWVzID0gW1xuICAgICAgICBbJ0hIOm1tOnNzLlNTU1MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGRcXC5cXGQrL10sXG4gICAgICAgIFsnSEg6bW06c3MsU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZCxcXGQrL10sXG4gICAgICAgIFsnSEg6bW06c3MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGQvXSxcbiAgICAgICAgWydISDptbScsIC9cXGRcXGQ6XFxkXFxkL10sXG4gICAgICAgIFsnSEhtbXNzLlNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkXFwuXFxkKy9dLFxuICAgICAgICBbJ0hIbW1zcyxTU1NTJywgL1xcZFxcZFxcZFxcZFxcZFxcZCxcXGQrL10sXG4gICAgICAgIFsnSEhtbXNzJywgL1xcZFxcZFxcZFxcZFxcZFxcZC9dLFxuICAgICAgICBbJ0hIbW0nLCAvXFxkXFxkXFxkXFxkL10sXG4gICAgICAgIFsnSEgnLCAvXFxkXFxkL11cbiAgICBdO1xuXG4gICAgdmFyIGFzcE5ldEpzb25SZWdleCA9IC9eXFwvP0RhdGVcXCgoXFwtP1xcZCspL2k7XG5cbiAgICAvLyBkYXRlIGZyb20gaXNvIGZvcm1hdFxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21JU08oY29uZmlnKSB7XG4gICAgICAgIHZhciBpLCBsLFxuICAgICAgICAgICAgc3RyaW5nID0gY29uZmlnLl9pLFxuICAgICAgICAgICAgbWF0Y2ggPSBleHRlbmRlZElzb1JlZ2V4LmV4ZWMoc3RyaW5nKSB8fCBiYXNpY0lzb1JlZ2V4LmV4ZWMoc3RyaW5nKSxcbiAgICAgICAgICAgIGFsbG93VGltZSwgZGF0ZUZvcm1hdCwgdGltZUZvcm1hdCwgdHpGb3JtYXQ7XG5cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pc28gPSB0cnVlO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvRGF0ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzb0RhdGVzW2ldWzFdLmV4ZWMobWF0Y2hbMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBpc29EYXRlc1tpXVswXTtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dUaW1lID0gaXNvRGF0ZXNbaV1bMl0gIT09IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0ZUZvcm1hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hdGNoWzNdKSB7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IGlzb1RpbWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNvVGltZXNbaV1bMV0uZXhlYyhtYXRjaFszXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoWzJdIHNob3VsZCBiZSAnVCcgb3Igc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVGb3JtYXQgPSAobWF0Y2hbMl0gfHwgJyAnKSArIGlzb1RpbWVzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRpbWVGb3JtYXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghYWxsb3dUaW1lICYmIHRpbWVGb3JtYXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtYXRjaFs0XSkge1xuICAgICAgICAgICAgICAgIGlmICh0elJlZ2V4LmV4ZWMobWF0Y2hbNF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHR6Rm9ybWF0ID0gJ1onO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uZmlnLl9mID0gZGF0ZUZvcm1hdCArICh0aW1lRm9ybWF0IHx8ICcnKSArICh0ekZvcm1hdCB8fCAnJyk7XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJGQyAyODIyIHJlZ2V4OiBGb3IgZGV0YWlscyBzZWUgaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzI4MjIjc2VjdGlvbi0zLjNcbiAgICB2YXIgcmZjMjgyMiA9IC9eKD86KE1vbnxUdWV8V2VkfFRodXxGcml8U2F0fFN1biksP1xccyk/KFxcZHsxLDJ9KVxccyhKYW58RmVifE1hcnxBcHJ8TWF5fEp1bnxKdWx8QXVnfFNlcHxPY3R8Tm92fERlYylcXHMoXFxkezIsNH0pXFxzKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkpP1xccyg/OihVVHxHTVR8W0VDTVBdW1NEXVQpfChbWnpdKXwoWystXVxcZHs0fSkpJC87XG5cbiAgICBmdW5jdGlvbiBleHRyYWN0RnJvbVJGQzI4MjJTdHJpbmdzKHllYXJTdHIsIG1vbnRoU3RyLCBkYXlTdHIsIGhvdXJTdHIsIG1pbnV0ZVN0ciwgc2Vjb25kU3RyKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXG4gICAgICAgICAgICB1bnRydW5jYXRlWWVhcih5ZWFyU3RyKSxcbiAgICAgICAgICAgIGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydC5pbmRleE9mKG1vbnRoU3RyKSxcbiAgICAgICAgICAgIHBhcnNlSW50KGRheVN0ciwgMTApLFxuICAgICAgICAgICAgcGFyc2VJbnQoaG91clN0ciwgMTApLFxuICAgICAgICAgICAgcGFyc2VJbnQobWludXRlU3RyLCAxMClcbiAgICAgICAgXTtcblxuICAgICAgICBpZiAoc2Vjb25kU3RyKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChwYXJzZUludChzZWNvbmRTdHIsIDEwKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVudHJ1bmNhdGVZZWFyKHllYXJTdHIpIHtcbiAgICAgICAgdmFyIHllYXIgPSBwYXJzZUludCh5ZWFyU3RyLCAxMCk7XG4gICAgICAgIGlmICh5ZWFyIDw9IDQ5KSB7XG4gICAgICAgICAgICByZXR1cm4gMjAwMCArIHllYXI7XG4gICAgICAgIH0gZWxzZSBpZiAoeWVhciA8PSA5OTkpIHtcbiAgICAgICAgICAgIHJldHVybiAxOTAwICsgeWVhcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geWVhcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVwcm9jZXNzUkZDMjgyMihzKSB7XG4gICAgICAgIC8vIFJlbW92ZSBjb21tZW50cyBhbmQgZm9sZGluZyB3aGl0ZXNwYWNlIGFuZCByZXBsYWNlIG11bHRpcGxlLXNwYWNlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UoL1xcKFteKV0qXFwpfFtcXG5cXHRdL2csICcgJykucmVwbGFjZSgvKFxcc1xccyspL2csICcgJykucmVwbGFjZSgvXlxcc1xccyovLCAnJykucmVwbGFjZSgvXFxzXFxzKiQvLCAnJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tXZWVrZGF5KHdlZWtkYXlTdHIsIHBhcnNlZElucHV0LCBjb25maWcpIHtcbiAgICAgICAgaWYgKHdlZWtkYXlTdHIpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IFJlcGxhY2UgdGhlIHZhbmlsbGEgSlMgRGF0ZSBvYmplY3Qgd2l0aCBhbiBpbmRlcGVudGVudCBkYXktb2Ytd2VlayBjaGVjay5cbiAgICAgICAgICAgIHZhciB3ZWVrZGF5UHJvdmlkZWQgPSBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydC5pbmRleE9mKHdlZWtkYXlTdHIpLFxuICAgICAgICAgICAgICAgIHdlZWtkYXlBY3R1YWwgPSBuZXcgRGF0ZShwYXJzZWRJbnB1dFswXSwgcGFyc2VkSW5wdXRbMV0sIHBhcnNlZElucHV0WzJdKS5nZXREYXkoKTtcbiAgICAgICAgICAgIGlmICh3ZWVrZGF5UHJvdmlkZWQgIT09IHdlZWtkYXlBY3R1YWwpIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS53ZWVrZGF5TWlzbWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgb2JzT2Zmc2V0cyA9IHtcbiAgICAgICAgVVQ6IDAsXG4gICAgICAgIEdNVDogMCxcbiAgICAgICAgRURUOiAtNCAqIDYwLFxuICAgICAgICBFU1Q6IC01ICogNjAsXG4gICAgICAgIENEVDogLTUgKiA2MCxcbiAgICAgICAgQ1NUOiAtNiAqIDYwLFxuICAgICAgICBNRFQ6IC02ICogNjAsXG4gICAgICAgIE1TVDogLTcgKiA2MCxcbiAgICAgICAgUERUOiAtNyAqIDYwLFxuICAgICAgICBQU1Q6IC04ICogNjBcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlT2Zmc2V0KG9ic09mZnNldCwgbWlsaXRhcnlPZmZzZXQsIG51bU9mZnNldCkge1xuICAgICAgICBpZiAob2JzT2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzT2Zmc2V0c1tvYnNPZmZzZXRdO1xuICAgICAgICB9IGVsc2UgaWYgKG1pbGl0YXJ5T2Zmc2V0KSB7XG4gICAgICAgICAgICAvLyB0aGUgb25seSBhbGxvd2VkIG1pbGl0YXJ5IHR6IGlzIFpcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGhtID0gcGFyc2VJbnQobnVtT2Zmc2V0LCAxMCk7XG4gICAgICAgICAgICB2YXIgbSA9IGhtICUgMTAwLCBoID0gKGhtIC0gbSkgLyAxMDA7XG4gICAgICAgICAgICByZXR1cm4gaCAqIDYwICsgbTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRhdGUgYW5kIHRpbWUgZnJvbSByZWYgMjgyMiBmb3JtYXRcbiAgICBmdW5jdGlvbiBjb25maWdGcm9tUkZDMjgyMihjb25maWcpIHtcbiAgICAgICAgdmFyIG1hdGNoID0gcmZjMjgyMi5leGVjKHByZXByb2Nlc3NSRkMyODIyKGNvbmZpZy5faSkpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIHZhciBwYXJzZWRBcnJheSA9IGV4dHJhY3RGcm9tUkZDMjgyMlN0cmluZ3MobWF0Y2hbNF0sIG1hdGNoWzNdLCBtYXRjaFsyXSwgbWF0Y2hbNV0sIG1hdGNoWzZdLCBtYXRjaFs3XSk7XG4gICAgICAgICAgICBpZiAoIWNoZWNrV2Vla2RheShtYXRjaFsxXSwgcGFyc2VkQXJyYXksIGNvbmZpZykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbmZpZy5fYSA9IHBhcnNlZEFycmF5O1xuICAgICAgICAgICAgY29uZmlnLl90em0gPSBjYWxjdWxhdGVPZmZzZXQobWF0Y2hbOF0sIG1hdGNoWzldLCBtYXRjaFsxMF0pO1xuXG4gICAgICAgICAgICBjb25maWcuX2QgPSBjcmVhdGVVVENEYXRlLmFwcGx5KG51bGwsIGNvbmZpZy5fYSk7XG4gICAgICAgICAgICBjb25maWcuX2Quc2V0VVRDTWludXRlcyhjb25maWcuX2QuZ2V0VVRDTWludXRlcygpIC0gY29uZmlnLl90em0pO1xuXG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5yZmMyODIyID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZGF0ZSBmcm9tIGlzbyBmb3JtYXQgb3IgZmFsbGJhY2tcbiAgICBmdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nKGNvbmZpZykge1xuICAgICAgICB2YXIgbWF0Y2hlZCA9IGFzcE5ldEpzb25SZWdleC5leGVjKGNvbmZpZy5faSk7XG5cbiAgICAgICAgaWYgKG1hdGNoZWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKCttYXRjaGVkWzFdKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcbiAgICAgICAgaWYgKGNvbmZpZy5faXNWYWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBjb25maWcuX2lzVmFsaWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25maWdGcm9tUkZDMjgyMihjb25maWcpO1xuICAgICAgICBpZiAoY29uZmlnLl9pc1ZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZGVsZXRlIGNvbmZpZy5faXNWYWxpZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpbmFsIGF0dGVtcHQsIHVzZSBJbnB1dCBGYWxsYmFja1xuICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgIH1cblxuICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrID0gZGVwcmVjYXRlKFxuICAgICAgICAndmFsdWUgcHJvdmlkZWQgaXMgbm90IGluIGEgcmVjb2duaXplZCBSRkMyODIyIG9yIElTTyBmb3JtYXQuIG1vbWVudCBjb25zdHJ1Y3Rpb24gZmFsbHMgYmFjayB0byBqcyBEYXRlKCksICcgK1xuICAgICAgICAnd2hpY2ggaXMgbm90IHJlbGlhYmxlIGFjcm9zcyBhbGwgYnJvd3NlcnMgYW5kIHZlcnNpb25zLiBOb24gUkZDMjgyMi9JU08gZGF0ZSBmb3JtYXRzIGFyZSAnICtcbiAgICAgICAgJ2Rpc2NvdXJhZ2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYW4gdXBjb21pbmcgbWFqb3IgcmVsZWFzZS4gUGxlYXNlIHJlZmVyIHRvICcgK1xuICAgICAgICAnaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9qcy1kYXRlLyBmb3IgbW9yZSBpbmZvLicsXG4gICAgICAgIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5faSArIChjb25maWcuX3VzZVVUQyA/ICcgVVRDJyA6ICcnKSk7XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgLy8gY29uc3RhbnQgdGhhdCByZWZlcnMgdG8gdGhlIElTTyBzdGFuZGFyZFxuICAgIGhvb2tzLklTT184NjAxID0gZnVuY3Rpb24gKCkge307XG5cbiAgICAvLyBjb25zdGFudCB0aGF0IHJlZmVycyB0byB0aGUgUkZDIDI4MjIgZm9ybVxuICAgIGhvb2tzLlJGQ18yODIyID0gZnVuY3Rpb24gKCkge307XG5cbiAgICAvLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBmb3JtYXQgc3RyaW5nXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpIHtcbiAgICAgICAgLy8gVE9ETzogTW92ZSB0aGlzIHRvIGFub3RoZXIgcGFydCBvZiB0aGUgY3JlYXRpb24gZmxvdyB0byBwcmV2ZW50IGNpcmN1bGFyIGRlcHNcbiAgICAgICAgaWYgKGNvbmZpZy5fZiA9PT0gaG9va3MuSVNPXzg2MDEpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLl9mID09PSBob29rcy5SRkNfMjgyMikge1xuICAgICAgICAgICAgY29uZmlnRnJvbVJGQzI4MjIoY29uZmlnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25maWcuX2EgPSBbXTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSB0cnVlO1xuXG4gICAgICAgIC8vIFRoaXMgYXJyYXkgaXMgdXNlZCB0byBtYWtlIGEgRGF0ZSwgZWl0aGVyIHdpdGggYG5ldyBEYXRlYCBvciBgRGF0ZS5VVENgXG4gICAgICAgIHZhciBzdHJpbmcgPSAnJyArIGNvbmZpZy5faSxcbiAgICAgICAgICAgIGksIHBhcnNlZElucHV0LCB0b2tlbnMsIHRva2VuLCBza2lwcGVkLFxuICAgICAgICAgICAgc3RyaW5nTGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcbiAgICAgICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggPSAwO1xuXG4gICAgICAgIHRva2VucyA9IGV4cGFuZEZvcm1hdChjb25maWcuX2YsIGNvbmZpZy5fbG9jYWxlKS5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSB8fCBbXTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgIHBhcnNlZElucHV0ID0gKHN0cmluZy5tYXRjaChnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpIHx8IFtdKVswXTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0b2tlbicsIHRva2VuLCAncGFyc2VkSW5wdXQnLCBwYXJzZWRJbnB1dCxcbiAgICAgICAgICAgIC8vICAgICAgICAgJ3JlZ2V4JywgZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLCBjb25maWcpKTtcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgICAgIHNraXBwZWQgPSBzdHJpbmcuc3Vic3RyKDAsIHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSk7XG4gICAgICAgICAgICAgICAgaWYgKHNraXBwZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHNraXBwZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc2xpY2Uoc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpICsgcGFyc2VkSW5wdXQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoICs9IHBhcnNlZElucHV0Lmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRvbid0IHBhcnNlIGlmIGl0J3Mgbm90IGEga25vd24gdG9rZW5cbiAgICAgICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0pIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIHBhcnNlZElucHV0LCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29uZmlnLl9zdHJpY3QgJiYgIXBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHJlbWFpbmluZyB1bnBhcnNlZCBpbnB1dCBsZW5ndGggdG8gdGhlIHN0cmluZ1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5jaGFyc0xlZnRPdmVyID0gc3RyaW5nTGVuZ3RoIC0gdG90YWxQYXJzZWRJbnB1dExlbmd0aDtcbiAgICAgICAgaWYgKHN0cmluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHN0cmluZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbGVhciBfMTJoIGZsYWcgaWYgaG91ciBpcyA8PSAxMlxuICAgICAgICBpZiAoY29uZmlnLl9hW0hPVVJdIDw9IDEyICYmXG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID09PSB0cnVlICYmXG4gICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPiAwKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykucGFyc2VkRGF0ZVBhcnRzID0gY29uZmlnLl9hLnNsaWNlKDApO1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5tZXJpZGllbSA9IGNvbmZpZy5fbWVyaWRpZW07XG4gICAgICAgIC8vIGhhbmRsZSBtZXJpZGllbVxuICAgICAgICBjb25maWcuX2FbSE9VUl0gPSBtZXJpZGllbUZpeFdyYXAoY29uZmlnLl9sb2NhbGUsIGNvbmZpZy5fYVtIT1VSXSwgY29uZmlnLl9tZXJpZGllbSk7XG5cbiAgICAgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgICAgIGNoZWNrT3ZlcmZsb3coY29uZmlnKTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIG1lcmlkaWVtRml4V3JhcCAobG9jYWxlLCBob3VyLCBtZXJpZGllbSkge1xuICAgICAgICB2YXIgaXNQbTtcblxuICAgICAgICBpZiAobWVyaWRpZW0gPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gbm90aGluZyB0byBkb1xuICAgICAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvY2FsZS5tZXJpZGllbUhvdXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZS5tZXJpZGllbUhvdXIoaG91ciwgbWVyaWRpZW0pO1xuICAgICAgICB9IGVsc2UgaWYgKGxvY2FsZS5pc1BNICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrXG4gICAgICAgICAgICBpc1BtID0gbG9jYWxlLmlzUE0obWVyaWRpZW0pO1xuICAgICAgICAgICAgaWYgKGlzUG0gJiYgaG91ciA8IDEyKSB7XG4gICAgICAgICAgICAgICAgaG91ciArPSAxMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNQbSAmJiBob3VyID09PSAxMikge1xuICAgICAgICAgICAgICAgIGhvdXIgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG5vdCBzdXBwb3NlZCB0byBoYXBwZW5cbiAgICAgICAgICAgIHJldHVybiBob3VyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZGF0ZSBmcm9tIHN0cmluZyBhbmQgYXJyYXkgb2YgZm9ybWF0IHN0cmluZ3NcbiAgICBmdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKSB7XG4gICAgICAgIHZhciB0ZW1wQ29uZmlnLFxuICAgICAgICAgICAgYmVzdE1vbWVudCxcblxuICAgICAgICAgICAgc2NvcmVUb0JlYXQsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgY3VycmVudFNjb3JlO1xuXG4gICAgICAgIGlmIChjb25maWcuX2YubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkRm9ybWF0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29uZmlnLl9mLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjdXJyZW50U2NvcmUgPSAwO1xuICAgICAgICAgICAgdGVtcENvbmZpZyA9IGNvcHlDb25maWcoe30sIGNvbmZpZyk7XG4gICAgICAgICAgICBpZiAoY29uZmlnLl91c2VVVEMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRlbXBDb25maWcuX3VzZVVUQyA9IGNvbmZpZy5fdXNlVVRDO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVtcENvbmZpZy5fZiA9IGNvbmZpZy5fZltpXTtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQodGVtcENvbmZpZyk7XG5cbiAgICAgICAgICAgIGlmICghaXNWYWxpZCh0ZW1wQ29uZmlnKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbnkgaW5wdXQgdGhhdCB3YXMgbm90IHBhcnNlZCBhZGQgYSBwZW5hbHR5IGZvciB0aGF0IGZvcm1hdFxuICAgICAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5jaGFyc0xlZnRPdmVyO1xuXG4gICAgICAgICAgICAvL29yIHRva2Vuc1xuICAgICAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS51bnVzZWRUb2tlbnMubGVuZ3RoICogMTA7XG5cbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5zY29yZSA9IGN1cnJlbnRTY29yZTtcblxuICAgICAgICAgICAgaWYgKHNjb3JlVG9CZWF0ID09IG51bGwgfHwgY3VycmVudFNjb3JlIDwgc2NvcmVUb0JlYXQpIHtcbiAgICAgICAgICAgICAgICBzY29yZVRvQmVhdCA9IGN1cnJlbnRTY29yZTtcbiAgICAgICAgICAgICAgICBiZXN0TW9tZW50ID0gdGVtcENvbmZpZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGV4dGVuZChjb25maWcsIGJlc3RNb21lbnQgfHwgdGVtcENvbmZpZyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbU9iamVjdChjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZy5fZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSBub3JtYWxpemVPYmplY3RVbml0cyhjb25maWcuX2kpO1xuICAgICAgICBjb25maWcuX2EgPSBtYXAoW2kueWVhciwgaS5tb250aCwgaS5kYXkgfHwgaS5kYXRlLCBpLmhvdXIsIGkubWludXRlLCBpLnNlY29uZCwgaS5taWxsaXNlY29uZF0sIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBvYmogJiYgcGFyc2VJbnQob2JqLCAxMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZyb21Db25maWcgKGNvbmZpZykge1xuICAgICAgICB2YXIgcmVzID0gbmV3IE1vbWVudChjaGVja092ZXJmbG93KHByZXBhcmVDb25maWcoY29uZmlnKSkpO1xuICAgICAgICBpZiAocmVzLl9uZXh0RGF5KSB7XG4gICAgICAgICAgICAvLyBBZGRpbmcgaXMgc21hcnQgZW5vdWdoIGFyb3VuZCBEU1RcbiAgICAgICAgICAgIHJlcy5hZGQoMSwgJ2QnKTtcbiAgICAgICAgICAgIHJlcy5fbmV4dERheSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlcGFyZUNvbmZpZyAoY29uZmlnKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faSxcbiAgICAgICAgICAgIGZvcm1hdCA9IGNvbmZpZy5fZjtcblxuICAgICAgICBjb25maWcuX2xvY2FsZSA9IGNvbmZpZy5fbG9jYWxlIHx8IGdldExvY2FsZShjb25maWcuX2wpO1xuXG4gICAgICAgIGlmIChpbnB1dCA9PT0gbnVsbCB8fCAoZm9ybWF0ID09PSB1bmRlZmluZWQgJiYgaW5wdXQgPT09ICcnKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoe251bGxJbnB1dDogdHJ1ZX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbmZpZy5faSA9IGlucHV0ID0gY29uZmlnLl9sb2NhbGUucHJlcGFyc2UoaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTW9tZW50KGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNb21lbnQoY2hlY2tPdmVyZmxvdyhpbnB1dCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IGlucHV0O1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZm9ybWF0KSkge1xuICAgICAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0KSB7XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZyk7XG4gICAgICAgIH0gIGVsc2Uge1xuICAgICAgICAgICAgY29uZmlnRnJvbUlucHV0KGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzVmFsaWQoY29uZmlnKSkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbUlucHV0KGNvbmZpZykge1xuICAgICAgICB2YXIgaW5wdXQgPSBjb25maWcuX2k7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChpbnB1dCkpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dC52YWx1ZU9mKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnLl9hID0gbWFwKGlucHV0LnNsaWNlKDApLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG9iaiwgMTApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdChpbnB1dCkpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcihpbnB1dCkpIHtcbiAgICAgICAgICAgIC8vIGZyb20gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTG9jYWxPclVUQyAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGlzVVRDKSB7XG4gICAgICAgIHZhciBjID0ge307XG5cbiAgICAgICAgaWYgKGxvY2FsZSA9PT0gdHJ1ZSB8fCBsb2NhbGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBzdHJpY3QgPSBsb2NhbGU7XG4gICAgICAgICAgICBsb2NhbGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKGlzT2JqZWN0KGlucHV0KSAmJiBpc09iamVjdEVtcHR5KGlucHV0KSkgfHxcbiAgICAgICAgICAgICAgICAoaXNBcnJheShpbnB1dCkgJiYgaW5wdXQubGVuZ3RoID09PSAwKSkge1xuICAgICAgICAgICAgaW5wdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb2JqZWN0IGNvbnN0cnVjdGlvbiBtdXN0IGJlIGRvbmUgdGhpcyB3YXkuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNDIzXG4gICAgICAgIGMuX2lzQU1vbWVudE9iamVjdCA9IHRydWU7XG4gICAgICAgIGMuX3VzZVVUQyA9IGMuX2lzVVRDID0gaXNVVEM7XG4gICAgICAgIGMuX2wgPSBsb2NhbGU7XG4gICAgICAgIGMuX2kgPSBpbnB1dDtcbiAgICAgICAgYy5fZiA9IGZvcm1hdDtcbiAgICAgICAgYy5fc3RyaWN0ID0gc3RyaWN0O1xuXG4gICAgICAgIHJldHVybiBjcmVhdGVGcm9tQ29uZmlnKGMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUxvY2FsIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgZmFsc2UpO1xuICAgIH1cblxuICAgIHZhciBwcm90b3R5cGVNaW4gPSBkZXByZWNhdGUoXG4gICAgICAgICdtb21lbnQoKS5taW4gaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5tYXggaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG90aGVyIDwgdGhpcyA/IHRoaXMgOiBvdGhlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICk7XG5cbiAgICB2YXIgcHJvdG90eXBlTWF4ID0gZGVwcmVjYXRlKFxuICAgICAgICAnbW9tZW50KCkubWF4IGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWluIGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvbWluLW1heC8nLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvdGhlciA+IHRoaXMgPyB0aGlzIDogb3RoZXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgLy8gUGljayBhIG1vbWVudCBtIGZyb20gbW9tZW50cyBzbyB0aGF0IG1bZm5dKG90aGVyKSBpcyB0cnVlIGZvciBhbGxcbiAgICAvLyBvdGhlci4gVGhpcyByZWxpZXMgb24gdGhlIGZ1bmN0aW9uIGZuIHRvIGJlIHRyYW5zaXRpdmUuXG4gICAgLy9cbiAgICAvLyBtb21lbnRzIHNob3VsZCBlaXRoZXIgYmUgYW4gYXJyYXkgb2YgbW9tZW50IG9iamVjdHMgb3IgYW4gYXJyYXksIHdob3NlXG4gICAgLy8gZmlyc3QgZWxlbWVudCBpcyBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cy5cbiAgICBmdW5jdGlvbiBwaWNrQnkoZm4sIG1vbWVudHMpIHtcbiAgICAgICAgdmFyIHJlcywgaTtcbiAgICAgICAgaWYgKG1vbWVudHMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkobW9tZW50c1swXSkpIHtcbiAgICAgICAgICAgIG1vbWVudHMgPSBtb21lbnRzWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbW9tZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVMb2NhbCgpO1xuICAgICAgICB9XG4gICAgICAgIHJlcyA9IG1vbWVudHNbMF07XG4gICAgICAgIGZvciAoaSA9IDE7IGkgPCBtb21lbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoIW1vbWVudHNbaV0uaXNWYWxpZCgpIHx8IG1vbWVudHNbaV1bZm5dKHJlcykpIHtcbiAgICAgICAgICAgICAgICByZXMgPSBtb21lbnRzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogVXNlIFtdLnNvcnQgaW5zdGVhZD9cbiAgICBmdW5jdGlvbiBtaW4gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblxuICAgICAgICByZXR1cm4gcGlja0J5KCdpc0JlZm9yZScsIGFyZ3MpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1heCAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgICAgIHJldHVybiBwaWNrQnkoJ2lzQWZ0ZXInLCBhcmdzKTtcbiAgICB9XG5cbiAgICB2YXIgbm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gRGF0ZS5ub3cgPyBEYXRlLm5vdygpIDogKyhuZXcgRGF0ZSgpKTtcbiAgICB9O1xuXG4gICAgdmFyIG9yZGVyaW5nID0gWyd5ZWFyJywgJ3F1YXJ0ZXInLCAnbW9udGgnLCAnd2VlaycsICdkYXknLCAnaG91cicsICdtaW51dGUnLCAnc2Vjb25kJywgJ21pbGxpc2Vjb25kJ107XG5cbiAgICBmdW5jdGlvbiBpc0R1cmF0aW9uVmFsaWQobSkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gbSkge1xuICAgICAgICAgICAgaWYgKCEoaW5kZXhPZi5jYWxsKG9yZGVyaW5nLCBrZXkpICE9PSAtMSAmJiAobVtrZXldID09IG51bGwgfHwgIWlzTmFOKG1ba2V5XSkpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB1bml0SGFzRGVjaW1hbCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9yZGVyaW5nLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAobVtvcmRlcmluZ1tpXV0pIHtcbiAgICAgICAgICAgICAgICBpZiAodW5pdEhhc0RlY2ltYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBvbmx5IGFsbG93IG5vbi1pbnRlZ2VycyBmb3Igc21hbGxlc3QgdW5pdFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGFyc2VGbG9hdChtW29yZGVyaW5nW2ldXSkgIT09IHRvSW50KG1bb3JkZXJpbmdbaV1dKSkge1xuICAgICAgICAgICAgICAgICAgICB1bml0SGFzRGVjaW1hbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNWYWxpZCQxKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNWYWxpZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVJbnZhbGlkJDEoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbihOYU4pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIER1cmF0aW9uIChkdXJhdGlvbikge1xuICAgICAgICB2YXIgbm9ybWFsaXplZElucHV0ID0gbm9ybWFsaXplT2JqZWN0VW5pdHMoZHVyYXRpb24pLFxuICAgICAgICAgICAgeWVhcnMgPSBub3JtYWxpemVkSW5wdXQueWVhciB8fCAwLFxuICAgICAgICAgICAgcXVhcnRlcnMgPSBub3JtYWxpemVkSW5wdXQucXVhcnRlciB8fCAwLFxuICAgICAgICAgICAgbW9udGhzID0gbm9ybWFsaXplZElucHV0Lm1vbnRoIHx8IDAsXG4gICAgICAgICAgICB3ZWVrcyA9IG5vcm1hbGl6ZWRJbnB1dC53ZWVrIHx8IG5vcm1hbGl6ZWRJbnB1dC5pc29XZWVrIHx8IDAsXG4gICAgICAgICAgICBkYXlzID0gbm9ybWFsaXplZElucHV0LmRheSB8fCAwLFxuICAgICAgICAgICAgaG91cnMgPSBub3JtYWxpemVkSW5wdXQuaG91ciB8fCAwLFxuICAgICAgICAgICAgbWludXRlcyA9IG5vcm1hbGl6ZWRJbnB1dC5taW51dGUgfHwgMCxcbiAgICAgICAgICAgIHNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQuc2Vjb25kIHx8IDAsXG4gICAgICAgICAgICBtaWxsaXNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQubWlsbGlzZWNvbmQgfHwgMDtcblxuICAgICAgICB0aGlzLl9pc1ZhbGlkID0gaXNEdXJhdGlvblZhbGlkKG5vcm1hbGl6ZWRJbnB1dCk7XG5cbiAgICAgICAgLy8gcmVwcmVzZW50YXRpb24gZm9yIGRhdGVBZGRSZW1vdmVcbiAgICAgICAgdGhpcy5fbWlsbGlzZWNvbmRzID0gK21pbGxpc2Vjb25kcyArXG4gICAgICAgICAgICBzZWNvbmRzICogMWUzICsgLy8gMTAwMFxuICAgICAgICAgICAgbWludXRlcyAqIDZlNCArIC8vIDEwMDAgKiA2MFxuICAgICAgICAgICAgaG91cnMgKiAxMDAwICogNjAgKiA2MDsgLy91c2luZyAxMDAwICogNjAgKiA2MCBpbnN0ZWFkIG9mIDM2ZTUgdG8gYXZvaWQgZmxvYXRpbmcgcG9pbnQgcm91bmRpbmcgZXJyb3JzIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8yOTc4XG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgZGF0ZUFkZFJlbW92ZSB0cmVhdHMgMjQgaG91cnMgYXMgZGlmZmVyZW50IGZyb20gYVxuICAgICAgICAvLyBkYXkgd2hlbiB3b3JraW5nIGFyb3VuZCBEU1QsIHdlIG5lZWQgdG8gc3RvcmUgdGhlbSBzZXBhcmF0ZWx5XG4gICAgICAgIHRoaXMuX2RheXMgPSArZGF5cyArXG4gICAgICAgICAgICB3ZWVrcyAqIDc7XG4gICAgICAgIC8vIEl0IGlzIGltcG9zc2libGUgdG8gdHJhbnNsYXRlIG1vbnRocyBpbnRvIGRheXMgd2l0aG91dCBrbm93aW5nXG4gICAgICAgIC8vIHdoaWNoIG1vbnRocyB5b3UgYXJlIGFyZSB0YWxraW5nIGFib3V0LCBzbyB3ZSBoYXZlIHRvIHN0b3JlXG4gICAgICAgIC8vIGl0IHNlcGFyYXRlbHkuXG4gICAgICAgIHRoaXMuX21vbnRocyA9ICttb250aHMgK1xuICAgICAgICAgICAgcXVhcnRlcnMgKiAzICtcbiAgICAgICAgICAgIHllYXJzICogMTI7XG5cbiAgICAgICAgdGhpcy5fZGF0YSA9IHt9O1xuXG4gICAgICAgIHRoaXMuX2xvY2FsZSA9IGdldExvY2FsZSgpO1xuXG4gICAgICAgIHRoaXMuX2J1YmJsZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRHVyYXRpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRHVyYXRpb247XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWJzUm91bmQgKG51bWJlcikge1xuICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoLTEgKiBudW1iZXIpICogLTE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChudW1iZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgZnVuY3Rpb24gb2Zmc2V0ICh0b2tlbiwgc2VwYXJhdG9yKSB7XG4gICAgICAgIGFkZEZvcm1hdFRva2VuKHRva2VuLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy51dGNPZmZzZXQoKTtcbiAgICAgICAgICAgIHZhciBzaWduID0gJysnO1xuICAgICAgICAgICAgaWYgKG9mZnNldCA8IDApIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSAtb2Zmc2V0O1xuICAgICAgICAgICAgICAgIHNpZ24gPSAnLSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2lnbiArIHplcm9GaWxsKH5+KG9mZnNldCAvIDYwKSwgMikgKyBzZXBhcmF0b3IgKyB6ZXJvRmlsbCh+fihvZmZzZXQpICUgNjAsIDIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvZmZzZXQoJ1onLCAnOicpO1xuICAgIG9mZnNldCgnWlonLCAnJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdaJywgIG1hdGNoU2hvcnRPZmZzZXQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1paJywgbWF0Y2hTaG9ydE9mZnNldCk7XG4gICAgYWRkUGFyc2VUb2tlbihbJ1onLCAnWlonXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fdXNlVVRDID0gdHJ1ZTtcbiAgICAgICAgY29uZmlnLl90em0gPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoU2hvcnRPZmZzZXQsIGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIEhFTFBFUlNcblxuICAgIC8vIHRpbWV6b25lIGNodW5rZXJcbiAgICAvLyAnKzEwOjAwJyA+IFsnMTAnLCAgJzAwJ11cbiAgICAvLyAnLTE1MzAnICA+IFsnLTE1JywgJzMwJ11cbiAgICB2YXIgY2h1bmtPZmZzZXQgPSAvKFtcXCtcXC1dfFxcZFxcZCkvZ2k7XG5cbiAgICBmdW5jdGlvbiBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoZXIsIHN0cmluZykge1xuICAgICAgICB2YXIgbWF0Y2hlcyA9IChzdHJpbmcgfHwgJycpLm1hdGNoKG1hdGNoZXIpO1xuXG4gICAgICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaHVuayAgID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdIHx8IFtdO1xuICAgICAgICB2YXIgcGFydHMgICA9IChjaHVuayArICcnKS5tYXRjaChjaHVua09mZnNldCkgfHwgWyctJywgMCwgMF07XG4gICAgICAgIHZhciBtaW51dGVzID0gKyhwYXJ0c1sxXSAqIDYwKSArIHRvSW50KHBhcnRzWzJdKTtcblxuICAgICAgICByZXR1cm4gbWludXRlcyA9PT0gMCA/XG4gICAgICAgICAgMCA6XG4gICAgICAgICAgcGFydHNbMF0gPT09ICcrJyA/IG1pbnV0ZXMgOiAtbWludXRlcztcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYSBtb21lbnQgZnJvbSBpbnB1dCwgdGhhdCBpcyBsb2NhbC91dGMvem9uZSBlcXVpdmFsZW50IHRvIG1vZGVsLlxuICAgIGZ1bmN0aW9uIGNsb25lV2l0aE9mZnNldChpbnB1dCwgbW9kZWwpIHtcbiAgICAgICAgdmFyIHJlcywgZGlmZjtcbiAgICAgICAgaWYgKG1vZGVsLl9pc1VUQykge1xuICAgICAgICAgICAgcmVzID0gbW9kZWwuY2xvbmUoKTtcbiAgICAgICAgICAgIGRpZmYgPSAoaXNNb21lbnQoaW5wdXQpIHx8IGlzRGF0ZShpbnB1dCkgPyBpbnB1dC52YWx1ZU9mKCkgOiBjcmVhdGVMb2NhbChpbnB1dCkudmFsdWVPZigpKSAtIHJlcy52YWx1ZU9mKCk7XG4gICAgICAgICAgICAvLyBVc2UgbG93LWxldmVsIGFwaSwgYmVjYXVzZSB0aGlzIGZuIGlzIGxvdy1sZXZlbCBhcGkuXG4gICAgICAgICAgICByZXMuX2Quc2V0VGltZShyZXMuX2QudmFsdWVPZigpICsgZGlmZik7XG4gICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQocmVzLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0KS5sb2NhbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RGF0ZU9mZnNldCAobSkge1xuICAgICAgICAvLyBPbiBGaXJlZm94LjI0IERhdGUjZ2V0VGltZXpvbmVPZmZzZXQgcmV0dXJucyBhIGZsb2F0aW5nIHBvaW50LlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9wdWxsLzE4NzFcbiAgICAgICAgcmV0dXJuIC1NYXRoLnJvdW5kKG0uX2QuZ2V0VGltZXpvbmVPZmZzZXQoKSAvIDE1KSAqIDE1O1xuICAgIH1cblxuICAgIC8vIEhPT0tTXG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIGEgbW9tZW50IGlzIG11dGF0ZWQuXG4gICAgLy8gSXQgaXMgaW50ZW5kZWQgdG8ga2VlcCB0aGUgb2Zmc2V0IGluIHN5bmMgd2l0aCB0aGUgdGltZXpvbmUuXG4gICAgaG9va3MudXBkYXRlT2Zmc2V0ID0gZnVuY3Rpb24gKCkge307XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICAvLyBrZWVwTG9jYWxUaW1lID0gdHJ1ZSBtZWFucyBvbmx5IGNoYW5nZSB0aGUgdGltZXpvbmUsIHdpdGhvdXRcbiAgICAvLyBhZmZlY3RpbmcgdGhlIGxvY2FsIGhvdXIuIFNvIDU6MzE6MjYgKzAzMDAgLS1bdXRjT2Zmc2V0KDIsIHRydWUpXS0tPlxuICAgIC8vIDU6MzE6MjYgKzAyMDAgSXQgaXMgcG9zc2libGUgdGhhdCA1OjMxOjI2IGRvZXNuJ3QgZXhpc3Qgd2l0aCBvZmZzZXRcbiAgICAvLyArMDIwMCwgc28gd2UgYWRqdXN0IHRoZSB0aW1lIGFzIG5lZWRlZCwgdG8gYmUgdmFsaWQuXG4gICAgLy9cbiAgICAvLyBLZWVwaW5nIHRoZSB0aW1lIGFjdHVhbGx5IGFkZHMvc3VidHJhY3RzIChvbmUgaG91cilcbiAgICAvLyBmcm9tIHRoZSBhY3R1YWwgcmVwcmVzZW50ZWQgdGltZS4gVGhhdCBpcyB3aHkgd2UgY2FsbCB1cGRhdGVPZmZzZXRcbiAgICAvLyBhIHNlY29uZCB0aW1lLiBJbiBjYXNlIGl0IHdhbnRzIHVzIHRvIGNoYW5nZSB0aGUgb2Zmc2V0IGFnYWluXG4gICAgLy8gX2NoYW5nZUluUHJvZ3Jlc3MgPT0gdHJ1ZSBjYXNlLCB0aGVuIHdlIGhhdmUgdG8gYWRqdXN0LCBiZWNhdXNlXG4gICAgLy8gdGhlcmUgaXMgbm8gc3VjaCB0aW1lIGluIHRoZSBnaXZlbiB0aW1lem9uZS5cbiAgICBmdW5jdGlvbiBnZXRTZXRPZmZzZXQgKGlucHV0LCBrZWVwTG9jYWxUaW1lLCBrZWVwTWludXRlcykge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5fb2Zmc2V0IHx8IDAsXG4gICAgICAgICAgICBsb2NhbEFkanVzdDtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW5wdXQpIDwgMTYgJiYgIWtlZXBNaW51dGVzKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSBpbnB1dCAqIDYwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1VUQyAmJiBrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxBZGp1c3QgPSBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fb2Zmc2V0ID0gaW5wdXQ7XG4gICAgICAgICAgICB0aGlzLl9pc1VUQyA9IHRydWU7XG4gICAgICAgICAgICBpZiAobG9jYWxBZGp1c3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGxvY2FsQWRqdXN0LCAnbScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9mZnNldCAhPT0gaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWtlZXBMb2NhbFRpbWUgfHwgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBjcmVhdGVEdXJhdGlvbihpbnB1dCAtIG9mZnNldCwgJ20nKSwgMSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyBvZmZzZXQgOiBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0Wm9uZSAoaW5wdXQsIGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSAtaW5wdXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KGlucHV0LCBrZWVwTG9jYWxUaW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gLXRoaXMudXRjT2Zmc2V0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRPZmZzZXRUb1VUQyAoa2VlcExvY2FsVGltZSkge1xuICAgICAgICByZXR1cm4gdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0T2Zmc2V0VG9Mb2NhbCAoa2VlcExvY2FsVGltZSkge1xuICAgICAgICBpZiAodGhpcy5faXNVVEMpIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuICAgICAgICAgICAgdGhpcy5faXNVVEMgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1YnRyYWN0KGdldERhdGVPZmZzZXQodGhpcyksICdtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQgKCkge1xuICAgICAgICBpZiAodGhpcy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KHRoaXMuX3R6bSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLl9pID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIHRab25lID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaE9mZnNldCwgdGhpcy5faSk7XG4gICAgICAgICAgICBpZiAodFpvbmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KHRab25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhc0FsaWduZWRIb3VyT2Zmc2V0IChpbnB1dCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQgPSBpbnB1dCA/IGNyZWF0ZUxvY2FsKGlucHV0KS51dGNPZmZzZXQoKSA6IDA7XG5cbiAgICAgICAgcmV0dXJuICh0aGlzLnV0Y09mZnNldCgpIC0gaW5wdXQpICUgNjAgPT09IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWUgKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCgwKS51dGNPZmZzZXQoKSB8fFxuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCg1KS51dGNPZmZzZXQoKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCAoKSB7XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5faXNEU1RTaGlmdGVkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjID0ge307XG5cbiAgICAgICAgY29weUNvbmZpZyhjLCB0aGlzKTtcbiAgICAgICAgYyA9IHByZXBhcmVDb25maWcoYyk7XG5cbiAgICAgICAgaWYgKGMuX2EpIHtcbiAgICAgICAgICAgIHZhciBvdGhlciA9IGMuX2lzVVRDID8gY3JlYXRlVVRDKGMuX2EpIDogY3JlYXRlTG9jYWwoYy5fYSk7XG4gICAgICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSB0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgICAgIGNvbXBhcmVBcnJheXMoYy5fYSwgb3RoZXIudG9BcnJheSgpKSA+IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNMb2NhbCAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/ICF0aGlzLl9pc1VUQyA6IGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVXRjT2Zmc2V0ICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1V0YyAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2lzVVRDICYmIHRoaXMuX29mZnNldCA9PT0gMCA6IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIEFTUC5ORVQganNvbiBkYXRlIGZvcm1hdCByZWdleFxuICAgIHZhciBhc3BOZXRSZWdleCA9IC9eKFxcLXxcXCspPyg/OihcXGQqKVsuIF0pPyhcXGQrKVxcOihcXGQrKSg/OlxcOihcXGQrKShcXC5cXGQqKT8pPyQvO1xuXG4gICAgLy8gZnJvbSBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2Nsb3N1cmVfZ29vZ19kYXRlX2RhdGUuanMuc291cmNlLmh0bWxcbiAgICAvLyBzb21ld2hhdCBtb3JlIGluIGxpbmUgd2l0aCA0LjQuMy4yIDIwMDQgc3BlYywgYnV0IGFsbG93cyBkZWNpbWFsIGFueXdoZXJlXG4gICAgLy8gYW5kIGZ1cnRoZXIgbW9kaWZpZWQgdG8gYWxsb3cgZm9yIHN0cmluZ3MgY29udGFpbmluZyBib3RoIHdlZWsgYW5kIGRheVxuICAgIHZhciBpc29SZWdleCA9IC9eKC18XFwrKT9QKD86KFstK10/WzAtOSwuXSopWSk/KD86KFstK10/WzAtOSwuXSopTSk/KD86KFstK10/WzAtOSwuXSopVyk/KD86KFstK10/WzAtOSwuXSopRCk/KD86VCg/OihbLStdP1swLTksLl0qKUgpPyg/OihbLStdP1swLTksLl0qKU0pPyg/OihbLStdP1swLTksLl0qKVMpPyk/JC87XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEdXJhdGlvbiAoaW5wdXQsIGtleSkge1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBpbnB1dCxcbiAgICAgICAgICAgIC8vIG1hdGNoaW5nIGFnYWluc3QgcmVnZXhwIGlzIGV4cGVuc2l2ZSwgZG8gaXQgb24gZGVtYW5kXG4gICAgICAgICAgICBtYXRjaCA9IG51bGwsXG4gICAgICAgICAgICBzaWduLFxuICAgICAgICAgICAgcmV0LFxuICAgICAgICAgICAgZGlmZlJlcztcblxuICAgICAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgICAgIG1zIDogaW5wdXQuX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgICAgICBkICA6IGlucHV0Ll9kYXlzLFxuICAgICAgICAgICAgICAgIE0gIDogaW5wdXQuX21vbnRoc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcihpbnB1dCkpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb25ba2V5XSA9IGlucHV0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbi5taWxsaXNlY29uZHMgPSBpbnB1dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGFzcE5ldFJlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuICAgICAgICAgICAgc2lnbiA9IChtYXRjaFsxXSA9PT0gJy0nKSA/IC0xIDogMTtcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgICAgIHkgIDogMCxcbiAgICAgICAgICAgICAgICBkICA6IHRvSW50KG1hdGNoW0RBVEVdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICAgICAgaCAgOiB0b0ludChtYXRjaFtIT1VSXSkgICAgICAgICAgICAgICAgICAgICAgICAgKiBzaWduLFxuICAgICAgICAgICAgICAgIG0gIDogdG9JbnQobWF0Y2hbTUlOVVRFXSkgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgICAgICBzICA6IHRvSW50KG1hdGNoW1NFQ09ORF0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICAgICAgbXMgOiB0b0ludChhYnNSb3VuZChtYXRjaFtNSUxMSVNFQ09ORF0gKiAxMDAwKSkgKiBzaWduIC8vIHRoZSBtaWxsaXNlY29uZCBkZWNpbWFsIHBvaW50IGlzIGluY2x1ZGVkIGluIHRoZSBtYXRjaFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGlzb1JlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuICAgICAgICAgICAgc2lnbiA9IChtYXRjaFsxXSA9PT0gJy0nKSA/IC0xIDogMTtcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgICAgIHkgOiBwYXJzZUlzbyhtYXRjaFsyXSwgc2lnbiksXG4gICAgICAgICAgICAgICAgTSA6IHBhcnNlSXNvKG1hdGNoWzNdLCBzaWduKSxcbiAgICAgICAgICAgICAgICB3IDogcGFyc2VJc28obWF0Y2hbNF0sIHNpZ24pLFxuICAgICAgICAgICAgICAgIGQgOiBwYXJzZUlzbyhtYXRjaFs1XSwgc2lnbiksXG4gICAgICAgICAgICAgICAgaCA6IHBhcnNlSXNvKG1hdGNoWzZdLCBzaWduKSxcbiAgICAgICAgICAgICAgICBtIDogcGFyc2VJc28obWF0Y2hbN10sIHNpZ24pLFxuICAgICAgICAgICAgICAgIHMgOiBwYXJzZUlzbyhtYXRjaFs4XSwgc2lnbilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZHVyYXRpb24gPT0gbnVsbCkgey8vIGNoZWNrcyBmb3IgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGR1cmF0aW9uID09PSAnb2JqZWN0JyAmJiAoJ2Zyb20nIGluIGR1cmF0aW9uIHx8ICd0bycgaW4gZHVyYXRpb24pKSB7XG4gICAgICAgICAgICBkaWZmUmVzID0gbW9tZW50c0RpZmZlcmVuY2UoY3JlYXRlTG9jYWwoZHVyYXRpb24uZnJvbSksIGNyZWF0ZUxvY2FsKGR1cmF0aW9uLnRvKSk7XG5cbiAgICAgICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgICAgICBkdXJhdGlvbi5tcyA9IGRpZmZSZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgZHVyYXRpb24uTSA9IGRpZmZSZXMubW9udGhzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0ID0gbmV3IER1cmF0aW9uKGR1cmF0aW9uKTtcblxuICAgICAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkgJiYgaGFzT3duUHJvcChpbnB1dCwgJ19sb2NhbGUnKSkge1xuICAgICAgICAgICAgcmV0Ll9sb2NhbGUgPSBpbnB1dC5fbG9jYWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICBjcmVhdGVEdXJhdGlvbi5mbiA9IER1cmF0aW9uLnByb3RvdHlwZTtcbiAgICBjcmVhdGVEdXJhdGlvbi5pbnZhbGlkID0gY3JlYXRlSW52YWxpZCQxO1xuXG4gICAgZnVuY3Rpb24gcGFyc2VJc28gKGlucCwgc2lnbikge1xuICAgICAgICAvLyBXZSdkIG5vcm1hbGx5IHVzZSB+fmlucCBmb3IgdGhpcywgYnV0IHVuZm9ydHVuYXRlbHkgaXQgYWxzb1xuICAgICAgICAvLyBjb252ZXJ0cyBmbG9hdHMgdG8gaW50cy5cbiAgICAgICAgLy8gaW5wIG1heSBiZSB1bmRlZmluZWQsIHNvIGNhcmVmdWwgY2FsbGluZyByZXBsYWNlIG9uIGl0LlxuICAgICAgICB2YXIgcmVzID0gaW5wICYmIHBhcnNlRmxvYXQoaW5wLnJlcGxhY2UoJywnLCAnLicpKTtcbiAgICAgICAgLy8gYXBwbHkgc2lnbiB3aGlsZSB3ZSdyZSBhdCBpdFxuICAgICAgICByZXR1cm4gKGlzTmFOKHJlcykgPyAwIDogcmVzKSAqIHNpZ247XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzID0ge307XG5cbiAgICAgICAgcmVzLm1vbnRocyA9IG90aGVyLm1vbnRoKCkgLSBiYXNlLm1vbnRoKCkgK1xuICAgICAgICAgICAgKG90aGVyLnllYXIoKSAtIGJhc2UueWVhcigpKSAqIDEyO1xuICAgICAgICBpZiAoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpLmlzQWZ0ZXIob3RoZXIpKSB7XG4gICAgICAgICAgICAtLXJlcy5tb250aHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXMubWlsbGlzZWNvbmRzID0gK290aGVyIC0gKyhiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykpO1xuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcbiAgICAgICAgdmFyIHJlcztcbiAgICAgICAgaWYgKCEoYmFzZS5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlciA9IGNsb25lV2l0aE9mZnNldChvdGhlciwgYmFzZSk7XG4gICAgICAgIGlmIChiYXNlLmlzQmVmb3JlKG90aGVyKSkge1xuICAgICAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKG90aGVyLCBiYXNlKTtcbiAgICAgICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSAtcmVzLm1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIHJlcy5tb250aHMgPSAtcmVzLm1vbnRocztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogcmVtb3ZlICduYW1lJyBhcmcgYWZ0ZXIgZGVwcmVjYXRpb24gaXMgcmVtb3ZlZFxuICAgIGZ1bmN0aW9uIGNyZWF0ZUFkZGVyKGRpcmVjdGlvbiwgbmFtZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCwgcGVyaW9kKSB7XG4gICAgICAgICAgICB2YXIgZHVyLCB0bXA7XG4gICAgICAgICAgICAvL2ludmVydCB0aGUgYXJndW1lbnRzLCBidXQgY29tcGxhaW4gYWJvdXQgaXRcbiAgICAgICAgICAgIGlmIChwZXJpb2QgIT09IG51bGwgJiYgIWlzTmFOKCtwZXJpb2QpKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKG5hbWUsICdtb21lbnQoKS4nICsgbmFtZSAgKyAnKHBlcmlvZCwgbnVtYmVyKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG1vbWVudCgpLicgKyBuYW1lICsgJyhudW1iZXIsIHBlcmlvZCkuICcgK1xuICAgICAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9hZGQtaW52ZXJ0ZWQtcGFyYW0vIGZvciBtb3JlIGluZm8uJyk7XG4gICAgICAgICAgICAgICAgdG1wID0gdmFsOyB2YWwgPSBwZXJpb2Q7IHBlcmlvZCA9IHRtcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFsID0gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyArdmFsIDogdmFsO1xuICAgICAgICAgICAgZHVyID0gY3JlYXRlRHVyYXRpb24odmFsLCBwZXJpb2QpO1xuICAgICAgICAgICAgYWRkU3VidHJhY3QodGhpcywgZHVyLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkU3VidHJhY3QgKG1vbSwgZHVyYXRpb24sIGlzQWRkaW5nLCB1cGRhdGVPZmZzZXQpIHtcbiAgICAgICAgdmFyIG1pbGxpc2Vjb25kcyA9IGR1cmF0aW9uLl9taWxsaXNlY29uZHMsXG4gICAgICAgICAgICBkYXlzID0gYWJzUm91bmQoZHVyYXRpb24uX2RheXMpLFxuICAgICAgICAgICAgbW9udGhzID0gYWJzUm91bmQoZHVyYXRpb24uX21vbnRocyk7XG5cbiAgICAgICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAvLyBObyBvcFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlT2Zmc2V0ID0gdXBkYXRlT2Zmc2V0ID09IG51bGwgPyB0cnVlIDogdXBkYXRlT2Zmc2V0O1xuXG4gICAgICAgIGlmIChtb250aHMpIHtcbiAgICAgICAgICAgIHNldE1vbnRoKG1vbSwgZ2V0KG1vbSwgJ01vbnRoJykgKyBtb250aHMgKiBpc0FkZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRheXMpIHtcbiAgICAgICAgICAgIHNldCQxKG1vbSwgJ0RhdGUnLCBnZXQobW9tLCAnRGF0ZScpICsgZGF5cyAqIGlzQWRkaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgICAgICBtb20uX2Quc2V0VGltZShtb20uX2QudmFsdWVPZigpICsgbWlsbGlzZWNvbmRzICogaXNBZGRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGVPZmZzZXQpIHtcbiAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldChtb20sIGRheXMgfHwgbW9udGhzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBhZGQgICAgICA9IGNyZWF0ZUFkZGVyKDEsICdhZGQnKTtcbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVBZGRlcigtMSwgJ3N1YnRyYWN0Jyk7XG5cbiAgICBmdW5jdGlvbiBnZXRDYWxlbmRhckZvcm1hdChteU1vbWVudCwgbm93KSB7XG4gICAgICAgIHZhciBkaWZmID0gbXlNb21lbnQuZGlmZihub3csICdkYXlzJywgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBkaWZmIDwgLTYgPyAnc2FtZUVsc2UnIDpcbiAgICAgICAgICAgICAgICBkaWZmIDwgLTEgPyAnbGFzdFdlZWsnIDpcbiAgICAgICAgICAgICAgICBkaWZmIDwgMCA/ICdsYXN0RGF5JyA6XG4gICAgICAgICAgICAgICAgZGlmZiA8IDEgPyAnc2FtZURheScgOlxuICAgICAgICAgICAgICAgIGRpZmYgPCAyID8gJ25leHREYXknIDpcbiAgICAgICAgICAgICAgICBkaWZmIDwgNyA/ICduZXh0V2VlaycgOiAnc2FtZUVsc2UnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGVuZGFyJDEgKHRpbWUsIGZvcm1hdHMpIHtcbiAgICAgICAgLy8gV2Ugd2FudCB0byBjb21wYXJlIHRoZSBzdGFydCBvZiB0b2RheSwgdnMgdGhpcy5cbiAgICAgICAgLy8gR2V0dGluZyBzdGFydC1vZi10b2RheSBkZXBlbmRzIG9uIHdoZXRoZXIgd2UncmUgbG9jYWwvdXRjL29mZnNldCBvciBub3QuXG4gICAgICAgIHZhciBub3cgPSB0aW1lIHx8IGNyZWF0ZUxvY2FsKCksXG4gICAgICAgICAgICBzb2QgPSBjbG9uZVdpdGhPZmZzZXQobm93LCB0aGlzKS5zdGFydE9mKCdkYXknKSxcbiAgICAgICAgICAgIGZvcm1hdCA9IGhvb2tzLmNhbGVuZGFyRm9ybWF0KHRoaXMsIHNvZCkgfHwgJ3NhbWVFbHNlJztcblxuICAgICAgICB2YXIgb3V0cHV0ID0gZm9ybWF0cyAmJiAoaXNGdW5jdGlvbihmb3JtYXRzW2Zvcm1hdF0pID8gZm9ybWF0c1tmb3JtYXRdLmNhbGwodGhpcywgbm93KSA6IGZvcm1hdHNbZm9ybWF0XSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KG91dHB1dCB8fCB0aGlzLmxvY2FsZURhdGEoKS5jYWxlbmRhcihmb3JtYXQsIHRoaXMsIGNyZWF0ZUxvY2FsKG5vdykpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9uZSAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTW9tZW50KHRoaXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQWZ0ZXIgKGlucHV0LCB1bml0cykge1xuICAgICAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB8fCAnbWlsbGlzZWNvbmQnO1xuICAgICAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA+IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsSW5wdXQudmFsdWVPZigpIDwgdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcbiAgICAgICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcbiAgICAgICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cykgfHwgJ21pbGxpc2Vjb25kJztcbiAgICAgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPCBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNCZXR3ZWVuIChmcm9tLCB0bywgdW5pdHMsIGluY2x1c2l2aXR5KSB7XG4gICAgICAgIHZhciBsb2NhbEZyb20gPSBpc01vbWVudChmcm9tKSA/IGZyb20gOiBjcmVhdGVMb2NhbChmcm9tKSxcbiAgICAgICAgICAgIGxvY2FsVG8gPSBpc01vbWVudCh0bykgPyB0byA6IGNyZWF0ZUxvY2FsKHRvKTtcbiAgICAgICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxGcm9tLmlzVmFsaWQoKSAmJiBsb2NhbFRvLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpbmNsdXNpdml0eSA9IGluY2x1c2l2aXR5IHx8ICcoKSc7XG4gICAgICAgIHJldHVybiAoaW5jbHVzaXZpdHlbMF0gPT09ICcoJyA/IHRoaXMuaXNBZnRlcihsb2NhbEZyb20sIHVuaXRzKSA6ICF0aGlzLmlzQmVmb3JlKGxvY2FsRnJvbSwgdW5pdHMpKSAmJlxuICAgICAgICAgICAgKGluY2x1c2l2aXR5WzFdID09PSAnKScgPyB0aGlzLmlzQmVmb3JlKGxvY2FsVG8sIHVuaXRzKSA6ICF0aGlzLmlzQWZ0ZXIobG9jYWxUbywgdW5pdHMpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NhbWUgKGlucHV0LCB1bml0cykge1xuICAgICAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpLFxuICAgICAgICAgICAgaW5wdXRNcztcbiAgICAgICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cykgfHwgJ21pbGxpc2Vjb25kJztcbiAgICAgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPT09IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5wdXRNcyA9IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5zdGFydE9mKHVuaXRzKS52YWx1ZU9mKCkgPD0gaW5wdXRNcyAmJiBpbnB1dE1zIDw9IHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykudmFsdWVPZigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNTYW1lT3JBZnRlciAoaW5wdXQsIHVuaXRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzU2FtZShpbnB1dCwgdW5pdHMpIHx8IHRoaXMuaXNBZnRlcihpbnB1dCwgdW5pdHMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU2FtZU9yQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0JlZm9yZShpbnB1dCwgdW5pdHMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpZmYgKGlucHV0LCB1bml0cywgYXNGbG9hdCkge1xuICAgICAgICB2YXIgdGhhdCxcbiAgICAgICAgICAgIHpvbmVEZWx0YSxcbiAgICAgICAgICAgIG91dHB1dDtcblxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhhdCA9IGNsb25lV2l0aE9mZnNldChpbnB1dCwgdGhpcyk7XG5cbiAgICAgICAgaWYgKCF0aGF0LmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuXG4gICAgICAgIHpvbmVEZWx0YSA9ICh0aGF0LnV0Y09mZnNldCgpIC0gdGhpcy51dGNPZmZzZXQoKSkgKiA2ZTQ7XG5cbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cbiAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgY2FzZSAneWVhcic6IG91dHB1dCA9IG1vbnRoRGlmZih0aGlzLCB0aGF0KSAvIDEyOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21vbnRoJzogb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3F1YXJ0ZXInOiBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCkgLyAzOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NlY29uZCc6IG91dHB1dCA9ICh0aGlzIC0gdGhhdCkgLyAxZTM7IGJyZWFrOyAvLyAxMDAwXG4gICAgICAgICAgICBjYXNlICdtaW51dGUnOiBvdXRwdXQgPSAodGhpcyAtIHRoYXQpIC8gNmU0OyBicmVhazsgLy8gMTAwMCAqIDYwXG4gICAgICAgICAgICBjYXNlICdob3VyJzogb3V0cHV0ID0gKHRoaXMgLSB0aGF0KSAvIDM2ZTU7IGJyZWFrOyAvLyAxMDAwICogNjAgKiA2MFxuICAgICAgICAgICAgY2FzZSAnZGF5Jzogb3V0cHV0ID0gKHRoaXMgLSB0aGF0IC0gem9uZURlbHRhKSAvIDg2NGU1OyBicmVhazsgLy8gMTAwMCAqIDYwICogNjAgKiAyNCwgbmVnYXRlIGRzdFxuICAgICAgICAgICAgY2FzZSAnd2Vlayc6IG91dHB1dCA9ICh0aGlzIC0gdGhhdCAtIHpvbmVEZWx0YSkgLyA2MDQ4ZTU7IGJyZWFrOyAvLyAxMDAwICogNjAgKiA2MCAqIDI0ICogNywgbmVnYXRlIGRzdFxuICAgICAgICAgICAgZGVmYXVsdDogb3V0cHV0ID0gdGhpcyAtIHRoYXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXNGbG9hdCA/IG91dHB1dCA6IGFic0Zsb29yKG91dHB1dCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9udGhEaWZmIChhLCBiKSB7XG4gICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gbW9udGhzXG4gICAgICAgIHZhciB3aG9sZU1vbnRoRGlmZiA9ICgoYi55ZWFyKCkgLSBhLnllYXIoKSkgKiAxMikgKyAoYi5tb250aCgpIC0gYS5tb250aCgpKSxcbiAgICAgICAgICAgIC8vIGIgaXMgaW4gKGFuY2hvciAtIDEgbW9udGgsIGFuY2hvciArIDEgbW9udGgpXG4gICAgICAgICAgICBhbmNob3IgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmLCAnbW9udGhzJyksXG4gICAgICAgICAgICBhbmNob3IyLCBhZGp1c3Q7XG5cbiAgICAgICAgaWYgKGIgLSBhbmNob3IgPCAwKSB7XG4gICAgICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiAtIDEsICdtb250aHMnKTtcbiAgICAgICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG4gICAgICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yIC0gYW5jaG9yMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiArIDEsICdtb250aHMnKTtcbiAgICAgICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG4gICAgICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yMiAtIGFuY2hvcik7XG4gICAgICAgIH1cblxuICAgICAgICAvL2NoZWNrIGZvciBuZWdhdGl2ZSB6ZXJvLCByZXR1cm4gemVybyBpZiBuZWdhdGl2ZSB6ZXJvXG4gICAgICAgIHJldHVybiAtKHdob2xlTW9udGhEaWZmICsgYWRqdXN0KSB8fCAwO1xuICAgIH1cblxuICAgIGhvb2tzLmRlZmF1bHRGb3JtYXQgPSAnWVlZWS1NTS1ERFRISDptbTpzc1onO1xuICAgIGhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgPSAnWVlZWS1NTS1ERFRISDptbTpzc1taXSc7XG5cbiAgICBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkubG9jYWxlKCdlbicpLmZvcm1hdCgnZGRkIE1NTSBERCBZWVlZIEhIOm1tOnNzIFtHTVRdWlonKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0lTT1N0cmluZyhrZWVwT2Zmc2V0KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1dGMgPSBrZWVwT2Zmc2V0ICE9PSB0cnVlO1xuICAgICAgICB2YXIgbSA9IHV0YyA/IHRoaXMuY2xvbmUoKS51dGMoKSA6IHRoaXM7XG4gICAgICAgIGlmIChtLnllYXIoKSA8IDAgfHwgbS55ZWFyKCkgPiA5OTk5KSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sIHV0YyA/ICdZWVlZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nIDogJ1lZWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1onKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNGdW5jdGlvbihEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZykpIHtcbiAgICAgICAgICAgIC8vIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBpcyB+NTB4IGZhc3RlciwgdXNlIGl0IHdoZW4gd2UgY2FuXG4gICAgICAgICAgICBpZiAodXRjKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9EYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMudmFsdWVPZigpICsgdGhpcy51dGNPZmZzZXQoKSAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKS5yZXBsYWNlKCdaJywgZm9ybWF0TW9tZW50KG0sICdaJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgdXRjID8gJ1lZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nIDogJ1lZWVktTU0tRERbVF1ISDptbTpzcy5TU1NaJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgaHVtYW4gcmVhZGFibGUgcmVwcmVzZW50YXRpb24gb2YgYSBtb21lbnQgdGhhdCBjYW5cbiAgICAgKiBhbHNvIGJlIGV2YWx1YXRlZCB0byBnZXQgYSBuZXcgbW9tZW50IHdoaWNoIGlzIHRoZSBzYW1lXG4gICAgICpcbiAgICAgKiBAbGluayBodHRwczovL25vZGVqcy5vcmcvZGlzdC9sYXRlc3QvZG9jcy9hcGkvdXRpbC5odG1sI3V0aWxfY3VzdG9tX2luc3BlY3RfZnVuY3Rpb25fb25fb2JqZWN0c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ21vbWVudC5pbnZhbGlkKC8qICcgKyB0aGlzLl9pICsgJyAqLyknO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmdW5jID0gJ21vbWVudCc7XG4gICAgICAgIHZhciB6b25lID0gJyc7XG4gICAgICAgIGlmICghdGhpcy5pc0xvY2FsKCkpIHtcbiAgICAgICAgICAgIGZ1bmMgPSB0aGlzLnV0Y09mZnNldCgpID09PSAwID8gJ21vbWVudC51dGMnIDogJ21vbWVudC5wYXJzZVpvbmUnO1xuICAgICAgICAgICAgem9uZSA9ICdaJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJlZml4ID0gJ1snICsgZnVuYyArICcoXCJdJztcbiAgICAgICAgdmFyIHllYXIgPSAoMCA8PSB0aGlzLnllYXIoKSAmJiB0aGlzLnllYXIoKSA8PSA5OTk5KSA/ICdZWVlZJyA6ICdZWVlZWVknO1xuICAgICAgICB2YXIgZGF0ZXRpbWUgPSAnLU1NLUREW1RdSEg6bW06c3MuU1NTJztcbiAgICAgICAgdmFyIHN1ZmZpeCA9IHpvbmUgKyAnW1wiKV0nO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmZvcm1hdChwcmVmaXggKyB5ZWFyICsgZGF0ZXRpbWUgKyBzdWZmaXgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcm1hdCAoaW5wdXRTdHJpbmcpIHtcbiAgICAgICAgaWYgKCFpbnB1dFN0cmluZykge1xuICAgICAgICAgICAgaW5wdXRTdHJpbmcgPSB0aGlzLmlzVXRjKCkgPyBob29rcy5kZWZhdWx0Rm9ybWF0VXRjIDogaG9va3MuZGVmYXVsdEZvcm1hdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3V0cHV0ID0gZm9ybWF0TW9tZW50KHRoaXMsIGlucHV0U3RyaW5nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLnBvc3Rmb3JtYXQob3V0cHV0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmcm9tICh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgICAgICgoaXNNb21lbnQodGltZSkgJiYgdGltZS5pc1ZhbGlkKCkpIHx8XG4gICAgICAgICAgICAgICAgIGNyZWF0ZUxvY2FsKHRpbWUpLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7dG86IHRoaXMsIGZyb206IHRpbWV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmcm9tTm93ICh3aXRob3V0U3VmZml4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZyb20oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG8gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHxcbiAgICAgICAgICAgICAgICAgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHtmcm9tOiB0aGlzLCB0bzogdGltZX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvTm93ICh3aXRob3V0U3VmZml4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvKGNyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xuICAgIH1cblxuICAgIC8vIElmIHBhc3NlZCBhIGxvY2FsZSBrZXksIGl0IHdpbGwgc2V0IHRoZSBsb2NhbGUgZm9yIHRoaXNcbiAgICAvLyBpbnN0YW5jZS4gIE90aGVyd2lzZSwgaXQgd2lsbCByZXR1cm4gdGhlIGxvY2FsZSBjb25maWd1cmF0aW9uXG4gICAgLy8gdmFyaWFibGVzIGZvciB0aGlzIGluc3RhbmNlLlxuICAgIGZ1bmN0aW9uIGxvY2FsZSAoa2V5KSB7XG4gICAgICAgIHZhciBuZXdMb2NhbGVEYXRhO1xuXG4gICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZS5fYWJicjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld0xvY2FsZURhdGEgPSBnZXRMb2NhbGUoa2V5KTtcbiAgICAgICAgICAgIGlmIChuZXdMb2NhbGVEYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbGUgPSBuZXdMb2NhbGVEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGFuZyA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ21vbWVudCgpLmxhbmcoKSBpcyBkZXByZWNhdGVkLiBJbnN0ZWFkLCB1c2UgbW9tZW50KCkubG9jYWxlRGF0YSgpIHRvIGdldCB0aGUgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbi4gVXNlIG1vbWVudCgpLmxvY2FsZSgpIHRvIGNoYW5nZSBsYW5ndWFnZXMuJyxcbiAgICAgICAgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGUoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICk7XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVEYXRhICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZTtcbiAgICB9XG5cbiAgICB2YXIgTVNfUEVSX1NFQ09ORCA9IDEwMDA7XG4gICAgdmFyIE1TX1BFUl9NSU5VVEUgPSA2MCAqIE1TX1BFUl9TRUNPTkQ7XG4gICAgdmFyIE1TX1BFUl9IT1VSID0gNjAgKiBNU19QRVJfTUlOVVRFO1xuICAgIHZhciBNU19QRVJfNDAwX1lFQVJTID0gKDM2NSAqIDQwMCArIDk3KSAqIDI0ICogTVNfUEVSX0hPVVI7XG5cbiAgICAvLyBhY3R1YWwgbW9kdWxvIC0gaGFuZGxlcyBuZWdhdGl2ZSBudW1iZXJzIChmb3IgZGF0ZXMgYmVmb3JlIDE5NzApOlxuICAgIGZ1bmN0aW9uIG1vZCQxKGRpdmlkZW5kLCBkaXZpc29yKSB7XG4gICAgICAgIHJldHVybiAoZGl2aWRlbmQgJSBkaXZpc29yICsgZGl2aXNvcikgJSBkaXZpc29yO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2FsU3RhcnRPZkRhdGUoeSwgbSwgZCkge1xuICAgICAgICAvLyB0aGUgZGF0ZSBjb25zdHJ1Y3RvciByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICAgICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwKSB7XG4gICAgICAgICAgICAvLyBwcmVzZXJ2ZSBsZWFwIHllYXJzIHVzaW5nIGEgZnVsbCA0MDAgeWVhciBjeWNsZSwgdGhlbiByZXNldFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHkgKyA0MDAsIG0sIGQpIC0gTVNfUEVSXzQwMF9ZRUFSUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh5LCBtLCBkKS52YWx1ZU9mKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1dGNTdGFydE9mRGF0ZSh5LCBtLCBkKSB7XG4gICAgICAgIC8vIERhdGUuVVRDIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgICAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDApIHtcbiAgICAgICAgICAgIC8vIHByZXNlcnZlIGxlYXAgeWVhcnMgdXNpbmcgYSBmdWxsIDQwMCB5ZWFyIGN5Y2xlLCB0aGVuIHJlc2V0XG4gICAgICAgICAgICByZXR1cm4gRGF0ZS5VVEMoeSArIDQwMCwgbSwgZCkgLSBNU19QRVJfNDAwX1lFQVJTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIERhdGUuVVRDKHksIG0sIGQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RhcnRPZiAodW5pdHMpIHtcbiAgICAgICAgdmFyIHRpbWU7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICBpZiAodW5pdHMgPT09IHVuZGVmaW5lZCB8fCB1bml0cyA9PT0gJ21pbGxpc2Vjb25kJyB8fCAhdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXJ0T2ZEYXRlID0gdGhpcy5faXNVVEMgPyB1dGNTdGFydE9mRGF0ZSA6IGxvY2FsU3RhcnRPZkRhdGU7XG5cbiAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCAwLCAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3F1YXJ0ZXInOlxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpIC0gdGhpcy5tb250aCgpICUgMywgMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnd2Vlayc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIHRoaXMuZGF0ZSgpIC0gdGhpcy53ZWVrZGF5KCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaXNvV2Vlayc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIHRoaXMuZGF0ZSgpIC0gKHRoaXMuaXNvV2Vla2RheSgpIC0gMSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGF5JzpcbiAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpLCB0aGlzLmRhdGUoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgdGltZSAtPSBtb2QkMSh0aW1lICsgKHRoaXMuX2lzVVRDID8gMCA6IHRoaXMudXRjT2Zmc2V0KCkgKiBNU19QRVJfTUlOVVRFKSwgTVNfUEVSX0hPVVIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgdGltZSAtPSBtb2QkMSh0aW1lLCBNU19QRVJfTUlOVVRFKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHRoaXMuX2QudmFsdWVPZigpO1xuICAgICAgICAgICAgICAgIHRpbWUgLT0gbW9kJDEodGltZSwgTVNfUEVSX1NFQ09ORCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kLnNldFRpbWUodGltZSk7XG4gICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZW5kT2YgKHVuaXRzKSB7XG4gICAgICAgIHZhciB0aW1lO1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgaWYgKHVuaXRzID09PSB1bmRlZmluZWQgfHwgdW5pdHMgPT09ICdtaWxsaXNlY29uZCcgfHwgIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGFydE9mRGF0ZSA9IHRoaXMuX2lzVVRDID8gdXRjU3RhcnRPZkRhdGUgOiBsb2NhbFN0YXJ0T2ZEYXRlO1xuXG4gICAgICAgIHN3aXRjaCAodW5pdHMpIHtcbiAgICAgICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSArIDEsIDAsIDEpIC0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3F1YXJ0ZXInOlxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpIC0gdGhpcy5tb250aCgpICUgMyArIDMsIDEpIC0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSArIDEsIDEpIC0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3dlZWsnOlxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpLCB0aGlzLmRhdGUoKSAtIHRoaXMud2Vla2RheSgpICsgNykgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaXNvV2Vlayc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIHRoaXMuZGF0ZSgpIC0gKHRoaXMuaXNvV2Vla2RheSgpIC0gMSkgKyA3KSAtIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIHRoaXMuZGF0ZSgpICsgMSkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaG91cic6XG4gICAgICAgICAgICAgICAgdGltZSA9IHRoaXMuX2QudmFsdWVPZigpO1xuICAgICAgICAgICAgICAgIHRpbWUgKz0gTVNfUEVSX0hPVVIgLSBtb2QkMSh0aW1lICsgKHRoaXMuX2lzVVRDID8gMCA6IHRoaXMudXRjT2Zmc2V0KCkgKiBNU19QRVJfTUlOVVRFKSwgTVNfUEVSX0hPVVIpIC0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHRoaXMuX2QudmFsdWVPZigpO1xuICAgICAgICAgICAgICAgIHRpbWUgKz0gTVNfUEVSX01JTlVURSAtIG1vZCQxKHRpbWUsIE1TX1BFUl9NSU5VVEUpIC0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHRoaXMuX2QudmFsdWVPZigpO1xuICAgICAgICAgICAgICAgIHRpbWUgKz0gTVNfUEVSX1NFQ09ORCAtIG1vZCQxKHRpbWUsIE1TX1BFUl9TRUNPTkQpIC0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Quc2V0VGltZSh0aW1lKTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWx1ZU9mICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2QudmFsdWVPZigpIC0gKCh0aGlzLl9vZmZzZXQgfHwgMCkgKiA2MDAwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW5peCAoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMudmFsdWVPZigpIC8gMTAwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9EYXRlICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMudmFsdWVPZigpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0FycmF5ICgpIHtcbiAgICAgICAgdmFyIG0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gW20ueWVhcigpLCBtLm1vbnRoKCksIG0uZGF0ZSgpLCBtLmhvdXIoKSwgbS5taW51dGUoKSwgbS5zZWNvbmQoKSwgbS5taWxsaXNlY29uZCgpXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b09iamVjdCAoKSB7XG4gICAgICAgIHZhciBtID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHllYXJzOiBtLnllYXIoKSxcbiAgICAgICAgICAgIG1vbnRoczogbS5tb250aCgpLFxuICAgICAgICAgICAgZGF0ZTogbS5kYXRlKCksXG4gICAgICAgICAgICBob3VyczogbS5ob3VycygpLFxuICAgICAgICAgICAgbWludXRlczogbS5taW51dGVzKCksXG4gICAgICAgICAgICBzZWNvbmRzOiBtLnNlY29uZHMoKSxcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kczogbS5taWxsaXNlY29uZHMoKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gICAgICAgIC8vIG5ldyBEYXRlKE5hTikudG9KU09OKCkgPT09IG51bGxcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy50b0lTT1N0cmluZygpIDogbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkJDIgKCkge1xuICAgICAgICByZXR1cm4gaXNWYWxpZCh0aGlzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzaW5nRmxhZ3MgKCkge1xuICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCBnZXRQYXJzaW5nRmxhZ3ModGhpcykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGludmFsaWRBdCAoKSB7XG4gICAgICAgIHJldHVybiBnZXRQYXJzaW5nRmxhZ3ModGhpcykub3ZlcmZsb3c7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRpb25EYXRhKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5wdXQ6IHRoaXMuX2ksXG4gICAgICAgICAgICBmb3JtYXQ6IHRoaXMuX2YsXG4gICAgICAgICAgICBsb2NhbGU6IHRoaXMuX2xvY2FsZSxcbiAgICAgICAgICAgIGlzVVRDOiB0aGlzLl9pc1VUQyxcbiAgICAgICAgICAgIHN0cmljdDogdGhpcy5fc3RyaWN0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydnZycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndlZWtZZWFyKCkgJSAxMDA7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ0dHJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNvV2Vla1llYXIoKSAlIDEwMDtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4gKHRva2VuLCBnZXR0ZXIpIHtcbiAgICAgICAgYWRkRm9ybWF0VG9rZW4oMCwgW3Rva2VuLCB0b2tlbi5sZW5ndGhdLCAwLCBnZXR0ZXIpO1xuICAgIH1cblxuICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2cnLCAgICAgJ3dlZWtZZWFyJyk7XG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZ2cnLCAgICAnd2Vla1llYXInKTtcbiAgICBhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHJywgICdpc29XZWVrWWVhcicpO1xuICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0dHJywgJ2lzb1dlZWtZZWFyJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ3dlZWtZZWFyJywgJ2dnJyk7XG4gICAgYWRkVW5pdEFsaWFzKCdpc29XZWVrWWVhcicsICdHRycpO1xuXG4gICAgLy8gUFJJT1JJVFlcblxuICAgIGFkZFVuaXRQcmlvcml0eSgnd2Vla1llYXInLCAxKTtcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtZZWFyJywgMSk7XG5cblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ0cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCdnJywgICAgICBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignR0cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2dnJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdHR0dHJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG4gICAgYWRkUmVnZXhUb2tlbignZ2dnZycsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0dHR0dHJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbiAgICBhZGRSZWdleFRva2VuKCdnZ2dnZycsICBtYXRjaDF0bzYsIG1hdGNoNik7XG5cbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2dnZ2cnLCAnZ2dnZ2cnLCAnR0dHRycsICdHR0dHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMildID0gdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydnZycsICdHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgd2Vla1t0b2tlbl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXRXZWVrWWVhciAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGdldFNldFdlZWtZZWFySGVscGVyLmNhbGwodGhpcyxcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICB0aGlzLndlZWsoKSxcbiAgICAgICAgICAgICAgICB0aGlzLndlZWtkYXkoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3csXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG95KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRJU09XZWVrWWVhciAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGdldFNldFdlZWtZZWFySGVscGVyLmNhbGwodGhpcyxcbiAgICAgICAgICAgICAgICBpbnB1dCwgdGhpcy5pc29XZWVrKCksIHRoaXMuaXNvV2Vla2RheSgpLCAxLCA0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRJU09XZWVrc0luWWVhciAoKSB7XG4gICAgICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgMSwgNCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0V2Vla3NJblllYXIgKCkge1xuICAgICAgICB2YXIgd2Vla0luZm8gPSB0aGlzLmxvY2FsZURhdGEoKS5fd2VlaztcbiAgICAgICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCB3ZWVrSW5mby5kb3csIHdlZWtJbmZvLmRveSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0V2Vla1llYXJIZWxwZXIoaW5wdXQsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG4gICAgICAgIHZhciB3ZWVrc1RhcmdldDtcbiAgICAgICAgaWYgKGlucHV0ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB3ZWVrT2ZZZWFyKHRoaXMsIGRvdywgZG95KS55ZWFyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2Vla3NUYXJnZXQgPSB3ZWVrc0luWWVhcihpbnB1dCwgZG93LCBkb3kpO1xuICAgICAgICAgICAgaWYgKHdlZWsgPiB3ZWVrc1RhcmdldCkge1xuICAgICAgICAgICAgICAgIHdlZWsgPSB3ZWVrc1RhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZXRXZWVrQWxsLmNhbGwodGhpcywgaW5wdXQsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFdlZWtBbGwod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG4gICAgICAgIHZhciBkYXlPZlllYXJEYXRhID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSksXG4gICAgICAgICAgICBkYXRlID0gY3JlYXRlVVRDRGF0ZShkYXlPZlllYXJEYXRhLnllYXIsIDAsIGRheU9mWWVhckRhdGEuZGF5T2ZZZWFyKTtcblxuICAgICAgICB0aGlzLnllYXIoZGF0ZS5nZXRVVENGdWxsWWVhcigpKTtcbiAgICAgICAgdGhpcy5tb250aChkYXRlLmdldFVUQ01vbnRoKCkpO1xuICAgICAgICB0aGlzLmRhdGUoZGF0ZS5nZXRVVENEYXRlKCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignUScsIDAsICdRbycsICdxdWFydGVyJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ3F1YXJ0ZXInLCAnUScpO1xuXG4gICAgLy8gUFJJT1JJVFlcblxuICAgIGFkZFVuaXRQcmlvcml0eSgncXVhcnRlcicsIDcpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignUScsIG1hdGNoMSk7XG4gICAgYWRkUGFyc2VUb2tlbignUScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbTU9OVEhdID0gKHRvSW50KGlucHV0KSAtIDEpICogMztcbiAgICB9KTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldFF1YXJ0ZXIgKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gTWF0aC5jZWlsKCh0aGlzLm1vbnRoKCkgKyAxKSAvIDMpIDogdGhpcy5tb250aCgoaW5wdXQgLSAxKSAqIDMgKyB0aGlzLm1vbnRoKCkgJSAzKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignRCcsIFsnREQnLCAyXSwgJ0RvJywgJ2RhdGUnKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnZGF0ZScsICdEJyk7XG5cbiAgICAvLyBQUklPUklUWVxuICAgIGFkZFVuaXRQcmlvcml0eSgnZGF0ZScsIDkpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignRCcsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0REJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIFwib3JkaW5hbFBhcnNlXCIgZmFsbGJhY2sgaW4gbmV4dCBtYWpvciByZWxlYXNlLlxuICAgICAgICByZXR1cm4gaXNTdHJpY3QgP1xuICAgICAgICAgIChsb2NhbGUuX2RheU9mTW9udGhPcmRpbmFsUGFyc2UgfHwgbG9jYWxlLl9vcmRpbmFsUGFyc2UpIDpcbiAgICAgICAgICBsb2NhbGUuX2RheU9mTW9udGhPcmRpbmFsUGFyc2VMZW5pZW50O1xuICAgIH0pO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ0QnLCAnREQnXSwgREFURSk7XG4gICAgYWRkUGFyc2VUb2tlbignRG8nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W0RBVEVdID0gdG9JbnQoaW5wdXQubWF0Y2gobWF0Y2gxdG8yKVswXSk7XG4gICAgfSk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICB2YXIgZ2V0U2V0RGF5T2ZNb250aCA9IG1ha2VHZXRTZXQoJ0RhdGUnLCB0cnVlKTtcblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdEREQnLCBbJ0REREQnLCAzXSwgJ0RERG8nLCAnZGF5T2ZZZWFyJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ2RheU9mWWVhcicsICdEREQnKTtcblxuICAgIC8vIFBSSU9SSVRZXG4gICAgYWRkVW5pdFByaW9yaXR5KCdkYXlPZlllYXInLCA0KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ0RERCcsICBtYXRjaDF0bzMpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0REREQnLCBtYXRjaDMpO1xuICAgIGFkZFBhcnNlVG9rZW4oWydEREQnLCAnRERERCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl9kYXlPZlllYXIgPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXREYXlPZlllYXIgKGlucHV0KSB7XG4gICAgICAgIHZhciBkYXlPZlllYXIgPSBNYXRoLnJvdW5kKCh0aGlzLmNsb25lKCkuc3RhcnRPZignZGF5JykgLSB0aGlzLmNsb25lKCkuc3RhcnRPZigneWVhcicpKSAvIDg2NGU1KSArIDE7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gZGF5T2ZZZWFyIDogdGhpcy5hZGQoKGlucHV0IC0gZGF5T2ZZZWFyKSwgJ2QnKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignbScsIFsnbW0nLCAyXSwgMCwgJ21pbnV0ZScpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdtaW51dGUnLCAnbScpO1xuXG4gICAgLy8gUFJJT1JJVFlcblxuICAgIGFkZFVuaXRQcmlvcml0eSgnbWludXRlJywgMTQpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignbScsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ21tJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFBhcnNlVG9rZW4oWydtJywgJ21tJ10sIE1JTlVURSk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICB2YXIgZ2V0U2V0TWludXRlID0gbWFrZUdldFNldCgnTWludXRlcycsIGZhbHNlKTtcblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdzJywgWydzcycsIDJdLCAwLCAnc2Vjb25kJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ3NlY29uZCcsICdzJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdzZWNvbmQnLCAxNSk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdzJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignc3MnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUGFyc2VUb2tlbihbJ3MnLCAnc3MnXSwgU0VDT05EKTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIHZhciBnZXRTZXRTZWNvbmQgPSBtYWtlR2V0U2V0KCdTZWNvbmRzJywgZmFsc2UpO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ1MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB+fih0aGlzLm1pbGxpc2Vjb25kKCkgLyAxMDApO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTUycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB+fih0aGlzLm1pbGxpc2Vjb25kKCkgLyAxMCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTUycsIDNdLCAwLCAnbWlsbGlzZWNvbmQnKTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1MnLCA0XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTA7XG4gICAgfSk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTUycsIDVdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDA7XG4gICAgfSk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1MnLCA2XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1MnLCA3XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDA7XG4gICAgfSk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTUycsIDhdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDA7XG4gICAgfSk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTU1MnLCA5XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDAwMDtcbiAgICB9KTtcblxuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdtaWxsaXNlY29uZCcsICdtcycpO1xuXG4gICAgLy8gUFJJT1JJVFlcblxuICAgIGFkZFVuaXRQcmlvcml0eSgnbWlsbGlzZWNvbmQnLCAxNik7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdTJywgICAgbWF0Y2gxdG8zLCBtYXRjaDEpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1NTJywgICBtYXRjaDF0bzMsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignU1NTJywgIG1hdGNoMXRvMywgbWF0Y2gzKTtcblxuICAgIHZhciB0b2tlbjtcbiAgICBmb3IgKHRva2VuID0gJ1NTU1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgICAgIGFkZFJlZ2V4VG9rZW4odG9rZW4sIG1hdGNoVW5zaWduZWQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlTXMoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W01JTExJU0VDT05EXSA9IHRvSW50KCgnMC4nICsgaW5wdXQpICogMTAwMCk7XG4gICAgfVxuXG4gICAgZm9yICh0b2tlbiA9ICdTJzsgdG9rZW4ubGVuZ3RoIDw9IDk7IHRva2VuICs9ICdTJykge1xuICAgICAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBwYXJzZU1zKTtcbiAgICB9XG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldE1pbGxpc2Vjb25kID0gbWFrZUdldFNldCgnTWlsbGlzZWNvbmRzJywgZmFsc2UpO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3onLCAgMCwgMCwgJ3pvbmVBYmJyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ3p6JywgMCwgMCwgJ3pvbmVOYW1lJyk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRab25lQWJiciAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdVVEMnIDogJyc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Wm9uZU5hbWUgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnQ29vcmRpbmF0ZWQgVW5pdmVyc2FsIFRpbWUnIDogJyc7XG4gICAgfVxuXG4gICAgdmFyIHByb3RvID0gTW9tZW50LnByb3RvdHlwZTtcblxuICAgIHByb3RvLmFkZCAgICAgICAgICAgICAgID0gYWRkO1xuICAgIHByb3RvLmNhbGVuZGFyICAgICAgICAgID0gY2FsZW5kYXIkMTtcbiAgICBwcm90by5jbG9uZSAgICAgICAgICAgICA9IGNsb25lO1xuICAgIHByb3RvLmRpZmYgICAgICAgICAgICAgID0gZGlmZjtcbiAgICBwcm90by5lbmRPZiAgICAgICAgICAgICA9IGVuZE9mO1xuICAgIHByb3RvLmZvcm1hdCAgICAgICAgICAgID0gZm9ybWF0O1xuICAgIHByb3RvLmZyb20gICAgICAgICAgICAgID0gZnJvbTtcbiAgICBwcm90by5mcm9tTm93ICAgICAgICAgICA9IGZyb21Ob3c7XG4gICAgcHJvdG8udG8gICAgICAgICAgICAgICAgPSB0bztcbiAgICBwcm90by50b05vdyAgICAgICAgICAgICA9IHRvTm93O1xuICAgIHByb3RvLmdldCAgICAgICAgICAgICAgID0gc3RyaW5nR2V0O1xuICAgIHByb3RvLmludmFsaWRBdCAgICAgICAgID0gaW52YWxpZEF0O1xuICAgIHByb3RvLmlzQWZ0ZXIgICAgICAgICAgID0gaXNBZnRlcjtcbiAgICBwcm90by5pc0JlZm9yZSAgICAgICAgICA9IGlzQmVmb3JlO1xuICAgIHByb3RvLmlzQmV0d2VlbiAgICAgICAgID0gaXNCZXR3ZWVuO1xuICAgIHByb3RvLmlzU2FtZSAgICAgICAgICAgID0gaXNTYW1lO1xuICAgIHByb3RvLmlzU2FtZU9yQWZ0ZXIgICAgID0gaXNTYW1lT3JBZnRlcjtcbiAgICBwcm90by5pc1NhbWVPckJlZm9yZSAgICA9IGlzU2FtZU9yQmVmb3JlO1xuICAgIHByb3RvLmlzVmFsaWQgICAgICAgICAgID0gaXNWYWxpZCQyO1xuICAgIHByb3RvLmxhbmcgICAgICAgICAgICAgID0gbGFuZztcbiAgICBwcm90by5sb2NhbGUgICAgICAgICAgICA9IGxvY2FsZTtcbiAgICBwcm90by5sb2NhbGVEYXRhICAgICAgICA9IGxvY2FsZURhdGE7XG4gICAgcHJvdG8ubWF4ICAgICAgICAgICAgICAgPSBwcm90b3R5cGVNYXg7XG4gICAgcHJvdG8ubWluICAgICAgICAgICAgICAgPSBwcm90b3R5cGVNaW47XG4gICAgcHJvdG8ucGFyc2luZ0ZsYWdzICAgICAgPSBwYXJzaW5nRmxhZ3M7XG4gICAgcHJvdG8uc2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdTZXQ7XG4gICAgcHJvdG8uc3RhcnRPZiAgICAgICAgICAgPSBzdGFydE9mO1xuICAgIHByb3RvLnN1YnRyYWN0ICAgICAgICAgID0gc3VidHJhY3Q7XG4gICAgcHJvdG8udG9BcnJheSAgICAgICAgICAgPSB0b0FycmF5O1xuICAgIHByb3RvLnRvT2JqZWN0ICAgICAgICAgID0gdG9PYmplY3Q7XG4gICAgcHJvdG8udG9EYXRlICAgICAgICAgICAgPSB0b0RhdGU7XG4gICAgcHJvdG8udG9JU09TdHJpbmcgICAgICAgPSB0b0lTT1N0cmluZztcbiAgICBwcm90by5pbnNwZWN0ICAgICAgICAgICA9IGluc3BlY3Q7XG4gICAgcHJvdG8udG9KU09OICAgICAgICAgICAgPSB0b0pTT047XG4gICAgcHJvdG8udG9TdHJpbmcgICAgICAgICAgPSB0b1N0cmluZztcbiAgICBwcm90by51bml4ICAgICAgICAgICAgICA9IHVuaXg7XG4gICAgcHJvdG8udmFsdWVPZiAgICAgICAgICAgPSB2YWx1ZU9mO1xuICAgIHByb3RvLmNyZWF0aW9uRGF0YSAgICAgID0gY3JlYXRpb25EYXRhO1xuICAgIHByb3RvLnllYXIgICAgICAgPSBnZXRTZXRZZWFyO1xuICAgIHByb3RvLmlzTGVhcFllYXIgPSBnZXRJc0xlYXBZZWFyO1xuICAgIHByb3RvLndlZWtZZWFyICAgID0gZ2V0U2V0V2Vla1llYXI7XG4gICAgcHJvdG8uaXNvV2Vla1llYXIgPSBnZXRTZXRJU09XZWVrWWVhcjtcbiAgICBwcm90by5xdWFydGVyID0gcHJvdG8ucXVhcnRlcnMgPSBnZXRTZXRRdWFydGVyO1xuICAgIHByb3RvLm1vbnRoICAgICAgID0gZ2V0U2V0TW9udGg7XG4gICAgcHJvdG8uZGF5c0luTW9udGggPSBnZXREYXlzSW5Nb250aDtcbiAgICBwcm90by53ZWVrICAgICAgICAgICA9IHByb3RvLndlZWtzICAgICAgICA9IGdldFNldFdlZWs7XG4gICAgcHJvdG8uaXNvV2VlayAgICAgICAgPSBwcm90by5pc29XZWVrcyAgICAgPSBnZXRTZXRJU09XZWVrO1xuICAgIHByb3RvLndlZWtzSW5ZZWFyICAgID0gZ2V0V2Vla3NJblllYXI7XG4gICAgcHJvdG8uaXNvV2Vla3NJblllYXIgPSBnZXRJU09XZWVrc0luWWVhcjtcbiAgICBwcm90by5kYXRlICAgICAgID0gZ2V0U2V0RGF5T2ZNb250aDtcbiAgICBwcm90by5kYXkgICAgICAgID0gcHJvdG8uZGF5cyAgICAgICAgICAgICA9IGdldFNldERheU9mV2VlaztcbiAgICBwcm90by53ZWVrZGF5ICAgID0gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrO1xuICAgIHByb3RvLmlzb1dlZWtkYXkgPSBnZXRTZXRJU09EYXlPZldlZWs7XG4gICAgcHJvdG8uZGF5T2ZZZWFyICA9IGdldFNldERheU9mWWVhcjtcbiAgICBwcm90by5ob3VyID0gcHJvdG8uaG91cnMgPSBnZXRTZXRIb3VyO1xuICAgIHByb3RvLm1pbnV0ZSA9IHByb3RvLm1pbnV0ZXMgPSBnZXRTZXRNaW51dGU7XG4gICAgcHJvdG8uc2Vjb25kID0gcHJvdG8uc2Vjb25kcyA9IGdldFNldFNlY29uZDtcbiAgICBwcm90by5taWxsaXNlY29uZCA9IHByb3RvLm1pbGxpc2Vjb25kcyA9IGdldFNldE1pbGxpc2Vjb25kO1xuICAgIHByb3RvLnV0Y09mZnNldCAgICAgICAgICAgID0gZ2V0U2V0T2Zmc2V0O1xuICAgIHByb3RvLnV0YyAgICAgICAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9VVEM7XG4gICAgcHJvdG8ubG9jYWwgICAgICAgICAgICAgICAgPSBzZXRPZmZzZXRUb0xvY2FsO1xuICAgIHByb3RvLnBhcnNlWm9uZSAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQ7XG4gICAgcHJvdG8uaGFzQWxpZ25lZEhvdXJPZmZzZXQgPSBoYXNBbGlnbmVkSG91ck9mZnNldDtcbiAgICBwcm90by5pc0RTVCAgICAgICAgICAgICAgICA9IGlzRGF5bGlnaHRTYXZpbmdUaW1lO1xuICAgIHByb3RvLmlzTG9jYWwgICAgICAgICAgICAgID0gaXNMb2NhbDtcbiAgICBwcm90by5pc1V0Y09mZnNldCAgICAgICAgICA9IGlzVXRjT2Zmc2V0O1xuICAgIHByb3RvLmlzVXRjICAgICAgICAgICAgICAgID0gaXNVdGM7XG4gICAgcHJvdG8uaXNVVEMgICAgICAgICAgICAgICAgPSBpc1V0YztcbiAgICBwcm90by56b25lQWJiciA9IGdldFpvbmVBYmJyO1xuICAgIHByb3RvLnpvbmVOYW1lID0gZ2V0Wm9uZU5hbWU7XG4gICAgcHJvdG8uZGF0ZXMgID0gZGVwcmVjYXRlKCdkYXRlcyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgZGF0ZSBpbnN0ZWFkLicsIGdldFNldERheU9mTW9udGgpO1xuICAgIHByb3RvLm1vbnRocyA9IGRlcHJlY2F0ZSgnbW9udGhzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb250aCBpbnN0ZWFkJywgZ2V0U2V0TW9udGgpO1xuICAgIHByb3RvLnllYXJzICA9IGRlcHJlY2F0ZSgneWVhcnMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIHllYXIgaW5zdGVhZCcsIGdldFNldFllYXIpO1xuICAgIHByb3RvLnpvbmUgICA9IGRlcHJlY2F0ZSgnbW9tZW50KCkuem9uZSBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50KCkudXRjT2Zmc2V0IGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3Mvem9uZS8nLCBnZXRTZXRab25lKTtcbiAgICBwcm90by5pc0RTVFNoaWZ0ZWQgPSBkZXByZWNhdGUoJ2lzRFNUU2hpZnRlZCBpcyBkZXByZWNhdGVkLiBTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kc3Qtc2hpZnRlZC8gZm9yIG1vcmUgaW5mb3JtYXRpb24nLCBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQpO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlVW5peCAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0ICogMTAwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSW5ab25lICgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cykucGFyc2Vab25lKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlUGFyc2VQb3N0Rm9ybWF0IChzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICB9XG5cbiAgICB2YXIgcHJvdG8kMSA9IExvY2FsZS5wcm90b3R5cGU7XG5cbiAgICBwcm90byQxLmNhbGVuZGFyICAgICAgICA9IGNhbGVuZGFyO1xuICAgIHByb3RvJDEubG9uZ0RhdGVGb3JtYXQgID0gbG9uZ0RhdGVGb3JtYXQ7XG4gICAgcHJvdG8kMS5pbnZhbGlkRGF0ZSAgICAgPSBpbnZhbGlkRGF0ZTtcbiAgICBwcm90byQxLm9yZGluYWwgICAgICAgICA9IG9yZGluYWw7XG4gICAgcHJvdG8kMS5wcmVwYXJzZSAgICAgICAgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XG4gICAgcHJvdG8kMS5wb3N0Zm9ybWF0ICAgICAgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XG4gICAgcHJvdG8kMS5yZWxhdGl2ZVRpbWUgICAgPSByZWxhdGl2ZVRpbWU7XG4gICAgcHJvdG8kMS5wYXN0RnV0dXJlICAgICAgPSBwYXN0RnV0dXJlO1xuICAgIHByb3RvJDEuc2V0ICAgICAgICAgICAgID0gc2V0O1xuXG4gICAgcHJvdG8kMS5tb250aHMgICAgICAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHM7XG4gICAgcHJvdG8kMS5tb250aHNTaG9ydCAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHNTaG9ydDtcbiAgICBwcm90byQxLm1vbnRoc1BhcnNlICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRoc1BhcnNlO1xuICAgIHByb3RvJDEubW9udGhzUmVnZXggICAgICAgPSBtb250aHNSZWdleDtcbiAgICBwcm90byQxLm1vbnRoc1Nob3J0UmVnZXggID0gbW9udGhzU2hvcnRSZWdleDtcbiAgICBwcm90byQxLndlZWsgPSBsb2NhbGVXZWVrO1xuICAgIHByb3RvJDEuZmlyc3REYXlPZlllYXIgPSBsb2NhbGVGaXJzdERheU9mWWVhcjtcbiAgICBwcm90byQxLmZpcnN0RGF5T2ZXZWVrID0gbG9jYWxlRmlyc3REYXlPZldlZWs7XG5cbiAgICBwcm90byQxLndlZWtkYXlzICAgICAgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzO1xuICAgIHByb3RvJDEud2Vla2RheXNNaW4gICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNNaW47XG4gICAgcHJvdG8kMS53ZWVrZGF5c1Nob3J0ICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c1Nob3J0O1xuICAgIHByb3RvJDEud2Vla2RheXNQYXJzZSAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNQYXJzZTtcblxuICAgIHByb3RvJDEud2Vla2RheXNSZWdleCAgICAgICA9ICAgICAgICB3ZWVrZGF5c1JlZ2V4O1xuICAgIHByb3RvJDEud2Vla2RheXNTaG9ydFJlZ2V4ICA9ICAgICAgICB3ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgcHJvdG8kMS53ZWVrZGF5c01pblJlZ2V4ICAgID0gICAgICAgIHdlZWtkYXlzTWluUmVnZXg7XG5cbiAgICBwcm90byQxLmlzUE0gPSBsb2NhbGVJc1BNO1xuICAgIHByb3RvJDEubWVyaWRpZW0gPSBsb2NhbGVNZXJpZGllbTtcblxuICAgIGZ1bmN0aW9uIGdldCQxIChmb3JtYXQsIGluZGV4LCBmaWVsZCwgc2V0dGVyKSB7XG4gICAgICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKTtcbiAgICAgICAgdmFyIHV0YyA9IGNyZWF0ZVVUQygpLnNldChzZXR0ZXIsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGxvY2FsZVtmaWVsZF0odXRjLCBmb3JtYXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RNb250aHNJbXBsIChmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQkMShmb3JtYXQsIGluZGV4LCBmaWVsZCwgJ21vbnRoJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIG91dCA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCBpLCBmaWVsZCwgJ21vbnRoJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG5cbiAgICAvLyAoKVxuICAgIC8vICg1KVxuICAgIC8vIChmbXQsIDUpXG4gICAgLy8gKGZtdClcbiAgICAvLyAodHJ1ZSlcbiAgICAvLyAodHJ1ZSwgNSlcbiAgICAvLyAodHJ1ZSwgZm10LCA1KVxuICAgIC8vICh0cnVlLCBmbXQpXG4gICAgZnVuY3Rpb24gbGlzdFdlZWtkYXlzSW1wbCAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgICAgICBpZiAodHlwZW9mIGxvY2FsZVNvcnRlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9ybWF0ID0gbG9jYWxlU29ydGVkO1xuICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICBsb2NhbGVTb3J0ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKSxcbiAgICAgICAgICAgIHNoaWZ0ID0gbG9jYWxlU29ydGVkID8gbG9jYWxlLl93ZWVrLmRvdyA6IDA7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQkMShmb3JtYXQsIChpbmRleCArIHNoaWZ0KSAlIDcsIGZpZWxkLCAnZGF5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIG91dCA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICBvdXRbaV0gPSBnZXQkMShmb3JtYXQsIChpICsgc2hpZnQpICUgNywgZmllbGQsICdkYXknKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RNb250aHMgKGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHMnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0TW9udGhzU2hvcnQgKGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHNTaG9ydCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RXZWVrZGF5cyAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdFdlZWtkYXlzU2hvcnQgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c1Nob3J0Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdFdlZWtkYXlzTWluIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXNNaW4nKTtcbiAgICB9XG5cbiAgICBnZXRTZXRHbG9iYWxMb2NhbGUoJ2VuJywge1xuICAgICAgICBkYXlPZk1vbnRoT3JkaW5hbFBhcnNlOiAvXFxkezEsMn0odGh8c3R8bmR8cmQpLyxcbiAgICAgICAgb3JkaW5hbCA6IGZ1bmN0aW9uIChudW1iZXIpIHtcbiAgICAgICAgICAgIHZhciBiID0gbnVtYmVyICUgMTAsXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gKHRvSW50KG51bWJlciAlIDEwMCAvIDEwKSA9PT0gMSkgPyAndGgnIDpcbiAgICAgICAgICAgICAgICAoYiA9PT0gMSkgPyAnc3QnIDpcbiAgICAgICAgICAgICAgICAoYiA9PT0gMikgPyAnbmQnIDpcbiAgICAgICAgICAgICAgICAoYiA9PT0gMykgPyAncmQnIDogJ3RoJztcbiAgICAgICAgICAgIHJldHVybiBudW1iZXIgKyBvdXRwdXQ7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblxuICAgIGhvb2tzLmxhbmcgPSBkZXByZWNhdGUoJ21vbWVudC5sYW5nIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlIGluc3RlYWQuJywgZ2V0U2V0R2xvYmFsTG9jYWxlKTtcbiAgICBob29rcy5sYW5nRGF0YSA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmdEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlRGF0YSBpbnN0ZWFkLicsIGdldExvY2FsZSk7XG5cbiAgICB2YXIgbWF0aEFicyA9IE1hdGguYWJzO1xuXG4gICAgZnVuY3Rpb24gYWJzICgpIHtcbiAgICAgICAgdmFyIGRhdGEgICAgICAgICAgID0gdGhpcy5fZGF0YTtcblxuICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgPSBtYXRoQWJzKHRoaXMuX21pbGxpc2Vjb25kcyk7XG4gICAgICAgIHRoaXMuX2RheXMgICAgICAgICA9IG1hdGhBYnModGhpcy5fZGF5cyk7XG4gICAgICAgIHRoaXMuX21vbnRocyAgICAgICA9IG1hdGhBYnModGhpcy5fbW9udGhzKTtcblxuICAgICAgICBkYXRhLm1pbGxpc2Vjb25kcyAgPSBtYXRoQWJzKGRhdGEubWlsbGlzZWNvbmRzKTtcbiAgICAgICAgZGF0YS5zZWNvbmRzICAgICAgID0gbWF0aEFicyhkYXRhLnNlY29uZHMpO1xuICAgICAgICBkYXRhLm1pbnV0ZXMgICAgICAgPSBtYXRoQWJzKGRhdGEubWludXRlcyk7XG4gICAgICAgIGRhdGEuaG91cnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS5ob3Vycyk7XG4gICAgICAgIGRhdGEubW9udGhzICAgICAgICA9IG1hdGhBYnMoZGF0YS5tb250aHMpO1xuICAgICAgICBkYXRhLnllYXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEueWVhcnMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFN1YnRyYWN0JDEgKGR1cmF0aW9uLCBpbnB1dCwgdmFsdWUsIGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVEdXJhdGlvbihpbnB1dCwgdmFsdWUpO1xuXG4gICAgICAgIGR1cmF0aW9uLl9taWxsaXNlY29uZHMgKz0gZGlyZWN0aW9uICogb3RoZXIuX21pbGxpc2Vjb25kcztcbiAgICAgICAgZHVyYXRpb24uX2RheXMgICAgICAgICArPSBkaXJlY3Rpb24gKiBvdGhlci5fZGF5cztcbiAgICAgICAgZHVyYXRpb24uX21vbnRocyAgICAgICArPSBkaXJlY3Rpb24gKiBvdGhlci5fbW9udGhzO1xuXG4gICAgICAgIHJldHVybiBkdXJhdGlvbi5fYnViYmxlKCk7XG4gICAgfVxuXG4gICAgLy8gc3VwcG9ydHMgb25seSAyLjAtc3R5bGUgYWRkKDEsICdzJykgb3IgYWRkKGR1cmF0aW9uKVxuICAgIGZ1bmN0aW9uIGFkZCQxIChpbnB1dCwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGFkZFN1YnRyYWN0JDEodGhpcywgaW5wdXQsIHZhbHVlLCAxKTtcbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBzdWJ0cmFjdCgxLCAncycpIG9yIHN1YnRyYWN0KGR1cmF0aW9uKVxuICAgIGZ1bmN0aW9uIHN1YnRyYWN0JDEgKGlucHV0LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIC0xKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhYnNDZWlsIChudW1iZXIpIHtcbiAgICAgICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKG51bWJlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBidWJibGUgKCkge1xuICAgICAgICB2YXIgbWlsbGlzZWNvbmRzID0gdGhpcy5fbWlsbGlzZWNvbmRzO1xuICAgICAgICB2YXIgZGF5cyAgICAgICAgID0gdGhpcy5fZGF5cztcbiAgICAgICAgdmFyIG1vbnRocyAgICAgICA9IHRoaXMuX21vbnRocztcbiAgICAgICAgdmFyIGRhdGEgICAgICAgICA9IHRoaXMuX2RhdGE7XG4gICAgICAgIHZhciBzZWNvbmRzLCBtaW51dGVzLCBob3VycywgeWVhcnMsIG1vbnRoc0Zyb21EYXlzO1xuXG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYSBtaXggb2YgcG9zaXRpdmUgYW5kIG5lZ2F0aXZlIHZhbHVlcywgYnViYmxlIGRvd24gZmlyc3RcbiAgICAgICAgLy8gY2hlY2s6IGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8yMTY2XG4gICAgICAgIGlmICghKChtaWxsaXNlY29uZHMgPj0gMCAmJiBkYXlzID49IDAgJiYgbW9udGhzID49IDApIHx8XG4gICAgICAgICAgICAgICAgKG1pbGxpc2Vjb25kcyA8PSAwICYmIGRheXMgPD0gMCAmJiBtb250aHMgPD0gMCkpKSB7XG4gICAgICAgICAgICBtaWxsaXNlY29uZHMgKz0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzKSArIGRheXMpICogODY0ZTU7XG4gICAgICAgICAgICBkYXlzID0gMDtcbiAgICAgICAgICAgIG1vbnRocyA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgYnViYmxlcyB1cCB2YWx1ZXMsIHNlZSB0aGUgdGVzdHMgZm9yXG4gICAgICAgIC8vIGV4YW1wbGVzIG9mIHdoYXQgdGhhdCBtZWFucy5cbiAgICAgICAgZGF0YS5taWxsaXNlY29uZHMgPSBtaWxsaXNlY29uZHMgJSAxMDAwO1xuXG4gICAgICAgIHNlY29uZHMgICAgICAgICAgID0gYWJzRmxvb3IobWlsbGlzZWNvbmRzIC8gMTAwMCk7XG4gICAgICAgIGRhdGEuc2Vjb25kcyAgICAgID0gc2Vjb25kcyAlIDYwO1xuXG4gICAgICAgIG1pbnV0ZXMgICAgICAgICAgID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICAgICAgZGF0YS5taW51dGVzICAgICAgPSBtaW51dGVzICUgNjA7XG5cbiAgICAgICAgaG91cnMgICAgICAgICAgICAgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuICAgICAgICBkYXRhLmhvdXJzICAgICAgICA9IGhvdXJzICUgMjQ7XG5cbiAgICAgICAgZGF5cyArPSBhYnNGbG9vcihob3VycyAvIDI0KTtcblxuICAgICAgICAvLyBjb252ZXJ0IGRheXMgdG8gbW9udGhzXG4gICAgICAgIG1vbnRoc0Zyb21EYXlzID0gYWJzRmxvb3IoZGF5c1RvTW9udGhzKGRheXMpKTtcbiAgICAgICAgbW9udGhzICs9IG1vbnRoc0Zyb21EYXlzO1xuICAgICAgICBkYXlzIC09IGFic0NlaWwobW9udGhzVG9EYXlzKG1vbnRoc0Zyb21EYXlzKSk7XG5cbiAgICAgICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxuICAgICAgICB5ZWFycyA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcbiAgICAgICAgbW9udGhzICU9IDEyO1xuXG4gICAgICAgIGRhdGEuZGF5cyAgID0gZGF5cztcbiAgICAgICAgZGF0YS5tb250aHMgPSBtb250aHM7XG4gICAgICAgIGRhdGEueWVhcnMgID0geWVhcnM7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGF5c1RvTW9udGhzIChkYXlzKSB7XG4gICAgICAgIC8vIDQwMCB5ZWFycyBoYXZlIDE0NjA5NyBkYXlzICh0YWtpbmcgaW50byBhY2NvdW50IGxlYXAgeWVhciBydWxlcylcbiAgICAgICAgLy8gNDAwIHllYXJzIGhhdmUgMTIgbW9udGhzID09PSA0ODAwXG4gICAgICAgIHJldHVybiBkYXlzICogNDgwMCAvIDE0NjA5NztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb250aHNUb0RheXMgKG1vbnRocykge1xuICAgICAgICAvLyB0aGUgcmV2ZXJzZSBvZiBkYXlzVG9Nb250aHNcbiAgICAgICAgcmV0dXJuIG1vbnRocyAqIDE0NjA5NyAvIDQ4MDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXMgKHVuaXRzKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRheXM7XG4gICAgICAgIHZhciBtb250aHM7XG4gICAgICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG5cbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cbiAgICAgICAgaWYgKHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAncXVhcnRlcicgfHwgdW5pdHMgPT09ICd5ZWFyJykge1xuICAgICAgICAgICAgZGF5cyA9IHRoaXMuX2RheXMgKyBtaWxsaXNlY29uZHMgLyA4NjRlNTtcbiAgICAgICAgICAgIG1vbnRocyA9IHRoaXMuX21vbnRocyArIGRheXNUb01vbnRocyhkYXlzKTtcbiAgICAgICAgICAgIHN3aXRjaCAodW5pdHMpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdtb250aCc6ICAgcmV0dXJuIG1vbnRocztcbiAgICAgICAgICAgICAgICBjYXNlICdxdWFydGVyJzogcmV0dXJuIG1vbnRocyAvIDM7XG4gICAgICAgICAgICAgICAgY2FzZSAneWVhcic6ICAgIHJldHVybiBtb250aHMgLyAxMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSBtaWxsaXNlY29uZHMgc2VwYXJhdGVseSBiZWNhdXNlIG9mIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIChpc3N1ZSAjMTg2NylcbiAgICAgICAgICAgIGRheXMgPSB0aGlzLl9kYXlzICsgTWF0aC5yb3VuZChtb250aHNUb0RheXModGhpcy5fbW9udGhzKSk7XG4gICAgICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnd2VlaycgICA6IHJldHVybiBkYXlzIC8gNyAgICAgKyBtaWxsaXNlY29uZHMgLyA2MDQ4ZTU7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGF5JyAgICA6IHJldHVybiBkYXlzICAgICAgICAgKyBtaWxsaXNlY29uZHMgLyA4NjRlNTtcbiAgICAgICAgICAgICAgICBjYXNlICdob3VyJyAgIDogcmV0dXJuIGRheXMgKiAyNCAgICArIG1pbGxpc2Vjb25kcyAvIDM2ZTU7XG4gICAgICAgICAgICAgICAgY2FzZSAnbWludXRlJyA6IHJldHVybiBkYXlzICogMTQ0MCAgKyBtaWxsaXNlY29uZHMgLyA2ZTQ7XG4gICAgICAgICAgICAgICAgY2FzZSAnc2Vjb25kJyA6IHJldHVybiBkYXlzICogODY0MDAgKyBtaWxsaXNlY29uZHMgLyAxMDAwO1xuICAgICAgICAgICAgICAgIC8vIE1hdGguZmxvb3IgcHJldmVudHMgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgaGVyZVxuICAgICAgICAgICAgICAgIGNhc2UgJ21pbGxpc2Vjb25kJzogcmV0dXJuIE1hdGguZmxvb3IoZGF5cyAqIDg2NGU1KSArIG1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdW5pdCAnICsgdW5pdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETzogVXNlIHRoaXMuYXMoJ21zJyk/XG4gICAgZnVuY3Rpb24gdmFsdWVPZiQxICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdGhpcy5fbWlsbGlzZWNvbmRzICtcbiAgICAgICAgICAgIHRoaXMuX2RheXMgKiA4NjRlNSArXG4gICAgICAgICAgICAodGhpcy5fbW9udGhzICUgMTIpICogMjU5MmU2ICtcbiAgICAgICAgICAgIHRvSW50KHRoaXMuX21vbnRocyAvIDEyKSAqIDMxNTM2ZTZcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlQXMgKGFsaWFzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hcyhhbGlhcyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGFzTWlsbGlzZWNvbmRzID0gbWFrZUFzKCdtcycpO1xuICAgIHZhciBhc1NlY29uZHMgICAgICA9IG1ha2VBcygncycpO1xuICAgIHZhciBhc01pbnV0ZXMgICAgICA9IG1ha2VBcygnbScpO1xuICAgIHZhciBhc0hvdXJzICAgICAgICA9IG1ha2VBcygnaCcpO1xuICAgIHZhciBhc0RheXMgICAgICAgICA9IG1ha2VBcygnZCcpO1xuICAgIHZhciBhc1dlZWtzICAgICAgICA9IG1ha2VBcygndycpO1xuICAgIHZhciBhc01vbnRocyAgICAgICA9IG1ha2VBcygnTScpO1xuICAgIHZhciBhc1F1YXJ0ZXJzICAgICA9IG1ha2VBcygnUScpO1xuICAgIHZhciBhc1llYXJzICAgICAgICA9IG1ha2VBcygneScpO1xuXG4gICAgZnVuY3Rpb24gY2xvbmUkMSAoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih0aGlzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXQkMiAodW5pdHMpIHtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXNbdW5pdHMgKyAncyddKCkgOiBOYU47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUdldHRlcihuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9kYXRhW25hbWVdIDogTmFOO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBtaWxsaXNlY29uZHMgPSBtYWtlR2V0dGVyKCdtaWxsaXNlY29uZHMnKTtcbiAgICB2YXIgc2Vjb25kcyAgICAgID0gbWFrZUdldHRlcignc2Vjb25kcycpO1xuICAgIHZhciBtaW51dGVzICAgICAgPSBtYWtlR2V0dGVyKCdtaW51dGVzJyk7XG4gICAgdmFyIGhvdXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ2hvdXJzJyk7XG4gICAgdmFyIGRheXMgICAgICAgICA9IG1ha2VHZXR0ZXIoJ2RheXMnKTtcbiAgICB2YXIgbW9udGhzICAgICAgID0gbWFrZUdldHRlcignbW9udGhzJyk7XG4gICAgdmFyIHllYXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ3llYXJzJyk7XG5cbiAgICBmdW5jdGlvbiB3ZWVrcyAoKSB7XG4gICAgICAgIHJldHVybiBhYnNGbG9vcih0aGlzLmRheXMoKSAvIDcpO1xuICAgIH1cblxuICAgIHZhciByb3VuZCA9IE1hdGgucm91bmQ7XG4gICAgdmFyIHRocmVzaG9sZHMgPSB7XG4gICAgICAgIHNzOiA0NCwgICAgICAgICAvLyBhIGZldyBzZWNvbmRzIHRvIHNlY29uZHNcbiAgICAgICAgcyA6IDQ1LCAgICAgICAgIC8vIHNlY29uZHMgdG8gbWludXRlXG4gICAgICAgIG0gOiA0NSwgICAgICAgICAvLyBtaW51dGVzIHRvIGhvdXJcbiAgICAgICAgaCA6IDIyLCAgICAgICAgIC8vIGhvdXJzIHRvIGRheVxuICAgICAgICBkIDogMjYsICAgICAgICAgLy8gZGF5cyB0byBtb250aFxuICAgICAgICBNIDogMTEgICAgICAgICAgLy8gbW9udGhzIHRvIHllYXJcbiAgICB9O1xuXG4gICAgLy8gaGVscGVyIGZ1bmN0aW9uIGZvciBtb21lbnQuZm4uZnJvbSwgbW9tZW50LmZuLmZyb21Ob3csIGFuZCBtb21lbnQuZHVyYXRpb24uZm4uaHVtYW5pemVcbiAgICBmdW5jdGlvbiBzdWJzdGl0dXRlVGltZUFnbyhzdHJpbmcsIG51bWJlciwgd2l0aG91dFN1ZmZpeCwgaXNGdXR1cmUsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLnJlbGF0aXZlVGltZShudW1iZXIgfHwgMSwgISF3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWxhdGl2ZVRpbWUkMSAocG9zTmVnRHVyYXRpb24sIHdpdGhvdXRTdWZmaXgsIGxvY2FsZSkge1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBjcmVhdGVEdXJhdGlvbihwb3NOZWdEdXJhdGlvbikuYWJzKCk7XG4gICAgICAgIHZhciBzZWNvbmRzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdzJykpO1xuICAgICAgICB2YXIgbWludXRlcyAgPSByb3VuZChkdXJhdGlvbi5hcygnbScpKTtcbiAgICAgICAgdmFyIGhvdXJzICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ2gnKSk7XG4gICAgICAgIHZhciBkYXlzICAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdkJykpO1xuICAgICAgICB2YXIgbW9udGhzICAgPSByb3VuZChkdXJhdGlvbi5hcygnTScpKTtcbiAgICAgICAgdmFyIHllYXJzICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ3knKSk7XG5cbiAgICAgICAgdmFyIGEgPSBzZWNvbmRzIDw9IHRocmVzaG9sZHMuc3MgJiYgWydzJywgc2Vjb25kc10gIHx8XG4gICAgICAgICAgICAgICAgc2Vjb25kcyA8IHRocmVzaG9sZHMucyAgICYmIFsnc3MnLCBzZWNvbmRzXSB8fFxuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPD0gMSAgICAgICAgICAgICAmJiBbJ20nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICBtaW51dGVzIDwgdGhyZXNob2xkcy5tICAgJiYgWydtbScsIG1pbnV0ZXNdIHx8XG4gICAgICAgICAgICAgICAgaG91cnMgICA8PSAxICAgICAgICAgICAgICYmIFsnaCddICAgICAgICAgICB8fFxuICAgICAgICAgICAgICAgIGhvdXJzICAgPCB0aHJlc2hvbGRzLmggICAmJiBbJ2hoJywgaG91cnNdICAgfHxcbiAgICAgICAgICAgICAgICBkYXlzICAgIDw9IDEgICAgICAgICAgICAgJiYgWydkJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICAgICAgZGF5cyAgICA8IHRocmVzaG9sZHMuZCAgICYmIFsnZGQnLCBkYXlzXSAgICB8fFxuICAgICAgICAgICAgICAgIG1vbnRocyAgPD0gMSAgICAgICAgICAgICAmJiBbJ00nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICBtb250aHMgIDwgdGhyZXNob2xkcy5NICAgJiYgWydNTScsIG1vbnRoc10gIHx8XG4gICAgICAgICAgICAgICAgeWVhcnMgICA8PSAxICAgICAgICAgICAgICYmIFsneSddICAgICAgICAgICB8fCBbJ3l5JywgeWVhcnNdO1xuXG4gICAgICAgIGFbMl0gPSB3aXRob3V0U3VmZml4O1xuICAgICAgICBhWzNdID0gK3Bvc05lZ0R1cmF0aW9uID4gMDtcbiAgICAgICAgYVs0XSA9IGxvY2FsZTtcbiAgICAgICAgcmV0dXJuIHN1YnN0aXR1dGVUaW1lQWdvLmFwcGx5KG51bGwsIGEpO1xuICAgIH1cblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBzZXQgdGhlIHJvdW5kaW5nIGZ1bmN0aW9uIGZvciByZWxhdGl2ZSB0aW1lIHN0cmluZ3NcbiAgICBmdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZyAocm91bmRpbmdGdW5jdGlvbikge1xuICAgICAgICBpZiAocm91bmRpbmdGdW5jdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gcm91bmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZihyb3VuZGluZ0Z1bmN0aW9uKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcm91bmQgPSByb3VuZGluZ0Z1bmN0aW9uO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBzZXQgYSB0aHJlc2hvbGQgZm9yIHJlbGF0aXZlIHRpbWUgc3RyaW5nc1xuICAgIGZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZCAodGhyZXNob2xkLCBsaW1pdCkge1xuICAgICAgICBpZiAodGhyZXNob2xkc1t0aHJlc2hvbGRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRocmVzaG9sZHNbdGhyZXNob2xkXTtcbiAgICAgICAgfVxuICAgICAgICB0aHJlc2hvbGRzW3RocmVzaG9sZF0gPSBsaW1pdDtcbiAgICAgICAgaWYgKHRocmVzaG9sZCA9PT0gJ3MnKSB7XG4gICAgICAgICAgICB0aHJlc2hvbGRzLnNzID0gbGltaXQgLSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGh1bWFuaXplICh3aXRoU3VmZml4KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvY2FsZSA9IHRoaXMubG9jYWxlRGF0YSgpO1xuICAgICAgICB2YXIgb3V0cHV0ID0gcmVsYXRpdmVUaW1lJDEodGhpcywgIXdpdGhTdWZmaXgsIGxvY2FsZSk7XG5cbiAgICAgICAgaWYgKHdpdGhTdWZmaXgpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IGxvY2FsZS5wYXN0RnV0dXJlKCt0aGlzLCBvdXRwdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxvY2FsZS5wb3N0Zm9ybWF0KG91dHB1dCk7XG4gICAgfVxuXG4gICAgdmFyIGFicyQxID0gTWF0aC5hYnM7XG5cbiAgICBmdW5jdGlvbiBzaWduKHgpIHtcbiAgICAgICAgcmV0dXJuICgoeCA+IDApIC0gKHggPCAwKSkgfHwgK3g7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9JU09TdHJpbmckMSgpIHtcbiAgICAgICAgLy8gZm9yIElTTyBzdHJpbmdzIHdlIGRvIG5vdCB1c2UgdGhlIG5vcm1hbCBidWJibGluZyBydWxlczpcbiAgICAgICAgLy8gICogbWlsbGlzZWNvbmRzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSBob3Vyc1xuICAgICAgICAvLyAgKiBkYXlzIGRvIG5vdCBidWJibGUgYXQgYWxsXG4gICAgICAgIC8vICAqIG1vbnRocyBidWJibGUgdXAgdW50aWwgdGhleSBiZWNvbWUgeWVhcnNcbiAgICAgICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZXJlIGlzIG5vIGNvbnRleHQtZnJlZSBjb252ZXJzaW9uIGJldHdlZW4gaG91cnMgYW5kIGRheXNcbiAgICAgICAgLy8gKHRoaW5rIG9mIGNsb2NrIGNoYW5nZXMpXG4gICAgICAgIC8vIGFuZCBhbHNvIG5vdCBiZXR3ZWVuIGRheXMgYW5kIG1vbnRocyAoMjgtMzEgZGF5cyBwZXIgbW9udGgpXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlY29uZHMgPSBhYnMkMSh0aGlzLl9taWxsaXNlY29uZHMpIC8gMTAwMDtcbiAgICAgICAgdmFyIGRheXMgICAgICAgICA9IGFicyQxKHRoaXMuX2RheXMpO1xuICAgICAgICB2YXIgbW9udGhzICAgICAgID0gYWJzJDEodGhpcy5fbW9udGhzKTtcbiAgICAgICAgdmFyIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycztcblxuICAgICAgICAvLyAzNjAwIHNlY29uZHMgLT4gNjAgbWludXRlcyAtPiAxIGhvdXJcbiAgICAgICAgbWludXRlcyAgICAgICAgICAgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApO1xuICAgICAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgICAgIHNlY29uZHMgJT0gNjA7XG4gICAgICAgIG1pbnV0ZXMgJT0gNjA7XG5cbiAgICAgICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxuICAgICAgICB5ZWFycyAgPSBhYnNGbG9vcihtb250aHMgLyAxMik7XG4gICAgICAgIG1vbnRocyAlPSAxMjtcblxuXG4gICAgICAgIC8vIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9kb3JkaWxsZS9tb21lbnQtaXNvZHVyYXRpb24vYmxvYi9tYXN0ZXIvbW9tZW50Lmlzb2R1cmF0aW9uLmpzXG4gICAgICAgIHZhciBZID0geWVhcnM7XG4gICAgICAgIHZhciBNID0gbW9udGhzO1xuICAgICAgICB2YXIgRCA9IGRheXM7XG4gICAgICAgIHZhciBoID0gaG91cnM7XG4gICAgICAgIHZhciBtID0gbWludXRlcztcbiAgICAgICAgdmFyIHMgPSBzZWNvbmRzID8gc2Vjb25kcy50b0ZpeGVkKDMpLnJlcGxhY2UoL1xcLj8wKyQvLCAnJykgOiAnJztcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy5hc1NlY29uZHMoKTtcblxuICAgICAgICBpZiAoIXRvdGFsKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRoZSBzYW1lIGFzIEMjJ3MgKE5vZGEpIGFuZCBweXRob24gKGlzb2RhdGUpLi4uXG4gICAgICAgICAgICAvLyBidXQgbm90IG90aGVyIEpTIChnb29nLmRhdGUpXG4gICAgICAgICAgICByZXR1cm4gJ1AwRCc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG90YWxTaWduID0gdG90YWwgPCAwID8gJy0nIDogJyc7XG4gICAgICAgIHZhciB5bVNpZ24gPSBzaWduKHRoaXMuX21vbnRocykgIT09IHNpZ24odG90YWwpID8gJy0nIDogJyc7XG4gICAgICAgIHZhciBkYXlzU2lnbiA9IHNpZ24odGhpcy5fZGF5cykgIT09IHNpZ24odG90YWwpID8gJy0nIDogJyc7XG4gICAgICAgIHZhciBobXNTaWduID0gc2lnbih0aGlzLl9taWxsaXNlY29uZHMpICE9PSBzaWduKHRvdGFsKSA/ICctJyA6ICcnO1xuXG4gICAgICAgIHJldHVybiB0b3RhbFNpZ24gKyAnUCcgK1xuICAgICAgICAgICAgKFkgPyB5bVNpZ24gKyBZICsgJ1knIDogJycpICtcbiAgICAgICAgICAgIChNID8geW1TaWduICsgTSArICdNJyA6ICcnKSArXG4gICAgICAgICAgICAoRCA/IGRheXNTaWduICsgRCArICdEJyA6ICcnKSArXG4gICAgICAgICAgICAoKGggfHwgbSB8fCBzKSA/ICdUJyA6ICcnKSArXG4gICAgICAgICAgICAoaCA/IGhtc1NpZ24gKyBoICsgJ0gnIDogJycpICtcbiAgICAgICAgICAgIChtID8gaG1zU2lnbiArIG0gKyAnTScgOiAnJykgK1xuICAgICAgICAgICAgKHMgPyBobXNTaWduICsgcyArICdTJyA6ICcnKTtcbiAgICB9XG5cbiAgICB2YXIgcHJvdG8kMiA9IER1cmF0aW9uLnByb3RvdHlwZTtcblxuICAgIHByb3RvJDIuaXNWYWxpZCAgICAgICAgPSBpc1ZhbGlkJDE7XG4gICAgcHJvdG8kMi5hYnMgICAgICAgICAgICA9IGFicztcbiAgICBwcm90byQyLmFkZCAgICAgICAgICAgID0gYWRkJDE7XG4gICAgcHJvdG8kMi5zdWJ0cmFjdCAgICAgICA9IHN1YnRyYWN0JDE7XG4gICAgcHJvdG8kMi5hcyAgICAgICAgICAgICA9IGFzO1xuICAgIHByb3RvJDIuYXNNaWxsaXNlY29uZHMgPSBhc01pbGxpc2Vjb25kcztcbiAgICBwcm90byQyLmFzU2Vjb25kcyAgICAgID0gYXNTZWNvbmRzO1xuICAgIHByb3RvJDIuYXNNaW51dGVzICAgICAgPSBhc01pbnV0ZXM7XG4gICAgcHJvdG8kMi5hc0hvdXJzICAgICAgICA9IGFzSG91cnM7XG4gICAgcHJvdG8kMi5hc0RheXMgICAgICAgICA9IGFzRGF5cztcbiAgICBwcm90byQyLmFzV2Vla3MgICAgICAgID0gYXNXZWVrcztcbiAgICBwcm90byQyLmFzTW9udGhzICAgICAgID0gYXNNb250aHM7XG4gICAgcHJvdG8kMi5hc1F1YXJ0ZXJzICAgICA9IGFzUXVhcnRlcnM7XG4gICAgcHJvdG8kMi5hc1llYXJzICAgICAgICA9IGFzWWVhcnM7XG4gICAgcHJvdG8kMi52YWx1ZU9mICAgICAgICA9IHZhbHVlT2YkMTtcbiAgICBwcm90byQyLl9idWJibGUgICAgICAgID0gYnViYmxlO1xuICAgIHByb3RvJDIuY2xvbmUgICAgICAgICAgPSBjbG9uZSQxO1xuICAgIHByb3RvJDIuZ2V0ICAgICAgICAgICAgPSBnZXQkMjtcbiAgICBwcm90byQyLm1pbGxpc2Vjb25kcyAgID0gbWlsbGlzZWNvbmRzO1xuICAgIHByb3RvJDIuc2Vjb25kcyAgICAgICAgPSBzZWNvbmRzO1xuICAgIHByb3RvJDIubWludXRlcyAgICAgICAgPSBtaW51dGVzO1xuICAgIHByb3RvJDIuaG91cnMgICAgICAgICAgPSBob3VycztcbiAgICBwcm90byQyLmRheXMgICAgICAgICAgID0gZGF5cztcbiAgICBwcm90byQyLndlZWtzICAgICAgICAgID0gd2Vla3M7XG4gICAgcHJvdG8kMi5tb250aHMgICAgICAgICA9IG1vbnRocztcbiAgICBwcm90byQyLnllYXJzICAgICAgICAgID0geWVhcnM7XG4gICAgcHJvdG8kMi5odW1hbml6ZSAgICAgICA9IGh1bWFuaXplO1xuICAgIHByb3RvJDIudG9JU09TdHJpbmcgICAgPSB0b0lTT1N0cmluZyQxO1xuICAgIHByb3RvJDIudG9TdHJpbmcgICAgICAgPSB0b0lTT1N0cmluZyQxO1xuICAgIHByb3RvJDIudG9KU09OICAgICAgICAgPSB0b0lTT1N0cmluZyQxO1xuICAgIHByb3RvJDIubG9jYWxlICAgICAgICAgPSBsb2NhbGU7XG4gICAgcHJvdG8kMi5sb2NhbGVEYXRhICAgICA9IGxvY2FsZURhdGE7XG5cbiAgICBwcm90byQyLnRvSXNvU3RyaW5nID0gZGVwcmVjYXRlKCd0b0lzb1N0cmluZygpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgdG9JU09TdHJpbmcoKSBpbnN0ZWFkIChub3RpY2UgdGhlIGNhcGl0YWxzKScsIHRvSVNPU3RyaW5nJDEpO1xuICAgIHByb3RvJDIubGFuZyA9IGxhbmc7XG5cbiAgICAvLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignWCcsIDAsIDAsICd1bml4Jyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ3gnLCAwLCAwLCAndmFsdWVPZicpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbigneCcsIG1hdGNoU2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCdYJywgbWF0Y2hUaW1lc3RhbXApO1xuICAgIGFkZFBhcnNlVG9rZW4oJ1gnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUocGFyc2VGbG9hdChpbnB1dCwgMTApICogMTAwMCk7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbigneCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSh0b0ludChpbnB1dCkpO1xuICAgIH0pO1xuXG4gICAgLy8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuXG5cbiAgICBob29rcy52ZXJzaW9uID0gJzIuMjQuMCc7XG5cbiAgICBzZXRIb29rQ2FsbGJhY2soY3JlYXRlTG9jYWwpO1xuXG4gICAgaG9va3MuZm4gICAgICAgICAgICAgICAgICAgID0gcHJvdG87XG4gICAgaG9va3MubWluICAgICAgICAgICAgICAgICAgID0gbWluO1xuICAgIGhvb2tzLm1heCAgICAgICAgICAgICAgICAgICA9IG1heDtcbiAgICBob29rcy5ub3cgICAgICAgICAgICAgICAgICAgPSBub3c7XG4gICAgaG9va3MudXRjICAgICAgICAgICAgICAgICAgID0gY3JlYXRlVVRDO1xuICAgIGhvb2tzLnVuaXggICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVuaXg7XG4gICAgaG9va3MubW9udGhzICAgICAgICAgICAgICAgID0gbGlzdE1vbnRocztcbiAgICBob29rcy5pc0RhdGUgICAgICAgICAgICAgICAgPSBpc0RhdGU7XG4gICAgaG9va3MubG9jYWxlICAgICAgICAgICAgICAgID0gZ2V0U2V0R2xvYmFsTG9jYWxlO1xuICAgIGhvb2tzLmludmFsaWQgICAgICAgICAgICAgICA9IGNyZWF0ZUludmFsaWQ7XG4gICAgaG9va3MuZHVyYXRpb24gICAgICAgICAgICAgID0gY3JlYXRlRHVyYXRpb247XG4gICAgaG9va3MuaXNNb21lbnQgICAgICAgICAgICAgID0gaXNNb21lbnQ7XG4gICAgaG9va3Mud2Vla2RheXMgICAgICAgICAgICAgID0gbGlzdFdlZWtkYXlzO1xuICAgIGhvb2tzLnBhcnNlWm9uZSAgICAgICAgICAgICA9IGNyZWF0ZUluWm9uZTtcbiAgICBob29rcy5sb2NhbGVEYXRhICAgICAgICAgICAgPSBnZXRMb2NhbGU7XG4gICAgaG9va3MuaXNEdXJhdGlvbiAgICAgICAgICAgID0gaXNEdXJhdGlvbjtcbiAgICBob29rcy5tb250aHNTaG9ydCAgICAgICAgICAgPSBsaXN0TW9udGhzU2hvcnQ7XG4gICAgaG9va3Mud2Vla2RheXNNaW4gICAgICAgICAgID0gbGlzdFdlZWtkYXlzTWluO1xuICAgIGhvb2tzLmRlZmluZUxvY2FsZSAgICAgICAgICA9IGRlZmluZUxvY2FsZTtcbiAgICBob29rcy51cGRhdGVMb2NhbGUgICAgICAgICAgPSB1cGRhdGVMb2NhbGU7XG4gICAgaG9va3MubG9jYWxlcyAgICAgICAgICAgICAgID0gbGlzdExvY2FsZXM7XG4gICAgaG9va3Mud2Vla2RheXNTaG9ydCAgICAgICAgID0gbGlzdFdlZWtkYXlzU2hvcnQ7XG4gICAgaG9va3Mubm9ybWFsaXplVW5pdHMgICAgICAgID0gbm9ybWFsaXplVW5pdHM7XG4gICAgaG9va3MucmVsYXRpdmVUaW1lUm91bmRpbmcgID0gZ2V0U2V0UmVsYXRpdmVUaW1lUm91bmRpbmc7XG4gICAgaG9va3MucmVsYXRpdmVUaW1lVGhyZXNob2xkID0gZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkO1xuICAgIGhvb2tzLmNhbGVuZGFyRm9ybWF0ICAgICAgICA9IGdldENhbGVuZGFyRm9ybWF0O1xuICAgIGhvb2tzLnByb3RvdHlwZSAgICAgICAgICAgICA9IHByb3RvO1xuXG4gICAgLy8gY3VycmVudGx5IEhUTUw1IGlucHV0IHR5cGUgb25seSBzdXBwb3J0cyAyNC1ob3VyIGZvcm1hdHNcbiAgICBob29rcy5IVE1MNV9GTVQgPSB7XG4gICAgICAgIERBVEVUSU1FX0xPQ0FMOiAnWVlZWS1NTS1ERFRISDptbScsICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiAvPlxuICAgICAgICBEQVRFVElNRV9MT0NBTF9TRUNPTkRTOiAnWVlZWS1NTS1ERFRISDptbTpzcycsICAvLyA8aW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgc3RlcD1cIjFcIiAvPlxuICAgICAgICBEQVRFVElNRV9MT0NBTF9NUzogJ1lZWVktTU0tRERUSEg6bW06c3MuU1NTJywgICAvLyA8aW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgc3RlcD1cIjAuMDAxXCIgLz5cbiAgICAgICAgREFURTogJ1lZWVktTU0tREQnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPGlucHV0IHR5cGU9XCJkYXRlXCIgLz5cbiAgICAgICAgVElNRTogJ0hIOm1tJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPGlucHV0IHR5cGU9XCJ0aW1lXCIgLz5cbiAgICAgICAgVElNRV9TRUNPTkRTOiAnSEg6bW06c3MnLCAgICAgICAgICAgICAgICAgICAgICAgLy8gPGlucHV0IHR5cGU9XCJ0aW1lXCIgc3RlcD1cIjFcIiAvPlxuICAgICAgICBUSU1FX01TOiAnSEg6bW06c3MuU1NTJywgICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cInRpbWVcIiBzdGVwPVwiMC4wMDFcIiAvPlxuICAgICAgICBXRUVLOiAnR0dHRy1bV11XVycsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cIndlZWtcIiAvPlxuICAgICAgICBNT05USDogJ1lZWVktTU0nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cIm1vbnRoXCIgLz5cbiAgICB9O1xuXG4gICAgcmV0dXJuIGhvb2tzO1xuXG59KSkpO1xuIiwiLyohIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZSB2MS40LjEgYnkgQG1hdGhpYXMgKi9cbjsoZnVuY3Rpb24ocm9vdCkge1xuXG5cdC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgKi9cblx0dmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJlxuXHRcdCFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cdHZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiZcblx0XHQhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblx0dmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDtcblx0aWYgKFxuXHRcdGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLnNlbGYgPT09IGZyZWVHbG9iYWxcblx0KSB7XG5cdFx0cm9vdCA9IGZyZWVHbG9iYWw7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIGBwdW55Y29kZWAgb2JqZWN0LlxuXHQgKiBAbmFtZSBwdW55Y29kZVxuXHQgKiBAdHlwZSBPYmplY3Rcblx0ICovXG5cdHZhciBwdW55Y29kZSxcblxuXHQvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovXG5cdG1heEludCA9IDIxNDc0ODM2NDcsIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTFcblxuXHQvKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovXG5cdGJhc2UgPSAzNixcblx0dE1pbiA9IDEsXG5cdHRNYXggPSAyNixcblx0c2tldyA9IDM4LFxuXHRkYW1wID0gNzAwLFxuXHRpbml0aWFsQmlhcyA9IDcyLFxuXHRpbml0aWFsTiA9IDEyOCwgLy8gMHg4MFxuXHRkZWxpbWl0ZXIgPSAnLScsIC8vICdcXHgyRCdcblxuXHQvKiogUmVndWxhciBleHByZXNzaW9ucyAqL1xuXHRyZWdleFB1bnljb2RlID0gL154bi0tLyxcblx0cmVnZXhOb25BU0NJSSA9IC9bXlxceDIwLVxceDdFXS8sIC8vIHVucHJpbnRhYmxlIEFTQ0lJIGNoYXJzICsgbm9uLUFTQ0lJIGNoYXJzXG5cdHJlZ2V4U2VwYXJhdG9ycyA9IC9bXFx4MkVcXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2csIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnNcblxuXHQvKiogRXJyb3IgbWVzc2FnZXMgKi9cblx0ZXJyb3JzID0ge1xuXHRcdCdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsXG5cdFx0J25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJyxcblx0XHQnaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0J1xuXHR9LFxuXG5cdC8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi9cblx0YmFzZU1pbnVzVE1pbiA9IGJhc2UgLSB0TWluLFxuXHRmbG9vciA9IE1hdGguZmxvb3IsXG5cdHN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG5cblx0LyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqL1xuXHRrZXk7XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS5cblx0ICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLlxuXHQgKi9cblx0ZnVuY3Rpb24gZXJyb3IodHlwZSkge1xuXHRcdHRocm93IG5ldyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7XG5cdH1cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheVxuXHQgKiBpdGVtLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0XHRyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuXHQgKiBhZGRyZXNzZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeVxuXHQgKiBjaGFyYWN0ZXIuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0XHR2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTtcblx0XHR2YXIgcmVzdWx0ID0gJyc7XG5cdFx0aWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdC8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmVcblx0XHRcdC8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuXG5cdFx0XHRyZXN1bHQgPSBwYXJ0c1swXSArICdAJztcblx0XHRcdHN0cmluZyA9IHBhcnRzWzFdO1xuXHRcdH1cblx0XHQvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXFx4MkUnKTtcblx0XHR2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG5cdFx0dmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRcdHJldHVybiByZXN1bHQgKyBlbmNvZGVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGVcblx0ICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LFxuXHQgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuXHQgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCxcblx0ICogbWF0Y2hpbmcgVVRGLTE2LlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcblx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGRlY29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgY291bnRlciA9IDAsXG5cdFx0ICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBleHRyYTtcblx0XHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0dmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHQvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcblx0XHRcdFx0ZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWBcblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZW5jb2RlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHtcblx0XHRyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdFx0aWYgKHZhbHVlID4gMHhGRkZGKSB7XG5cdFx0XHRcdHZhbHVlIC09IDB4MTAwMDA7XG5cdFx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuXHRcdFx0XHR2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTtcblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fSkuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLlxuXHQgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW5cblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuXHQgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHtcblx0XHRpZiAoY29kZVBvaW50IC0gNDggPCAxMCkge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDIyO1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gNjUgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDY1O1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gOTcgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDk3O1xuXHRcdH1cblx0XHRyZXR1cm4gYmFzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvclxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZVxuXHQgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXNcblx0ICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWRcblx0ICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS5cblx0ICovXG5cdGZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykge1xuXHRcdC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG5cdFx0Ly8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45XG5cdFx0cmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLlxuXHQgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7XG5cdFx0dmFyIGsgPSAwO1xuXHRcdGRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7XG5cdFx0ZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpO1xuXHRcdGZvciAoLyogbm8gaW5pdGlhbGl6YXRpb24gKi87IGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7XG5cdFx0XHRkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7XG5cdFx0fVxuXHRcdHJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlXG5cdCAqIHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGRlY29kZShpbnB1dCkge1xuXHRcdC8vIERvbid0IHVzZSBVQ1MtMlxuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsXG5cdFx0ICAgIG91dCxcblx0XHQgICAgaSA9IDAsXG5cdFx0ICAgIG4gPSBpbml0aWFsTixcblx0XHQgICAgYmlhcyA9IGluaXRpYWxCaWFzLFxuXHRcdCAgICBiYXNpYyxcblx0XHQgICAgaixcblx0XHQgICAgaW5kZXgsXG5cdFx0ICAgIG9sZGksXG5cdFx0ICAgIHcsXG5cdFx0ICAgIGssXG5cdFx0ICAgIGRpZ2l0LFxuXHRcdCAgICB0LFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgYmFzZU1pbnVzVDtcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZVxuXHRcdC8vIHBvaW50cyBiZWZvcmUgdGhlIGxhc3QgZGVsaW1pdGVyLCBvciBgMGAgaWYgdGhlcmUgaXMgbm9uZSwgdGhlbiBjb3B5XG5cdFx0Ly8gdGhlIGZpcnN0IGJhc2ljIGNvZGUgcG9pbnRzIHRvIHRoZSBvdXRwdXQuXG5cblx0XHRiYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7XG5cdFx0aWYgKGJhc2ljIDwgMCkge1xuXHRcdFx0YmFzaWMgPSAwO1xuXHRcdH1cblxuXHRcdGZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7XG5cdFx0XHQvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnRcblx0XHRcdGlmIChpbnB1dC5jaGFyQ29kZUF0KGopID49IDB4ODApIHtcblx0XHRcdFx0ZXJyb3IoJ25vdC1iYXNpYycpO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZVxuXHRcdC8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuXG5cblx0XHRmb3IgKGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDsgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqLykge1xuXG5cdFx0XHQvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuXG5cdFx0XHQvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsXG5cdFx0XHQvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llclxuXHRcdFx0Ly8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmdcblx0XHRcdC8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuXG5cdFx0XHRmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cblx0XHRcdFx0aWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ2ludmFsaWQtaW5wdXQnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGkgKz0gZGlnaXQgKiB3O1xuXHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPCB0KSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdGlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHcgKj0gYmFzZU1pbnVzVDtcblxuXHRcdFx0fVxuXG5cdFx0XHRvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTtcblx0XHRcdGJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApO1xuXG5cdFx0XHQvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLFxuXHRcdFx0Ly8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzpcblx0XHRcdGlmIChmbG9vcihpIC8gb3V0KSA+IG1heEludCAtIG4pIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdG4gKz0gZmxvb3IoaSAvIG91dCk7XG5cdFx0XHRpICU9IG91dDtcblxuXHRcdFx0Ly8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dFxuXHRcdFx0b3V0cHV0LnNwbGljZShpKyssIDAsIG4pO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVjczJlbmNvZGUob3V0cHV0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYVxuXHQgKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcblx0XHR2YXIgbixcblx0XHQgICAgZGVsdGEsXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50LFxuXHRcdCAgICBiYXNpY0xlbmd0aCxcblx0XHQgICAgYmlhcyxcblx0XHQgICAgaixcblx0XHQgICAgbSxcblx0XHQgICAgcSxcblx0XHQgICAgayxcblx0XHQgICAgdCxcblx0XHQgICAgY3VycmVudFZhbHVlLFxuXHRcdCAgICBvdXRwdXQgPSBbXSxcblx0XHQgICAgLyoqIGBpbnB1dExlbmd0aGAgd2lsbCBob2xkIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgaW4gYGlucHV0YC4gKi9cblx0XHQgICAgaW5wdXRMZW5ndGgsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsXG5cdFx0ICAgIGJhc2VNaW51c1QsXG5cdFx0ICAgIHFNaW51c1Q7XG5cblx0XHQvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlXG5cdFx0aW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTtcblxuXHRcdC8vIENhY2hlIHRoZSBsZW5ndGhcblx0XHRpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblxuXHRcdC8vIEluaXRpYWxpemUgdGhlIHN0YXRlXG5cdFx0biA9IGluaXRpYWxOO1xuXHRcdGRlbHRhID0gMDtcblx0XHRiaWFzID0gaW5pdGlhbEJpYXM7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzXG5cdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHtcblx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoO1xuXG5cdFx0Ly8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7XG5cdFx0Ly8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLlxuXG5cdFx0Ly8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgLSBpZiBpdCBpcyBub3QgZW1wdHkgLSB3aXRoIGEgZGVsaW1pdGVyXG5cdFx0aWYgKGJhc2ljTGVuZ3RoKSB7XG5cdFx0XHRvdXRwdXQucHVzaChkZWxpbWl0ZXIpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZW5jb2RpbmcgbG9vcDpcblx0XHR3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkge1xuXG5cdFx0XHQvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0XG5cdFx0XHQvLyBsYXJnZXIgb25lOlxuXHRcdFx0Zm9yIChtID0gbWF4SW50LCBqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7XG5cdFx0XHRcdFx0bSA9IGN1cnJlbnRWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sXG5cdFx0XHQvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvd1xuXHRcdFx0aGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxO1xuXHRcdFx0aWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7XG5cdFx0XHRuID0gbTtcblxuXHRcdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7XG5cdFx0XHRcdFx0Ly8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXJcblx0XHRcdFx0XHRmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cdFx0XHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblx0XHRcdFx0XHRcdGlmIChxIDwgdCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHFNaW51c1QgPSBxIC0gdDtcblx0XHRcdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0XHRcdG91dHB1dC5wdXNoKFxuXHRcdFx0XHRcdFx0XHRzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7XG5cdFx0XHRcdFx0YmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTtcblx0XHRcdFx0XHRkZWx0YSA9IDA7XG5cdFx0XHRcdFx0KytoYW5kbGVkQ1BDb3VudDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQrK2RlbHRhO1xuXHRcdFx0KytuO1xuXG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzc1xuXHQgKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuXG5cdCAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlblxuXHQgKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogY29udmVydCB0byBVbmljb2RlLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGVcblx0ICogc3RyaW5nLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9Vbmljb2RlKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCxcblx0ICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluXG5cdCAqIEFTQ0lJLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGFcblx0ICogVW5pY29kZSBzdHJpbmcuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3Jcblx0ICogZW1haWwgYWRkcmVzcy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleE5vbkFTQ0lJLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqIERlZmluZSB0aGUgcHVibGljIEFQSSAqL1xuXHRwdW55Y29kZSA9IHtcblx0XHQvKipcblx0XHQgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuXG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgU3RyaW5nXG5cdFx0ICovXG5cdFx0J3ZlcnNpb24nOiAnMS40LjEnLFxuXHRcdC8qKlxuXHRcdCAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyXG5cdFx0ICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay5cblx0XHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBPYmplY3Rcblx0XHQgKi9cblx0XHQndWNzMic6IHtcblx0XHRcdCdkZWNvZGUnOiB1Y3MyZGVjb2RlLFxuXHRcdFx0J2VuY29kZSc6IHVjczJlbmNvZGVcblx0XHR9LFxuXHRcdCdkZWNvZGUnOiBkZWNvZGUsXG5cdFx0J2VuY29kZSc6IGVuY29kZSxcblx0XHQndG9BU0NJSSc6IHRvQVNDSUksXG5cdFx0J3RvVW5pY29kZSc6IHRvVW5pY29kZVxuXHR9O1xuXG5cdC8qKiBFeHBvc2UgYHB1bnljb2RlYCAqL1xuXHQvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnNcblx0Ly8gbGlrZSB0aGUgZm9sbG93aW5nOlxuXHRpZiAoXG5cdFx0dHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmXG5cdFx0dHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiZcblx0XHRkZWZpbmUuYW1kXG5cdCkge1xuXHRcdGRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBwdW55Y29kZTtcblx0XHR9KTtcblx0fSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7XG5cdFx0aWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7XG5cdFx0XHQvLyBpbiBOb2RlLmpzLCBpby5qcywgb3IgUmluZ29KUyB2MC44LjArXG5cdFx0XHRmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC1cblx0XHRcdGZvciAoa2V5IGluIHB1bnljb2RlKSB7XG5cdFx0XHRcdHB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Ly8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlclxuXHRcdHJvb3QucHVueWNvZGUgPSBwdW55Y29kZTtcblx0fVxuXG59KHRoaXMpKTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbi8vIElmIG9iai5oYXNPd25Qcm9wZXJ0eSBoYXMgYmVlbiBvdmVycmlkZGVuLCB0aGVuIGNhbGxpbmdcbi8vIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSB3aWxsIGJyZWFrLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvaXNzdWVzLzE3MDdcbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocXMsIHNlcCwgZXEsIG9wdGlvbnMpIHtcbiAgc2VwID0gc2VwIHx8ICcmJztcbiAgZXEgPSBlcSB8fCAnPSc7XG4gIHZhciBvYmogPSB7fTtcblxuICBpZiAodHlwZW9mIHFzICE9PSAnc3RyaW5nJyB8fCBxcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgdmFyIHJlZ2V4cCA9IC9cXCsvZztcbiAgcXMgPSBxcy5zcGxpdChzZXApO1xuXG4gIHZhciBtYXhLZXlzID0gMTAwMDtcbiAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMubWF4S2V5cyA9PT0gJ251bWJlcicpIHtcbiAgICBtYXhLZXlzID0gb3B0aW9ucy5tYXhLZXlzO1xuICB9XG5cbiAgdmFyIGxlbiA9IHFzLmxlbmd0aDtcbiAgLy8gbWF4S2V5cyA8PSAwIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIG5vdCBsaW1pdCBrZXlzIGNvdW50XG4gIGlmIChtYXhLZXlzID4gMCAmJiBsZW4gPiBtYXhLZXlzKSB7XG4gICAgbGVuID0gbWF4S2V5cztcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICB2YXIgeCA9IHFzW2ldLnJlcGxhY2UocmVnZXhwLCAnJTIwJyksXG4gICAgICAgIGlkeCA9IHguaW5kZXhPZihlcSksXG4gICAgICAgIGtzdHIsIHZzdHIsIGssIHY7XG5cbiAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgIGtzdHIgPSB4LnN1YnN0cigwLCBpZHgpO1xuICAgICAgdnN0ciA9IHguc3Vic3RyKGlkeCArIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrc3RyID0geDtcbiAgICAgIHZzdHIgPSAnJztcbiAgICB9XG5cbiAgICBrID0gZGVjb2RlVVJJQ29tcG9uZW50KGtzdHIpO1xuICAgIHYgPSBkZWNvZGVVUklDb21wb25lbnQodnN0cik7XG5cbiAgICBpZiAoIWhhc093blByb3BlcnR5KG9iaiwgaykpIHtcbiAgICAgIG9ialtrXSA9IHY7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KG9ialtrXSkpIHtcbiAgICAgIG9ialtrXS5wdXNoKHYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba10gPSBbb2JqW2tdLCB2XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uICh4cykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHhzKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgc3RyaW5naWZ5UHJpbWl0aXZlID0gZnVuY3Rpb24odikge1xuICBzd2l0Y2ggKHR5cGVvZiB2KSB7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiB2O1xuXG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gdiA/ICd0cnVlJyA6ICdmYWxzZSc7XG5cbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIGlzRmluaXRlKHYpID8gdiA6ICcnO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnJztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmosIHNlcCwgZXEsIG5hbWUpIHtcbiAgc2VwID0gc2VwIHx8ICcmJztcbiAgZXEgPSBlcSB8fCAnPSc7XG4gIGlmIChvYmogPT09IG51bGwpIHtcbiAgICBvYmogPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbWFwKG9iamVjdEtleXMob2JqKSwgZnVuY3Rpb24oaykge1xuICAgICAgdmFyIGtzID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShrKSkgKyBlcTtcbiAgICAgIGlmIChpc0FycmF5KG9ialtrXSkpIHtcbiAgICAgICAgcmV0dXJuIG1hcChvYmpba10sIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKHYpKTtcbiAgICAgICAgfSkuam9pbihzZXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmpba10pKTtcbiAgICAgIH1cbiAgICB9KS5qb2luKHNlcCk7XG5cbiAgfVxuXG4gIGlmICghbmFtZSkgcmV0dXJuICcnO1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShuYW1lKSkgKyBlcSArXG4gICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9iaikpO1xufTtcblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uICh4cykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHhzKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cbmZ1bmN0aW9uIG1hcCAoeHMsIGYpIHtcbiAgaWYgKHhzLm1hcCkgcmV0dXJuIHhzLm1hcChmKTtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzLnB1c2goZih4c1tpXSwgaSkpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbnZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iaikge1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgcmVzLnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5kZWNvZGUgPSBleHBvcnRzLnBhcnNlID0gcmVxdWlyZSgnLi9kZWNvZGUnKTtcbmV4cG9ydHMuZW5jb2RlID0gZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuIiwiLyogc29ja2pzLWNsaWVudCB2MS40LjAgfCBodHRwOi8vc29ja2pzLm9yZyB8IE1JVCBsaWNlbnNlICovXG4oZnVuY3Rpb24oZil7aWYodHlwZW9mIGV4cG9ydHM9PT1cIm9iamVjdFwiJiZ0eXBlb2YgbW9kdWxlIT09XCJ1bmRlZmluZWRcIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZCl7ZGVmaW5lKFtdLGYpfWVsc2V7dmFyIGc7aWYodHlwZW9mIHdpbmRvdyE9PVwidW5kZWZpbmVkXCIpe2c9d2luZG93fWVsc2UgaWYodHlwZW9mIGdsb2JhbCE9PVwidW5kZWZpbmVkXCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT1cInVuZGVmaW5lZFwiKXtnPXNlbGZ9ZWxzZXtnPXRoaXN9Zy5Tb2NrSlMgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIHRyYW5zcG9ydExpc3QgPSByZXF1aXJlKCcuL3RyYW5zcG9ydC1saXN0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9tYWluJykodHJhbnNwb3J0TGlzdCk7XG5cbi8vIFRPRE8gY2FuJ3QgZ2V0IHJpZCBvZiB0aGlzIHVudGlsIGFsbCBzZXJ2ZXJzIGRvXG5pZiAoJ19zb2NranNfb25sb2FkJyBpbiBnbG9iYWwpIHtcbiAgc2V0VGltZW91dChnbG9iYWwuX3NvY2tqc19vbmxvYWQsIDEpO1xufVxuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7XCIuL21haW5cIjoxNCxcIi4vdHJhbnNwb3J0LWxpc3RcIjoxNn1dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgRXZlbnQgPSByZXF1aXJlKCcuL2V2ZW50JylcbiAgO1xuXG5mdW5jdGlvbiBDbG9zZUV2ZW50KCkge1xuICBFdmVudC5jYWxsKHRoaXMpO1xuICB0aGlzLmluaXRFdmVudCgnY2xvc2UnLCBmYWxzZSwgZmFsc2UpO1xuICB0aGlzLndhc0NsZWFuID0gZmFsc2U7XG4gIHRoaXMuY29kZSA9IDA7XG4gIHRoaXMucmVhc29uID0gJyc7XG59XG5cbmluaGVyaXRzKENsb3NlRXZlbnQsIEV2ZW50KTtcblxubW9kdWxlLmV4cG9ydHMgPSBDbG9zZUV2ZW50O1xuXG59LHtcIi4vZXZlbnRcIjo0LFwiaW5oZXJpdHNcIjo1N31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgRXZlbnRUYXJnZXQgPSByZXF1aXJlKCcuL2V2ZW50dGFyZ2V0JylcbiAgO1xuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG59XG5cbmluaGVyaXRzKEV2ZW50RW1pdHRlciwgRXZlbnRUYXJnZXQpO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgaWYgKHR5cGUpIHtcbiAgICBkZWxldGUgdGhpcy5fbGlzdGVuZXJzW3R5cGVdO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuICB9XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgICAsIGZpcmVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZygpIHtcbiAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgaWYgKCFmaXJlZCkge1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICB0aGlzLm9uKHR5cGUsIGcpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciB0eXBlID0gYXJndW1lbnRzWzBdO1xuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzW3R5cGVdO1xuICBpZiAoIWxpc3RlbmVycykge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBlcXVpdmFsZW50IG9mIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gIHZhciBsID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkobCAtIDEpO1xuICBmb3IgKHZhciBhaSA9IDE7IGFpIDwgbDsgYWkrKykge1xuICAgIGFyZ3NbYWkgLSAxXSA9IGFyZ3VtZW50c1thaV07XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI7XG5cbm1vZHVsZS5leHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxufSx7XCIuL2V2ZW50dGFyZ2V0XCI6NSxcImluaGVyaXRzXCI6NTd9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gRXZlbnQoZXZlbnRUeXBlKSB7XG4gIHRoaXMudHlwZSA9IGV2ZW50VHlwZTtcbn1cblxuRXZlbnQucHJvdG90eXBlLmluaXRFdmVudCA9IGZ1bmN0aW9uKGV2ZW50VHlwZSwgY2FuQnViYmxlLCBjYW5jZWxhYmxlKSB7XG4gIHRoaXMudHlwZSA9IGV2ZW50VHlwZTtcbiAgdGhpcy5idWJibGVzID0gY2FuQnViYmxlO1xuICB0aGlzLmNhbmNlbGFibGUgPSBjYW5jZWxhYmxlO1xuICB0aGlzLnRpbWVTdGFtcCA9ICtuZXcgRGF0ZSgpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbigpIHt9O1xuRXZlbnQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7fTtcblxuRXZlbnQuQ0FQVFVSSU5HX1BIQVNFID0gMTtcbkV2ZW50LkFUX1RBUkdFVCA9IDI7XG5FdmVudC5CVUJCTElOR19QSEFTRSA9IDM7XG5cbm1vZHVsZS5leHBvcnRzID0gRXZlbnQ7XG5cbn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG4vKiBTaW1wbGlmaWVkIGltcGxlbWVudGF0aW9uIG9mIERPTTIgRXZlbnRUYXJnZXQuXG4gKiAgIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0yLUV2ZW50cy9ldmVudHMuaHRtbCNFdmVudHMtRXZlbnRUYXJnZXRcbiAqL1xuXG5mdW5jdGlvbiBFdmVudFRhcmdldCgpIHtcbiAgdGhpcy5fbGlzdGVuZXJzID0ge307XG59XG5cbkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnRUeXBlLCBsaXN0ZW5lcikge1xuICBpZiAoIShldmVudFR5cGUgaW4gdGhpcy5fbGlzdGVuZXJzKSkge1xuICAgIHRoaXMuX2xpc3RlbmVyc1tldmVudFR5cGVdID0gW107XG4gIH1cbiAgdmFyIGFyciA9IHRoaXMuX2xpc3RlbmVyc1tldmVudFR5cGVdO1xuICAvLyAjNFxuICBpZiAoYXJyLmluZGV4T2YobGlzdGVuZXIpID09PSAtMSkge1xuICAgIC8vIE1ha2UgYSBjb3B5IHNvIGFzIG5vdCB0byBpbnRlcmZlcmUgd2l0aCBhIGN1cnJlbnQgZGlzcGF0Y2hFdmVudC5cbiAgICBhcnIgPSBhcnIuY29uY2F0KFtsaXN0ZW5lcl0pO1xuICB9XG4gIHRoaXMuX2xpc3RlbmVyc1tldmVudFR5cGVdID0gYXJyO1xufTtcblxuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudFR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBhcnIgPSB0aGlzLl9saXN0ZW5lcnNbZXZlbnRUeXBlXTtcbiAgaWYgKCFhcnIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGlkeCA9IGFyci5pbmRleE9mKGxpc3RlbmVyKTtcbiAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICBpZiAoYXJyLmxlbmd0aCA+IDEpIHtcbiAgICAgIC8vIE1ha2UgYSBjb3B5IHNvIGFzIG5vdCB0byBpbnRlcmZlcmUgd2l0aCBhIGN1cnJlbnQgZGlzcGF0Y2hFdmVudC5cbiAgICAgIHRoaXMuX2xpc3RlbmVyc1tldmVudFR5cGVdID0gYXJyLnNsaWNlKDAsIGlkeCkuY29uY2F0KGFyci5zbGljZShpZHggKyAxKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbZXZlbnRUeXBlXTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG59O1xuXG5FdmVudFRhcmdldC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZXZlbnQgPSBhcmd1bWVudHNbMF07XG4gIHZhciB0ID0gZXZlbnQudHlwZTtcbiAgLy8gZXF1aXZhbGVudCBvZiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyBbZXZlbnRdIDogQXJyYXkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgLy8gVE9ETzogVGhpcyBkb2Vzbid0IG1hdGNoIHRoZSByZWFsIGJlaGF2aW9yOyBwZXIgc3BlYywgb25mb28gZ2V0XG4gIC8vIHRoZWlyIHBsYWNlIGluIGxpbmUgZnJvbSB0aGUgL2ZpcnN0LyB0aW1lIHRoZXkncmUgc2V0IGZyb21cbiAgLy8gbm9uLW51bGwuIEFsdGhvdWdoIFdlYktpdCBidW1wcyBpdCB0byB0aGUgZW5kIGV2ZXJ5IHRpbWUgaXQnc1xuICAvLyBzZXQuXG4gIGlmICh0aGlzWydvbicgKyB0XSkge1xuICAgIHRoaXNbJ29uJyArIHRdLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG4gIGlmICh0IGluIHRoaXMuX2xpc3RlbmVycykge1xuICAgIC8vIEdyYWIgYSByZWZlcmVuY2UgdG8gdGhlIGxpc3RlbmVycyBsaXN0LiByZW1vdmVFdmVudExpc3RlbmVyIG1heSBhbHRlciB0aGUgbGlzdC5cbiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzW3RdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50VGFyZ2V0O1xuXG59LHt9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIEV2ZW50ID0gcmVxdWlyZSgnLi9ldmVudCcpXG4gIDtcblxuZnVuY3Rpb24gVHJhbnNwb3J0TWVzc2FnZUV2ZW50KGRhdGEpIHtcbiAgRXZlbnQuY2FsbCh0aGlzKTtcbiAgdGhpcy5pbml0RXZlbnQoJ21lc3NhZ2UnLCBmYWxzZSwgZmFsc2UpO1xuICB0aGlzLmRhdGEgPSBkYXRhO1xufVxuXG5pbmhlcml0cyhUcmFuc3BvcnRNZXNzYWdlRXZlbnQsIEV2ZW50KTtcblxubW9kdWxlLmV4cG9ydHMgPSBUcmFuc3BvcnRNZXNzYWdlRXZlbnQ7XG5cbn0se1wiLi9ldmVudFwiOjQsXCJpbmhlcml0c1wiOjU3fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBKU09OMyA9IHJlcXVpcmUoJ2pzb24zJylcbiAgLCBpZnJhbWVVdGlscyA9IHJlcXVpcmUoJy4vdXRpbHMvaWZyYW1lJylcbiAgO1xuXG5mdW5jdGlvbiBGYWNhZGVKUyh0cmFuc3BvcnQpIHtcbiAgdGhpcy5fdHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICB0cmFuc3BvcnQub24oJ21lc3NhZ2UnLCB0aGlzLl90cmFuc3BvcnRNZXNzYWdlLmJpbmQodGhpcykpO1xuICB0cmFuc3BvcnQub24oJ2Nsb3NlJywgdGhpcy5fdHJhbnNwb3J0Q2xvc2UuYmluZCh0aGlzKSk7XG59XG5cbkZhY2FkZUpTLnByb3RvdHlwZS5fdHJhbnNwb3J0Q2xvc2UgPSBmdW5jdGlvbihjb2RlLCByZWFzb24pIHtcbiAgaWZyYW1lVXRpbHMucG9zdE1lc3NhZ2UoJ2MnLCBKU09OMy5zdHJpbmdpZnkoW2NvZGUsIHJlYXNvbl0pKTtcbn07XG5GYWNhZGVKUy5wcm90b3R5cGUuX3RyYW5zcG9ydE1lc3NhZ2UgPSBmdW5jdGlvbihmcmFtZSkge1xuICBpZnJhbWVVdGlscy5wb3N0TWVzc2FnZSgndCcsIGZyYW1lKTtcbn07XG5GYWNhZGVKUy5wcm90b3R5cGUuX3NlbmQgPSBmdW5jdGlvbihkYXRhKSB7XG4gIHRoaXMuX3RyYW5zcG9ydC5zZW5kKGRhdGEpO1xufTtcbkZhY2FkZUpTLnByb3RvdHlwZS5fY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fdHJhbnNwb3J0LmNsb3NlKCk7XG4gIHRoaXMuX3RyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRmFjYWRlSlM7XG5cbn0se1wiLi91dGlscy9pZnJhbWVcIjo0NyxcImpzb24zXCI6NTh9XSw4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciB1cmxVdGlscyA9IHJlcXVpcmUoJy4vdXRpbHMvdXJsJylcbiAgLCBldmVudFV0aWxzID0gcmVxdWlyZSgnLi91dGlscy9ldmVudCcpXG4gICwgSlNPTjMgPSByZXF1aXJlKCdqc29uMycpXG4gICwgRmFjYWRlSlMgPSByZXF1aXJlKCcuL2ZhY2FkZScpXG4gICwgSW5mb0lmcmFtZVJlY2VpdmVyID0gcmVxdWlyZSgnLi9pbmZvLWlmcmFtZS1yZWNlaXZlcicpXG4gICwgaWZyYW1lVXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzL2lmcmFtZScpXG4gICwgbG9jID0gcmVxdWlyZSgnLi9sb2NhdGlvbicpXG4gIDtcblxudmFyIGRlYnVnID0gZnVuY3Rpb24oKSB7fTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnc29ja2pzLWNsaWVudDppZnJhbWUtYm9vdHN0cmFwJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oU29ja0pTLCBhdmFpbGFibGVUcmFuc3BvcnRzKSB7XG4gIHZhciB0cmFuc3BvcnRNYXAgPSB7fTtcbiAgYXZhaWxhYmxlVHJhbnNwb3J0cy5mb3JFYWNoKGZ1bmN0aW9uKGF0KSB7XG4gICAgaWYgKGF0LmZhY2FkZVRyYW5zcG9ydCkge1xuICAgICAgdHJhbnNwb3J0TWFwW2F0LmZhY2FkZVRyYW5zcG9ydC50cmFuc3BvcnROYW1lXSA9IGF0LmZhY2FkZVRyYW5zcG9ydDtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGhhcmQtY29kZWQgZm9yIHRoZSBpbmZvIGlmcmFtZVxuICAvLyBUT0RPIHNlZSBpZiB3ZSBjYW4gbWFrZSB0aGlzIG1vcmUgZHluYW1pY1xuICB0cmFuc3BvcnRNYXBbSW5mb0lmcmFtZVJlY2VpdmVyLnRyYW5zcG9ydE5hbWVdID0gSW5mb0lmcmFtZVJlY2VpdmVyO1xuICB2YXIgcGFyZW50T3JpZ2luO1xuXG4gIC8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuICBTb2NrSlMuYm9vdHN0cmFwX2lmcmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgIC8qIGVzbGludC1lbmFibGUgY2FtZWxjYXNlICovXG4gICAgdmFyIGZhY2FkZTtcbiAgICBpZnJhbWVVdGlscy5jdXJyZW50V2luZG93SWQgPSBsb2MuaGFzaC5zbGljZSgxKTtcbiAgICB2YXIgb25NZXNzYWdlID0gZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUuc291cmNlICE9PSBwYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwYXJlbnRPcmlnaW4gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHBhcmVudE9yaWdpbiA9IGUub3JpZ2luO1xuICAgICAgfVxuICAgICAgaWYgKGUub3JpZ2luICE9PSBwYXJlbnRPcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaWZyYW1lTWVzc2FnZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmcmFtZU1lc3NhZ2UgPSBKU09OMy5wYXJzZShlLmRhdGEpO1xuICAgICAgfSBjYXRjaCAoaWdub3JlZCkge1xuICAgICAgICBkZWJ1ZygnYmFkIGpzb24nLCBlLmRhdGEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpZnJhbWVNZXNzYWdlLndpbmRvd0lkICE9PSBpZnJhbWVVdGlscy5jdXJyZW50V2luZG93SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChpZnJhbWVNZXNzYWdlLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3MnOlxuICAgICAgICB2YXIgcDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBwID0gSlNPTjMucGFyc2UoaWZyYW1lTWVzc2FnZS5kYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoaWdub3JlZCkge1xuICAgICAgICAgIGRlYnVnKCdiYWQganNvbicsIGlmcmFtZU1lc3NhZ2UuZGF0YSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZlcnNpb24gPSBwWzBdO1xuICAgICAgICB2YXIgdHJhbnNwb3J0ID0gcFsxXTtcbiAgICAgICAgdmFyIHRyYW5zVXJsID0gcFsyXTtcbiAgICAgICAgdmFyIGJhc2VVcmwgPSBwWzNdO1xuICAgICAgICBkZWJ1Zyh2ZXJzaW9uLCB0cmFuc3BvcnQsIHRyYW5zVXJsLCBiYXNlVXJsKTtcbiAgICAgICAgLy8gY2hhbmdlIHRoaXMgdG8gc2VtdmVyIGxvZ2ljXG4gICAgICAgIGlmICh2ZXJzaW9uICE9PSBTb2NrSlMudmVyc2lvbikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5jb21wYXRpYmxlIFNvY2tKUyEgTWFpbiBzaXRlIHVzZXM6JyArXG4gICAgICAgICAgICAgICAgICAgICcgXCInICsgdmVyc2lvbiArICdcIiwgdGhlIGlmcmFtZTonICtcbiAgICAgICAgICAgICAgICAgICAgJyBcIicgKyBTb2NrSlMudmVyc2lvbiArICdcIi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdXJsVXRpbHMuaXNPcmlnaW5FcXVhbCh0cmFuc1VybCwgbG9jLmhyZWYpIHx8XG4gICAgICAgICAgICAhdXJsVXRpbHMuaXNPcmlnaW5FcXVhbChiYXNlVXJsLCBsb2MuaHJlZikpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhblxcJ3QgY29ubmVjdCB0byBkaWZmZXJlbnQgZG9tYWluIGZyb20gd2l0aGluIGFuICcgK1xuICAgICAgICAgICAgICAgICAgICAnaWZyYW1lLiAoJyArIGxvYy5ocmVmICsgJywgJyArIHRyYW5zVXJsICsgJywgJyArIGJhc2VVcmwgKyAnKScpO1xuICAgICAgICB9XG4gICAgICAgIGZhY2FkZSA9IG5ldyBGYWNhZGVKUyhuZXcgdHJhbnNwb3J0TWFwW3RyYW5zcG9ydF0odHJhbnNVcmwsIGJhc2VVcmwpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtJzpcbiAgICAgICAgZmFjYWRlLl9zZW5kKGlmcmFtZU1lc3NhZ2UuZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYyc6XG4gICAgICAgIGlmIChmYWNhZGUpIHtcbiAgICAgICAgICBmYWNhZGUuX2Nsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmFjYWRlID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGV2ZW50VXRpbHMuYXR0YWNoRXZlbnQoJ21lc3NhZ2UnLCBvbk1lc3NhZ2UpO1xuXG4gICAgLy8gU3RhcnRcbiAgICBpZnJhbWVVdGlscy5wb3N0TWVzc2FnZSgncycpO1xuICB9O1xufTtcblxufSkuY2FsbCh0aGlzLHsgZW52OiB7fSB9KVxuXG59LHtcIi4vZmFjYWRlXCI6NyxcIi4vaW5mby1pZnJhbWUtcmVjZWl2ZXJcIjoxMCxcIi4vbG9jYXRpb25cIjoxMyxcIi4vdXRpbHMvZXZlbnRcIjo0NixcIi4vdXRpbHMvaWZyYW1lXCI6NDcsXCIuL3V0aWxzL3VybFwiOjUyLFwiZGVidWdcIjo1NSxcImpzb24zXCI6NTh9XSw5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbiAgLCBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBKU09OMyA9IHJlcXVpcmUoJ2pzb24zJylcbiAgLCBvYmplY3RVdGlscyA9IHJlcXVpcmUoJy4vdXRpbHMvb2JqZWN0JylcbiAgO1xuXG52YXIgZGVidWcgPSBmdW5jdGlvbigpIHt9O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NranMtY2xpZW50OmluZm8tYWpheCcpO1xufVxuXG5mdW5jdGlvbiBJbmZvQWpheCh1cmwsIEFqYXhPYmplY3QpIHtcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgdDAgPSArbmV3IERhdGUoKTtcbiAgdGhpcy54byA9IG5ldyBBamF4T2JqZWN0KCdHRVQnLCB1cmwpO1xuXG4gIHRoaXMueG8ub25jZSgnZmluaXNoJywgZnVuY3Rpb24oc3RhdHVzLCB0ZXh0KSB7XG4gICAgdmFyIGluZm8sIHJ0dDtcbiAgICBpZiAoc3RhdHVzID09PSAyMDApIHtcbiAgICAgIHJ0dCA9ICgrbmV3IERhdGUoKSkgLSB0MDtcbiAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaW5mbyA9IEpTT04zLnBhcnNlKHRleHQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgZGVidWcoJ2JhZCBqc29uJywgdGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFvYmplY3RVdGlscy5pc09iamVjdChpbmZvKSkge1xuICAgICAgICBpbmZvID0ge307XG4gICAgICB9XG4gICAgfVxuICAgIHNlbGYuZW1pdCgnZmluaXNoJywgaW5mbywgcnR0KTtcbiAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICB9KTtcbn1cblxuaW5oZXJpdHMoSW5mb0FqYXgsIEV2ZW50RW1pdHRlcik7XG5cbkluZm9BamF4LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICB0aGlzLnhvLmNsb3NlKCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEluZm9BamF4O1xuXG59KS5jYWxsKHRoaXMseyBlbnY6IHt9IH0pXG5cbn0se1wiLi91dGlscy9vYmplY3RcIjo0OSxcImRlYnVnXCI6NTUsXCJldmVudHNcIjozLFwiaW5oZXJpdHNcIjo1NyxcImpzb24zXCI6NTh9XSwxMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbiAgLCBKU09OMyA9IHJlcXVpcmUoJ2pzb24zJylcbiAgLCBYSFJMb2NhbE9iamVjdCA9IHJlcXVpcmUoJy4vdHJhbnNwb3J0L3NlbmRlci94aHItbG9jYWwnKVxuICAsIEluZm9BamF4ID0gcmVxdWlyZSgnLi9pbmZvLWFqYXgnKVxuICA7XG5cbmZ1bmN0aW9uIEluZm9SZWNlaXZlcklmcmFtZSh0cmFuc1VybCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gIHRoaXMuaXIgPSBuZXcgSW5mb0FqYXgodHJhbnNVcmwsIFhIUkxvY2FsT2JqZWN0KTtcbiAgdGhpcy5pci5vbmNlKCdmaW5pc2gnLCBmdW5jdGlvbihpbmZvLCBydHQpIHtcbiAgICBzZWxmLmlyID0gbnVsbDtcbiAgICBzZWxmLmVtaXQoJ21lc3NhZ2UnLCBKU09OMy5zdHJpbmdpZnkoW2luZm8sIHJ0dF0pKTtcbiAgfSk7XG59XG5cbmluaGVyaXRzKEluZm9SZWNlaXZlcklmcmFtZSwgRXZlbnRFbWl0dGVyKTtcblxuSW5mb1JlY2VpdmVySWZyYW1lLnRyYW5zcG9ydE5hbWUgPSAnaWZyYW1lLWluZm8tcmVjZWl2ZXInO1xuXG5JbmZvUmVjZWl2ZXJJZnJhbWUucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmlyKSB7XG4gICAgdGhpcy5pci5jbG9zZSgpO1xuICAgIHRoaXMuaXIgPSBudWxsO1xuICB9XG4gIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEluZm9SZWNlaXZlcklmcmFtZTtcblxufSx7XCIuL2luZm8tYWpheFwiOjksXCIuL3RyYW5zcG9ydC9zZW5kZXIveGhyLWxvY2FsXCI6MzcsXCJldmVudHNcIjozLFwiaW5oZXJpdHNcIjo1NyxcImpzb24zXCI6NTh9XSwxMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuICAsIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIEpTT04zID0gcmVxdWlyZSgnanNvbjMnKVxuICAsIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscy9ldmVudCcpXG4gICwgSWZyYW1lVHJhbnNwb3J0ID0gcmVxdWlyZSgnLi90cmFuc3BvcnQvaWZyYW1lJylcbiAgLCBJbmZvUmVjZWl2ZXJJZnJhbWUgPSByZXF1aXJlKCcuL2luZm8taWZyYW1lLXJlY2VpdmVyJylcbiAgO1xuXG52YXIgZGVidWcgPSBmdW5jdGlvbigpIHt9O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NranMtY2xpZW50OmluZm8taWZyYW1lJyk7XG59XG5cbmZ1bmN0aW9uIEluZm9JZnJhbWUoYmFzZVVybCwgdXJsKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgdmFyIGdvID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlmciA9IHNlbGYuaWZyID0gbmV3IElmcmFtZVRyYW5zcG9ydChJbmZvUmVjZWl2ZXJJZnJhbWUudHJhbnNwb3J0TmFtZSwgdXJsLCBiYXNlVXJsKTtcblxuICAgIGlmci5vbmNlKCdtZXNzYWdlJywgZnVuY3Rpb24obXNnKSB7XG4gICAgICBpZiAobXNnKSB7XG4gICAgICAgIHZhciBkO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGQgPSBKU09OMy5wYXJzZShtc2cpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgZGVidWcoJ2JhZCBqc29uJywgbXNnKTtcbiAgICAgICAgICBzZWxmLmVtaXQoJ2ZpbmlzaCcpO1xuICAgICAgICAgIHNlbGYuY2xvc2UoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW5mbyA9IGRbMF0sIHJ0dCA9IGRbMV07XG4gICAgICAgIHNlbGYuZW1pdCgnZmluaXNoJywgaW5mbywgcnR0KTtcbiAgICAgIH1cbiAgICAgIHNlbGYuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIGlmci5vbmNlKCdjbG9zZScsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5lbWl0KCdmaW5pc2gnKTtcbiAgICAgIHNlbGYuY2xvc2UoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBUT0RPIHRoaXMgc2VlbXMgdGhlIHNhbWUgYXMgdGhlICduZWVkQm9keScgZnJvbSB0cmFuc3BvcnRzXG4gIGlmICghZ2xvYmFsLmRvY3VtZW50LmJvZHkpIHtcbiAgICB1dGlscy5hdHRhY2hFdmVudCgnbG9hZCcsIGdvKTtcbiAgfSBlbHNlIHtcbiAgICBnbygpO1xuICB9XG59XG5cbmluaGVyaXRzKEluZm9JZnJhbWUsIEV2ZW50RW1pdHRlcik7XG5cbkluZm9JZnJhbWUuZW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gSWZyYW1lVHJhbnNwb3J0LmVuYWJsZWQoKTtcbn07XG5cbkluZm9JZnJhbWUucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmlmcikge1xuICAgIHRoaXMuaWZyLmNsb3NlKCk7XG4gIH1cbiAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgdGhpcy5pZnIgPSBudWxsO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbmZvSWZyYW1lO1xuXG59KS5jYWxsKHRoaXMseyBlbnY6IHt9IH0sdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7XCIuL2luZm8taWZyYW1lLXJlY2VpdmVyXCI6MTAsXCIuL3RyYW5zcG9ydC9pZnJhbWVcIjoyMixcIi4vdXRpbHMvZXZlbnRcIjo0NixcImRlYnVnXCI6NTUsXCJldmVudHNcIjozLFwiaW5oZXJpdHNcIjo1NyxcImpzb24zXCI6NTh9XSwxMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3Mpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyXG4gICwgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgdXJsVXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzL3VybCcpXG4gICwgWERSID0gcmVxdWlyZSgnLi90cmFuc3BvcnQvc2VuZGVyL3hkcicpXG4gICwgWEhSQ29ycyA9IHJlcXVpcmUoJy4vdHJhbnNwb3J0L3NlbmRlci94aHItY29ycycpXG4gICwgWEhSTG9jYWwgPSByZXF1aXJlKCcuL3RyYW5zcG9ydC9zZW5kZXIveGhyLWxvY2FsJylcbiAgLCBYSFJGYWtlID0gcmVxdWlyZSgnLi90cmFuc3BvcnQvc2VuZGVyL3hoci1mYWtlJylcbiAgLCBJbmZvSWZyYW1lID0gcmVxdWlyZSgnLi9pbmZvLWlmcmFtZScpXG4gICwgSW5mb0FqYXggPSByZXF1aXJlKCcuL2luZm8tYWpheCcpXG4gIDtcblxudmFyIGRlYnVnID0gZnVuY3Rpb24oKSB7fTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnc29ja2pzLWNsaWVudDppbmZvLXJlY2VpdmVyJyk7XG59XG5cbmZ1bmN0aW9uIEluZm9SZWNlaXZlcihiYXNlVXJsLCB1cmxJbmZvKSB7XG4gIGRlYnVnKGJhc2VVcmwpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5kb1hocihiYXNlVXJsLCB1cmxJbmZvKTtcbiAgfSwgMCk7XG59XG5cbmluaGVyaXRzKEluZm9SZWNlaXZlciwgRXZlbnRFbWl0dGVyKTtcblxuLy8gVE9ETyB0aGlzIGlzIGN1cnJlbnRseSBpZ25vcmluZyB0aGUgbGlzdCBvZiBhdmFpbGFibGUgdHJhbnNwb3J0cyBhbmQgdGhlIHdoaXRlbGlzdFxuXG5JbmZvUmVjZWl2ZXIuX2dldFJlY2VpdmVyID0gZnVuY3Rpb24oYmFzZVVybCwgdXJsLCB1cmxJbmZvKSB7XG4gIC8vIGRldGVybWluZSBtZXRob2Qgb2YgQ09SUyBzdXBwb3J0IChpZiBuZWVkZWQpXG4gIGlmICh1cmxJbmZvLnNhbWVPcmlnaW4pIHtcbiAgICByZXR1cm4gbmV3IEluZm9BamF4KHVybCwgWEhSTG9jYWwpO1xuICB9XG4gIGlmIChYSFJDb3JzLmVuYWJsZWQpIHtcbiAgICByZXR1cm4gbmV3IEluZm9BamF4KHVybCwgWEhSQ29ycyk7XG4gIH1cbiAgaWYgKFhEUi5lbmFibGVkICYmIHVybEluZm8uc2FtZVNjaGVtZSkge1xuICAgIHJldHVybiBuZXcgSW5mb0FqYXgodXJsLCBYRFIpO1xuICB9XG4gIGlmIChJbmZvSWZyYW1lLmVuYWJsZWQoKSkge1xuICAgIHJldHVybiBuZXcgSW5mb0lmcmFtZShiYXNlVXJsLCB1cmwpO1xuICB9XG4gIHJldHVybiBuZXcgSW5mb0FqYXgodXJsLCBYSFJGYWtlKTtcbn07XG5cbkluZm9SZWNlaXZlci5wcm90b3R5cGUuZG9YaHIgPSBmdW5jdGlvbihiYXNlVXJsLCB1cmxJbmZvKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICAgICwgdXJsID0gdXJsVXRpbHMuYWRkUGF0aChiYXNlVXJsLCAnL2luZm8nKVxuICAgIDtcbiAgZGVidWcoJ2RvWGhyJywgdXJsKTtcblxuICB0aGlzLnhvID0gSW5mb1JlY2VpdmVyLl9nZXRSZWNlaXZlcihiYXNlVXJsLCB1cmwsIHVybEluZm8pO1xuXG4gIHRoaXMudGltZW91dFJlZiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgZGVidWcoJ3RpbWVvdXQnKTtcbiAgICBzZWxmLl9jbGVhbnVwKGZhbHNlKTtcbiAgICBzZWxmLmVtaXQoJ2ZpbmlzaCcpO1xuICB9LCBJbmZvUmVjZWl2ZXIudGltZW91dCk7XG5cbiAgdGhpcy54by5vbmNlKCdmaW5pc2gnLCBmdW5jdGlvbihpbmZvLCBydHQpIHtcbiAgICBkZWJ1ZygnZmluaXNoJywgaW5mbywgcnR0KTtcbiAgICBzZWxmLl9jbGVhbnVwKHRydWUpO1xuICAgIHNlbGYuZW1pdCgnZmluaXNoJywgaW5mbywgcnR0KTtcbiAgfSk7XG59O1xuXG5JbmZvUmVjZWl2ZXIucHJvdG90eXBlLl9jbGVhbnVwID0gZnVuY3Rpb24od2FzQ2xlYW4pIHtcbiAgZGVidWcoJ19jbGVhbnVwJyk7XG4gIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRSZWYpO1xuICB0aGlzLnRpbWVvdXRSZWYgPSBudWxsO1xuICBpZiAoIXdhc0NsZWFuICYmIHRoaXMueG8pIHtcbiAgICB0aGlzLnhvLmNsb3NlKCk7XG4gIH1cbiAgdGhpcy54byA9IG51bGw7XG59O1xuXG5JbmZvUmVjZWl2ZXIucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdjbG9zZScpO1xuICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICB0aGlzLl9jbGVhbnVwKGZhbHNlKTtcbn07XG5cbkluZm9SZWNlaXZlci50aW1lb3V0ID0gODAwMDtcblxubW9kdWxlLmV4cG9ydHMgPSBJbmZvUmVjZWl2ZXI7XG5cbn0pLmNhbGwodGhpcyx7IGVudjoge30gfSlcblxufSx7XCIuL2luZm8tYWpheFwiOjksXCIuL2luZm8taWZyYW1lXCI6MTEsXCIuL3RyYW5zcG9ydC9zZW5kZXIveGRyXCI6MzQsXCIuL3RyYW5zcG9ydC9zZW5kZXIveGhyLWNvcnNcIjozNSxcIi4vdHJhbnNwb3J0L3NlbmRlci94aHItZmFrZVwiOjM2LFwiLi90cmFuc3BvcnQvc2VuZGVyL3hoci1sb2NhbFwiOjM3LFwiLi91dGlscy91cmxcIjo1MixcImRlYnVnXCI6NTUsXCJldmVudHNcIjozLFwiaW5oZXJpdHNcIjo1N31dLDEzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwubG9jYXRpb24gfHwge1xuICBvcmlnaW46ICdodHRwOi8vbG9jYWxob3N0OjgwJ1xuLCBwcm90b2NvbDogJ2h0dHA6J1xuLCBob3N0OiAnbG9jYWxob3N0J1xuLCBwb3J0OiA4MFxuLCBocmVmOiAnaHR0cDovL2xvY2FsaG9zdC8nXG4sIGhhc2g6ICcnXG59O1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7fV0sMTQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCl7XG4ndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4vc2hpbXMnKTtcblxudmFyIFVSTCA9IHJlcXVpcmUoJ3VybC1wYXJzZScpXG4gICwgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgSlNPTjMgPSByZXF1aXJlKCdqc29uMycpXG4gICwgcmFuZG9tID0gcmVxdWlyZSgnLi91dGlscy9yYW5kb20nKVxuICAsIGVzY2FwZSA9IHJlcXVpcmUoJy4vdXRpbHMvZXNjYXBlJylcbiAgLCB1cmxVdGlscyA9IHJlcXVpcmUoJy4vdXRpbHMvdXJsJylcbiAgLCBldmVudFV0aWxzID0gcmVxdWlyZSgnLi91dGlscy9ldmVudCcpXG4gICwgdHJhbnNwb3J0ID0gcmVxdWlyZSgnLi91dGlscy90cmFuc3BvcnQnKVxuICAsIG9iamVjdFV0aWxzID0gcmVxdWlyZSgnLi91dGlscy9vYmplY3QnKVxuICAsIGJyb3dzZXIgPSByZXF1aXJlKCcuL3V0aWxzL2Jyb3dzZXInKVxuICAsIGxvZyA9IHJlcXVpcmUoJy4vdXRpbHMvbG9nJylcbiAgLCBFdmVudCA9IHJlcXVpcmUoJy4vZXZlbnQvZXZlbnQnKVxuICAsIEV2ZW50VGFyZ2V0ID0gcmVxdWlyZSgnLi9ldmVudC9ldmVudHRhcmdldCcpXG4gICwgbG9jID0gcmVxdWlyZSgnLi9sb2NhdGlvbicpXG4gICwgQ2xvc2VFdmVudCA9IHJlcXVpcmUoJy4vZXZlbnQvY2xvc2UnKVxuICAsIFRyYW5zcG9ydE1lc3NhZ2VFdmVudCA9IHJlcXVpcmUoJy4vZXZlbnQvdHJhbnMtbWVzc2FnZScpXG4gICwgSW5mb1JlY2VpdmVyID0gcmVxdWlyZSgnLi9pbmZvLXJlY2VpdmVyJylcbiAgO1xuXG52YXIgZGVidWcgPSBmdW5jdGlvbigpIHt9O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NranMtY2xpZW50Om1haW4nKTtcbn1cblxudmFyIHRyYW5zcG9ydHM7XG5cbi8vIGZvbGxvdyBjb25zdHJ1Y3RvciBzdGVwcyBkZWZpbmVkIGF0IGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3dlYnNvY2tldHMvI3RoZS13ZWJzb2NrZXQtaW50ZXJmYWNlXG5mdW5jdGlvbiBTb2NrSlModXJsLCBwcm90b2NvbHMsIG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNvY2tKUykpIHtcbiAgICByZXR1cm4gbmV3IFNvY2tKUyh1cmwsIHByb3RvY29scywgb3B0aW9ucyk7XG4gIH1cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1NvY2tKUzogMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50XCIpO1xuICB9XG4gIEV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG5cbiAgdGhpcy5yZWFkeVN0YXRlID0gU29ja0pTLkNPTk5FQ1RJTkc7XG4gIHRoaXMuZXh0ZW5zaW9ucyA9ICcnO1xuICB0aGlzLnByb3RvY29sID0gJyc7XG5cbiAgLy8gbm9uLXN0YW5kYXJkIGV4dGVuc2lvblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgaWYgKG9wdGlvbnMucHJvdG9jb2xzX3doaXRlbGlzdCkge1xuICAgIGxvZy53YXJuKFwiJ3Byb3RvY29sc193aGl0ZWxpc3QnIGlzIERFUFJFQ0FURUQuIFVzZSAndHJhbnNwb3J0cycgaW5zdGVhZC5cIik7XG4gIH1cbiAgdGhpcy5fdHJhbnNwb3J0c1doaXRlbGlzdCA9IG9wdGlvbnMudHJhbnNwb3J0cztcbiAgdGhpcy5fdHJhbnNwb3J0T3B0aW9ucyA9IG9wdGlvbnMudHJhbnNwb3J0T3B0aW9ucyB8fCB7fTtcbiAgdGhpcy5fdGltZW91dCA9IG9wdGlvbnMudGltZW91dCB8fCAwO1xuXG4gIHZhciBzZXNzaW9uSWQgPSBvcHRpb25zLnNlc3Npb25JZCB8fCA4O1xuICBpZiAodHlwZW9mIHNlc3Npb25JZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRoaXMuX2dlbmVyYXRlU2Vzc2lvbklkID0gc2Vzc2lvbklkO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzZXNzaW9uSWQgPT09ICdudW1iZXInKSB7XG4gICAgdGhpcy5fZ2VuZXJhdGVTZXNzaW9uSWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByYW5kb20uc3RyaW5nKHNlc3Npb25JZCk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJZiBzZXNzaW9uSWQgaXMgdXNlZCBpbiB0aGUgb3B0aW9ucywgaXQgbmVlZHMgdG8gYmUgYSBudW1iZXIgb3IgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIHRoaXMuX3NlcnZlciA9IG9wdGlvbnMuc2VydmVyIHx8IHJhbmRvbS5udW1iZXJTdHJpbmcoMTAwMCk7XG5cbiAgLy8gU3RlcCAxIG9mIFdTIHNwZWMgLSBwYXJzZSBhbmQgdmFsaWRhdGUgdGhlIHVybC4gSXNzdWUgIzhcbiAgdmFyIHBhcnNlZFVybCA9IG5ldyBVUkwodXJsKTtcbiAgaWYgKCFwYXJzZWRVcmwuaG9zdCB8fCAhcGFyc2VkVXJsLnByb3RvY29sKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiVGhlIFVSTCAnXCIgKyB1cmwgKyBcIicgaXMgaW52YWxpZFwiKTtcbiAgfSBlbHNlIGlmIChwYXJzZWRVcmwuaGFzaCkge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignVGhlIFVSTCBtdXN0IG5vdCBjb250YWluIGEgZnJhZ21lbnQnKTtcbiAgfSBlbHNlIGlmIChwYXJzZWRVcmwucHJvdG9jb2wgIT09ICdodHRwOicgJiYgcGFyc2VkVXJsLnByb3RvY29sICE9PSAnaHR0cHM6Jykge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIlRoZSBVUkwncyBzY2hlbWUgbXVzdCBiZSBlaXRoZXIgJ2h0dHA6JyBvciAnaHR0cHM6Jy4gJ1wiICsgcGFyc2VkVXJsLnByb3RvY29sICsgXCInIGlzIG5vdCBhbGxvd2VkLlwiKTtcbiAgfVxuXG4gIHZhciBzZWN1cmUgPSBwYXJzZWRVcmwucHJvdG9jb2wgPT09ICdodHRwczonO1xuICAvLyBTdGVwIDIgLSBkb24ndCBhbGxvdyBzZWN1cmUgb3JpZ2luIHdpdGggYW4gaW5zZWN1cmUgcHJvdG9jb2xcbiAgaWYgKGxvYy5wcm90b2NvbCA9PT0gJ2h0dHBzOicgJiYgIXNlY3VyZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU2VjdXJpdHlFcnJvcjogQW4gaW5zZWN1cmUgU29ja0pTIGNvbm5lY3Rpb24gbWF5IG5vdCBiZSBpbml0aWF0ZWQgZnJvbSBhIHBhZ2UgbG9hZGVkIG92ZXIgSFRUUFMnKTtcbiAgfVxuXG4gIC8vIFN0ZXAgMyAtIGNoZWNrIHBvcnQgYWNjZXNzIC0gbm8gbmVlZCBoZXJlXG4gIC8vIFN0ZXAgNCAtIHBhcnNlIHByb3RvY29scyBhcmd1bWVudFxuICBpZiAoIXByb3RvY29scykge1xuICAgIHByb3RvY29scyA9IFtdO1xuICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHByb3RvY29scykpIHtcbiAgICBwcm90b2NvbHMgPSBbcHJvdG9jb2xzXTtcbiAgfVxuXG4gIC8vIFN0ZXAgNSAtIGNoZWNrIHByb3RvY29scyBhcmd1bWVudFxuICB2YXIgc29ydGVkUHJvdG9jb2xzID0gcHJvdG9jb2xzLnNvcnQoKTtcbiAgc29ydGVkUHJvdG9jb2xzLmZvckVhY2goZnVuY3Rpb24ocHJvdG8sIGkpIHtcbiAgICBpZiAoIXByb3RvKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJUaGUgcHJvdG9jb2xzIGVudHJ5ICdcIiArIHByb3RvICsgXCInIGlzIGludmFsaWQuXCIpO1xuICAgIH1cbiAgICBpZiAoaSA8IChzb3J0ZWRQcm90b2NvbHMubGVuZ3RoIC0gMSkgJiYgcHJvdG8gPT09IHNvcnRlZFByb3RvY29sc1tpICsgMV0pIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIlRoZSBwcm90b2NvbHMgZW50cnkgJ1wiICsgcHJvdG8gKyBcIicgaXMgZHVwbGljYXRlZC5cIik7XG4gICAgfVxuICB9KTtcblxuICAvLyBTdGVwIDYgLSBjb252ZXJ0IG9yaWdpblxuICB2YXIgbyA9IHVybFV0aWxzLmdldE9yaWdpbihsb2MuaHJlZik7XG4gIHRoaXMuX29yaWdpbiA9IG8gPyBvLnRvTG93ZXJDYXNlKCkgOiBudWxsO1xuXG4gIC8vIHJlbW92ZSB0aGUgdHJhaWxpbmcgc2xhc2hcbiAgcGFyc2VkVXJsLnNldCgncGF0aG5hbWUnLCBwYXJzZWRVcmwucGF0aG5hbWUucmVwbGFjZSgvXFwvKyQvLCAnJykpO1xuXG4gIC8vIHN0b3JlIHRoZSBzYW5pdGl6ZWQgdXJsXG4gIHRoaXMudXJsID0gcGFyc2VkVXJsLmhyZWY7XG4gIGRlYnVnKCd1c2luZyB1cmwnLCB0aGlzLnVybCk7XG5cbiAgLy8gU3RlcCA3IC0gc3RhcnQgY29ubmVjdGlvbiBpbiBiYWNrZ3JvdW5kXG4gIC8vIG9idGFpbiBzZXJ2ZXIgaW5mb1xuICAvLyBodHRwOi8vc29ja2pzLmdpdGh1Yi5pby9zb2NranMtcHJvdG9jb2wvc29ja2pzLXByb3RvY29sLTAuMy4zLmh0bWwjc2VjdGlvbi0yNlxuICB0aGlzLl91cmxJbmZvID0ge1xuICAgIG51bGxPcmlnaW46ICFicm93c2VyLmhhc0RvbWFpbigpXG4gICwgc2FtZU9yaWdpbjogdXJsVXRpbHMuaXNPcmlnaW5FcXVhbCh0aGlzLnVybCwgbG9jLmhyZWYpXG4gICwgc2FtZVNjaGVtZTogdXJsVXRpbHMuaXNTY2hlbWVFcXVhbCh0aGlzLnVybCwgbG9jLmhyZWYpXG4gIH07XG5cbiAgdGhpcy5faXIgPSBuZXcgSW5mb1JlY2VpdmVyKHRoaXMudXJsLCB0aGlzLl91cmxJbmZvKTtcbiAgdGhpcy5faXIub25jZSgnZmluaXNoJywgdGhpcy5fcmVjZWl2ZUluZm8uYmluZCh0aGlzKSk7XG59XG5cbmluaGVyaXRzKFNvY2tKUywgRXZlbnRUYXJnZXQpO1xuXG5mdW5jdGlvbiB1c2VyU2V0Q29kZShjb2RlKSB7XG4gIHJldHVybiBjb2RlID09PSAxMDAwIHx8IChjb2RlID49IDMwMDAgJiYgY29kZSA8PSA0OTk5KTtcbn1cblxuU29ja0pTLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKGNvZGUsIHJlYXNvbikge1xuICAvLyBTdGVwIDFcbiAgaWYgKGNvZGUgJiYgIXVzZXJTZXRDb2RlKGNvZGUpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkQWNjZXNzRXJyb3I6IEludmFsaWQgY29kZScpO1xuICB9XG4gIC8vIFN0ZXAgMi40IHN0YXRlcyB0aGUgbWF4IGlzIDEyMyBieXRlcywgYnV0IHdlIGFyZSBqdXN0IGNoZWNraW5nIGxlbmd0aFxuICBpZiAocmVhc29uICYmIHJlYXNvbi5sZW5ndGggPiAxMjMpIHtcbiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ3JlYXNvbiBhcmd1bWVudCBoYXMgYW4gaW52YWxpZCBsZW5ndGgnKTtcbiAgfVxuXG4gIC8vIFN0ZXAgMy4xXG4gIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFNvY2tKUy5DTE9TSU5HIHx8IHRoaXMucmVhZHlTdGF0ZSA9PT0gU29ja0pTLkNMT1NFRCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFRPRE8gbG9vayBhdCBkb2NzIHRvIGRldGVybWluZSBob3cgdG8gc2V0IHRoaXNcbiAgdmFyIHdhc0NsZWFuID0gdHJ1ZTtcbiAgdGhpcy5fY2xvc2UoY29kZSB8fCAxMDAwLCByZWFzb24gfHwgJ05vcm1hbCBjbG9zdXJlJywgd2FzQ2xlYW4pO1xufTtcblxuU29ja0pTLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24oZGF0YSkge1xuICAvLyAjMTMgLSBjb252ZXJ0IGFueXRoaW5nIG5vbi1zdHJpbmcgdG8gc3RyaW5nXG4gIC8vIFRPRE8gdGhpcyBjdXJyZW50bHkgdHVybnMgb2JqZWN0cyBpbnRvIFtvYmplY3QgT2JqZWN0XVxuICBpZiAodHlwZW9mIGRhdGEgIT09ICdzdHJpbmcnKSB7XG4gICAgZGF0YSA9ICcnICsgZGF0YTtcbiAgfVxuICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBTb2NrSlMuQ09OTkVDVElORykge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZFN0YXRlRXJyb3I6IFRoZSBjb25uZWN0aW9uIGhhcyBub3QgYmVlbiBlc3RhYmxpc2hlZCB5ZXQnKTtcbiAgfVxuICBpZiAodGhpcy5yZWFkeVN0YXRlICE9PSBTb2NrSlMuT1BFTikge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLl90cmFuc3BvcnQuc2VuZChlc2NhcGUucXVvdGUoZGF0YSkpO1xufTtcblxuU29ja0pTLnZlcnNpb24gPSByZXF1aXJlKCcuL3ZlcnNpb24nKTtcblxuU29ja0pTLkNPTk5FQ1RJTkcgPSAwO1xuU29ja0pTLk9QRU4gPSAxO1xuU29ja0pTLkNMT1NJTkcgPSAyO1xuU29ja0pTLkNMT1NFRCA9IDM7XG5cblNvY2tKUy5wcm90b3R5cGUuX3JlY2VpdmVJbmZvID0gZnVuY3Rpb24oaW5mbywgcnR0KSB7XG4gIGRlYnVnKCdfcmVjZWl2ZUluZm8nLCBydHQpO1xuICB0aGlzLl9pciA9IG51bGw7XG4gIGlmICghaW5mbykge1xuICAgIHRoaXMuX2Nsb3NlKDEwMDIsICdDYW5ub3QgY29ubmVjdCB0byBzZXJ2ZXInKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBlc3RhYmxpc2ggYSByb3VuZC10cmlwIHRpbWVvdXQgKFJUTykgYmFzZWQgb24gdGhlXG4gIC8vIHJvdW5kLXRyaXAgdGltZSAoUlRUKVxuICB0aGlzLl9ydG8gPSB0aGlzLmNvdW50UlRPKHJ0dCk7XG4gIC8vIGFsbG93IHNlcnZlciB0byBvdmVycmlkZSB1cmwgdXNlZCBmb3IgdGhlIGFjdHVhbCB0cmFuc3BvcnRcbiAgdGhpcy5fdHJhbnNVcmwgPSBpbmZvLmJhc2VfdXJsID8gaW5mby5iYXNlX3VybCA6IHRoaXMudXJsO1xuICBpbmZvID0gb2JqZWN0VXRpbHMuZXh0ZW5kKGluZm8sIHRoaXMuX3VybEluZm8pO1xuICBkZWJ1ZygnaW5mbycsIGluZm8pO1xuICAvLyBkZXRlcm1pbmUgbGlzdCBvZiBkZXNpcmVkIGFuZCBzdXBwb3J0ZWQgdHJhbnNwb3J0c1xuICB2YXIgZW5hYmxlZFRyYW5zcG9ydHMgPSB0cmFuc3BvcnRzLmZpbHRlclRvRW5hYmxlZCh0aGlzLl90cmFuc3BvcnRzV2hpdGVsaXN0LCBpbmZvKTtcbiAgdGhpcy5fdHJhbnNwb3J0cyA9IGVuYWJsZWRUcmFuc3BvcnRzLm1haW47XG4gIGRlYnVnKHRoaXMuX3RyYW5zcG9ydHMubGVuZ3RoICsgJyBlbmFibGVkIHRyYW5zcG9ydHMnKTtcblxuICB0aGlzLl9jb25uZWN0KCk7XG59O1xuXG5Tb2NrSlMucHJvdG90eXBlLl9jb25uZWN0ID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIFRyYW5zcG9ydCA9IHRoaXMuX3RyYW5zcG9ydHMuc2hpZnQoKTsgVHJhbnNwb3J0OyBUcmFuc3BvcnQgPSB0aGlzLl90cmFuc3BvcnRzLnNoaWZ0KCkpIHtcbiAgICBkZWJ1ZygnYXR0ZW1wdCcsIFRyYW5zcG9ydC50cmFuc3BvcnROYW1lKTtcbiAgICBpZiAoVHJhbnNwb3J0Lm5lZWRCb2R5KSB7XG4gICAgICBpZiAoIWdsb2JhbC5kb2N1bWVudC5ib2R5IHx8XG4gICAgICAgICAgKHR5cGVvZiBnbG9iYWwuZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgIGdsb2JhbC5kb2N1bWVudC5yZWFkeVN0YXRlICE9PSAnY29tcGxldGUnICYmXG4gICAgICAgICAgICBnbG9iYWwuZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2ludGVyYWN0aXZlJykpIHtcbiAgICAgICAgZGVidWcoJ3dhaXRpbmcgZm9yIGJvZHknKTtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0cy51bnNoaWZ0KFRyYW5zcG9ydCk7XG4gICAgICAgIGV2ZW50VXRpbHMuYXR0YWNoRXZlbnQoJ2xvYWQnLCB0aGlzLl9jb25uZWN0LmJpbmQodGhpcykpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gY2FsY3VsYXRlIHRpbWVvdXQgYmFzZWQgb24gUlRPIGFuZCByb3VuZCB0cmlwcy4gRGVmYXVsdCB0byA1c1xuICAgIHZhciB0aW1lb3V0TXMgPSBNYXRoLm1heCh0aGlzLl90aW1lb3V0LCAodGhpcy5fcnRvICogVHJhbnNwb3J0LnJvdW5kVHJpcHMpIHx8IDUwMDApO1xuICAgIHRoaXMuX3RyYW5zcG9ydFRpbWVvdXRJZCA9IHNldFRpbWVvdXQodGhpcy5fdHJhbnNwb3J0VGltZW91dC5iaW5kKHRoaXMpLCB0aW1lb3V0TXMpO1xuICAgIGRlYnVnKCd1c2luZyB0aW1lb3V0JywgdGltZW91dE1zKTtcblxuICAgIHZhciB0cmFuc3BvcnRVcmwgPSB1cmxVdGlscy5hZGRQYXRoKHRoaXMuX3RyYW5zVXJsLCAnLycgKyB0aGlzLl9zZXJ2ZXIgKyAnLycgKyB0aGlzLl9nZW5lcmF0ZVNlc3Npb25JZCgpKTtcbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMuX3RyYW5zcG9ydE9wdGlvbnNbVHJhbnNwb3J0LnRyYW5zcG9ydE5hbWVdO1xuICAgIGRlYnVnKCd0cmFuc3BvcnQgdXJsJywgdHJhbnNwb3J0VXJsKTtcbiAgICB2YXIgdHJhbnNwb3J0T2JqID0gbmV3IFRyYW5zcG9ydCh0cmFuc3BvcnRVcmwsIHRoaXMuX3RyYW5zVXJsLCBvcHRpb25zKTtcbiAgICB0cmFuc3BvcnRPYmoub24oJ21lc3NhZ2UnLCB0aGlzLl90cmFuc3BvcnRNZXNzYWdlLmJpbmQodGhpcykpO1xuICAgIHRyYW5zcG9ydE9iai5vbmNlKCdjbG9zZScsIHRoaXMuX3RyYW5zcG9ydENsb3NlLmJpbmQodGhpcykpO1xuICAgIHRyYW5zcG9ydE9iai50cmFuc3BvcnROYW1lID0gVHJhbnNwb3J0LnRyYW5zcG9ydE5hbWU7XG4gICAgdGhpcy5fdHJhbnNwb3J0ID0gdHJhbnNwb3J0T2JqO1xuXG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuX2Nsb3NlKDIwMDAsICdBbGwgdHJhbnNwb3J0cyBmYWlsZWQnLCBmYWxzZSk7XG59O1xuXG5Tb2NrSlMucHJvdG90eXBlLl90cmFuc3BvcnRUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdfdHJhbnNwb3J0VGltZW91dCcpO1xuICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBTb2NrSlMuQ09OTkVDVElORykge1xuICAgIGlmICh0aGlzLl90cmFuc3BvcnQpIHtcbiAgICAgIHRoaXMuX3RyYW5zcG9ydC5jbG9zZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX3RyYW5zcG9ydENsb3NlKDIwMDcsICdUcmFuc3BvcnQgdGltZWQgb3V0Jyk7XG4gIH1cbn07XG5cblNvY2tKUy5wcm90b3R5cGUuX3RyYW5zcG9ydE1lc3NhZ2UgPSBmdW5jdGlvbihtc2cpIHtcbiAgZGVidWcoJ190cmFuc3BvcnRNZXNzYWdlJywgbXNnKTtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gICAgLCB0eXBlID0gbXNnLnNsaWNlKDAsIDEpXG4gICAgLCBjb250ZW50ID0gbXNnLnNsaWNlKDEpXG4gICAgLCBwYXlsb2FkXG4gICAgO1xuXG4gIC8vIGZpcnN0IGNoZWNrIGZvciBtZXNzYWdlcyB0aGF0IGRvbid0IG5lZWQgYSBwYXlsb2FkXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ28nOlxuICAgICAgdGhpcy5fb3BlbigpO1xuICAgICAgcmV0dXJuO1xuICAgIGNhc2UgJ2gnOlxuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaGVhcnRiZWF0JykpO1xuICAgICAgZGVidWcoJ2hlYXJ0YmVhdCcsIHRoaXMudHJhbnNwb3J0KTtcbiAgICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjb250ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgIHBheWxvYWQgPSBKU09OMy5wYXJzZShjb250ZW50KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBkZWJ1ZygnYmFkIGpzb24nLCBjb250ZW50KTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIHBheWxvYWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgZGVidWcoJ2VtcHR5IHBheWxvYWQnLCBjb250ZW50KTtcbiAgICByZXR1cm47XG4gIH1cblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdhJzpcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHBheWxvYWQpKSB7XG4gICAgICAgIHBheWxvYWQuZm9yRWFjaChmdW5jdGlvbihwKSB7XG4gICAgICAgICAgZGVidWcoJ21lc3NhZ2UnLCBzZWxmLnRyYW5zcG9ydCwgcCk7XG4gICAgICAgICAgc2VsZi5kaXNwYXRjaEV2ZW50KG5ldyBUcmFuc3BvcnRNZXNzYWdlRXZlbnQocCkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ20nOlxuICAgICAgZGVidWcoJ21lc3NhZ2UnLCB0aGlzLnRyYW5zcG9ydCwgcGF5bG9hZCk7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFRyYW5zcG9ydE1lc3NhZ2VFdmVudChwYXlsb2FkKSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdjJzpcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHBheWxvYWQpICYmIHBheWxvYWQubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHRoaXMuX2Nsb3NlKHBheWxvYWRbMF0sIHBheWxvYWRbMV0sIHRydWUpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gIH1cbn07XG5cblNvY2tKUy5wcm90b3R5cGUuX3RyYW5zcG9ydENsb3NlID0gZnVuY3Rpb24oY29kZSwgcmVhc29uKSB7XG4gIGRlYnVnKCdfdHJhbnNwb3J0Q2xvc2UnLCB0aGlzLnRyYW5zcG9ydCwgY29kZSwgcmVhc29uKTtcbiAgaWYgKHRoaXMuX3RyYW5zcG9ydCkge1xuICAgIHRoaXMuX3RyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl90cmFuc3BvcnQgPSBudWxsO1xuICAgIHRoaXMudHJhbnNwb3J0ID0gbnVsbDtcbiAgfVxuXG4gIGlmICghdXNlclNldENvZGUoY29kZSkgJiYgY29kZSAhPT0gMjAwMCAmJiB0aGlzLnJlYWR5U3RhdGUgPT09IFNvY2tKUy5DT05ORUNUSU5HKSB7XG4gICAgdGhpcy5fY29ubmVjdCgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuX2Nsb3NlKGNvZGUsIHJlYXNvbik7XG59O1xuXG5Tb2NrSlMucHJvdG90eXBlLl9vcGVuID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdfb3BlbicsIHRoaXMuX3RyYW5zcG9ydCAmJiB0aGlzLl90cmFuc3BvcnQudHJhbnNwb3J0TmFtZSwgdGhpcy5yZWFkeVN0YXRlKTtcbiAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gU29ja0pTLkNPTk5FQ1RJTkcpIHtcbiAgICBpZiAodGhpcy5fdHJhbnNwb3J0VGltZW91dElkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fdHJhbnNwb3J0VGltZW91dElkKTtcbiAgICAgIHRoaXMuX3RyYW5zcG9ydFRpbWVvdXRJZCA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFNvY2tKUy5PUEVOO1xuICAgIHRoaXMudHJhbnNwb3J0ID0gdGhpcy5fdHJhbnNwb3J0LnRyYW5zcG9ydE5hbWU7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnb3BlbicpKTtcbiAgICBkZWJ1ZygnY29ubmVjdGVkJywgdGhpcy50cmFuc3BvcnQpO1xuICB9IGVsc2Uge1xuICAgIC8vIFRoZSBzZXJ2ZXIgbWlnaHQgaGF2ZSBiZWVuIHJlc3RhcnRlZCwgYW5kIGxvc3QgdHJhY2sgb2Ygb3VyXG4gICAgLy8gY29ubmVjdGlvbi5cbiAgICB0aGlzLl9jbG9zZSgxMDA2LCAnU2VydmVyIGxvc3Qgc2Vzc2lvbicpO1xuICB9XG59O1xuXG5Tb2NrSlMucHJvdG90eXBlLl9jbG9zZSA9IGZ1bmN0aW9uKGNvZGUsIHJlYXNvbiwgd2FzQ2xlYW4pIHtcbiAgZGVidWcoJ19jbG9zZScsIHRoaXMudHJhbnNwb3J0LCBjb2RlLCByZWFzb24sIHdhc0NsZWFuLCB0aGlzLnJlYWR5U3RhdGUpO1xuICB2YXIgZm9yY2VGYWlsID0gZmFsc2U7XG5cbiAgaWYgKHRoaXMuX2lyKSB7XG4gICAgZm9yY2VGYWlsID0gdHJ1ZTtcbiAgICB0aGlzLl9pci5jbG9zZSgpO1xuICAgIHRoaXMuX2lyID0gbnVsbDtcbiAgfVxuICBpZiAodGhpcy5fdHJhbnNwb3J0KSB7XG4gICAgdGhpcy5fdHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgdGhpcy5fdHJhbnNwb3J0ID0gbnVsbDtcbiAgICB0aGlzLnRyYW5zcG9ydCA9IG51bGw7XG4gIH1cblxuICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBTb2NrSlMuQ0xPU0VEKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkU3RhdGVFcnJvcjogU29ja0pTIGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkJyk7XG4gIH1cblxuICB0aGlzLnJlYWR5U3RhdGUgPSBTb2NrSlMuQ0xPU0lORztcbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlYWR5U3RhdGUgPSBTb2NrSlMuQ0xPU0VEO1xuXG4gICAgaWYgKGZvcmNlRmFpbCkge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnZXJyb3InKSk7XG4gICAgfVxuXG4gICAgdmFyIGUgPSBuZXcgQ2xvc2VFdmVudCgnY2xvc2UnKTtcbiAgICBlLndhc0NsZWFuID0gd2FzQ2xlYW4gfHwgZmFsc2U7XG4gICAgZS5jb2RlID0gY29kZSB8fCAxMDAwO1xuICAgIGUucmVhc29uID0gcmVhc29uO1xuXG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUpO1xuICAgIHRoaXMub25tZXNzYWdlID0gdGhpcy5vbmNsb3NlID0gdGhpcy5vbmVycm9yID0gbnVsbDtcbiAgICBkZWJ1ZygnZGlzY29ubmVjdGVkJyk7XG4gIH0uYmluZCh0aGlzKSwgMCk7XG59O1xuXG4vLyBTZWU6IGh0dHA6Ly93d3cuZXJnLmFiZG4uYWMudWsvfmdlcnJpdC9kY2NwL25vdGVzL2NjaWQyL3J0b19lc3RpbWF0b3IvXG4vLyBhbmQgUkZDIDI5ODguXG5Tb2NrSlMucHJvdG90eXBlLmNvdW50UlRPID0gZnVuY3Rpb24ocnR0KSB7XG4gIC8vIEluIGEgbG9jYWwgZW52aXJvbm1lbnQsIHdoZW4gdXNpbmcgSUU4LzkgYW5kIHRoZSBganNvbnAtcG9sbGluZ2BcbiAgLy8gdHJhbnNwb3J0IHRoZSB0aW1lIG5lZWRlZCB0byBlc3RhYmxpc2ggYSBjb25uZWN0aW9uICh0aGUgdGltZSB0aGF0IHBhc3NcbiAgLy8gZnJvbSB0aGUgb3BlbmluZyBvZiB0aGUgdHJhbnNwb3J0IHRvIHRoZSBjYWxsIG9mIGBfZGlzcGF0Y2hPcGVuYCkgaXNcbiAgLy8gYXJvdW5kIDIwMG1zZWMgKHRoZSBsb3dlciBib3VuZCB1c2VkIGluIHRoZSBhcnRpY2xlIGFib3ZlKSBhbmQgdGhpc1xuICAvLyBjYXVzZXMgc3B1cmlvdXMgdGltZW91dHMuIEZvciB0aGlzIHJlYXNvbiB3ZSBjYWxjdWxhdGUgYSB2YWx1ZSBzbGlnaHRseVxuICAvLyBsYXJnZXIgdGhhbiB0aGF0IHVzZWQgaW4gdGhlIGFydGljbGUuXG4gIGlmIChydHQgPiAxMDApIHtcbiAgICByZXR1cm4gNCAqIHJ0dDsgLy8gcnRvID4gNDAwbXNlY1xuICB9XG4gIHJldHVybiAzMDAgKyBydHQ7IC8vIDMwMG1zZWMgPCBydG8gPD0gNDAwbXNlY1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihhdmFpbGFibGVUcmFuc3BvcnRzKSB7XG4gIHRyYW5zcG9ydHMgPSB0cmFuc3BvcnQoYXZhaWxhYmxlVHJhbnNwb3J0cyk7XG4gIHJlcXVpcmUoJy4vaWZyYW1lLWJvb3RzdHJhcCcpKFNvY2tKUywgYXZhaWxhYmxlVHJhbnNwb3J0cyk7XG4gIHJldHVybiBTb2NrSlM7XG59O1xuXG59KS5jYWxsKHRoaXMseyBlbnY6IHt9IH0sdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7XCIuL2V2ZW50L2Nsb3NlXCI6MixcIi4vZXZlbnQvZXZlbnRcIjo0LFwiLi9ldmVudC9ldmVudHRhcmdldFwiOjUsXCIuL2V2ZW50L3RyYW5zLW1lc3NhZ2VcIjo2LFwiLi9pZnJhbWUtYm9vdHN0cmFwXCI6OCxcIi4vaW5mby1yZWNlaXZlclwiOjEyLFwiLi9sb2NhdGlvblwiOjEzLFwiLi9zaGltc1wiOjE1LFwiLi91dGlscy9icm93c2VyXCI6NDQsXCIuL3V0aWxzL2VzY2FwZVwiOjQ1LFwiLi91dGlscy9ldmVudFwiOjQ2LFwiLi91dGlscy9sb2dcIjo0OCxcIi4vdXRpbHMvb2JqZWN0XCI6NDksXCIuL3V0aWxzL3JhbmRvbVwiOjUwLFwiLi91dGlscy90cmFuc3BvcnRcIjo1MSxcIi4vdXRpbHMvdXJsXCI6NTIsXCIuL3ZlcnNpb25cIjo1MyxcImRlYnVnXCI6NTUsXCJpbmhlcml0c1wiOjU3LFwianNvbjNcIjo1OCxcInVybC1wYXJzZVwiOjYxfV0sMTU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8qIGpzY3M6IGRpc2FibGUgKi9cbid1c2Ugc3RyaWN0JztcblxuLy8gcHVsbGVkIHNwZWNpZmljIHNoaW1zIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2VzLXNoaW1zL2VzNS1zaGltXG5cbnZhciBBcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcbnZhciBPYmplY3RQcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlO1xudmFyIEZ1bmN0aW9uUHJvdG90eXBlID0gRnVuY3Rpb24ucHJvdG90eXBlO1xudmFyIFN0cmluZ1Byb3RvdHlwZSA9IFN0cmluZy5wcm90b3R5cGU7XG52YXIgYXJyYXlfc2xpY2UgPSBBcnJheVByb3RvdHlwZS5zbGljZTtcblxudmFyIF90b1N0cmluZyA9IE9iamVjdFByb3RvdHlwZS50b1N0cmluZztcbnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiBPYmplY3RQcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufTtcbnZhciBpc0FycmF5ID0gZnVuY3Rpb24gaXNBcnJheShvYmopIHtcbiAgICByZXR1cm4gX3RvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG52YXIgaXNTdHJpbmcgPSBmdW5jdGlvbiBpc1N0cmluZyhvYmopIHtcbiAgICByZXR1cm4gX3RvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgU3RyaW5nXSc7XG59O1xuXG52YXIgc3VwcG9ydHNEZXNjcmlwdG9ycyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiAoZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3gnLCB7fSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHsgLyogdGhpcyBpcyBFUzMgKi9cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn0oKSk7XG5cbi8vIERlZmluZSBjb25maWd1cmFibGUsIHdyaXRhYmxlIGFuZCBub24tZW51bWVyYWJsZSBwcm9wc1xuLy8gaWYgdGhleSBkb24ndCBleGlzdC5cbnZhciBkZWZpbmVQcm9wZXJ0eTtcbmlmIChzdXBwb3J0c0Rlc2NyaXB0b3JzKSB7XG4gICAgZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lLCBtZXRob2QsIGZvcmNlQXNzaWduKSB7XG4gICAgICAgIGlmICghZm9yY2VBc3NpZ24gJiYgKG5hbWUgaW4gb2JqZWN0KSkgeyByZXR1cm47IH1cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgbmFtZSwge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBtZXRob2RcbiAgICAgICAgfSk7XG4gICAgfTtcbn0gZWxzZSB7XG4gICAgZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lLCBtZXRob2QsIGZvcmNlQXNzaWduKSB7XG4gICAgICAgIGlmICghZm9yY2VBc3NpZ24gJiYgKG5hbWUgaW4gb2JqZWN0KSkgeyByZXR1cm47IH1cbiAgICAgICAgb2JqZWN0W25hbWVdID0gbWV0aG9kO1xuICAgIH07XG59XG52YXIgZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIChvYmplY3QsIG1hcCwgZm9yY2VBc3NpZ24pIHtcbiAgICBmb3IgKHZhciBuYW1lIGluIG1hcCkge1xuICAgICAgICBpZiAoT2JqZWN0UHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWFwLCBuYW1lKSkge1xuICAgICAgICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwgbmFtZSwgbWFwW25hbWVdLCBmb3JjZUFzc2lnbik7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG52YXIgdG9PYmplY3QgPSBmdW5jdGlvbiAobykge1xuICAgIGlmIChvID09IG51bGwpIHsgLy8gdGhpcyBtYXRjaGVzIGJvdGggbnVsbCBhbmQgdW5kZWZpbmVkXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW4ndCBjb252ZXJ0IFwiICsgbyArICcgdG8gb2JqZWN0Jyk7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3Qobyk7XG59O1xuXG4vL1xuLy8gVXRpbFxuLy8gPT09PT09XG4vL1xuXG4vLyBFUzUgOS40XG4vLyBodHRwOi8vZXM1LmdpdGh1Yi5jb20vI3g5LjRcbi8vIGh0dHA6Ly9qc3BlcmYuY29tL3RvLWludGVnZXJcblxuZnVuY3Rpb24gdG9JbnRlZ2VyKG51bSkge1xuICAgIHZhciBuID0gK251bTtcbiAgICBpZiAobiAhPT0gbikgeyAvLyBpc05hTlxuICAgICAgICBuID0gMDtcbiAgICB9IGVsc2UgaWYgKG4gIT09IDAgJiYgbiAhPT0gKDEgLyAwKSAmJiBuICE9PSAtKDEgLyAwKSkge1xuICAgICAgICBuID0gKG4gPiAwIHx8IC0xKSAqIE1hdGguZmxvb3IoTWF0aC5hYnMobikpO1xuICAgIH1cbiAgICByZXR1cm4gbjtcbn1cblxuZnVuY3Rpb24gVG9VaW50MzIoeCkge1xuICAgIHJldHVybiB4ID4+PiAwO1xufVxuXG4vL1xuLy8gRnVuY3Rpb25cbi8vID09PT09PT09XG4vL1xuXG4vLyBFUy01IDE1LjMuNC41XG4vLyBodHRwOi8vZXM1LmdpdGh1Yi5jb20vI3gxNS4zLjQuNVxuXG5mdW5jdGlvbiBFbXB0eSgpIHt9XG5cbmRlZmluZVByb3BlcnRpZXMoRnVuY3Rpb25Qcm90b3R5cGUsIHtcbiAgICBiaW5kOiBmdW5jdGlvbiBiaW5kKHRoYXQpIHsgLy8gLmxlbmd0aCBpcyAxXG4gICAgICAgIC8vIDEuIExldCBUYXJnZXQgYmUgdGhlIHRoaXMgdmFsdWUuXG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzO1xuICAgICAgICAvLyAyLiBJZiBJc0NhbGxhYmxlKFRhcmdldCkgaXMgZmFsc2UsIHRocm93IGEgVHlwZUVycm9yIGV4Y2VwdGlvbi5cbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgJyArIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4gTGV0IEEgYmUgYSBuZXcgKHBvc3NpYmx5IGVtcHR5KSBpbnRlcm5hbCBsaXN0IG9mIGFsbCBvZiB0aGVcbiAgICAgICAgLy8gICBhcmd1bWVudCB2YWx1ZXMgcHJvdmlkZWQgYWZ0ZXIgdGhpc0FyZyAoYXJnMSwgYXJnMiBldGMpLCBpbiBvcmRlci5cbiAgICAgICAgLy8gWFhYIHNsaWNlZEFyZ3Mgd2lsbCBzdGFuZCBpbiBmb3IgXCJBXCIgaWYgdXNlZFxuICAgICAgICB2YXIgYXJncyA9IGFycmF5X3NsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsgLy8gZm9yIG5vcm1hbCBjYWxsXG4gICAgICAgIC8vIDQuIExldCBGIGJlIGEgbmV3IG5hdGl2ZSBFQ01BU2NyaXB0IG9iamVjdC5cbiAgICAgICAgLy8gMTEuIFNldCB0aGUgW1tQcm90b3R5cGVdXSBpbnRlcm5hbCBwcm9wZXJ0eSBvZiBGIHRvIHRoZSBzdGFuZGFyZFxuICAgICAgICAvLyAgIGJ1aWx0LWluIEZ1bmN0aW9uIHByb3RvdHlwZSBvYmplY3QgYXMgc3BlY2lmaWVkIGluIDE1LjMuMy4xLlxuICAgICAgICAvLyAxMi4gU2V0IHRoZSBbW0NhbGxdXSBpbnRlcm5hbCBwcm9wZXJ0eSBvZiBGIGFzIGRlc2NyaWJlZCBpblxuICAgICAgICAvLyAgIDE1LjMuNC41LjEuXG4gICAgICAgIC8vIDEzLiBTZXQgdGhlIFtbQ29uc3RydWN0XV0gaW50ZXJuYWwgcHJvcGVydHkgb2YgRiBhcyBkZXNjcmliZWQgaW5cbiAgICAgICAgLy8gICAxNS4zLjQuNS4yLlxuICAgICAgICAvLyAxNC4gU2V0IHRoZSBbW0hhc0luc3RhbmNlXV0gaW50ZXJuYWwgcHJvcGVydHkgb2YgRiBhcyBkZXNjcmliZWQgaW5cbiAgICAgICAgLy8gICAxNS4zLjQuNS4zLlxuICAgICAgICB2YXIgYmluZGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIGJvdW5kKSB7XG4gICAgICAgICAgICAgICAgLy8gMTUuMy40LjUuMiBbW0NvbnN0cnVjdF1dXG4gICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbCBtZXRob2Qgb2YgYSBmdW5jdGlvbiBvYmplY3QsXG4gICAgICAgICAgICAgICAgLy8gRiB0aGF0IHdhcyBjcmVhdGVkIHVzaW5nIHRoZSBiaW5kIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIGFcbiAgICAgICAgICAgICAgICAvLyBsaXN0IG9mIGFyZ3VtZW50cyBFeHRyYUFyZ3MsIHRoZSBmb2xsb3dpbmcgc3RlcHMgYXJlIHRha2VuOlxuICAgICAgICAgICAgICAgIC8vIDEuIExldCB0YXJnZXQgYmUgdGhlIHZhbHVlIG9mIEYncyBbW1RhcmdldEZ1bmN0aW9uXV1cbiAgICAgICAgICAgICAgICAvLyAgIGludGVybmFsIHByb3BlcnR5LlxuICAgICAgICAgICAgICAgIC8vIDIuIElmIHRhcmdldCBoYXMgbm8gW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbCBtZXRob2QsIGFcbiAgICAgICAgICAgICAgICAvLyAgIFR5cGVFcnJvciBleGNlcHRpb24gaXMgdGhyb3duLlxuICAgICAgICAgICAgICAgIC8vIDMuIExldCBib3VuZEFyZ3MgYmUgdGhlIHZhbHVlIG9mIEYncyBbW0JvdW5kQXJnc11dIGludGVybmFsXG4gICAgICAgICAgICAgICAgLy8gICBwcm9wZXJ0eS5cbiAgICAgICAgICAgICAgICAvLyA0LiBMZXQgYXJncyBiZSBhIG5ldyBsaXN0IGNvbnRhaW5pbmcgdGhlIHNhbWUgdmFsdWVzIGFzIHRoZVxuICAgICAgICAgICAgICAgIC8vICAgbGlzdCBib3VuZEFyZ3MgaW4gdGhlIHNhbWUgb3JkZXIgZm9sbG93ZWQgYnkgdGhlIHNhbWVcbiAgICAgICAgICAgICAgICAvLyAgIHZhbHVlcyBhcyB0aGUgbGlzdCBFeHRyYUFyZ3MgaW4gdGhlIHNhbWUgb3JkZXIuXG4gICAgICAgICAgICAgICAgLy8gNS4gUmV0dXJuIHRoZSByZXN1bHQgb2YgY2FsbGluZyB0aGUgW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbFxuICAgICAgICAgICAgICAgIC8vICAgbWV0aG9kIG9mIHRhcmdldCBwcm92aWRpbmcgYXJncyBhcyB0aGUgYXJndW1lbnRzLlxuXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRhcmdldC5hcHBseShcbiAgICAgICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgYXJncy5jb25jYXQoYXJyYXlfc2xpY2UuY2FsbChhcmd1bWVudHMpKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdChyZXN1bHQpID09PSByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gMTUuMy40LjUuMSBbW0NhbGxdXVxuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIFtbQ2FsbF1dIGludGVybmFsIG1ldGhvZCBvZiBhIGZ1bmN0aW9uIG9iamVjdCwgRixcbiAgICAgICAgICAgICAgICAvLyB3aGljaCB3YXMgY3JlYXRlZCB1c2luZyB0aGUgYmluZCBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBhXG4gICAgICAgICAgICAgICAgLy8gdGhpcyB2YWx1ZSBhbmQgYSBsaXN0IG9mIGFyZ3VtZW50cyBFeHRyYUFyZ3MsIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgICAgICAgICAvLyBzdGVwcyBhcmUgdGFrZW46XG4gICAgICAgICAgICAgICAgLy8gMS4gTGV0IGJvdW5kQXJncyBiZSB0aGUgdmFsdWUgb2YgRidzIFtbQm91bmRBcmdzXV0gaW50ZXJuYWxcbiAgICAgICAgICAgICAgICAvLyAgIHByb3BlcnR5LlxuICAgICAgICAgICAgICAgIC8vIDIuIExldCBib3VuZFRoaXMgYmUgdGhlIHZhbHVlIG9mIEYncyBbW0JvdW5kVGhpc11dIGludGVybmFsXG4gICAgICAgICAgICAgICAgLy8gICBwcm9wZXJ0eS5cbiAgICAgICAgICAgICAgICAvLyAzLiBMZXQgdGFyZ2V0IGJlIHRoZSB2YWx1ZSBvZiBGJ3MgW1tUYXJnZXRGdW5jdGlvbl1dIGludGVybmFsXG4gICAgICAgICAgICAgICAgLy8gICBwcm9wZXJ0eS5cbiAgICAgICAgICAgICAgICAvLyA0LiBMZXQgYXJncyBiZSBhIG5ldyBsaXN0IGNvbnRhaW5pbmcgdGhlIHNhbWUgdmFsdWVzIGFzIHRoZVxuICAgICAgICAgICAgICAgIC8vICAgbGlzdCBib3VuZEFyZ3MgaW4gdGhlIHNhbWUgb3JkZXIgZm9sbG93ZWQgYnkgdGhlIHNhbWVcbiAgICAgICAgICAgICAgICAvLyAgIHZhbHVlcyBhcyB0aGUgbGlzdCBFeHRyYUFyZ3MgaW4gdGhlIHNhbWUgb3JkZXIuXG4gICAgICAgICAgICAgICAgLy8gNS4gUmV0dXJuIHRoZSByZXN1bHQgb2YgY2FsbGluZyB0aGUgW1tDYWxsXV0gaW50ZXJuYWwgbWV0aG9kXG4gICAgICAgICAgICAgICAgLy8gICBvZiB0YXJnZXQgcHJvdmlkaW5nIGJvdW5kVGhpcyBhcyB0aGUgdGhpcyB2YWx1ZSBhbmRcbiAgICAgICAgICAgICAgICAvLyAgIHByb3ZpZGluZyBhcmdzIGFzIHRoZSBhcmd1bWVudHMuXG5cbiAgICAgICAgICAgICAgICAvLyBlcXVpdjogdGFyZ2V0LmNhbGwodGhpcywgLi4uYm91bmRBcmdzLCAuLi5hcmdzKVxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkoXG4gICAgICAgICAgICAgICAgICAgIHRoYXQsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MuY29uY2F0KGFycmF5X3NsaWNlLmNhbGwoYXJndW1lbnRzKSlcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICAvLyAxNS4gSWYgdGhlIFtbQ2xhc3NdXSBpbnRlcm5hbCBwcm9wZXJ0eSBvZiBUYXJnZXQgaXMgXCJGdW5jdGlvblwiLCB0aGVuXG4gICAgICAgIC8vICAgICBhLiBMZXQgTCBiZSB0aGUgbGVuZ3RoIHByb3BlcnR5IG9mIFRhcmdldCBtaW51cyB0aGUgbGVuZ3RoIG9mIEEuXG4gICAgICAgIC8vICAgICBiLiBTZXQgdGhlIGxlbmd0aCBvd24gcHJvcGVydHkgb2YgRiB0byBlaXRoZXIgMCBvciBMLCB3aGljaGV2ZXIgaXNcbiAgICAgICAgLy8gICAgICAgbGFyZ2VyLlxuICAgICAgICAvLyAxNi4gRWxzZSBzZXQgdGhlIGxlbmd0aCBvd24gcHJvcGVydHkgb2YgRiB0byAwLlxuXG4gICAgICAgIHZhciBib3VuZExlbmd0aCA9IE1hdGgubWF4KDAsIHRhcmdldC5sZW5ndGggLSBhcmdzLmxlbmd0aCk7XG5cbiAgICAgICAgLy8gMTcuIFNldCB0aGUgYXR0cmlidXRlcyBvZiB0aGUgbGVuZ3RoIG93biBwcm9wZXJ0eSBvZiBGIHRvIHRoZSB2YWx1ZXNcbiAgICAgICAgLy8gICBzcGVjaWZpZWQgaW4gMTUuMy41LjEuXG4gICAgICAgIHZhciBib3VuZEFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib3VuZExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib3VuZEFyZ3MucHVzaCgnJCcgKyBpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFhYWCBCdWlsZCBhIGR5bmFtaWMgZnVuY3Rpb24gd2l0aCBkZXNpcmVkIGFtb3VudCBvZiBhcmd1bWVudHMgaXMgdGhlIG9ubHlcbiAgICAgICAgLy8gd2F5IHRvIHNldCB0aGUgbGVuZ3RoIHByb3BlcnR5IG9mIGEgZnVuY3Rpb24uXG4gICAgICAgIC8vIEluIGVudmlyb25tZW50cyB3aGVyZSBDb250ZW50IFNlY3VyaXR5IFBvbGljaWVzIGVuYWJsZWQgKENocm9tZSBleHRlbnNpb25zLFxuICAgICAgICAvLyBmb3IgZXguKSBhbGwgdXNlIG9mIGV2YWwgb3IgRnVuY3Rpb24gY29zdHJ1Y3RvciB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuICAgICAgICAvLyBIb3dldmVyIGluIGFsbCBvZiB0aGVzZSBlbnZpcm9ubWVudHMgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgZXhpc3RzXG4gICAgICAgIC8vIGFuZCBzbyB0aGlzIGNvZGUgd2lsbCBuZXZlciBiZSBleGVjdXRlZC5cbiAgICAgICAgdmFyIGJvdW5kID0gRnVuY3Rpb24oJ2JpbmRlcicsICdyZXR1cm4gZnVuY3Rpb24gKCcgKyBib3VuZEFyZ3Muam9pbignLCcpICsgJyl7IHJldHVybiBiaW5kZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfScpKGJpbmRlcik7XG5cbiAgICAgICAgaWYgKHRhcmdldC5wcm90b3R5cGUpIHtcbiAgICAgICAgICAgIEVtcHR5LnByb3RvdHlwZSA9IHRhcmdldC5wcm90b3R5cGU7XG4gICAgICAgICAgICBib3VuZC5wcm90b3R5cGUgPSBuZXcgRW1wdHkoKTtcbiAgICAgICAgICAgIC8vIENsZWFuIHVwIGRhbmdsaW5nIHJlZmVyZW5jZXMuXG4gICAgICAgICAgICBFbXB0eS5wcm90b3R5cGUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvLyAxOC4gU2V0IHRoZSBbW0V4dGVuc2libGVdXSBpbnRlcm5hbCBwcm9wZXJ0eSBvZiBGIHRvIHRydWUuXG5cbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvLyAxOS4gTGV0IHRocm93ZXIgYmUgdGhlIFtbVGhyb3dUeXBlRXJyb3JdXSBmdW5jdGlvbiBPYmplY3QgKDEzLjIuMykuXG4gICAgICAgIC8vIDIwLiBDYWxsIHRoZSBbW0RlZmluZU93blByb3BlcnR5XV0gaW50ZXJuYWwgbWV0aG9kIG9mIEYgd2l0aFxuICAgICAgICAvLyAgIGFyZ3VtZW50cyBcImNhbGxlclwiLCBQcm9wZXJ0eURlc2NyaXB0b3Ige1tbR2V0XV06IHRocm93ZXIsIFtbU2V0XV06XG4gICAgICAgIC8vICAgdGhyb3dlciwgW1tFbnVtZXJhYmxlXV06IGZhbHNlLCBbW0NvbmZpZ3VyYWJsZV1dOiBmYWxzZX0sIGFuZFxuICAgICAgICAvLyAgIGZhbHNlLlxuICAgICAgICAvLyAyMS4gQ2FsbCB0aGUgW1tEZWZpbmVPd25Qcm9wZXJ0eV1dIGludGVybmFsIG1ldGhvZCBvZiBGIHdpdGhcbiAgICAgICAgLy8gICBhcmd1bWVudHMgXCJhcmd1bWVudHNcIiwgUHJvcGVydHlEZXNjcmlwdG9yIHtbW0dldF1dOiB0aHJvd2VyLFxuICAgICAgICAvLyAgIFtbU2V0XV06IHRocm93ZXIsIFtbRW51bWVyYWJsZV1dOiBmYWxzZSwgW1tDb25maWd1cmFibGVdXTogZmFsc2V9LFxuICAgICAgICAvLyAgIGFuZCBmYWxzZS5cblxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIE5PVEUgRnVuY3Rpb24gb2JqZWN0cyBjcmVhdGVkIHVzaW5nIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGRvIG5vdFxuICAgICAgICAvLyBoYXZlIGEgcHJvdG90eXBlIHByb3BlcnR5IG9yIHRoZSBbW0NvZGVdXSwgW1tGb3JtYWxQYXJhbWV0ZXJzXV0sIGFuZFxuICAgICAgICAvLyBbW1Njb3BlXV0gaW50ZXJuYWwgcHJvcGVydGllcy5cbiAgICAgICAgLy8gWFhYIGNhbid0IGRlbGV0ZSBwcm90b3R5cGUgaW4gcHVyZS1qcy5cblxuICAgICAgICAvLyAyMi4gUmV0dXJuIEYuXG4gICAgICAgIHJldHVybiBib3VuZDtcbiAgICB9XG59KTtcblxuLy9cbi8vIEFycmF5XG4vLyA9PT09PVxuLy9cblxuLy8gRVM1IDE1LjQuMy4yXG4vLyBodHRwOi8vZXM1LmdpdGh1Yi5jb20vI3gxNS40LjMuMlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvaXNBcnJheVxuZGVmaW5lUHJvcGVydGllcyhBcnJheSwgeyBpc0FycmF5OiBpc0FycmF5IH0pO1xuXG5cbnZhciBib3hlZFN0cmluZyA9IE9iamVjdCgnYScpO1xudmFyIHNwbGl0U3RyaW5nID0gYm94ZWRTdHJpbmdbMF0gIT09ICdhJyB8fCAhKDAgaW4gYm94ZWRTdHJpbmcpO1xuXG52YXIgcHJvcGVybHlCb3hlc0NvbnRleHQgPSBmdW5jdGlvbiBwcm9wZXJseUJveGVkKG1ldGhvZCkge1xuICAgIC8vIENoZWNrIG5vZGUgMC42LjIxIGJ1ZyB3aGVyZSB0aGlyZCBwYXJhbWV0ZXIgaXMgbm90IGJveGVkXG4gICAgdmFyIHByb3Blcmx5Qm94ZXNOb25TdHJpY3QgPSB0cnVlO1xuICAgIHZhciBwcm9wZXJseUJveGVzU3RyaWN0ID0gdHJ1ZTtcbiAgICBpZiAobWV0aG9kKSB7XG4gICAgICAgIG1ldGhvZC5jYWxsKCdmb28nLCBmdW5jdGlvbiAoXywgX18sIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGV4dCAhPT0gJ29iamVjdCcpIHsgcHJvcGVybHlCb3hlc05vblN0cmljdCA9IGZhbHNlOyB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG1ldGhvZC5jYWxsKFsxXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgICAgICAgcHJvcGVybHlCb3hlc1N0cmljdCA9IHR5cGVvZiB0aGlzID09PSAnc3RyaW5nJztcbiAgICAgICAgfSwgJ3gnKTtcbiAgICB9XG4gICAgcmV0dXJuICEhbWV0aG9kICYmIHByb3Blcmx5Qm94ZXNOb25TdHJpY3QgJiYgcHJvcGVybHlCb3hlc1N0cmljdDtcbn07XG5cbmRlZmluZVByb3BlcnRpZXMoQXJyYXlQcm90b3R5cGUsIHtcbiAgICBmb3JFYWNoOiBmdW5jdGlvbiBmb3JFYWNoKGZ1biAvKiwgdGhpc3AqLykge1xuICAgICAgICB2YXIgb2JqZWN0ID0gdG9PYmplY3QodGhpcyksXG4gICAgICAgICAgICBzZWxmID0gc3BsaXRTdHJpbmcgJiYgaXNTdHJpbmcodGhpcykgPyB0aGlzLnNwbGl0KCcnKSA6IG9iamVjdCxcbiAgICAgICAgICAgIHRoaXNwID0gYXJndW1lbnRzWzFdLFxuICAgICAgICAgICAgaSA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDA7XG5cbiAgICAgICAgLy8gSWYgbm8gY2FsbGJhY2sgZnVuY3Rpb24gb3IgaWYgY2FsbGJhY2sgaXMgbm90IGEgY2FsbGFibGUgZnVuY3Rpb25cbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTsgLy8gVE9ETyBtZXNzYWdlXG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAoKytpIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoaSBpbiBzZWxmKSB7XG4gICAgICAgICAgICAgICAgLy8gSW52b2tlIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB3aXRoIGNhbGwsIHBhc3NpbmcgYXJndW1lbnRzOlxuICAgICAgICAgICAgICAgIC8vIGNvbnRleHQsIHByb3BlcnR5IHZhbHVlLCBwcm9wZXJ0eSBrZXksIHRoaXNBcmcgb2JqZWN0XG4gICAgICAgICAgICAgICAgLy8gY29udGV4dFxuICAgICAgICAgICAgICAgIGZ1bi5jYWxsKHRoaXNwLCBzZWxmW2ldLCBpLCBvYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSwgIXByb3Blcmx5Qm94ZXNDb250ZXh0KEFycmF5UHJvdG90eXBlLmZvckVhY2gpKTtcblxuLy8gRVM1IDE1LjQuNC4xNFxuLy8gaHR0cDovL2VzNS5naXRodWIuY29tLyN4MTUuNC40LjE0XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pbmRleE9mXG52YXIgaGFzRmlyZWZveDJJbmRleE9mQnVnID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YgJiYgWzAsIDFdLmluZGV4T2YoMSwgMikgIT09IC0xO1xuZGVmaW5lUHJvcGVydGllcyhBcnJheVByb3RvdHlwZSwge1xuICAgIGluZGV4T2Y6IGZ1bmN0aW9uIGluZGV4T2Yoc291Z2h0IC8qLCBmcm9tSW5kZXggKi8gKSB7XG4gICAgICAgIHZhciBzZWxmID0gc3BsaXRTdHJpbmcgJiYgaXNTdHJpbmcodGhpcykgPyB0aGlzLnNwbGl0KCcnKSA6IHRvT2JqZWN0KHRoaXMpLFxuICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDA7XG5cbiAgICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBpID0gdG9JbnRlZ2VyKGFyZ3VtZW50c1sxXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoYW5kbGUgbmVnYXRpdmUgaW5kaWNlc1xuICAgICAgICBpID0gaSA+PSAwID8gaSA6IE1hdGgubWF4KDAsIGxlbmd0aCArIGkpO1xuICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSBpbiBzZWxmICYmIHNlbGZbaV0gPT09IHNvdWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG59LCBoYXNGaXJlZm94MkluZGV4T2ZCdWcpO1xuXG4vL1xuLy8gU3RyaW5nXG4vLyA9PT09PT1cbi8vXG5cbi8vIEVTNSAxNS41LjQuMTRcbi8vIGh0dHA6Ly9lczUuZ2l0aHViLmNvbS8jeDE1LjUuNC4xNFxuXG4vLyBbYnVnZml4LCBJRSBsdCA5LCBmaXJlZm94IDQsIEtvbnF1ZXJvciwgT3BlcmEsIG9ic2N1cmUgYnJvd3NlcnNdXG4vLyBNYW55IGJyb3dzZXJzIGRvIG5vdCBzcGxpdCBwcm9wZXJseSB3aXRoIHJlZ3VsYXIgZXhwcmVzc2lvbnMgb3IgdGhleVxuLy8gZG8gbm90IHBlcmZvcm0gdGhlIHNwbGl0IGNvcnJlY3RseSB1bmRlciBvYnNjdXJlIGNvbmRpdGlvbnMuXG4vLyBTZWUgaHR0cDovL2Jsb2cuc3RldmVubGV2aXRoYW4uY29tL2FyY2hpdmVzL2Nyb3NzLWJyb3dzZXItc3BsaXRcbi8vIEkndmUgdGVzdGVkIGluIG1hbnkgYnJvd3NlcnMgYW5kIHRoaXMgc2VlbXMgdG8gY292ZXIgdGhlIGRldmlhbnQgb25lczpcbi8vICAgICdhYicuc3BsaXQoLyg/OmFiKSovKSBzaG91bGQgYmUgW1wiXCIsIFwiXCJdLCBub3QgW1wiXCJdXG4vLyAgICAnLicuc3BsaXQoLyguPykoLj8pLykgc2hvdWxkIGJlIFtcIlwiLCBcIi5cIiwgXCJcIiwgXCJcIl0sIG5vdCBbXCJcIiwgXCJcIl1cbi8vICAgICd0ZXNzdCcuc3BsaXQoLyhzKSovKSBzaG91bGQgYmUgW1widFwiLCB1bmRlZmluZWQsIFwiZVwiLCBcInNcIiwgXCJ0XCJdLCBub3Rcbi8vICAgICAgIFt1bmRlZmluZWQsIFwidFwiLCB1bmRlZmluZWQsIFwiZVwiLCAuLi5dXG4vLyAgICAnJy5zcGxpdCgvLj8vKSBzaG91bGQgYmUgW10sIG5vdCBbXCJcIl1cbi8vICAgICcuJy5zcGxpdCgvKCkoKS8pIHNob3VsZCBiZSBbXCIuXCJdLCBub3QgW1wiXCIsIFwiXCIsIFwiLlwiXVxuXG52YXIgc3RyaW5nX3NwbGl0ID0gU3RyaW5nUHJvdG90eXBlLnNwbGl0O1xuaWYgKFxuICAgICdhYicuc3BsaXQoLyg/OmFiKSovKS5sZW5ndGggIT09IDIgfHxcbiAgICAnLicuc3BsaXQoLyguPykoLj8pLykubGVuZ3RoICE9PSA0IHx8XG4gICAgJ3Rlc3N0Jy5zcGxpdCgvKHMpKi8pWzFdID09PSAndCcgfHxcbiAgICAndGVzdCcuc3BsaXQoLyg/OikvLCAtMSkubGVuZ3RoICE9PSA0IHx8XG4gICAgJycuc3BsaXQoLy4/LykubGVuZ3RoIHx8XG4gICAgJy4nLnNwbGl0KC8oKSgpLykubGVuZ3RoID4gMVxuKSB7XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbXBsaWFudEV4ZWNOcGNnID0gLygpPz8vLmV4ZWMoJycpWzFdID09PSB2b2lkIDA7IC8vIE5QQ0c6IG5vbnBhcnRpY2lwYXRpbmcgY2FwdHVyaW5nIGdyb3VwXG5cbiAgICAgICAgU3RyaW5nUHJvdG90eXBlLnNwbGl0ID0gZnVuY3Rpb24gKHNlcGFyYXRvciwgbGltaXQpIHtcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHNlcGFyYXRvciA9PT0gdm9pZCAwICYmIGxpbWl0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiBgc2VwYXJhdG9yYCBpcyBub3QgYSByZWdleCwgdXNlIG5hdGl2ZSBzcGxpdFxuICAgICAgICAgICAgaWYgKF90b1N0cmluZy5jYWxsKHNlcGFyYXRvcikgIT09ICdbb2JqZWN0IFJlZ0V4cF0nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZ19zcGxpdC5jYWxsKHRoaXMsIHNlcGFyYXRvciwgbGltaXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gW10sXG4gICAgICAgICAgICAgICAgZmxhZ3MgPSAoc2VwYXJhdG9yLmlnbm9yZUNhc2UgPyAnaScgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKHNlcGFyYXRvci5tdWx0aWxpbmUgID8gJ20nIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZXBhcmF0b3IuZXh0ZW5kZWQgICA/ICd4JyA6ICcnKSArIC8vIFByb3Bvc2VkIGZvciBFUzZcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZXBhcmF0b3Iuc3RpY2t5ICAgICA/ICd5JyA6ICcnKSwgLy8gRmlyZWZveCAzK1xuICAgICAgICAgICAgICAgIGxhc3RMYXN0SW5kZXggPSAwLFxuICAgICAgICAgICAgICAgIC8vIE1ha2UgYGdsb2JhbGAgYW5kIGF2b2lkIGBsYXN0SW5kZXhgIGlzc3VlcyBieSB3b3JraW5nIHdpdGggYSBjb3B5XG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yMiwgbWF0Y2gsIGxhc3RJbmRleCwgbGFzdExlbmd0aDtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IG5ldyBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgZmxhZ3MgKyAnZycpO1xuICAgICAgICAgICAgc3RyaW5nICs9ICcnOyAvLyBUeXBlLWNvbnZlcnRcbiAgICAgICAgICAgIGlmICghY29tcGxpYW50RXhlY05wY2cpIHtcbiAgICAgICAgICAgICAgICAvLyBEb2Vzbid0IG5lZWQgZmxhZ3MgZ3ksIGJ1dCB0aGV5IGRvbid0IGh1cnRcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3IyID0gbmV3IFJlZ0V4cCgnXicgKyBzZXBhcmF0b3Iuc291cmNlICsgJyQoPyFcXFxccyknLCBmbGFncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBWYWx1ZXMgZm9yIGBsaW1pdGAsIHBlciB0aGUgc3BlYzpcbiAgICAgICAgICAgICAqIElmIHVuZGVmaW5lZDogNDI5NDk2NzI5NSAvLyBNYXRoLnBvdygyLCAzMikgLSAxXG4gICAgICAgICAgICAgKiBJZiAwLCBJbmZpbml0eSwgb3IgTmFOOiAwXG4gICAgICAgICAgICAgKiBJZiBwb3NpdGl2ZSBudW1iZXI6IGxpbWl0ID0gTWF0aC5mbG9vcihsaW1pdCk7IGlmIChsaW1pdCA+IDQyOTQ5NjcyOTUpIGxpbWl0IC09IDQyOTQ5NjcyOTY7XG4gICAgICAgICAgICAgKiBJZiBuZWdhdGl2ZSBudW1iZXI6IDQyOTQ5NjcyOTYgLSBNYXRoLmZsb29yKE1hdGguYWJzKGxpbWl0KSlcbiAgICAgICAgICAgICAqIElmIG90aGVyOiBUeXBlLWNvbnZlcnQsIHRoZW4gdXNlIHRoZSBhYm92ZSBydWxlc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBsaW1pdCA9IGxpbWl0ID09PSB2b2lkIDAgP1xuICAgICAgICAgICAgICAgIC0xID4+PiAwIDogLy8gTWF0aC5wb3coMiwgMzIpIC0gMVxuICAgICAgICAgICAgICAgIFRvVWludDMyKGxpbWl0KTtcbiAgICAgICAgICAgIHdoaWxlIChtYXRjaCA9IHNlcGFyYXRvci5leGVjKHN0cmluZykpIHtcbiAgICAgICAgICAgICAgICAvLyBgc2VwYXJhdG9yLmxhc3RJbmRleGAgaXMgbm90IHJlbGlhYmxlIGNyb3NzLWJyb3dzZXJcbiAgICAgICAgICAgICAgICBsYXN0SW5kZXggPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEluZGV4ID4gbGFzdExhc3RJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChzdHJpbmcuc2xpY2UobGFzdExhc3RJbmRleCwgbWF0Y2guaW5kZXgpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRml4IGJyb3dzZXJzIHdob3NlIGBleGVjYCBtZXRob2RzIGRvbid0IGNvbnNpc3RlbnRseSByZXR1cm4gYHVuZGVmaW5lZGAgZm9yXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vbnBhcnRpY2lwYXRpbmcgY2FwdHVyaW5nIGdyb3Vwc1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbXBsaWFudEV4ZWNOcGNnICYmIG1hdGNoLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzBdLnJlcGxhY2Uoc2VwYXJhdG9yMiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aCAtIDI7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzW2ldID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoW2ldID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoLmxlbmd0aCA+IDEgJiYgbWF0Y2guaW5kZXggPCBzdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBBcnJheVByb3RvdHlwZS5wdXNoLmFwcGx5KG91dHB1dCwgbWF0Y2guc2xpY2UoMSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxhc3RMZW5ndGggPSBtYXRjaFswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RMYXN0SW5kZXggPSBsYXN0SW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdXRwdXQubGVuZ3RoID49IGxpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VwYXJhdG9yLmxhc3RJbmRleCA9PT0gbWF0Y2guaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VwYXJhdG9yLmxhc3RJbmRleCsrOyAvLyBBdm9pZCBhbiBpbmZpbml0ZSBsb29wXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxhc3RMYXN0SW5kZXggPT09IHN0cmluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdExlbmd0aCB8fCAhc2VwYXJhdG9yLnRlc3QoJycpKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKCcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKHN0cmluZy5zbGljZShsYXN0TGFzdEluZGV4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0Lmxlbmd0aCA+IGxpbWl0ID8gb3V0cHV0LnNsaWNlKDAsIGxpbWl0KSA6IG91dHB1dDtcbiAgICAgICAgfTtcbiAgICB9KCkpO1xuXG4vLyBbYnVnZml4LCBjaHJvbWVdXG4vLyBJZiBzZXBhcmF0b3IgaXMgdW5kZWZpbmVkLCB0aGVuIHRoZSByZXN1bHQgYXJyYXkgY29udGFpbnMganVzdCBvbmUgU3RyaW5nLFxuLy8gd2hpY2ggaXMgdGhlIHRoaXMgdmFsdWUgKGNvbnZlcnRlZCB0byBhIFN0cmluZykuIElmIGxpbWl0IGlzIG5vdCB1bmRlZmluZWQsXG4vLyB0aGVuIHRoZSBvdXRwdXQgYXJyYXkgaXMgdHJ1bmNhdGVkIHNvIHRoYXQgaXQgY29udGFpbnMgbm8gbW9yZSB0aGFuIGxpbWl0XG4vLyBlbGVtZW50cy5cbi8vIFwiMFwiLnNwbGl0KHVuZGVmaW5lZCwgMCkgLT4gW11cbn0gZWxzZSBpZiAoJzAnLnNwbGl0KHZvaWQgMCwgMCkubGVuZ3RoKSB7XG4gICAgU3RyaW5nUHJvdG90eXBlLnNwbGl0ID0gZnVuY3Rpb24gc3BsaXQoc2VwYXJhdG9yLCBsaW1pdCkge1xuICAgICAgICBpZiAoc2VwYXJhdG9yID09PSB2b2lkIDAgJiYgbGltaXQgPT09IDApIHsgcmV0dXJuIFtdOyB9XG4gICAgICAgIHJldHVybiBzdHJpbmdfc3BsaXQuY2FsbCh0aGlzLCBzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICB9O1xufVxuXG4vLyBFQ01BLTI2MiwgM3JkIEIuMi4zXG4vLyBOb3QgYW4gRUNNQVNjcmlwdCBzdGFuZGFyZCwgYWx0aG91Z2ggRUNNQVNjcmlwdCAzcmQgRWRpdGlvbiBoYXMgYVxuLy8gbm9uLW5vcm1hdGl2ZSBzZWN0aW9uIHN1Z2dlc3RpbmcgdW5pZm9ybSBzZW1hbnRpY3MgYW5kIGl0IHNob3VsZCBiZVxuLy8gbm9ybWFsaXplZCBhY3Jvc3MgYWxsIGJyb3dzZXJzXG4vLyBbYnVnZml4LCBJRSBsdCA5XSBJRSA8IDkgc3Vic3RyKCkgd2l0aCBuZWdhdGl2ZSB2YWx1ZSBub3Qgd29ya2luZyBpbiBJRVxudmFyIHN0cmluZ19zdWJzdHIgPSBTdHJpbmdQcm90b3R5cGUuc3Vic3RyO1xudmFyIGhhc05lZ2F0aXZlU3Vic3RyQnVnID0gJycuc3Vic3RyICYmICcwYicuc3Vic3RyKC0xKSAhPT0gJ2InO1xuZGVmaW5lUHJvcGVydGllcyhTdHJpbmdQcm90b3R5cGUsIHtcbiAgICBzdWJzdHI6IGZ1bmN0aW9uIHN1YnN0cihzdGFydCwgbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmdfc3Vic3RyLmNhbGwoXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgc3RhcnQgPCAwID8gKChzdGFydCA9IHRoaXMubGVuZ3RoICsgc3RhcnQpIDwgMCA/IDAgOiBzdGFydCkgOiBzdGFydCxcbiAgICAgICAgICAgIGxlbmd0aFxuICAgICAgICApO1xuICAgIH1cbn0sIGhhc05lZ2F0aXZlU3Vic3RyQnVnKTtcblxufSx7fV0sMTY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFtcbiAgLy8gc3RyZWFtaW5nIHRyYW5zcG9ydHNcbiAgcmVxdWlyZSgnLi90cmFuc3BvcnQvd2Vic29ja2V0JylcbiwgcmVxdWlyZSgnLi90cmFuc3BvcnQveGhyLXN0cmVhbWluZycpXG4sIHJlcXVpcmUoJy4vdHJhbnNwb3J0L3hkci1zdHJlYW1pbmcnKVxuLCByZXF1aXJlKCcuL3RyYW5zcG9ydC9ldmVudHNvdXJjZScpXG4sIHJlcXVpcmUoJy4vdHJhbnNwb3J0L2xpYi9pZnJhbWUtd3JhcCcpKHJlcXVpcmUoJy4vdHJhbnNwb3J0L2V2ZW50c291cmNlJykpXG5cbiAgLy8gcG9sbGluZyB0cmFuc3BvcnRzXG4sIHJlcXVpcmUoJy4vdHJhbnNwb3J0L2h0bWxmaWxlJylcbiwgcmVxdWlyZSgnLi90cmFuc3BvcnQvbGliL2lmcmFtZS13cmFwJykocmVxdWlyZSgnLi90cmFuc3BvcnQvaHRtbGZpbGUnKSlcbiwgcmVxdWlyZSgnLi90cmFuc3BvcnQveGhyLXBvbGxpbmcnKVxuLCByZXF1aXJlKCcuL3RyYW5zcG9ydC94ZHItcG9sbGluZycpXG4sIHJlcXVpcmUoJy4vdHJhbnNwb3J0L2xpYi9pZnJhbWUtd3JhcCcpKHJlcXVpcmUoJy4vdHJhbnNwb3J0L3hoci1wb2xsaW5nJykpXG4sIHJlcXVpcmUoJy4vdHJhbnNwb3J0L2pzb25wLXBvbGxpbmcnKVxuXTtcblxufSx7XCIuL3RyYW5zcG9ydC9ldmVudHNvdXJjZVwiOjIwLFwiLi90cmFuc3BvcnQvaHRtbGZpbGVcIjoyMSxcIi4vdHJhbnNwb3J0L2pzb25wLXBvbGxpbmdcIjoyMyxcIi4vdHJhbnNwb3J0L2xpYi9pZnJhbWUtd3JhcFwiOjI2LFwiLi90cmFuc3BvcnQvd2Vic29ja2V0XCI6MzgsXCIuL3RyYW5zcG9ydC94ZHItcG9sbGluZ1wiOjM5LFwiLi90cmFuc3BvcnQveGRyLXN0cmVhbWluZ1wiOjQwLFwiLi90cmFuc3BvcnQveGhyLXBvbGxpbmdcIjo0MSxcIi4vdHJhbnNwb3J0L3hoci1zdHJlYW1pbmdcIjo0Mn1dLDE3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyXG4gICwgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscy9ldmVudCcpXG4gICwgdXJsVXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscy91cmwnKVxuICAsIFhIUiA9IGdsb2JhbC5YTUxIdHRwUmVxdWVzdFxuICA7XG5cbnZhciBkZWJ1ZyA9IGZ1bmN0aW9uKCkge307XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ3NvY2tqcy1jbGllbnQ6YnJvd3Nlcjp4aHInKTtcbn1cblxuZnVuY3Rpb24gQWJzdHJhY3RYSFJPYmplY3QobWV0aG9kLCB1cmwsIHBheWxvYWQsIG9wdHMpIHtcbiAgZGVidWcobWV0aG9kLCB1cmwpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIHNlbGYuX3N0YXJ0KG1ldGhvZCwgdXJsLCBwYXlsb2FkLCBvcHRzKTtcbiAgfSwgMCk7XG59XG5cbmluaGVyaXRzKEFic3RyYWN0WEhST2JqZWN0LCBFdmVudEVtaXR0ZXIpO1xuXG5BYnN0cmFjdFhIUk9iamVjdC5wcm90b3R5cGUuX3N0YXJ0ID0gZnVuY3Rpb24obWV0aG9kLCB1cmwsIHBheWxvYWQsIG9wdHMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRyeSB7XG4gICAgdGhpcy54aHIgPSBuZXcgWEhSKCk7XG4gIH0gY2F0Y2ggKHgpIHtcbiAgICAvLyBpbnRlbnRpb25hbGx5IGVtcHR5XG4gIH1cblxuICBpZiAoIXRoaXMueGhyKSB7XG4gICAgZGVidWcoJ25vIHhocicpO1xuICAgIHRoaXMuZW1pdCgnZmluaXNoJywgMCwgJ25vIHhociBzdXBwb3J0Jyk7XG4gICAgdGhpcy5fY2xlYW51cCgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHNldmVyYWwgYnJvd3NlcnMgY2FjaGUgUE9TVHNcbiAgdXJsID0gdXJsVXRpbHMuYWRkUXVlcnkodXJsLCAndD0nICsgKCtuZXcgRGF0ZSgpKSk7XG5cbiAgLy8gRXhwbG9yZXIgdGVuZHMgdG8ga2VlcCBjb25uZWN0aW9uIG9wZW4sIGV2ZW4gYWZ0ZXIgdGhlXG4gIC8vIHRhYiBnZXRzIGNsb3NlZDogaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvNTI4MFxuICB0aGlzLnVubG9hZFJlZiA9IHV0aWxzLnVubG9hZEFkZChmdW5jdGlvbigpIHtcbiAgICBkZWJ1ZygndW5sb2FkIGNsZWFudXAnKTtcbiAgICBzZWxmLl9jbGVhbnVwKHRydWUpO1xuICB9KTtcbiAgdHJ5IHtcbiAgICB0aGlzLnhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcbiAgICBpZiAodGhpcy50aW1lb3V0ICYmICd0aW1lb3V0JyBpbiB0aGlzLnhocikge1xuICAgICAgdGhpcy54aHIudGltZW91dCA9IHRoaXMudGltZW91dDtcbiAgICAgIHRoaXMueGhyLm9udGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBkZWJ1ZygneGhyIHRpbWVvdXQnKTtcbiAgICAgICAgc2VsZi5lbWl0KCdmaW5pc2gnLCAwLCAnJyk7XG4gICAgICAgIHNlbGYuX2NsZWFudXAoZmFsc2UpO1xuICAgICAgfTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBkZWJ1ZygnZXhjZXB0aW9uJywgZSk7XG4gICAgLy8gSUUgcmFpc2VzIGFuIGV4Y2VwdGlvbiBvbiB3cm9uZyBwb3J0LlxuICAgIHRoaXMuZW1pdCgnZmluaXNoJywgMCwgJycpO1xuICAgIHRoaXMuX2NsZWFudXAoZmFsc2UpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICgoIW9wdHMgfHwgIW9wdHMubm9DcmVkZW50aWFscykgJiYgQWJzdHJhY3RYSFJPYmplY3Quc3VwcG9ydHNDT1JTKSB7XG4gICAgZGVidWcoJ3dpdGhDcmVkZW50aWFscycpO1xuICAgIC8vIE1vemlsbGEgZG9jcyBzYXlzIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL1hNTEh0dHBSZXF1ZXN0IDpcbiAgICAvLyBcIlRoaXMgbmV2ZXIgYWZmZWN0cyBzYW1lLXNpdGUgcmVxdWVzdHMuXCJcblxuICAgIHRoaXMueGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gIH1cbiAgaWYgKG9wdHMgJiYgb3B0cy5oZWFkZXJzKSB7XG4gICAgZm9yICh2YXIga2V5IGluIG9wdHMuaGVhZGVycykge1xuICAgICAgdGhpcy54aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIG9wdHMuaGVhZGVyc1trZXldKTtcbiAgICB9XG4gIH1cblxuICB0aGlzLnhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc2VsZi54aHIpIHtcbiAgICAgIHZhciB4ID0gc2VsZi54aHI7XG4gICAgICB2YXIgdGV4dCwgc3RhdHVzO1xuICAgICAgZGVidWcoJ3JlYWR5U3RhdGUnLCB4LnJlYWR5U3RhdGUpO1xuICAgICAgc3dpdGNoICh4LnJlYWR5U3RhdGUpIHtcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgLy8gSUUgZG9lc24ndCBsaWtlIHBlZWtpbmcgaW50byByZXNwb25zZVRleHQgb3Igc3RhdHVzXG4gICAgICAgIC8vIG9uIE1pY3Jvc29mdC5YTUxIVFRQIGFuZCByZWFkeXN0YXRlPTNcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzdGF0dXMgPSB4LnN0YXR1cztcbiAgICAgICAgICB0ZXh0ID0geC5yZXNwb25zZVRleHQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpbnRlbnRpb25hbGx5IGVtcHR5XG4gICAgICAgIH1cbiAgICAgICAgZGVidWcoJ3N0YXR1cycsIHN0YXR1cyk7XG4gICAgICAgIC8vIElFIHJldHVybnMgMTIyMyBmb3IgMjA0OiBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xNDUwXG4gICAgICAgIGlmIChzdGF0dXMgPT09IDEyMjMpIHtcbiAgICAgICAgICBzdGF0dXMgPSAyMDQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJRSBkb2VzIHJldHVybiByZWFkeXN0YXRlID09IDMgZm9yIDQwNCBhbnN3ZXJzLlxuICAgICAgICBpZiAoc3RhdHVzID09PSAyMDAgJiYgdGV4dCAmJiB0ZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBkZWJ1ZygnY2h1bmsnKTtcbiAgICAgICAgICBzZWxmLmVtaXQoJ2NodW5rJywgc3RhdHVzLCB0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNDpcbiAgICAgICAgc3RhdHVzID0geC5zdGF0dXM7XG4gICAgICAgIGRlYnVnKCdzdGF0dXMnLCBzdGF0dXMpO1xuICAgICAgICAvLyBJRSByZXR1cm5zIDEyMjMgZm9yIDIwNDogaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTQ1MFxuICAgICAgICBpZiAoc3RhdHVzID09PSAxMjIzKSB7XG4gICAgICAgICAgc3RhdHVzID0gMjA0O1xuICAgICAgICB9XG4gICAgICAgIC8vIElFIHJldHVybnMgdGhpcyBmb3IgYSBiYWQgcG9ydFxuICAgICAgICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvd2luZG93cy9kZXNrdG9wL2FhMzgzNzcwKHY9dnMuODUpLmFzcHhcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gMTIwMDUgfHwgc3RhdHVzID09PSAxMjAyOSkge1xuICAgICAgICAgIHN0YXR1cyA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBkZWJ1ZygnZmluaXNoJywgc3RhdHVzLCB4LnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIHNlbGYuZW1pdCgnZmluaXNoJywgc3RhdHVzLCB4LnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIHNlbGYuX2NsZWFudXAoZmFsc2UpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdHJ5IHtcbiAgICBzZWxmLnhoci5zZW5kKHBheWxvYWQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgc2VsZi5lbWl0KCdmaW5pc2gnLCAwLCAnJyk7XG4gICAgc2VsZi5fY2xlYW51cChmYWxzZSk7XG4gIH1cbn07XG5cbkFic3RyYWN0WEhST2JqZWN0LnByb3RvdHlwZS5fY2xlYW51cCA9IGZ1bmN0aW9uKGFib3J0KSB7XG4gIGRlYnVnKCdjbGVhbnVwJyk7XG4gIGlmICghdGhpcy54aHIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgdXRpbHMudW5sb2FkRGVsKHRoaXMudW5sb2FkUmVmKTtcblxuICAvLyBJRSBuZWVkcyB0aGlzIGZpZWxkIHRvIGJlIGEgZnVuY3Rpb25cbiAgdGhpcy54aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7fTtcbiAgaWYgKHRoaXMueGhyLm9udGltZW91dCkge1xuICAgIHRoaXMueGhyLm9udGltZW91dCA9IG51bGw7XG4gIH1cblxuICBpZiAoYWJvcnQpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICB9IGNhdGNoICh4KSB7XG4gICAgICAvLyBpbnRlbnRpb25hbGx5IGVtcHR5XG4gICAgfVxuICB9XG4gIHRoaXMudW5sb2FkUmVmID0gdGhpcy54aHIgPSBudWxsO1xufTtcblxuQWJzdHJhY3RYSFJPYmplY3QucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdjbG9zZScpO1xuICB0aGlzLl9jbGVhbnVwKHRydWUpO1xufTtcblxuQWJzdHJhY3RYSFJPYmplY3QuZW5hYmxlZCA9ICEhWEhSO1xuLy8gb3ZlcnJpZGUgWE1MSHR0cFJlcXVlc3QgZm9yIElFNi83XG4vLyBvYmZ1c2NhdGUgdG8gYXZvaWQgZmlyZXdhbGxzXG52YXIgYXhvID0gWydBY3RpdmUnXS5jb25jYXQoJ09iamVjdCcpLmpvaW4oJ1gnKTtcbmlmICghQWJzdHJhY3RYSFJPYmplY3QuZW5hYmxlZCAmJiAoYXhvIGluIGdsb2JhbCkpIHtcbiAgZGVidWcoJ292ZXJyaWRpbmcgeG1saHR0cHJlcXVlc3QnKTtcbiAgWEhSID0gZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBuZXcgZ2xvYmFsW2F4b10oJ01pY3Jvc29mdC5YTUxIVFRQJyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuICBBYnN0cmFjdFhIUk9iamVjdC5lbmFibGVkID0gISFuZXcgWEhSKCk7XG59XG5cbnZhciBjb3JzID0gZmFsc2U7XG50cnkge1xuICBjb3JzID0gJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhIUigpO1xufSBjYXRjaCAoaWdub3JlZCkge1xuICAvLyBpbnRlbnRpb25hbGx5IGVtcHR5XG59XG5cbkFic3RyYWN0WEhST2JqZWN0LnN1cHBvcnRzQ09SUyA9IGNvcnM7XG5cbm1vZHVsZS5leHBvcnRzID0gQWJzdHJhY3RYSFJPYmplY3Q7XG5cbn0pLmNhbGwodGhpcyx7IGVudjoge30gfSx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHtcIi4uLy4uL3V0aWxzL2V2ZW50XCI6NDYsXCIuLi8uLi91dGlscy91cmxcIjo1MixcImRlYnVnXCI6NTUsXCJldmVudHNcIjozLFwiaW5oZXJpdHNcIjo1N31dLDE4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLkV2ZW50U291cmNlO1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7fV0sMTk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRHJpdmVyID0gZ2xvYmFsLldlYlNvY2tldCB8fCBnbG9iYWwuTW96V2ViU29ja2V0O1xuaWYgKERyaXZlcikge1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIFdlYlNvY2tldEJyb3dzZXJEcml2ZXIodXJsKSB7XG5cdFx0cmV0dXJuIG5ldyBEcml2ZXIodXJsKTtcblx0fTtcbn0gZWxzZSB7XG5cdG1vZHVsZS5leHBvcnRzID0gdW5kZWZpbmVkO1xufVxuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7fV0sMjA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgQWpheEJhc2VkVHJhbnNwb3J0ID0gcmVxdWlyZSgnLi9saWIvYWpheC1iYXNlZCcpXG4gICwgRXZlbnRTb3VyY2VSZWNlaXZlciA9IHJlcXVpcmUoJy4vcmVjZWl2ZXIvZXZlbnRzb3VyY2UnKVxuICAsIFhIUkNvcnNPYmplY3QgPSByZXF1aXJlKCcuL3NlbmRlci94aHItY29ycycpXG4gICwgRXZlbnRTb3VyY2VEcml2ZXIgPSByZXF1aXJlKCdldmVudHNvdXJjZScpXG4gIDtcblxuZnVuY3Rpb24gRXZlbnRTb3VyY2VUcmFuc3BvcnQodHJhbnNVcmwpIHtcbiAgaWYgKCFFdmVudFNvdXJjZVRyYW5zcG9ydC5lbmFibGVkKCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zcG9ydCBjcmVhdGVkIHdoZW4gZGlzYWJsZWQnKTtcbiAgfVxuXG4gIEFqYXhCYXNlZFRyYW5zcG9ydC5jYWxsKHRoaXMsIHRyYW5zVXJsLCAnL2V2ZW50c291cmNlJywgRXZlbnRTb3VyY2VSZWNlaXZlciwgWEhSQ29yc09iamVjdCk7XG59XG5cbmluaGVyaXRzKEV2ZW50U291cmNlVHJhbnNwb3J0LCBBamF4QmFzZWRUcmFuc3BvcnQpO1xuXG5FdmVudFNvdXJjZVRyYW5zcG9ydC5lbmFibGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhIUV2ZW50U291cmNlRHJpdmVyO1xufTtcblxuRXZlbnRTb3VyY2VUcmFuc3BvcnQudHJhbnNwb3J0TmFtZSA9ICdldmVudHNvdXJjZSc7XG5FdmVudFNvdXJjZVRyYW5zcG9ydC5yb3VuZFRyaXBzID0gMjtcblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudFNvdXJjZVRyYW5zcG9ydDtcblxufSx7XCIuL2xpYi9hamF4LWJhc2VkXCI6MjQsXCIuL3JlY2VpdmVyL2V2ZW50c291cmNlXCI6MjksXCIuL3NlbmRlci94aHItY29yc1wiOjM1LFwiZXZlbnRzb3VyY2VcIjoxOCxcImluaGVyaXRzXCI6NTd9XSwyMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBIdG1sZmlsZVJlY2VpdmVyID0gcmVxdWlyZSgnLi9yZWNlaXZlci9odG1sZmlsZScpXG4gICwgWEhSTG9jYWxPYmplY3QgPSByZXF1aXJlKCcuL3NlbmRlci94aHItbG9jYWwnKVxuICAsIEFqYXhCYXNlZFRyYW5zcG9ydCA9IHJlcXVpcmUoJy4vbGliL2FqYXgtYmFzZWQnKVxuICA7XG5cbmZ1bmN0aW9uIEh0bWxGaWxlVHJhbnNwb3J0KHRyYW5zVXJsKSB7XG4gIGlmICghSHRtbGZpbGVSZWNlaXZlci5lbmFibGVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUcmFuc3BvcnQgY3JlYXRlZCB3aGVuIGRpc2FibGVkJyk7XG4gIH1cbiAgQWpheEJhc2VkVHJhbnNwb3J0LmNhbGwodGhpcywgdHJhbnNVcmwsICcvaHRtbGZpbGUnLCBIdG1sZmlsZVJlY2VpdmVyLCBYSFJMb2NhbE9iamVjdCk7XG59XG5cbmluaGVyaXRzKEh0bWxGaWxlVHJhbnNwb3J0LCBBamF4QmFzZWRUcmFuc3BvcnQpO1xuXG5IdG1sRmlsZVRyYW5zcG9ydC5lbmFibGVkID0gZnVuY3Rpb24oaW5mbykge1xuICByZXR1cm4gSHRtbGZpbGVSZWNlaXZlci5lbmFibGVkICYmIGluZm8uc2FtZU9yaWdpbjtcbn07XG5cbkh0bWxGaWxlVHJhbnNwb3J0LnRyYW5zcG9ydE5hbWUgPSAnaHRtbGZpbGUnO1xuSHRtbEZpbGVUcmFuc3BvcnQucm91bmRUcmlwcyA9IDI7XG5cbm1vZHVsZS5leHBvcnRzID0gSHRtbEZpbGVUcmFuc3BvcnQ7XG5cbn0se1wiLi9saWIvYWpheC1iYXNlZFwiOjI0LFwiLi9yZWNlaXZlci9odG1sZmlsZVwiOjMwLFwiLi9zZW5kZXIveGhyLWxvY2FsXCI6MzcsXCJpbmhlcml0c1wiOjU3fV0sMjI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzKXtcbid1c2Ugc3RyaWN0JztcblxuLy8gRmV3IGNvb2wgdHJhbnNwb3J0cyBkbyB3b3JrIG9ubHkgZm9yIHNhbWUtb3JpZ2luLiBJbiBvcmRlciB0byBtYWtlXG4vLyB0aGVtIHdvcmsgY3Jvc3MtZG9tYWluIHdlIHNoYWxsIHVzZSBpZnJhbWUsIHNlcnZlZCBmcm9tIHRoZVxuLy8gcmVtb3RlIGRvbWFpbi4gTmV3IGJyb3dzZXJzIGhhdmUgY2FwYWJpbGl0aWVzIHRvIGNvbW11bmljYXRlIHdpdGhcbi8vIGNyb3NzIGRvbWFpbiBpZnJhbWUgdXNpbmcgcG9zdE1lc3NhZ2UoKS4gSW4gSUUgaXQgd2FzIGltcGxlbWVudGVkXG4vLyBmcm9tIElFIDgrLCBidXQgb2YgY291cnNlLCBJRSBnb3Qgc29tZSBkZXRhaWxzIHdyb25nOlxuLy8gICAgaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2NjMTk3MDE1KHY9VlMuODUpLmFzcHhcbi8vICAgIGh0dHA6Ly9zdGV2ZXNvdWRlcnMuY29tL21pc2MvdGVzdC1wb3N0bWVzc2FnZS5waHBcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIEpTT04zID0gcmVxdWlyZSgnanNvbjMnKVxuICAsIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuICAsIHZlcnNpb24gPSByZXF1aXJlKCcuLi92ZXJzaW9uJylcbiAgLCB1cmxVdGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL3VybCcpXG4gICwgaWZyYW1lVXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy9pZnJhbWUnKVxuICAsIGV2ZW50VXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy9ldmVudCcpXG4gICwgcmFuZG9tID0gcmVxdWlyZSgnLi4vdXRpbHMvcmFuZG9tJylcbiAgO1xuXG52YXIgZGVidWcgPSBmdW5jdGlvbigpIHt9O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NranMtY2xpZW50OnRyYW5zcG9ydDppZnJhbWUnKTtcbn1cblxuZnVuY3Rpb24gSWZyYW1lVHJhbnNwb3J0KHRyYW5zcG9ydCwgdHJhbnNVcmwsIGJhc2VVcmwpIHtcbiAgaWYgKCFJZnJhbWVUcmFuc3BvcnQuZW5hYmxlZCgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUcmFuc3BvcnQgY3JlYXRlZCB3aGVuIGRpc2FibGVkJyk7XG4gIH1cbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLm9yaWdpbiA9IHVybFV0aWxzLmdldE9yaWdpbihiYXNlVXJsKTtcbiAgdGhpcy5iYXNlVXJsID0gYmFzZVVybDtcbiAgdGhpcy50cmFuc1VybCA9IHRyYW5zVXJsO1xuICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbiAgdGhpcy53aW5kb3dJZCA9IHJhbmRvbS5zdHJpbmcoOCk7XG5cbiAgdmFyIGlmcmFtZVVybCA9IHVybFV0aWxzLmFkZFBhdGgoYmFzZVVybCwgJy9pZnJhbWUuaHRtbCcpICsgJyMnICsgdGhpcy53aW5kb3dJZDtcbiAgZGVidWcodHJhbnNwb3J0LCB0cmFuc1VybCwgaWZyYW1lVXJsKTtcblxuICB0aGlzLmlmcmFtZU9iaiA9IGlmcmFtZVV0aWxzLmNyZWF0ZUlmcmFtZShpZnJhbWVVcmwsIGZ1bmN0aW9uKHIpIHtcbiAgICBkZWJ1ZygnZXJyIGNhbGxiYWNrJyk7XG4gICAgc2VsZi5lbWl0KCdjbG9zZScsIDEwMDYsICdVbmFibGUgdG8gbG9hZCBhbiBpZnJhbWUgKCcgKyByICsgJyknKTtcbiAgICBzZWxmLmNsb3NlKCk7XG4gIH0pO1xuXG4gIHRoaXMub25tZXNzYWdlQ2FsbGJhY2sgPSB0aGlzLl9tZXNzYWdlLmJpbmQodGhpcyk7XG4gIGV2ZW50VXRpbHMuYXR0YWNoRXZlbnQoJ21lc3NhZ2UnLCB0aGlzLm9ubWVzc2FnZUNhbGxiYWNrKTtcbn1cblxuaW5oZXJpdHMoSWZyYW1lVHJhbnNwb3J0LCBFdmVudEVtaXR0ZXIpO1xuXG5JZnJhbWVUcmFuc3BvcnQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdjbG9zZScpO1xuICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICBpZiAodGhpcy5pZnJhbWVPYmopIHtcbiAgICBldmVudFV0aWxzLmRldGFjaEV2ZW50KCdtZXNzYWdlJywgdGhpcy5vbm1lc3NhZ2VDYWxsYmFjayk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFdoZW4gdGhlIGlmcmFtZSBpcyBub3QgbG9hZGVkLCBJRSByYWlzZXMgYW4gZXhjZXB0aW9uXG4gICAgICAvLyBvbiAnY29udGVudFdpbmRvdycuXG4gICAgICB0aGlzLnBvc3RNZXNzYWdlKCdjJyk7XG4gICAgfSBjYXRjaCAoeCkge1xuICAgICAgLy8gaW50ZW50aW9uYWxseSBlbXB0eVxuICAgIH1cbiAgICB0aGlzLmlmcmFtZU9iai5jbGVhbnVwKCk7XG4gICAgdGhpcy5pZnJhbWVPYmogPSBudWxsO1xuICAgIHRoaXMub25tZXNzYWdlQ2FsbGJhY2sgPSB0aGlzLmlmcmFtZU9iaiA9IG51bGw7XG4gIH1cbn07XG5cbklmcmFtZVRyYW5zcG9ydC5wcm90b3R5cGUuX21lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XG4gIGRlYnVnKCdtZXNzYWdlJywgZS5kYXRhKTtcbiAgaWYgKCF1cmxVdGlscy5pc09yaWdpbkVxdWFsKGUub3JpZ2luLCB0aGlzLm9yaWdpbikpIHtcbiAgICBkZWJ1Zygnbm90IHNhbWUgb3JpZ2luJywgZS5vcmlnaW4sIHRoaXMub3JpZ2luKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaWZyYW1lTWVzc2FnZTtcbiAgdHJ5IHtcbiAgICBpZnJhbWVNZXNzYWdlID0gSlNPTjMucGFyc2UoZS5kYXRhKTtcbiAgfSBjYXRjaCAoaWdub3JlZCkge1xuICAgIGRlYnVnKCdiYWQganNvbicsIGUuZGF0YSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGlmcmFtZU1lc3NhZ2Uud2luZG93SWQgIT09IHRoaXMud2luZG93SWQpIHtcbiAgICBkZWJ1ZygnbWlzbWF0Y2hlZCB3aW5kb3cgaWQnLCBpZnJhbWVNZXNzYWdlLndpbmRvd0lkLCB0aGlzLndpbmRvd0lkKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBzd2l0Y2ggKGlmcmFtZU1lc3NhZ2UudHlwZSkge1xuICBjYXNlICdzJzpcbiAgICB0aGlzLmlmcmFtZU9iai5sb2FkZWQoKTtcbiAgICAvLyB3aW5kb3cgZ2xvYmFsIGRlcGVuZGVuY3lcbiAgICB0aGlzLnBvc3RNZXNzYWdlKCdzJywgSlNPTjMuc3RyaW5naWZ5KFtcbiAgICAgIHZlcnNpb25cbiAgICAsIHRoaXMudHJhbnNwb3J0XG4gICAgLCB0aGlzLnRyYW5zVXJsXG4gICAgLCB0aGlzLmJhc2VVcmxcbiAgICBdKSk7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ3QnOlxuICAgIHRoaXMuZW1pdCgnbWVzc2FnZScsIGlmcmFtZU1lc3NhZ2UuZGF0YSk7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ2MnOlxuICAgIHZhciBjZGF0YTtcbiAgICB0cnkge1xuICAgICAgY2RhdGEgPSBKU09OMy5wYXJzZShpZnJhbWVNZXNzYWdlLmRhdGEpO1xuICAgIH0gY2F0Y2ggKGlnbm9yZWQpIHtcbiAgICAgIGRlYnVnKCdiYWQganNvbicsIGlmcmFtZU1lc3NhZ2UuZGF0YSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZW1pdCgnY2xvc2UnLCBjZGF0YVswXSwgY2RhdGFbMV0pO1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgICBicmVhaztcbiAgfVxufTtcblxuSWZyYW1lVHJhbnNwb3J0LnByb3RvdHlwZS5wb3N0TWVzc2FnZSA9IGZ1bmN0aW9uKHR5cGUsIGRhdGEpIHtcbiAgZGVidWcoJ3Bvc3RNZXNzYWdlJywgdHlwZSwgZGF0YSk7XG4gIHRoaXMuaWZyYW1lT2JqLnBvc3QoSlNPTjMuc3RyaW5naWZ5KHtcbiAgICB3aW5kb3dJZDogdGhpcy53aW5kb3dJZFxuICAsIHR5cGU6IHR5cGVcbiAgLCBkYXRhOiBkYXRhIHx8ICcnXG4gIH0pLCB0aGlzLm9yaWdpbik7XG59O1xuXG5JZnJhbWVUcmFuc3BvcnQucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gIGRlYnVnKCdzZW5kJywgbWVzc2FnZSk7XG4gIHRoaXMucG9zdE1lc3NhZ2UoJ20nLCBtZXNzYWdlKTtcbn07XG5cbklmcmFtZVRyYW5zcG9ydC5lbmFibGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBpZnJhbWVVdGlscy5pZnJhbWVFbmFibGVkO1xufTtcblxuSWZyYW1lVHJhbnNwb3J0LnRyYW5zcG9ydE5hbWUgPSAnaWZyYW1lJztcbklmcmFtZVRyYW5zcG9ydC5yb3VuZFRyaXBzID0gMjtcblxubW9kdWxlLmV4cG9ydHMgPSBJZnJhbWVUcmFuc3BvcnQ7XG5cbn0pLmNhbGwodGhpcyx7IGVudjoge30gfSlcblxufSx7XCIuLi91dGlscy9ldmVudFwiOjQ2LFwiLi4vdXRpbHMvaWZyYW1lXCI6NDcsXCIuLi91dGlscy9yYW5kb21cIjo1MCxcIi4uL3V0aWxzL3VybFwiOjUyLFwiLi4vdmVyc2lvblwiOjUzLFwiZGVidWdcIjo1NSxcImV2ZW50c1wiOjMsXCJpbmhlcml0c1wiOjU3LFwianNvbjNcIjo1OH1dLDIzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcblxuLy8gVGhlIHNpbXBsZXN0IGFuZCBtb3N0IHJvYnVzdCB0cmFuc3BvcnQsIHVzaW5nIHRoZSB3ZWxsLWtub3cgY3Jvc3Ncbi8vIGRvbWFpbiBoYWNrIC0gSlNPTlAuIFRoaXMgdHJhbnNwb3J0IGlzIHF1aXRlIGluZWZmaWNpZW50IC0gb25lXG4vLyBtZXNzYWdlIGNvdWxkIHVzZSB1cCB0byBvbmUgaHR0cCByZXF1ZXN0LiBCdXQgYXQgbGVhc3QgaXQgd29ya3MgYWxtb3N0XG4vLyBldmVyeXdoZXJlLlxuLy8gS25vd24gbGltaXRhdGlvbnM6XG4vLyAgIG8geW91IHdpbGwgZ2V0IGEgc3Bpbm5pbmcgY3Vyc29yXG4vLyAgIG8gZm9yIEtvbnF1ZXJvciBhIGR1bWIgdGltZXIgaXMgbmVlZGVkIHRvIGRldGVjdCBlcnJvcnNcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIFNlbmRlclJlY2VpdmVyID0gcmVxdWlyZSgnLi9saWIvc2VuZGVyLXJlY2VpdmVyJylcbiAgLCBKc29ucFJlY2VpdmVyID0gcmVxdWlyZSgnLi9yZWNlaXZlci9qc29ucCcpXG4gICwganNvbnBTZW5kZXIgPSByZXF1aXJlKCcuL3NlbmRlci9qc29ucCcpXG4gIDtcblxuZnVuY3Rpb24gSnNvblBUcmFuc3BvcnQodHJhbnNVcmwpIHtcbiAgaWYgKCFKc29uUFRyYW5zcG9ydC5lbmFibGVkKCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zcG9ydCBjcmVhdGVkIHdoZW4gZGlzYWJsZWQnKTtcbiAgfVxuICBTZW5kZXJSZWNlaXZlci5jYWxsKHRoaXMsIHRyYW5zVXJsLCAnL2pzb25wJywganNvbnBTZW5kZXIsIEpzb25wUmVjZWl2ZXIpO1xufVxuXG5pbmhlcml0cyhKc29uUFRyYW5zcG9ydCwgU2VuZGVyUmVjZWl2ZXIpO1xuXG5Kc29uUFRyYW5zcG9ydC5lbmFibGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhIWdsb2JhbC5kb2N1bWVudDtcbn07XG5cbkpzb25QVHJhbnNwb3J0LnRyYW5zcG9ydE5hbWUgPSAnanNvbnAtcG9sbGluZyc7XG5Kc29uUFRyYW5zcG9ydC5yb3VuZFRyaXBzID0gMTtcbkpzb25QVHJhbnNwb3J0Lm5lZWRCb2R5ID0gdHJ1ZTtcblxubW9kdWxlLmV4cG9ydHMgPSBKc29uUFRyYW5zcG9ydDtcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG5cbn0se1wiLi9saWIvc2VuZGVyLXJlY2VpdmVyXCI6MjgsXCIuL3JlY2VpdmVyL2pzb25wXCI6MzEsXCIuL3NlbmRlci9qc29ucFwiOjMzLFwiaW5oZXJpdHNcIjo1N31dLDI0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCB1cmxVdGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3VybCcpXG4gICwgU2VuZGVyUmVjZWl2ZXIgPSByZXF1aXJlKCcuL3NlbmRlci1yZWNlaXZlcicpXG4gIDtcblxudmFyIGRlYnVnID0gZnVuY3Rpb24oKSB7fTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnc29ja2pzLWNsaWVudDphamF4LWJhc2VkJyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFqYXhTZW5kZXIoQWpheE9iamVjdCkge1xuICByZXR1cm4gZnVuY3Rpb24odXJsLCBwYXlsb2FkLCBjYWxsYmFjaykge1xuICAgIGRlYnVnKCdjcmVhdGUgYWpheCBzZW5kZXInLCB1cmwsIHBheWxvYWQpO1xuICAgIHZhciBvcHQgPSB7fTtcbiAgICBpZiAodHlwZW9mIHBheWxvYWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBvcHQuaGVhZGVycyA9IHsnQ29udGVudC10eXBlJzogJ3RleHQvcGxhaW4nfTtcbiAgICB9XG4gICAgdmFyIGFqYXhVcmwgPSB1cmxVdGlscy5hZGRQYXRoKHVybCwgJy94aHJfc2VuZCcpO1xuICAgIHZhciB4byA9IG5ldyBBamF4T2JqZWN0KCdQT1NUJywgYWpheFVybCwgcGF5bG9hZCwgb3B0KTtcbiAgICB4by5vbmNlKCdmaW5pc2gnLCBmdW5jdGlvbihzdGF0dXMpIHtcbiAgICAgIGRlYnVnKCdmaW5pc2gnLCBzdGF0dXMpO1xuICAgICAgeG8gPSBudWxsO1xuXG4gICAgICBpZiAoc3RhdHVzICE9PSAyMDAgJiYgc3RhdHVzICE9PSAyMDQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcignaHR0cCBzdGF0dXMgJyArIHN0YXR1cykpO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2soKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBkZWJ1ZygnYWJvcnQnKTtcbiAgICAgIHhvLmNsb3NlKCk7XG4gICAgICB4byA9IG51bGw7XG5cbiAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ0Fib3J0ZWQnKTtcbiAgICAgIGVyci5jb2RlID0gMTAwMDtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gQWpheEJhc2VkVHJhbnNwb3J0KHRyYW5zVXJsLCB1cmxTdWZmaXgsIFJlY2VpdmVyLCBBamF4T2JqZWN0KSB7XG4gIFNlbmRlclJlY2VpdmVyLmNhbGwodGhpcywgdHJhbnNVcmwsIHVybFN1ZmZpeCwgY3JlYXRlQWpheFNlbmRlcihBamF4T2JqZWN0KSwgUmVjZWl2ZXIsIEFqYXhPYmplY3QpO1xufVxuXG5pbmhlcml0cyhBamF4QmFzZWRUcmFuc3BvcnQsIFNlbmRlclJlY2VpdmVyKTtcblxubW9kdWxlLmV4cG9ydHMgPSBBamF4QmFzZWRUcmFuc3BvcnQ7XG5cbn0pLmNhbGwodGhpcyx7IGVudjoge30gfSlcblxufSx7XCIuLi8uLi91dGlscy91cmxcIjo1MixcIi4vc2VuZGVyLXJlY2VpdmVyXCI6MjgsXCJkZWJ1Z1wiOjU1LFwiaW5oZXJpdHNcIjo1N31dLDI1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbiAgO1xuXG52YXIgZGVidWcgPSBmdW5jdGlvbigpIHt9O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NranMtY2xpZW50OmJ1ZmZlcmVkLXNlbmRlcicpO1xufVxuXG5mdW5jdGlvbiBCdWZmZXJlZFNlbmRlcih1cmwsIHNlbmRlcikge1xuICBkZWJ1Zyh1cmwpO1xuICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcbiAgdGhpcy5zZW5kQnVmZmVyID0gW107XG4gIHRoaXMuc2VuZGVyID0gc2VuZGVyO1xuICB0aGlzLnVybCA9IHVybDtcbn1cblxuaW5oZXJpdHMoQnVmZmVyZWRTZW5kZXIsIEV2ZW50RW1pdHRlcik7XG5cbkJ1ZmZlcmVkU2VuZGVyLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24obWVzc2FnZSkge1xuICBkZWJ1Zygnc2VuZCcsIG1lc3NhZ2UpO1xuICB0aGlzLnNlbmRCdWZmZXIucHVzaChtZXNzYWdlKTtcbiAgaWYgKCF0aGlzLnNlbmRTdG9wKSB7XG4gICAgdGhpcy5zZW5kU2NoZWR1bGUoKTtcbiAgfVxufTtcblxuLy8gRm9yIHBvbGxpbmcgdHJhbnNwb3J0cyBpbiBhIHNpdHVhdGlvbiB3aGVuIGluIHRoZSBtZXNzYWdlIGNhbGxiYWNrLFxuLy8gbmV3IG1lc3NhZ2UgaXMgYmVpbmcgc2VuZC4gSWYgdGhlIHNlbmRpbmcgY29ubmVjdGlvbiB3YXMgc3RhcnRlZFxuLy8gYmVmb3JlIHJlY2VpdmluZyBvbmUsIGl0IGlzIHBvc3NpYmxlIHRvIHNhdHVyYXRlIHRoZSBuZXR3b3JrIGFuZFxuLy8gdGltZW91dCBkdWUgdG8gdGhlIGxhY2sgb2YgcmVjZWl2aW5nIHNvY2tldC4gVG8gYXZvaWQgdGhhdCB3ZSBkZWxheVxuLy8gc2VuZGluZyBtZXNzYWdlcyBieSBzb21lIHNtYWxsIHRpbWUsIGluIG9yZGVyIHRvIGxldCByZWNlaXZpbmdcbi8vIGNvbm5lY3Rpb24gYmUgc3RhcnRlZCBiZWZvcmVoYW5kLiBUaGlzIGlzIG9ubHkgYSBoYWxmbWVhc3VyZSBhbmRcbi8vIGRvZXMgbm90IGZpeCB0aGUgYmlnIHByb2JsZW0sIGJ1dCBpdCBkb2VzIG1ha2UgdGhlIHRlc3RzIGdvIG1vcmVcbi8vIHN0YWJsZSBvbiBzbG93IG5ldHdvcmtzLlxuQnVmZmVyZWRTZW5kZXIucHJvdG90eXBlLnNlbmRTY2hlZHVsZVdhaXQgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ3NlbmRTY2hlZHVsZVdhaXQnKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgdHJlZjtcbiAgdGhpcy5zZW5kU3RvcCA9IGZ1bmN0aW9uKCkge1xuICAgIGRlYnVnKCdzZW5kU3RvcCcpO1xuICAgIHNlbGYuc2VuZFN0b3AgPSBudWxsO1xuICAgIGNsZWFyVGltZW91dCh0cmVmKTtcbiAgfTtcbiAgdHJlZiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgZGVidWcoJ3RpbWVvdXQnKTtcbiAgICBzZWxmLnNlbmRTdG9wID0gbnVsbDtcbiAgICBzZWxmLnNlbmRTY2hlZHVsZSgpO1xuICB9LCAyNSk7XG59O1xuXG5CdWZmZXJlZFNlbmRlci5wcm90b3R5cGUuc2VuZFNjaGVkdWxlID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdzZW5kU2NoZWR1bGUnLCB0aGlzLnNlbmRCdWZmZXIubGVuZ3RoKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAodGhpcy5zZW5kQnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgcGF5bG9hZCA9ICdbJyArIHRoaXMuc2VuZEJ1ZmZlci5qb2luKCcsJykgKyAnXSc7XG4gICAgdGhpcy5zZW5kU3RvcCA9IHRoaXMuc2VuZGVyKHRoaXMudXJsLCBwYXlsb2FkLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgIHNlbGYuc2VuZFN0b3AgPSBudWxsO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBkZWJ1ZygnZXJyb3InLCBlcnIpO1xuICAgICAgICBzZWxmLmVtaXQoJ2Nsb3NlJywgZXJyLmNvZGUgfHwgMTAwNiwgJ1NlbmRpbmcgZXJyb3I6ICcgKyBlcnIpO1xuICAgICAgICBzZWxmLmNsb3NlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLnNlbmRTY2hlZHVsZVdhaXQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnNlbmRCdWZmZXIgPSBbXTtcbiAgfVxufTtcblxuQnVmZmVyZWRTZW5kZXIucHJvdG90eXBlLl9jbGVhbnVwID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdfY2xlYW51cCcpO1xuICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xufTtcblxuQnVmZmVyZWRTZW5kZXIucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdjbG9zZScpO1xuICB0aGlzLl9jbGVhbnVwKCk7XG4gIGlmICh0aGlzLnNlbmRTdG9wKSB7XG4gICAgdGhpcy5zZW5kU3RvcCgpO1xuICAgIHRoaXMuc2VuZFN0b3AgPSBudWxsO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJ1ZmZlcmVkU2VuZGVyO1xuXG59KS5jYWxsKHRoaXMseyBlbnY6IHt9IH0pXG5cbn0se1wiZGVidWdcIjo1NSxcImV2ZW50c1wiOjMsXCJpbmhlcml0c1wiOjU3fV0sMjY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgSWZyYW1lVHJhbnNwb3J0ID0gcmVxdWlyZSgnLi4vaWZyYW1lJylcbiAgLCBvYmplY3RVdGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL29iamVjdCcpXG4gIDtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0cmFuc3BvcnQpIHtcblxuICBmdW5jdGlvbiBJZnJhbWVXcmFwVHJhbnNwb3J0KHRyYW5zVXJsLCBiYXNlVXJsKSB7XG4gICAgSWZyYW1lVHJhbnNwb3J0LmNhbGwodGhpcywgdHJhbnNwb3J0LnRyYW5zcG9ydE5hbWUsIHRyYW5zVXJsLCBiYXNlVXJsKTtcbiAgfVxuXG4gIGluaGVyaXRzKElmcmFtZVdyYXBUcmFuc3BvcnQsIElmcmFtZVRyYW5zcG9ydCk7XG5cbiAgSWZyYW1lV3JhcFRyYW5zcG9ydC5lbmFibGVkID0gZnVuY3Rpb24odXJsLCBpbmZvKSB7XG4gICAgaWYgKCFnbG9iYWwuZG9jdW1lbnQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgaWZyYW1lSW5mbyA9IG9iamVjdFV0aWxzLmV4dGVuZCh7fSwgaW5mbyk7XG4gICAgaWZyYW1lSW5mby5zYW1lT3JpZ2luID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJhbnNwb3J0LmVuYWJsZWQoaWZyYW1lSW5mbykgJiYgSWZyYW1lVHJhbnNwb3J0LmVuYWJsZWQoKTtcbiAgfTtcblxuICBJZnJhbWVXcmFwVHJhbnNwb3J0LnRyYW5zcG9ydE5hbWUgPSAnaWZyYW1lLScgKyB0cmFuc3BvcnQudHJhbnNwb3J0TmFtZTtcbiAgSWZyYW1lV3JhcFRyYW5zcG9ydC5uZWVkQm9keSA9IHRydWU7XG4gIElmcmFtZVdyYXBUcmFuc3BvcnQucm91bmRUcmlwcyA9IElmcmFtZVRyYW5zcG9ydC5yb3VuZFRyaXBzICsgdHJhbnNwb3J0LnJvdW5kVHJpcHMgLSAxOyAvLyBodG1sLCBqYXZhc2NyaXB0ICgyKSArIHRyYW5zcG9ydCAtIG5vIENPUlMgKDEpXG5cbiAgSWZyYW1lV3JhcFRyYW5zcG9ydC5mYWNhZGVUcmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG5cbiAgcmV0dXJuIElmcmFtZVdyYXBUcmFuc3BvcnQ7XG59O1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7XCIuLi8uLi91dGlscy9vYmplY3RcIjo0OSxcIi4uL2lmcmFtZVwiOjIyLFwiaW5oZXJpdHNcIjo1N31dLDI3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbiAgO1xuXG52YXIgZGVidWcgPSBmdW5jdGlvbigpIHt9O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NranMtY2xpZW50OnBvbGxpbmcnKTtcbn1cblxuZnVuY3Rpb24gUG9sbGluZyhSZWNlaXZlciwgcmVjZWl2ZVVybCwgQWpheE9iamVjdCkge1xuICBkZWJ1ZyhyZWNlaXZlVXJsKTtcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG4gIHRoaXMuUmVjZWl2ZXIgPSBSZWNlaXZlcjtcbiAgdGhpcy5yZWNlaXZlVXJsID0gcmVjZWl2ZVVybDtcbiAgdGhpcy5BamF4T2JqZWN0ID0gQWpheE9iamVjdDtcbiAgdGhpcy5fc2NoZWR1bGVSZWNlaXZlcigpO1xufVxuXG5pbmhlcml0cyhQb2xsaW5nLCBFdmVudEVtaXR0ZXIpO1xuXG5Qb2xsaW5nLnByb3RvdHlwZS5fc2NoZWR1bGVSZWNlaXZlciA9IGZ1bmN0aW9uKCkge1xuICBkZWJ1ZygnX3NjaGVkdWxlUmVjZWl2ZXInKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgcG9sbCA9IHRoaXMucG9sbCA9IG5ldyB0aGlzLlJlY2VpdmVyKHRoaXMucmVjZWl2ZVVybCwgdGhpcy5BamF4T2JqZWN0KTtcblxuICBwb2xsLm9uKCdtZXNzYWdlJywgZnVuY3Rpb24obXNnKSB7XG4gICAgZGVidWcoJ21lc3NhZ2UnLCBtc2cpO1xuICAgIHNlbGYuZW1pdCgnbWVzc2FnZScsIG1zZyk7XG4gIH0pO1xuXG4gIHBvbGwub25jZSgnY2xvc2UnLCBmdW5jdGlvbihjb2RlLCByZWFzb24pIHtcbiAgICBkZWJ1ZygnY2xvc2UnLCBjb2RlLCByZWFzb24sIHNlbGYucG9sbElzQ2xvc2luZyk7XG4gICAgc2VsZi5wb2xsID0gcG9sbCA9IG51bGw7XG5cbiAgICBpZiAoIXNlbGYucG9sbElzQ2xvc2luZykge1xuICAgICAgaWYgKHJlYXNvbiA9PT0gJ25ldHdvcmsnKSB7XG4gICAgICAgIHNlbGYuX3NjaGVkdWxlUmVjZWl2ZXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuZW1pdCgnY2xvc2UnLCBjb2RlIHx8IDEwMDYsIHJlYXNvbik7XG4gICAgICAgIHNlbGYucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cblBvbGxpbmcucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdhYm9ydCcpO1xuICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICB0aGlzLnBvbGxJc0Nsb3NpbmcgPSB0cnVlO1xuICBpZiAodGhpcy5wb2xsKSB7XG4gICAgdGhpcy5wb2xsLmFib3J0KCk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUG9sbGluZztcblxufSkuY2FsbCh0aGlzLHsgZW52OiB7fSB9KVxuXG59LHtcImRlYnVnXCI6NTUsXCJldmVudHNcIjozLFwiaW5oZXJpdHNcIjo1N31dLDI4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCB1cmxVdGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3VybCcpXG4gICwgQnVmZmVyZWRTZW5kZXIgPSByZXF1aXJlKCcuL2J1ZmZlcmVkLXNlbmRlcicpXG4gICwgUG9sbGluZyA9IHJlcXVpcmUoJy4vcG9sbGluZycpXG4gIDtcblxudmFyIGRlYnVnID0gZnVuY3Rpb24oKSB7fTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnc29ja2pzLWNsaWVudDpzZW5kZXItcmVjZWl2ZXInKTtcbn1cblxuZnVuY3Rpb24gU2VuZGVyUmVjZWl2ZXIodHJhbnNVcmwsIHVybFN1ZmZpeCwgc2VuZGVyRnVuYywgUmVjZWl2ZXIsIEFqYXhPYmplY3QpIHtcbiAgdmFyIHBvbGxVcmwgPSB1cmxVdGlscy5hZGRQYXRoKHRyYW5zVXJsLCB1cmxTdWZmaXgpO1xuICBkZWJ1Zyhwb2xsVXJsKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBCdWZmZXJlZFNlbmRlci5jYWxsKHRoaXMsIHRyYW5zVXJsLCBzZW5kZXJGdW5jKTtcblxuICB0aGlzLnBvbGwgPSBuZXcgUG9sbGluZyhSZWNlaXZlciwgcG9sbFVybCwgQWpheE9iamVjdCk7XG4gIHRoaXMucG9sbC5vbignbWVzc2FnZScsIGZ1bmN0aW9uKG1zZykge1xuICAgIGRlYnVnKCdwb2xsIG1lc3NhZ2UnLCBtc2cpO1xuICAgIHNlbGYuZW1pdCgnbWVzc2FnZScsIG1zZyk7XG4gIH0pO1xuICB0aGlzLnBvbGwub25jZSgnY2xvc2UnLCBmdW5jdGlvbihjb2RlLCByZWFzb24pIHtcbiAgICBkZWJ1ZygncG9sbCBjbG9zZScsIGNvZGUsIHJlYXNvbik7XG4gICAgc2VsZi5wb2xsID0gbnVsbDtcbiAgICBzZWxmLmVtaXQoJ2Nsb3NlJywgY29kZSwgcmVhc29uKTtcbiAgICBzZWxmLmNsb3NlKCk7XG4gIH0pO1xufVxuXG5pbmhlcml0cyhTZW5kZXJSZWNlaXZlciwgQnVmZmVyZWRTZW5kZXIpO1xuXG5TZW5kZXJSZWNlaXZlci5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgQnVmZmVyZWRTZW5kZXIucHJvdG90eXBlLmNsb3NlLmNhbGwodGhpcyk7XG4gIGRlYnVnKCdjbG9zZScpO1xuICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICBpZiAodGhpcy5wb2xsKSB7XG4gICAgdGhpcy5wb2xsLmFib3J0KCk7XG4gICAgdGhpcy5wb2xsID0gbnVsbDtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTZW5kZXJSZWNlaXZlcjtcblxufSkuY2FsbCh0aGlzLHsgZW52OiB7fSB9KVxuXG59LHtcIi4uLy4uL3V0aWxzL3VybFwiOjUyLFwiLi9idWZmZXJlZC1zZW5kZXJcIjoyNSxcIi4vcG9sbGluZ1wiOjI3LFwiZGVidWdcIjo1NSxcImluaGVyaXRzXCI6NTd9XSwyOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3Mpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyXG4gICwgRXZlbnRTb3VyY2VEcml2ZXIgPSByZXF1aXJlKCdldmVudHNvdXJjZScpXG4gIDtcblxudmFyIGRlYnVnID0gZnVuY3Rpb24oKSB7fTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnc29ja2pzLWNsaWVudDpyZWNlaXZlcjpldmVudHNvdXJjZScpO1xufVxuXG5mdW5jdGlvbiBFdmVudFNvdXJjZVJlY2VpdmVyKHVybCkge1xuICBkZWJ1Zyh1cmwpO1xuICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBlcyA9IHRoaXMuZXMgPSBuZXcgRXZlbnRTb3VyY2VEcml2ZXIodXJsKTtcbiAgZXMub25tZXNzYWdlID0gZnVuY3Rpb24oZSkge1xuICAgIGRlYnVnKCdtZXNzYWdlJywgZS5kYXRhKTtcbiAgICBzZWxmLmVtaXQoJ21lc3NhZ2UnLCBkZWNvZGVVUkkoZS5kYXRhKSk7XG4gIH07XG4gIGVzLm9uZXJyb3IgPSBmdW5jdGlvbihlKSB7XG4gICAgZGVidWcoJ2Vycm9yJywgZXMucmVhZHlTdGF0ZSwgZSk7XG4gICAgLy8gRVMgb24gcmVjb25uZWN0aW9uIGhhcyByZWFkeVN0YXRlID0gMCBvciAxLlxuICAgIC8vIG9uIG5ldHdvcmsgZXJyb3IgaXQncyBDTE9TRUQgPSAyXG4gICAgdmFyIHJlYXNvbiA9IChlcy5yZWFkeVN0YXRlICE9PSAyID8gJ25ldHdvcmsnIDogJ3Blcm1hbmVudCcpO1xuICAgIHNlbGYuX2NsZWFudXAoKTtcbiAgICBzZWxmLl9jbG9zZShyZWFzb24pO1xuICB9O1xufVxuXG5pbmhlcml0cyhFdmVudFNvdXJjZVJlY2VpdmVyLCBFdmVudEVtaXR0ZXIpO1xuXG5FdmVudFNvdXJjZVJlY2VpdmVyLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICBkZWJ1ZygnYWJvcnQnKTtcbiAgdGhpcy5fY2xlYW51cCgpO1xuICB0aGlzLl9jbG9zZSgndXNlcicpO1xufTtcblxuRXZlbnRTb3VyY2VSZWNlaXZlci5wcm90b3R5cGUuX2NsZWFudXAgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ2NsZWFudXAnKTtcbiAgdmFyIGVzID0gdGhpcy5lcztcbiAgaWYgKGVzKSB7XG4gICAgZXMub25tZXNzYWdlID0gZXMub25lcnJvciA9IG51bGw7XG4gICAgZXMuY2xvc2UoKTtcbiAgICB0aGlzLmVzID0gbnVsbDtcbiAgfVxufTtcblxuRXZlbnRTb3VyY2VSZWNlaXZlci5wcm90b3R5cGUuX2Nsb3NlID0gZnVuY3Rpb24ocmVhc29uKSB7XG4gIGRlYnVnKCdjbG9zZScsIHJlYXNvbik7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgLy8gU2FmYXJpIGFuZCBjaHJvbWUgPCAxNSBjcmFzaCBpZiB3ZSBjbG9zZSB3aW5kb3cgYmVmb3JlXG4gIC8vIHdhaXRpbmcgZm9yIEVTIGNsZWFudXAuIFNlZTpcbiAgLy8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTg5MTU1XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5lbWl0KCdjbG9zZScsIG51bGwsIHJlYXNvbik7XG4gICAgc2VsZi5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgfSwgMjAwKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRTb3VyY2VSZWNlaXZlcjtcblxufSkuY2FsbCh0aGlzLHsgZW52OiB7fSB9KVxuXG59LHtcImRlYnVnXCI6NTUsXCJldmVudHNcIjozLFwiZXZlbnRzb3VyY2VcIjoxOCxcImluaGVyaXRzXCI6NTd9XSwzMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIGlmcmFtZVV0aWxzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvaWZyYW1lJylcbiAgLCB1cmxVdGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3VybCcpXG4gICwgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyXG4gICwgcmFuZG9tID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvcmFuZG9tJylcbiAgO1xuXG52YXIgZGVidWcgPSBmdW5jdGlvbigpIHt9O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NranMtY2xpZW50OnJlY2VpdmVyOmh0bWxmaWxlJyk7XG59XG5cbmZ1bmN0aW9uIEh0bWxmaWxlUmVjZWl2ZXIodXJsKSB7XG4gIGRlYnVnKHVybCk7XG4gIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmcmFtZVV0aWxzLnBvbGx1dGVHbG9iYWxOYW1lc3BhY2UoKTtcblxuICB0aGlzLmlkID0gJ2EnICsgcmFuZG9tLnN0cmluZyg2KTtcbiAgdXJsID0gdXJsVXRpbHMuYWRkUXVlcnkodXJsLCAnYz0nICsgZGVjb2RlVVJJQ29tcG9uZW50KGlmcmFtZVV0aWxzLldQcmVmaXggKyAnLicgKyB0aGlzLmlkKSk7XG5cbiAgZGVidWcoJ3VzaW5nIGh0bWxmaWxlJywgSHRtbGZpbGVSZWNlaXZlci5odG1sZmlsZUVuYWJsZWQpO1xuICB2YXIgY29uc3RydWN0RnVuYyA9IEh0bWxmaWxlUmVjZWl2ZXIuaHRtbGZpbGVFbmFibGVkID9cbiAgICAgIGlmcmFtZVV0aWxzLmNyZWF0ZUh0bWxmaWxlIDogaWZyYW1lVXRpbHMuY3JlYXRlSWZyYW1lO1xuXG4gIGdsb2JhbFtpZnJhbWVVdGlscy5XUHJlZml4XVt0aGlzLmlkXSA9IHtcbiAgICBzdGFydDogZnVuY3Rpb24oKSB7XG4gICAgICBkZWJ1Zygnc3RhcnQnKTtcbiAgICAgIHNlbGYuaWZyYW1lT2JqLmxvYWRlZCgpO1xuICAgIH1cbiAgLCBtZXNzYWdlOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICBkZWJ1ZygnbWVzc2FnZScsIGRhdGEpO1xuICAgICAgc2VsZi5lbWl0KCdtZXNzYWdlJywgZGF0YSk7XG4gICAgfVxuICAsIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgZGVidWcoJ3N0b3AnKTtcbiAgICAgIHNlbGYuX2NsZWFudXAoKTtcbiAgICAgIHNlbGYuX2Nsb3NlKCduZXR3b3JrJyk7XG4gICAgfVxuICB9O1xuICB0aGlzLmlmcmFtZU9iaiA9IGNvbnN0cnVjdEZ1bmModXJsLCBmdW5jdGlvbigpIHtcbiAgICBkZWJ1ZygnY2FsbGJhY2snKTtcbiAgICBzZWxmLl9jbGVhbnVwKCk7XG4gICAgc2VsZi5fY2xvc2UoJ3Blcm1hbmVudCcpO1xuICB9KTtcbn1cblxuaW5oZXJpdHMoSHRtbGZpbGVSZWNlaXZlciwgRXZlbnRFbWl0dGVyKTtcblxuSHRtbGZpbGVSZWNlaXZlci5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ2Fib3J0Jyk7XG4gIHRoaXMuX2NsZWFudXAoKTtcbiAgdGhpcy5fY2xvc2UoJ3VzZXInKTtcbn07XG5cbkh0bWxmaWxlUmVjZWl2ZXIucHJvdG90eXBlLl9jbGVhbnVwID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdfY2xlYW51cCcpO1xuICBpZiAodGhpcy5pZnJhbWVPYmopIHtcbiAgICB0aGlzLmlmcmFtZU9iai5jbGVhbnVwKCk7XG4gICAgdGhpcy5pZnJhbWVPYmogPSBudWxsO1xuICB9XG4gIGRlbGV0ZSBnbG9iYWxbaWZyYW1lVXRpbHMuV1ByZWZpeF1bdGhpcy5pZF07XG59O1xuXG5IdG1sZmlsZVJlY2VpdmVyLnByb3RvdHlwZS5fY2xvc2UgPSBmdW5jdGlvbihyZWFzb24pIHtcbiAgZGVidWcoJ19jbG9zZScsIHJlYXNvbik7XG4gIHRoaXMuZW1pdCgnY2xvc2UnLCBudWxsLCByZWFzb24pO1xuICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xufTtcblxuSHRtbGZpbGVSZWNlaXZlci5odG1sZmlsZUVuYWJsZWQgPSBmYWxzZTtcblxuLy8gb2JmdXNjYXRlIHRvIGF2b2lkIGZpcmV3YWxsc1xudmFyIGF4byA9IFsnQWN0aXZlJ10uY29uY2F0KCdPYmplY3QnKS5qb2luKCdYJyk7XG5pZiAoYXhvIGluIGdsb2JhbCkge1xuICB0cnkge1xuICAgIEh0bWxmaWxlUmVjZWl2ZXIuaHRtbGZpbGVFbmFibGVkID0gISFuZXcgZ2xvYmFsW2F4b10oJ2h0bWxmaWxlJyk7XG4gIH0gY2F0Y2ggKHgpIHtcbiAgICAvLyBpbnRlbnRpb25hbGx5IGVtcHR5XG4gIH1cbn1cblxuSHRtbGZpbGVSZWNlaXZlci5lbmFibGVkID0gSHRtbGZpbGVSZWNlaXZlci5odG1sZmlsZUVuYWJsZWQgfHwgaWZyYW1lVXRpbHMuaWZyYW1lRW5hYmxlZDtcblxubW9kdWxlLmV4cG9ydHMgPSBIdG1sZmlsZVJlY2VpdmVyO1xuXG59KS5jYWxsKHRoaXMseyBlbnY6IHt9IH0sdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7XCIuLi8uLi91dGlscy9pZnJhbWVcIjo0NyxcIi4uLy4uL3V0aWxzL3JhbmRvbVwiOjUwLFwiLi4vLi4vdXRpbHMvdXJsXCI6NTIsXCJkZWJ1Z1wiOjU1LFwiZXZlbnRzXCI6MyxcImluaGVyaXRzXCI6NTd9XSwzMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvaWZyYW1lJylcbiAgLCByYW5kb20gPSByZXF1aXJlKCcuLi8uLi91dGlscy9yYW5kb20nKVxuICAsIGJyb3dzZXIgPSByZXF1aXJlKCcuLi8uLi91dGlscy9icm93c2VyJylcbiAgLCB1cmxVdGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3VybCcpXG4gICwgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyXG4gIDtcblxudmFyIGRlYnVnID0gZnVuY3Rpb24oKSB7fTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnc29ja2pzLWNsaWVudDpyZWNlaXZlcjpqc29ucCcpO1xufVxuXG5mdW5jdGlvbiBKc29ucFJlY2VpdmVyKHVybCkge1xuICBkZWJ1Zyh1cmwpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gIHV0aWxzLnBvbGx1dGVHbG9iYWxOYW1lc3BhY2UoKTtcblxuICB0aGlzLmlkID0gJ2EnICsgcmFuZG9tLnN0cmluZyg2KTtcbiAgdmFyIHVybFdpdGhJZCA9IHVybFV0aWxzLmFkZFF1ZXJ5KHVybCwgJ2M9JyArIGVuY29kZVVSSUNvbXBvbmVudCh1dGlscy5XUHJlZml4ICsgJy4nICsgdGhpcy5pZCkpO1xuXG4gIGdsb2JhbFt1dGlscy5XUHJlZml4XVt0aGlzLmlkXSA9IHRoaXMuX2NhbGxiYWNrLmJpbmQodGhpcyk7XG4gIHRoaXMuX2NyZWF0ZVNjcmlwdCh1cmxXaXRoSWQpO1xuXG4gIC8vIEZhbGxiYWNrIG1vc3RseSBmb3IgS29ucXVlcm9yIC0gc3R1cGlkIHRpbWVyLCAzNSBzZWNvbmRzIHNoYWxsIGJlIHBsZW50eS5cbiAgdGhpcy50aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIGRlYnVnKCd0aW1lb3V0Jyk7XG4gICAgc2VsZi5fYWJvcnQobmV3IEVycm9yKCdKU09OUCBzY3JpcHQgbG9hZGVkIGFibm9ybWFsbHkgKHRpbWVvdXQpJykpO1xuICB9LCBKc29ucFJlY2VpdmVyLnRpbWVvdXQpO1xufVxuXG5pbmhlcml0cyhKc29ucFJlY2VpdmVyLCBFdmVudEVtaXR0ZXIpO1xuXG5Kc29ucFJlY2VpdmVyLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICBkZWJ1ZygnYWJvcnQnKTtcbiAgaWYgKGdsb2JhbFt1dGlscy5XUHJlZml4XVt0aGlzLmlkXSkge1xuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ0pTT05QIHVzZXIgYWJvcnRlZCByZWFkJyk7XG4gICAgZXJyLmNvZGUgPSAxMDAwO1xuICAgIHRoaXMuX2Fib3J0KGVycik7XG4gIH1cbn07XG5cbkpzb25wUmVjZWl2ZXIudGltZW91dCA9IDM1MDAwO1xuSnNvbnBSZWNlaXZlci5zY3JpcHRFcnJvclRpbWVvdXQgPSAxMDAwO1xuXG5Kc29ucFJlY2VpdmVyLnByb3RvdHlwZS5fY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhKSB7XG4gIGRlYnVnKCdfY2FsbGJhY2snLCBkYXRhKTtcbiAgdGhpcy5fY2xlYW51cCgpO1xuXG4gIGlmICh0aGlzLmFib3J0aW5nKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGRhdGEpIHtcbiAgICBkZWJ1ZygnbWVzc2FnZScsIGRhdGEpO1xuICAgIHRoaXMuZW1pdCgnbWVzc2FnZScsIGRhdGEpO1xuICB9XG4gIHRoaXMuZW1pdCgnY2xvc2UnLCBudWxsLCAnbmV0d29yaycpO1xuICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xufTtcblxuSnNvbnBSZWNlaXZlci5wcm90b3R5cGUuX2Fib3J0ID0gZnVuY3Rpb24oZXJyKSB7XG4gIGRlYnVnKCdfYWJvcnQnLCBlcnIpO1xuICB0aGlzLl9jbGVhbnVwKCk7XG4gIHRoaXMuYWJvcnRpbmcgPSB0cnVlO1xuICB0aGlzLmVtaXQoJ2Nsb3NlJywgZXJyLmNvZGUsIGVyci5tZXNzYWdlKTtcbiAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbn07XG5cbkpzb25wUmVjZWl2ZXIucHJvdG90eXBlLl9jbGVhbnVwID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdfY2xlYW51cCcpO1xuICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWQpO1xuICBpZiAodGhpcy5zY3JpcHQyKSB7XG4gICAgdGhpcy5zY3JpcHQyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zY3JpcHQyKTtcbiAgICB0aGlzLnNjcmlwdDIgPSBudWxsO1xuICB9XG4gIGlmICh0aGlzLnNjcmlwdCkge1xuICAgIHZhciBzY3JpcHQgPSB0aGlzLnNjcmlwdDtcbiAgICAvLyBVbmZvcnR1bmF0ZWx5LCB5b3UgY2FuJ3QgcmVhbGx5IGFib3J0IHNjcmlwdCBsb2FkaW5nIG9mXG4gICAgLy8gdGhlIHNjcmlwdC5cbiAgICBzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBzY3JpcHQub25lcnJvciA9XG4gICAgICAgIHNjcmlwdC5vbmxvYWQgPSBzY3JpcHQub25jbGljayA9IG51bGw7XG4gICAgdGhpcy5zY3JpcHQgPSBudWxsO1xuICB9XG4gIGRlbGV0ZSBnbG9iYWxbdXRpbHMuV1ByZWZpeF1bdGhpcy5pZF07XG59O1xuXG5Kc29ucFJlY2VpdmVyLnByb3RvdHlwZS5fc2NyaXB0RXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ19zY3JpcHRFcnJvcicpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmICh0aGlzLmVycm9yVGltZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLmVycm9yVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIGlmICghc2VsZi5sb2FkZWRPa2F5KSB7XG4gICAgICBzZWxmLl9hYm9ydChuZXcgRXJyb3IoJ0pTT05QIHNjcmlwdCBsb2FkZWQgYWJub3JtYWxseSAob25lcnJvciknKSk7XG4gICAgfVxuICB9LCBKc29ucFJlY2VpdmVyLnNjcmlwdEVycm9yVGltZW91dCk7XG59O1xuXG5Kc29ucFJlY2VpdmVyLnByb3RvdHlwZS5fY3JlYXRlU2NyaXB0ID0gZnVuY3Rpb24odXJsKSB7XG4gIGRlYnVnKCdfY3JlYXRlU2NyaXB0JywgdXJsKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgc2NyaXB0ID0gdGhpcy5zY3JpcHQgPSBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHZhciBzY3JpcHQyOyAgLy8gT3BlcmEgc3luY2hyb25vdXMgbG9hZCB0cmljay5cblxuICBzY3JpcHQuaWQgPSAnYScgKyByYW5kb20uc3RyaW5nKDgpO1xuICBzY3JpcHQuc3JjID0gdXJsO1xuICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuICBzY3JpcHQuY2hhcnNldCA9ICdVVEYtOCc7XG4gIHNjcmlwdC5vbmVycm9yID0gdGhpcy5fc2NyaXB0RXJyb3IuYmluZCh0aGlzKTtcbiAgc2NyaXB0Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIGRlYnVnKCdvbmxvYWQnKTtcbiAgICBzZWxmLl9hYm9ydChuZXcgRXJyb3IoJ0pTT05QIHNjcmlwdCBsb2FkZWQgYWJub3JtYWxseSAob25sb2FkKScpKTtcbiAgfTtcblxuICAvLyBJRTkgZmlyZXMgJ2Vycm9yJyBldmVudCBhZnRlciBvbnJlYWR5c3RhdGVjaGFuZ2Ugb3IgYmVmb3JlLCBpbiByYW5kb20gb3JkZXIuXG4gIC8vIFVzZSBsb2FkZWRPa2F5IHRvIGRldGVybWluZSBpZiBhY3R1YWxseSBlcnJvcmVkXG4gIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICBkZWJ1Zygnb25yZWFkeXN0YXRlY2hhbmdlJywgc2NyaXB0LnJlYWR5U3RhdGUpO1xuICAgIGlmICgvbG9hZGVkfGNsb3NlZC8udGVzdChzY3JpcHQucmVhZHlTdGF0ZSkpIHtcbiAgICAgIGlmIChzY3JpcHQgJiYgc2NyaXB0Lmh0bWxGb3IgJiYgc2NyaXB0Lm9uY2xpY2spIHtcbiAgICAgICAgc2VsZi5sb2FkZWRPa2F5ID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBJbiBJRSwgYWN0dWFsbHkgZXhlY3V0ZSB0aGUgc2NyaXB0LlxuICAgICAgICAgIHNjcmlwdC5vbmNsaWNrKCk7XG4gICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAvLyBpbnRlbnRpb25hbGx5IGVtcHR5XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzY3JpcHQpIHtcbiAgICAgICAgc2VsZi5fYWJvcnQobmV3IEVycm9yKCdKU09OUCBzY3JpcHQgbG9hZGVkIGFibm9ybWFsbHkgKG9ucmVhZHlzdGF0ZWNoYW5nZSknKSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvLyBJRTogZXZlbnQvaHRtbEZvci9vbmNsaWNrIHRyaWNrLlxuICAvLyBPbmUgY2FuJ3QgcmVseSBvbiBwcm9wZXIgb3JkZXIgZm9yIG9ucmVhZHlzdGF0ZWNoYW5nZS4gSW4gb3JkZXIgdG9cbiAgLy8gbWFrZSBzdXJlLCBzZXQgYSAnaHRtbEZvcicgYW5kICdldmVudCcgcHJvcGVydGllcywgc28gdGhhdFxuICAvLyBzY3JpcHQgY29kZSB3aWxsIGJlIGluc3RhbGxlZCBhcyAnb25jbGljaycgaGFuZGxlciBmb3IgdGhlXG4gIC8vIHNjcmlwdCBvYmplY3QuIExhdGVyLCBvbnJlYWR5c3RhdGVjaGFuZ2UsIG1hbnVhbGx5IGV4ZWN1dGUgdGhpc1xuICAvLyBjb2RlLiBGRiBhbmQgQ2hyb21lIGRvZXNuJ3Qgd29yayB3aXRoICdldmVudCcgYW5kICdodG1sRm9yJ1xuICAvLyBzZXQuIEZvciByZWZlcmVuY2Ugc2VlOlxuICAvLyAgIGh0dHA6Ly9qYXVib3VyZy5uZXQvMjAxMC8wNy9sb2FkaW5nLXNjcmlwdC1hcy1vbmNsaWNrLWhhbmRsZXItb2YuaHRtbFxuICAvLyBBbHNvLCByZWFkIG9uIHRoYXQgYWJvdXQgc2NyaXB0IG9yZGVyaW5nOlxuICAvLyAgIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9EeW5hbWljX1NjcmlwdF9FeGVjdXRpb25fT3JkZXJcbiAgaWYgKHR5cGVvZiBzY3JpcHQuYXN5bmMgPT09ICd1bmRlZmluZWQnICYmIGdsb2JhbC5kb2N1bWVudC5hdHRhY2hFdmVudCkge1xuICAgIC8vIEFjY29yZGluZyB0byBtb3ppbGxhIGRvY3MsIGluIHJlY2VudCBicm93c2VycyBzY3JpcHQuYXN5bmMgZGVmYXVsdHNcbiAgICAvLyB0byAndHJ1ZScsIHNvIHdlIG1heSB1c2UgaXQgdG8gZGV0ZWN0IGEgZ29vZCBicm93c2VyOlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0hUTUwvRWxlbWVudC9zY3JpcHRcbiAgICBpZiAoIWJyb3dzZXIuaXNPcGVyYSgpKSB7XG4gICAgICAvLyBOYWl2ZWx5IGFzc3VtZSB3ZSdyZSBpbiBJRVxuICAgICAgdHJ5IHtcbiAgICAgICAgc2NyaXB0Lmh0bWxGb3IgPSBzY3JpcHQuaWQ7XG4gICAgICAgIHNjcmlwdC5ldmVudCA9ICdvbmNsaWNrJztcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgLy8gaW50ZW50aW9uYWxseSBlbXB0eVxuICAgICAgfVxuICAgICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT3BlcmEsIHNlY29uZCBzeW5jIHNjcmlwdCBoYWNrXG4gICAgICBzY3JpcHQyID0gdGhpcy5zY3JpcHQyID0gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgc2NyaXB0Mi50ZXh0ID0gXCJ0cnl7dmFyIGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnXCIgKyBzY3JpcHQuaWQgKyBcIicpOyBpZihhKWEub25lcnJvcigpO31jYXRjaCh4KXt9O1wiO1xuICAgICAgc2NyaXB0LmFzeW5jID0gc2NyaXB0Mi5hc3luYyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAodHlwZW9mIHNjcmlwdC5hc3luYyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICB9XG5cbiAgdmFyIGhlYWQgPSBnbG9iYWwuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgaGVhZC5pbnNlcnRCZWZvcmUoc2NyaXB0LCBoZWFkLmZpcnN0Q2hpbGQpO1xuICBpZiAoc2NyaXB0Mikge1xuICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHNjcmlwdDIsIGhlYWQuZmlyc3RDaGlsZCk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSnNvbnBSZWNlaXZlcjtcblxufSkuY2FsbCh0aGlzLHsgZW52OiB7fSB9LHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG5cbn0se1wiLi4vLi4vdXRpbHMvYnJvd3NlclwiOjQ0LFwiLi4vLi4vdXRpbHMvaWZyYW1lXCI6NDcsXCIuLi8uLi91dGlscy9yYW5kb21cIjo1MCxcIi4uLy4uL3V0aWxzL3VybFwiOjUyLFwiZGVidWdcIjo1NSxcImV2ZW50c1wiOjMsXCJpbmhlcml0c1wiOjU3fV0sMzI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuICA7XG5cbnZhciBkZWJ1ZyA9IGZ1bmN0aW9uKCkge307XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ3NvY2tqcy1jbGllbnQ6cmVjZWl2ZXI6eGhyJyk7XG59XG5cbmZ1bmN0aW9uIFhoclJlY2VpdmVyKHVybCwgQWpheE9iamVjdCkge1xuICBkZWJ1Zyh1cmwpO1xuICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRoaXMuYnVmZmVyUG9zaXRpb24gPSAwO1xuXG4gIHRoaXMueG8gPSBuZXcgQWpheE9iamVjdCgnUE9TVCcsIHVybCwgbnVsbCk7XG4gIHRoaXMueG8ub24oJ2NodW5rJywgdGhpcy5fY2h1bmtIYW5kbGVyLmJpbmQodGhpcykpO1xuICB0aGlzLnhvLm9uY2UoJ2ZpbmlzaCcsIGZ1bmN0aW9uKHN0YXR1cywgdGV4dCkge1xuICAgIGRlYnVnKCdmaW5pc2gnLCBzdGF0dXMsIHRleHQpO1xuICAgIHNlbGYuX2NodW5rSGFuZGxlcihzdGF0dXMsIHRleHQpO1xuICAgIHNlbGYueG8gPSBudWxsO1xuICAgIHZhciByZWFzb24gPSBzdGF0dXMgPT09IDIwMCA/ICduZXR3b3JrJyA6ICdwZXJtYW5lbnQnO1xuICAgIGRlYnVnKCdjbG9zZScsIHJlYXNvbik7XG4gICAgc2VsZi5lbWl0KCdjbG9zZScsIG51bGwsIHJlYXNvbik7XG4gICAgc2VsZi5fY2xlYW51cCgpO1xuICB9KTtcbn1cblxuaW5oZXJpdHMoWGhyUmVjZWl2ZXIsIEV2ZW50RW1pdHRlcik7XG5cblhoclJlY2VpdmVyLnByb3RvdHlwZS5fY2h1bmtIYW5kbGVyID0gZnVuY3Rpb24oc3RhdHVzLCB0ZXh0KSB7XG4gIGRlYnVnKCdfY2h1bmtIYW5kbGVyJywgc3RhdHVzKTtcbiAgaWYgKHN0YXR1cyAhPT0gMjAwIHx8ICF0ZXh0KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yICh2YXIgaWR4ID0gLTE7IDsgdGhpcy5idWZmZXJQb3NpdGlvbiArPSBpZHggKyAxKSB7XG4gICAgdmFyIGJ1ZiA9IHRleHQuc2xpY2UodGhpcy5idWZmZXJQb3NpdGlvbik7XG4gICAgaWR4ID0gYnVmLmluZGV4T2YoJ1xcbicpO1xuICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgdmFyIG1zZyA9IGJ1Zi5zbGljZSgwLCBpZHgpO1xuICAgIGlmIChtc2cpIHtcbiAgICAgIGRlYnVnKCdtZXNzYWdlJywgbXNnKTtcbiAgICAgIHRoaXMuZW1pdCgnbWVzc2FnZScsIG1zZyk7XG4gICAgfVxuICB9XG59O1xuXG5YaHJSZWNlaXZlci5wcm90b3R5cGUuX2NsZWFudXAgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ19jbGVhbnVwJyk7XG4gIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG59O1xuXG5YaHJSZWNlaXZlci5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ2Fib3J0Jyk7XG4gIGlmICh0aGlzLnhvKSB7XG4gICAgdGhpcy54by5jbG9zZSgpO1xuICAgIGRlYnVnKCdjbG9zZScpO1xuICAgIHRoaXMuZW1pdCgnY2xvc2UnLCBudWxsLCAndXNlcicpO1xuICAgIHRoaXMueG8gPSBudWxsO1xuICB9XG4gIHRoaXMuX2NsZWFudXAoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gWGhyUmVjZWl2ZXI7XG5cbn0pLmNhbGwodGhpcyx7IGVudjoge30gfSlcblxufSx7XCJkZWJ1Z1wiOjU1LFwiZXZlbnRzXCI6MyxcImluaGVyaXRzXCI6NTd9XSwzMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIHJhbmRvbSA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3JhbmRvbScpXG4gICwgdXJsVXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscy91cmwnKVxuICA7XG5cbnZhciBkZWJ1ZyA9IGZ1bmN0aW9uKCkge307XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ3NvY2tqcy1jbGllbnQ6c2VuZGVyOmpzb25wJyk7XG59XG5cbnZhciBmb3JtLCBhcmVhO1xuXG5mdW5jdGlvbiBjcmVhdGVJZnJhbWUoaWQpIHtcbiAgZGVidWcoJ2NyZWF0ZUlmcmFtZScsIGlkKTtcbiAgdHJ5IHtcbiAgICAvLyBpZTYgZHluYW1pYyBpZnJhbWVzIHdpdGggdGFyZ2V0PVwiXCIgc3VwcG9ydCAodGhhbmtzIENocmlzIExhbWJhY2hlcilcbiAgICByZXR1cm4gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJzxpZnJhbWUgbmFtZT1cIicgKyBpZCArICdcIj4nKTtcbiAgfSBjYXRjaCAoeCkge1xuICAgIHZhciBpZnJhbWUgPSBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgaWZyYW1lLm5hbWUgPSBpZDtcbiAgICByZXR1cm4gaWZyYW1lO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZvcm0oKSB7XG4gIGRlYnVnKCdjcmVhdGVGb3JtJyk7XG4gIGZvcm0gPSBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICBmb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIGZvcm0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICBmb3JtLm1ldGhvZCA9ICdQT1NUJztcbiAgZm9ybS5lbmN0eXBlID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCc7XG4gIGZvcm0uYWNjZXB0Q2hhcnNldCA9ICdVVEYtOCc7XG5cbiAgYXJlYSA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICBhcmVhLm5hbWUgPSAnZCc7XG4gIGZvcm0uYXBwZW5kQ2hpbGQoYXJlYSk7XG5cbiAgZ2xvYmFsLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXJsLCBwYXlsb2FkLCBjYWxsYmFjaykge1xuICBkZWJ1Zyh1cmwsIHBheWxvYWQpO1xuICBpZiAoIWZvcm0pIHtcbiAgICBjcmVhdGVGb3JtKCk7XG4gIH1cbiAgdmFyIGlkID0gJ2EnICsgcmFuZG9tLnN0cmluZyg4KTtcbiAgZm9ybS50YXJnZXQgPSBpZDtcbiAgZm9ybS5hY3Rpb24gPSB1cmxVdGlscy5hZGRRdWVyeSh1cmxVdGlscy5hZGRQYXRoKHVybCwgJy9qc29ucF9zZW5kJyksICdpPScgKyBpZCk7XG5cbiAgdmFyIGlmcmFtZSA9IGNyZWF0ZUlmcmFtZShpZCk7XG4gIGlmcmFtZS5pZCA9IGlkO1xuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgZm9ybS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuXG4gIHRyeSB7XG4gICAgYXJlYS52YWx1ZSA9IHBheWxvYWQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBzZXJpb3VzbHkgYnJva2VuIGJyb3dzZXJzIGdldCBoZXJlXG4gIH1cbiAgZm9ybS5zdWJtaXQoKTtcblxuICB2YXIgY29tcGxldGVkID0gZnVuY3Rpb24oZXJyKSB7XG4gICAgZGVidWcoJ2NvbXBsZXRlZCcsIGlkLCBlcnIpO1xuICAgIGlmICghaWZyYW1lLm9uZXJyb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWZyYW1lLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGlmcmFtZS5vbmVycm9yID0gaWZyYW1lLm9ubG9hZCA9IG51bGw7XG4gICAgLy8gT3BlcmEgbWluaSBkb2Vzbid0IGxpa2UgaWYgd2UgR0MgaWZyYW1lXG4gICAgLy8gaW1tZWRpYXRlbHksIHRodXMgdGhpcyB0aW1lb3V0LlxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBkZWJ1ZygnY2xlYW5pbmcgdXAnLCBpZCk7XG4gICAgICBpZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICAgICAgaWZyYW1lID0gbnVsbDtcbiAgICB9LCA1MDApO1xuICAgIGFyZWEudmFsdWUgPSAnJztcbiAgICAvLyBJdCBpcyBub3QgcG9zc2libGUgdG8gZGV0ZWN0IGlmIHRoZSBpZnJhbWUgc3VjY2VlZGVkIG9yXG4gICAgLy8gZmFpbGVkIHRvIHN1Ym1pdCBvdXIgZm9ybS5cbiAgICBjYWxsYmFjayhlcnIpO1xuICB9O1xuICBpZnJhbWUub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIGRlYnVnKCdvbmVycm9yJywgaWQpO1xuICAgIGNvbXBsZXRlZCgpO1xuICB9O1xuICBpZnJhbWUub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgZGVidWcoJ29ubG9hZCcsIGlkKTtcbiAgICBjb21wbGV0ZWQoKTtcbiAgfTtcbiAgaWZyYW1lLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICBkZWJ1Zygnb25yZWFkeXN0YXRlY2hhbmdlJywgaWQsIGlmcmFtZS5yZWFkeVN0YXRlLCBlKTtcbiAgICBpZiAoaWZyYW1lLnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgIGNvbXBsZXRlZCgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGRlYnVnKCdhYm9ydGVkJywgaWQpO1xuICAgIGNvbXBsZXRlZChuZXcgRXJyb3IoJ0Fib3J0ZWQnKSk7XG4gIH07XG59O1xuXG59KS5jYWxsKHRoaXMseyBlbnY6IHt9IH0sdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7XCIuLi8uLi91dGlscy9yYW5kb21cIjo1MCxcIi4uLy4uL3V0aWxzL3VybFwiOjUyLFwiZGVidWdcIjo1NX1dLDM0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyXG4gICwgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgZXZlbnRVdGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL2V2ZW50JylcbiAgLCBicm93c2VyID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvYnJvd3NlcicpXG4gICwgdXJsVXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscy91cmwnKVxuICA7XG5cbnZhciBkZWJ1ZyA9IGZ1bmN0aW9uKCkge307XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ3NvY2tqcy1jbGllbnQ6c2VuZGVyOnhkcicpO1xufVxuXG4vLyBSZWZlcmVuY2VzOlxuLy8gICBodHRwOi8vYWpheGlhbi5jb20vYXJjaGl2ZXMvMTAwLWxpbmUtYWpheC13cmFwcGVyXG4vLyAgIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9jYzI4ODA2MCh2PVZTLjg1KS5hc3B4XG5cbmZ1bmN0aW9uIFhEUk9iamVjdChtZXRob2QsIHVybCwgcGF5bG9hZCkge1xuICBkZWJ1ZyhtZXRob2QsIHVybCk7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBzZWxmLl9zdGFydChtZXRob2QsIHVybCwgcGF5bG9hZCk7XG4gIH0sIDApO1xufVxuXG5pbmhlcml0cyhYRFJPYmplY3QsIEV2ZW50RW1pdHRlcik7XG5cblhEUk9iamVjdC5wcm90b3R5cGUuX3N0YXJ0ID0gZnVuY3Rpb24obWV0aG9kLCB1cmwsIHBheWxvYWQpIHtcbiAgZGVidWcoJ19zdGFydCcpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciB4ZHIgPSBuZXcgZ2xvYmFsLlhEb21haW5SZXF1ZXN0KCk7XG4gIC8vIElFIGNhY2hlcyBldmVuIFBPU1RzXG4gIHVybCA9IHVybFV0aWxzLmFkZFF1ZXJ5KHVybCwgJ3Q9JyArICgrbmV3IERhdGUoKSkpO1xuXG4gIHhkci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgZGVidWcoJ29uZXJyb3InKTtcbiAgICBzZWxmLl9lcnJvcigpO1xuICB9O1xuICB4ZHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgZGVidWcoJ29udGltZW91dCcpO1xuICAgIHNlbGYuX2Vycm9yKCk7XG4gIH07XG4gIHhkci5vbnByb2dyZXNzID0gZnVuY3Rpb24oKSB7XG4gICAgZGVidWcoJ3Byb2dyZXNzJywgeGRyLnJlc3BvbnNlVGV4dCk7XG4gICAgc2VsZi5lbWl0KCdjaHVuaycsIDIwMCwgeGRyLnJlc3BvbnNlVGV4dCk7XG4gIH07XG4gIHhkci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICBkZWJ1ZygnbG9hZCcpO1xuICAgIHNlbGYuZW1pdCgnZmluaXNoJywgMjAwLCB4ZHIucmVzcG9uc2VUZXh0KTtcbiAgICBzZWxmLl9jbGVhbnVwKGZhbHNlKTtcbiAgfTtcbiAgdGhpcy54ZHIgPSB4ZHI7XG4gIHRoaXMudW5sb2FkUmVmID0gZXZlbnRVdGlscy51bmxvYWRBZGQoZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5fY2xlYW51cCh0cnVlKTtcbiAgfSk7XG4gIHRyeSB7XG4gICAgLy8gRmFpbHMgd2l0aCBBY2Nlc3NEZW5pZWQgaWYgcG9ydCBudW1iZXIgaXMgYm9ndXNcbiAgICB0aGlzLnhkci5vcGVuKG1ldGhvZCwgdXJsKTtcbiAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICB0aGlzLnhkci50aW1lb3V0ID0gdGhpcy50aW1lb3V0O1xuICAgIH1cbiAgICB0aGlzLnhkci5zZW5kKHBheWxvYWQpO1xuICB9IGNhdGNoICh4KSB7XG4gICAgdGhpcy5fZXJyb3IoKTtcbiAgfVxufTtcblxuWERST2JqZWN0LnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbWl0KCdmaW5pc2gnLCAwLCAnJyk7XG4gIHRoaXMuX2NsZWFudXAoZmFsc2UpO1xufTtcblxuWERST2JqZWN0LnByb3RvdHlwZS5fY2xlYW51cCA9IGZ1bmN0aW9uKGFib3J0KSB7XG4gIGRlYnVnKCdjbGVhbnVwJywgYWJvcnQpO1xuICBpZiAoIXRoaXMueGRyKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIGV2ZW50VXRpbHMudW5sb2FkRGVsKHRoaXMudW5sb2FkUmVmKTtcblxuICB0aGlzLnhkci5vbnRpbWVvdXQgPSB0aGlzLnhkci5vbmVycm9yID0gdGhpcy54ZHIub25wcm9ncmVzcyA9IHRoaXMueGRyLm9ubG9hZCA9IG51bGw7XG4gIGlmIChhYm9ydCkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnhkci5hYm9ydCgpO1xuICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgIC8vIGludGVudGlvbmFsbHkgZW1wdHlcbiAgICB9XG4gIH1cbiAgdGhpcy51bmxvYWRSZWYgPSB0aGlzLnhkciA9IG51bGw7XG59O1xuXG5YRFJPYmplY3QucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdjbG9zZScpO1xuICB0aGlzLl9jbGVhbnVwKHRydWUpO1xufTtcblxuLy8gSUUgOC85IGlmIHRoZSByZXF1ZXN0IHRhcmdldCB1c2VzIHRoZSBzYW1lIHNjaGVtZSAtICM3OVxuWERST2JqZWN0LmVuYWJsZWQgPSAhIShnbG9iYWwuWERvbWFpblJlcXVlc3QgJiYgYnJvd3Nlci5oYXNEb21haW4oKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gWERST2JqZWN0O1xuXG59KS5jYWxsKHRoaXMseyBlbnY6IHt9IH0sdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7XCIuLi8uLi91dGlscy9icm93c2VyXCI6NDQsXCIuLi8uLi91dGlscy9ldmVudFwiOjQ2LFwiLi4vLi4vdXRpbHMvdXJsXCI6NTIsXCJkZWJ1Z1wiOjU1LFwiZXZlbnRzXCI6MyxcImluaGVyaXRzXCI6NTd9XSwzNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBYaHJEcml2ZXIgPSByZXF1aXJlKCcuLi9kcml2ZXIveGhyJylcbiAgO1xuXG5mdW5jdGlvbiBYSFJDb3JzT2JqZWN0KG1ldGhvZCwgdXJsLCBwYXlsb2FkLCBvcHRzKSB7XG4gIFhockRyaXZlci5jYWxsKHRoaXMsIG1ldGhvZCwgdXJsLCBwYXlsb2FkLCBvcHRzKTtcbn1cblxuaW5oZXJpdHMoWEhSQ29yc09iamVjdCwgWGhyRHJpdmVyKTtcblxuWEhSQ29yc09iamVjdC5lbmFibGVkID0gWGhyRHJpdmVyLmVuYWJsZWQgJiYgWGhyRHJpdmVyLnN1cHBvcnRzQ09SUztcblxubW9kdWxlLmV4cG9ydHMgPSBYSFJDb3JzT2JqZWN0O1xuXG59LHtcIi4uL2RyaXZlci94aHJcIjoxNyxcImluaGVyaXRzXCI6NTd9XSwzNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbiAgLCBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgO1xuXG5mdW5jdGlvbiBYSFJGYWtlKC8qIG1ldGhvZCwgdXJsLCBwYXlsb2FkLCBvcHRzICovKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgdGhpcy50byA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5lbWl0KCdmaW5pc2gnLCAyMDAsICd7fScpO1xuICB9LCBYSFJGYWtlLnRpbWVvdXQpO1xufVxuXG5pbmhlcml0cyhYSFJGYWtlLCBFdmVudEVtaXR0ZXIpO1xuXG5YSFJGYWtlLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICBjbGVhclRpbWVvdXQodGhpcy50byk7XG59O1xuXG5YSFJGYWtlLnRpbWVvdXQgPSAyMDAwO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFhIUkZha2U7XG5cbn0se1wiZXZlbnRzXCI6MyxcImluaGVyaXRzXCI6NTd9XSwzNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBYaHJEcml2ZXIgPSByZXF1aXJlKCcuLi9kcml2ZXIveGhyJylcbiAgO1xuXG5mdW5jdGlvbiBYSFJMb2NhbE9iamVjdChtZXRob2QsIHVybCwgcGF5bG9hZCAvKiwgb3B0cyAqLykge1xuICBYaHJEcml2ZXIuY2FsbCh0aGlzLCBtZXRob2QsIHVybCwgcGF5bG9hZCwge1xuICAgIG5vQ3JlZGVudGlhbHM6IHRydWVcbiAgfSk7XG59XG5cbmluaGVyaXRzKFhIUkxvY2FsT2JqZWN0LCBYaHJEcml2ZXIpO1xuXG5YSFJMb2NhbE9iamVjdC5lbmFibGVkID0gWGhyRHJpdmVyLmVuYWJsZWQ7XG5cbm1vZHVsZS5leHBvcnRzID0gWEhSTG9jYWxPYmplY3Q7XG5cbn0se1wiLi4vZHJpdmVyL3hoclwiOjE3LFwiaW5oZXJpdHNcIjo1N31dLDM4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL2V2ZW50JylcbiAgLCB1cmxVdGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL3VybCcpXG4gICwgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyXG4gICwgV2Vic29ja2V0RHJpdmVyID0gcmVxdWlyZSgnLi9kcml2ZXIvd2Vic29ja2V0JylcbiAgO1xuXG52YXIgZGVidWcgPSBmdW5jdGlvbigpIHt9O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NranMtY2xpZW50OndlYnNvY2tldCcpO1xufVxuXG5mdW5jdGlvbiBXZWJTb2NrZXRUcmFuc3BvcnQodHJhbnNVcmwsIGlnbm9yZSwgb3B0aW9ucykge1xuICBpZiAoIVdlYlNvY2tldFRyYW5zcG9ydC5lbmFibGVkKCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zcG9ydCBjcmVhdGVkIHdoZW4gZGlzYWJsZWQnKTtcbiAgfVxuXG4gIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuICBkZWJ1ZygnY29uc3RydWN0b3InLCB0cmFuc1VybCk7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgdXJsID0gdXJsVXRpbHMuYWRkUGF0aCh0cmFuc1VybCwgJy93ZWJzb2NrZXQnKTtcbiAgaWYgKHVybC5zbGljZSgwLCA1KSA9PT0gJ2h0dHBzJykge1xuICAgIHVybCA9ICd3c3MnICsgdXJsLnNsaWNlKDUpO1xuICB9IGVsc2Uge1xuICAgIHVybCA9ICd3cycgKyB1cmwuc2xpY2UoNCk7XG4gIH1cbiAgdGhpcy51cmwgPSB1cmw7XG5cbiAgdGhpcy53cyA9IG5ldyBXZWJzb2NrZXREcml2ZXIodGhpcy51cmwsIFtdLCBvcHRpb25zKTtcbiAgdGhpcy53cy5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgZGVidWcoJ21lc3NhZ2UgZXZlbnQnLCBlLmRhdGEpO1xuICAgIHNlbGYuZW1pdCgnbWVzc2FnZScsIGUuZGF0YSk7XG4gIH07XG4gIC8vIEZpcmVmb3ggaGFzIGFuIGludGVyZXN0aW5nIGJ1Zy4gSWYgYSB3ZWJzb2NrZXQgY29ubmVjdGlvbiBpc1xuICAvLyBjcmVhdGVkIGFmdGVyIG9udW5sb2FkLCBpdCBzdGF5cyBhbGl2ZSBldmVuIHdoZW4gdXNlclxuICAvLyBuYXZpZ2F0ZXMgYXdheSBmcm9tIHRoZSBwYWdlLiBJbiBzdWNoIHNpdHVhdGlvbiBsZXQncyBsaWUgLVxuICAvLyBsZXQncyBub3Qgb3BlbiB0aGUgd3MgY29ubmVjdGlvbiBhdCBhbGwuIFNlZTpcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3NvY2tqcy9zb2NranMtY2xpZW50L2lzc3Vlcy8yOFxuICAvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02OTYwODVcbiAgdGhpcy51bmxvYWRSZWYgPSB1dGlscy51bmxvYWRBZGQoZnVuY3Rpb24oKSB7XG4gICAgZGVidWcoJ3VubG9hZCcpO1xuICAgIHNlbGYud3MuY2xvc2UoKTtcbiAgfSk7XG4gIHRoaXMud3Mub25jbG9zZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICBkZWJ1ZygnY2xvc2UgZXZlbnQnLCBlLmNvZGUsIGUucmVhc29uKTtcbiAgICBzZWxmLmVtaXQoJ2Nsb3NlJywgZS5jb2RlLCBlLnJlYXNvbik7XG4gICAgc2VsZi5fY2xlYW51cCgpO1xuICB9O1xuICB0aGlzLndzLm9uZXJyb3IgPSBmdW5jdGlvbihlKSB7XG4gICAgZGVidWcoJ2Vycm9yIGV2ZW50JywgZSk7XG4gICAgc2VsZi5lbWl0KCdjbG9zZScsIDEwMDYsICdXZWJTb2NrZXQgY29ubmVjdGlvbiBicm9rZW4nKTtcbiAgICBzZWxmLl9jbGVhbnVwKCk7XG4gIH07XG59XG5cbmluaGVyaXRzKFdlYlNvY2tldFRyYW5zcG9ydCwgRXZlbnRFbWl0dGVyKTtcblxuV2ViU29ja2V0VHJhbnNwb3J0LnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24oZGF0YSkge1xuICB2YXIgbXNnID0gJ1snICsgZGF0YSArICddJztcbiAgZGVidWcoJ3NlbmQnLCBtc2cpO1xuICB0aGlzLndzLnNlbmQobXNnKTtcbn07XG5cbldlYlNvY2tldFRyYW5zcG9ydC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ2Nsb3NlJyk7XG4gIHZhciB3cyA9IHRoaXMud3M7XG4gIHRoaXMuX2NsZWFudXAoKTtcbiAgaWYgKHdzKSB7XG4gICAgd3MuY2xvc2UoKTtcbiAgfVxufTtcblxuV2ViU29ja2V0VHJhbnNwb3J0LnByb3RvdHlwZS5fY2xlYW51cCA9IGZ1bmN0aW9uKCkge1xuICBkZWJ1ZygnX2NsZWFudXAnKTtcbiAgdmFyIHdzID0gdGhpcy53cztcbiAgaWYgKHdzKSB7XG4gICAgd3Mub25tZXNzYWdlID0gd3Mub25jbG9zZSA9IHdzLm9uZXJyb3IgPSBudWxsO1xuICB9XG4gIHV0aWxzLnVubG9hZERlbCh0aGlzLnVubG9hZFJlZik7XG4gIHRoaXMudW5sb2FkUmVmID0gdGhpcy53cyA9IG51bGw7XG4gIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG59O1xuXG5XZWJTb2NrZXRUcmFuc3BvcnQuZW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xuICBkZWJ1ZygnZW5hYmxlZCcpO1xuICByZXR1cm4gISFXZWJzb2NrZXREcml2ZXI7XG59O1xuV2ViU29ja2V0VHJhbnNwb3J0LnRyYW5zcG9ydE5hbWUgPSAnd2Vic29ja2V0JztcblxuLy8gSW4gdGhlb3J5LCB3cyBzaG91bGQgcmVxdWlyZSAxIHJvdW5kIHRyaXAuIEJ1dCBpbiBjaHJvbWUsIHRoaXMgaXNcbi8vIG5vdCB2ZXJ5IHN0YWJsZSBvdmVyIFNTTC4gTW9zdCBsaWtlbHkgYSB3cyBjb25uZWN0aW9uIHJlcXVpcmVzIGFcbi8vIHNlcGFyYXRlIFNTTCBjb25uZWN0aW9uLCBpbiB3aGljaCBjYXNlIDIgcm91bmQgdHJpcHMgYXJlIGFuXG4vLyBhYnNvbHV0ZSBtaW51bXVtLlxuV2ViU29ja2V0VHJhbnNwb3J0LnJvdW5kVHJpcHMgPSAyO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdlYlNvY2tldFRyYW5zcG9ydDtcblxufSkuY2FsbCh0aGlzLHsgZW52OiB7fSB9KVxuXG59LHtcIi4uL3V0aWxzL2V2ZW50XCI6NDYsXCIuLi91dGlscy91cmxcIjo1MixcIi4vZHJpdmVyL3dlYnNvY2tldFwiOjE5LFwiZGVidWdcIjo1NSxcImV2ZW50c1wiOjMsXCJpbmhlcml0c1wiOjU3fV0sMzk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgQWpheEJhc2VkVHJhbnNwb3J0ID0gcmVxdWlyZSgnLi9saWIvYWpheC1iYXNlZCcpXG4gICwgWGRyU3RyZWFtaW5nVHJhbnNwb3J0ID0gcmVxdWlyZSgnLi94ZHItc3RyZWFtaW5nJylcbiAgLCBYaHJSZWNlaXZlciA9IHJlcXVpcmUoJy4vcmVjZWl2ZXIveGhyJylcbiAgLCBYRFJPYmplY3QgPSByZXF1aXJlKCcuL3NlbmRlci94ZHInKVxuICA7XG5cbmZ1bmN0aW9uIFhkclBvbGxpbmdUcmFuc3BvcnQodHJhbnNVcmwpIHtcbiAgaWYgKCFYRFJPYmplY3QuZW5hYmxlZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignVHJhbnNwb3J0IGNyZWF0ZWQgd2hlbiBkaXNhYmxlZCcpO1xuICB9XG4gIEFqYXhCYXNlZFRyYW5zcG9ydC5jYWxsKHRoaXMsIHRyYW5zVXJsLCAnL3hocicsIFhoclJlY2VpdmVyLCBYRFJPYmplY3QpO1xufVxuXG5pbmhlcml0cyhYZHJQb2xsaW5nVHJhbnNwb3J0LCBBamF4QmFzZWRUcmFuc3BvcnQpO1xuXG5YZHJQb2xsaW5nVHJhbnNwb3J0LmVuYWJsZWQgPSBYZHJTdHJlYW1pbmdUcmFuc3BvcnQuZW5hYmxlZDtcblhkclBvbGxpbmdUcmFuc3BvcnQudHJhbnNwb3J0TmFtZSA9ICd4ZHItcG9sbGluZyc7XG5YZHJQb2xsaW5nVHJhbnNwb3J0LnJvdW5kVHJpcHMgPSAyOyAvLyBwcmVmbGlnaHQsIGFqYXhcblxubW9kdWxlLmV4cG9ydHMgPSBYZHJQb2xsaW5nVHJhbnNwb3J0O1xuXG59LHtcIi4vbGliL2FqYXgtYmFzZWRcIjoyNCxcIi4vcmVjZWl2ZXIveGhyXCI6MzIsXCIuL3NlbmRlci94ZHJcIjozNCxcIi4veGRyLXN0cmVhbWluZ1wiOjQwLFwiaW5oZXJpdHNcIjo1N31dLDQwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIEFqYXhCYXNlZFRyYW5zcG9ydCA9IHJlcXVpcmUoJy4vbGliL2FqYXgtYmFzZWQnKVxuICAsIFhoclJlY2VpdmVyID0gcmVxdWlyZSgnLi9yZWNlaXZlci94aHInKVxuICAsIFhEUk9iamVjdCA9IHJlcXVpcmUoJy4vc2VuZGVyL3hkcicpXG4gIDtcblxuLy8gQWNjb3JkaW5nIHRvOlxuLy8gICBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE2NDE1MDcvZGV0ZWN0LWJyb3dzZXItc3VwcG9ydC1mb3ItY3Jvc3MtZG9tYWluLXhtbGh0dHByZXF1ZXN0c1xuLy8gICBodHRwOi8vaGFja3MubW96aWxsYS5vcmcvMjAwOS8wNy9jcm9zcy1zaXRlLXhtbGh0dHByZXF1ZXN0LXdpdGgtY29ycy9cblxuZnVuY3Rpb24gWGRyU3RyZWFtaW5nVHJhbnNwb3J0KHRyYW5zVXJsKSB7XG4gIGlmICghWERST2JqZWN0LmVuYWJsZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zcG9ydCBjcmVhdGVkIHdoZW4gZGlzYWJsZWQnKTtcbiAgfVxuICBBamF4QmFzZWRUcmFuc3BvcnQuY2FsbCh0aGlzLCB0cmFuc1VybCwgJy94aHJfc3RyZWFtaW5nJywgWGhyUmVjZWl2ZXIsIFhEUk9iamVjdCk7XG59XG5cbmluaGVyaXRzKFhkclN0cmVhbWluZ1RyYW5zcG9ydCwgQWpheEJhc2VkVHJhbnNwb3J0KTtcblxuWGRyU3RyZWFtaW5nVHJhbnNwb3J0LmVuYWJsZWQgPSBmdW5jdGlvbihpbmZvKSB7XG4gIGlmIChpbmZvLmNvb2tpZV9uZWVkZWQgfHwgaW5mby5udWxsT3JpZ2luKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBYRFJPYmplY3QuZW5hYmxlZCAmJiBpbmZvLnNhbWVTY2hlbWU7XG59O1xuXG5YZHJTdHJlYW1pbmdUcmFuc3BvcnQudHJhbnNwb3J0TmFtZSA9ICd4ZHItc3RyZWFtaW5nJztcblhkclN0cmVhbWluZ1RyYW5zcG9ydC5yb3VuZFRyaXBzID0gMjsgLy8gcHJlZmxpZ2h0LCBhamF4XG5cbm1vZHVsZS5leHBvcnRzID0gWGRyU3RyZWFtaW5nVHJhbnNwb3J0O1xuXG59LHtcIi4vbGliL2FqYXgtYmFzZWRcIjoyNCxcIi4vcmVjZWl2ZXIveGhyXCI6MzIsXCIuL3NlbmRlci94ZHJcIjozNCxcImluaGVyaXRzXCI6NTd9XSw0MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBBamF4QmFzZWRUcmFuc3BvcnQgPSByZXF1aXJlKCcuL2xpYi9hamF4LWJhc2VkJylcbiAgLCBYaHJSZWNlaXZlciA9IHJlcXVpcmUoJy4vcmVjZWl2ZXIveGhyJylcbiAgLCBYSFJDb3JzT2JqZWN0ID0gcmVxdWlyZSgnLi9zZW5kZXIveGhyLWNvcnMnKVxuICAsIFhIUkxvY2FsT2JqZWN0ID0gcmVxdWlyZSgnLi9zZW5kZXIveGhyLWxvY2FsJylcbiAgO1xuXG5mdW5jdGlvbiBYaHJQb2xsaW5nVHJhbnNwb3J0KHRyYW5zVXJsKSB7XG4gIGlmICghWEhSTG9jYWxPYmplY3QuZW5hYmxlZCAmJiAhWEhSQ29yc09iamVjdC5lbmFibGVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUcmFuc3BvcnQgY3JlYXRlZCB3aGVuIGRpc2FibGVkJyk7XG4gIH1cbiAgQWpheEJhc2VkVHJhbnNwb3J0LmNhbGwodGhpcywgdHJhbnNVcmwsICcveGhyJywgWGhyUmVjZWl2ZXIsIFhIUkNvcnNPYmplY3QpO1xufVxuXG5pbmhlcml0cyhYaHJQb2xsaW5nVHJhbnNwb3J0LCBBamF4QmFzZWRUcmFuc3BvcnQpO1xuXG5YaHJQb2xsaW5nVHJhbnNwb3J0LmVuYWJsZWQgPSBmdW5jdGlvbihpbmZvKSB7XG4gIGlmIChpbmZvLm51bGxPcmlnaW4pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoWEhSTG9jYWxPYmplY3QuZW5hYmxlZCAmJiBpbmZvLnNhbWVPcmlnaW4pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gWEhSQ29yc09iamVjdC5lbmFibGVkO1xufTtcblxuWGhyUG9sbGluZ1RyYW5zcG9ydC50cmFuc3BvcnROYW1lID0gJ3hoci1wb2xsaW5nJztcblhoclBvbGxpbmdUcmFuc3BvcnQucm91bmRUcmlwcyA9IDI7IC8vIHByZWZsaWdodCwgYWpheFxuXG5tb2R1bGUuZXhwb3J0cyA9IFhoclBvbGxpbmdUcmFuc3BvcnQ7XG5cbn0se1wiLi9saWIvYWpheC1iYXNlZFwiOjI0LFwiLi9yZWNlaXZlci94aHJcIjozMixcIi4vc2VuZGVyL3hoci1jb3JzXCI6MzUsXCIuL3NlbmRlci94aHItbG9jYWxcIjozNyxcImluaGVyaXRzXCI6NTd9XSw0MjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKGdsb2JhbCl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBBamF4QmFzZWRUcmFuc3BvcnQgPSByZXF1aXJlKCcuL2xpYi9hamF4LWJhc2VkJylcbiAgLCBYaHJSZWNlaXZlciA9IHJlcXVpcmUoJy4vcmVjZWl2ZXIveGhyJylcbiAgLCBYSFJDb3JzT2JqZWN0ID0gcmVxdWlyZSgnLi9zZW5kZXIveGhyLWNvcnMnKVxuICAsIFhIUkxvY2FsT2JqZWN0ID0gcmVxdWlyZSgnLi9zZW5kZXIveGhyLWxvY2FsJylcbiAgLCBicm93c2VyID0gcmVxdWlyZSgnLi4vdXRpbHMvYnJvd3NlcicpXG4gIDtcblxuZnVuY3Rpb24gWGhyU3RyZWFtaW5nVHJhbnNwb3J0KHRyYW5zVXJsKSB7XG4gIGlmICghWEhSTG9jYWxPYmplY3QuZW5hYmxlZCAmJiAhWEhSQ29yc09iamVjdC5lbmFibGVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUcmFuc3BvcnQgY3JlYXRlZCB3aGVuIGRpc2FibGVkJyk7XG4gIH1cbiAgQWpheEJhc2VkVHJhbnNwb3J0LmNhbGwodGhpcywgdHJhbnNVcmwsICcveGhyX3N0cmVhbWluZycsIFhoclJlY2VpdmVyLCBYSFJDb3JzT2JqZWN0KTtcbn1cblxuaW5oZXJpdHMoWGhyU3RyZWFtaW5nVHJhbnNwb3J0LCBBamF4QmFzZWRUcmFuc3BvcnQpO1xuXG5YaHJTdHJlYW1pbmdUcmFuc3BvcnQuZW5hYmxlZCA9IGZ1bmN0aW9uKGluZm8pIHtcbiAgaWYgKGluZm8ubnVsbE9yaWdpbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBPcGVyYSBkb2Vzbid0IHN1cHBvcnQgeGhyLXN0cmVhbWluZyAjNjBcbiAgLy8gQnV0IGl0IG1pZ2h0IGJlIGFibGUgdG8gIzkyXG4gIGlmIChicm93c2VyLmlzT3BlcmEoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBYSFJDb3JzT2JqZWN0LmVuYWJsZWQ7XG59O1xuXG5YaHJTdHJlYW1pbmdUcmFuc3BvcnQudHJhbnNwb3J0TmFtZSA9ICd4aHItc3RyZWFtaW5nJztcblhoclN0cmVhbWluZ1RyYW5zcG9ydC5yb3VuZFRyaXBzID0gMjsgLy8gcHJlZmxpZ2h0LCBhamF4XG5cbi8vIFNhZmFyaSBnZXRzIGNvbmZ1c2VkIHdoZW4gYSBzdHJlYW1pbmcgYWpheCByZXF1ZXN0IGlzIHN0YXJ0ZWRcbi8vIGJlZm9yZSBvbmxvYWQuIFRoaXMgY2F1c2VzIHRoZSBsb2FkIGluZGljYXRvciB0byBzcGluIGluZGVmaW5ldGVseS5cbi8vIE9ubHkgcmVxdWlyZSBib2R5IHdoZW4gdXNlZCBpbiBhIGJyb3dzZXJcblhoclN0cmVhbWluZ1RyYW5zcG9ydC5uZWVkQm9keSA9ICEhZ2xvYmFsLmRvY3VtZW50O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFhoclN0cmVhbWluZ1RyYW5zcG9ydDtcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG5cbn0se1wiLi4vdXRpbHMvYnJvd3NlclwiOjQ0LFwiLi9saWIvYWpheC1iYXNlZFwiOjI0LFwiLi9yZWNlaXZlci94aHJcIjozMixcIi4vc2VuZGVyL3hoci1jb3JzXCI6MzUsXCIuL3NlbmRlci94aHItbG9jYWxcIjozNyxcImluaGVyaXRzXCI6NTd9XSw0MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKGdsb2JhbCl7XG4ndXNlIHN0cmljdCc7XG5cbmlmIChnbG9iYWwuY3J5cHRvICYmIGdsb2JhbC5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XG4gIG1vZHVsZS5leHBvcnRzLnJhbmRvbUJ5dGVzID0gZnVuY3Rpb24obGVuZ3RoKSB7XG4gICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcbiAgICBnbG9iYWwuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhieXRlcyk7XG4gICAgcmV0dXJuIGJ5dGVzO1xuICB9O1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMucmFuZG9tQnl0ZXMgPSBmdW5jdGlvbihsZW5ndGgpIHtcbiAgICB2YXIgYnl0ZXMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBieXRlc1tpXSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1Nik7XG4gICAgfVxuICAgIHJldHVybiBieXRlcztcbiAgfTtcbn1cblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG5cbn0se31dLDQ0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzT3BlcmE6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnbG9iYWwubmF2aWdhdG9yICYmXG4gICAgICAvb3BlcmEvaS50ZXN0KGdsb2JhbC5uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgfVxuXG4sIGlzS29ucXVlcm9yOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ2xvYmFsLm5hdmlnYXRvciAmJlxuICAgICAgL2tvbnF1ZXJvci9pLnRlc3QoZ2xvYmFsLm5hdmlnYXRvci51c2VyQWdlbnQpO1xuICB9XG5cbiAgLy8gIzE4NyB3cmFwIGRvY3VtZW50LmRvbWFpbiBpbiB0cnkvY2F0Y2ggYmVjYXVzZSBvZiBXUDggZnJvbSBmaWxlOi8vL1xuLCBoYXNEb21haW46IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBub24tYnJvd3NlciBjbGllbnQgYWx3YXlzIGhhcyBhIGRvbWFpblxuICAgIGlmICghZ2xvYmFsLmRvY3VtZW50KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuICEhZ2xvYmFsLmRvY3VtZW50LmRvbWFpbjtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG59O1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7fV0sNDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgSlNPTjMgPSByZXF1aXJlKCdqc29uMycpO1xuXG4vLyBTb21lIGV4dHJhIGNoYXJhY3RlcnMgdGhhdCBDaHJvbWUgZ2V0cyB3cm9uZywgYW5kIHN1YnN0aXR1dGVzIHdpdGhcbi8vIHNvbWV0aGluZyBlbHNlIG9uIHRoZSB3aXJlLlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbnZhciBleHRyYUVzY2FwYWJsZSA9IC9bXFx4MDAtXFx4MWZcXHVkODAwLVxcdWRmZmZcXHVmZmZlXFx1ZmZmZlxcdTAzMDAtXFx1MDMzM1xcdTAzM2QtXFx1MDM0NlxcdTAzNGEtXFx1MDM0Y1xcdTAzNTAtXFx1MDM1MlxcdTAzNTctXFx1MDM1OFxcdTAzNWMtXFx1MDM2MlxcdTAzNzRcXHUwMzdlXFx1MDM4N1xcdTA1OTEtXFx1MDVhZlxcdTA1YzRcXHUwNjEwLVxcdTA2MTdcXHUwNjUzLVxcdTA2NTRcXHUwNjU3LVxcdTA2NWJcXHUwNjVkLVxcdTA2NWVcXHUwNmRmLVxcdTA2ZTJcXHUwNmViLVxcdTA2ZWNcXHUwNzMwXFx1MDczMi1cXHUwNzMzXFx1MDczNS1cXHUwNzM2XFx1MDczYVxcdTA3M2RcXHUwNzNmLVxcdTA3NDFcXHUwNzQzXFx1MDc0NVxcdTA3NDdcXHUwN2ViLVxcdTA3ZjFcXHUwOTUxXFx1MDk1OC1cXHUwOTVmXFx1MDlkYy1cXHUwOWRkXFx1MDlkZlxcdTBhMzNcXHUwYTM2XFx1MGE1OS1cXHUwYTViXFx1MGE1ZVxcdTBiNWMtXFx1MGI1ZFxcdTBlMzgtXFx1MGUzOVxcdTBmNDNcXHUwZjRkXFx1MGY1MlxcdTBmNTdcXHUwZjVjXFx1MGY2OVxcdTBmNzItXFx1MGY3NlxcdTBmNzhcXHUwZjgwLVxcdTBmODNcXHUwZjkzXFx1MGY5ZFxcdTBmYTJcXHUwZmE3XFx1MGZhY1xcdTBmYjlcXHUxOTM5LVxcdTE5M2FcXHUxYTE3XFx1MWI2YlxcdTFjZGEtXFx1MWNkYlxcdTFkYzAtXFx1MWRjZlxcdTFkZmNcXHUxZGZlXFx1MWY3MVxcdTFmNzNcXHUxZjc1XFx1MWY3N1xcdTFmNzlcXHUxZjdiXFx1MWY3ZFxcdTFmYmJcXHUxZmJlXFx1MWZjOVxcdTFmY2JcXHUxZmQzXFx1MWZkYlxcdTFmZTNcXHUxZmViXFx1MWZlZS1cXHUxZmVmXFx1MWZmOVxcdTFmZmJcXHUxZmZkXFx1MjAwMC1cXHUyMDAxXFx1MjBkMC1cXHUyMGQxXFx1MjBkNC1cXHUyMGQ3XFx1MjBlNy1cXHUyMGU5XFx1MjEyNlxcdTIxMmEtXFx1MjEyYlxcdTIzMjktXFx1MjMyYVxcdTJhZGNcXHUzMDJiLVxcdTMwMmNcXHVhYWIyLVxcdWFhYjNcXHVmOTAwLVxcdWZhMGRcXHVmYTEwXFx1ZmExMlxcdWZhMTUtXFx1ZmExZVxcdWZhMjBcXHVmYTIyXFx1ZmEyNS1cXHVmYTI2XFx1ZmEyYS1cXHVmYTJkXFx1ZmEzMC1cXHVmYTZkXFx1ZmE3MC1cXHVmYWQ5XFx1ZmIxZFxcdWZiMWZcXHVmYjJhLVxcdWZiMzZcXHVmYjM4LVxcdWZiM2NcXHVmYjNlXFx1ZmI0MC1cXHVmYjQxXFx1ZmI0My1cXHVmYjQ0XFx1ZmI0Ni1cXHVmYjRlXFx1ZmZmMC1cXHVmZmZmXS9nXG4gICwgZXh0cmFMb29rdXA7XG5cbi8vIFRoaXMgbWF5IGJlIHF1aXRlIHNsb3csIHNvIGxldCdzIGRlbGF5IHVudGlsIHVzZXIgYWN0dWFsbHkgdXNlcyBiYWRcbi8vIGNoYXJhY3RlcnMuXG52YXIgdW5yb2xsTG9va3VwID0gZnVuY3Rpb24oZXNjYXBhYmxlKSB7XG4gIHZhciBpO1xuICB2YXIgdW5yb2xsZWQgPSB7fTtcbiAgdmFyIGMgPSBbXTtcbiAgZm9yIChpID0gMDsgaSA8IDY1NTM2OyBpKyspIHtcbiAgICBjLnB1c2goIFN0cmluZy5mcm9tQ2hhckNvZGUoaSkgKTtcbiAgfVxuICBlc2NhcGFibGUubGFzdEluZGV4ID0gMDtcbiAgYy5qb2luKCcnKS5yZXBsYWNlKGVzY2FwYWJsZSwgZnVuY3Rpb24oYSkge1xuICAgIHVucm9sbGVkWyBhIF0gPSAnXFxcXHUnICsgKCcwMDAwJyArIGEuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KTtcbiAgICByZXR1cm4gJyc7XG4gIH0pO1xuICBlc2NhcGFibGUubGFzdEluZGV4ID0gMDtcbiAgcmV0dXJuIHVucm9sbGVkO1xufTtcblxuLy8gUXVvdGUgc3RyaW5nLCBhbHNvIHRha2luZyBjYXJlIG9mIHVuaWNvZGUgY2hhcmFjdGVycyB0aGF0IGJyb3dzZXJzXG4vLyBvZnRlbiBicmVhay4gRXNwZWNpYWxseSwgdGFrZSBjYXJlIG9mIHVuaWNvZGUgc3Vycm9nYXRlczpcbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTWFwcGluZ19vZl9Vbmljb2RlX2NoYXJhY3RlcnMjU3Vycm9nYXRlc1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHF1b3RlOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICB2YXIgcXVvdGVkID0gSlNPTjMuc3RyaW5naWZ5KHN0cmluZyk7XG5cbiAgICAvLyBJbiBtb3N0IGNhc2VzIHRoaXMgc2hvdWxkIGJlIHZlcnkgZmFzdCBhbmQgZ29vZCBlbm91Z2guXG4gICAgZXh0cmFFc2NhcGFibGUubGFzdEluZGV4ID0gMDtcbiAgICBpZiAoIWV4dHJhRXNjYXBhYmxlLnRlc3QocXVvdGVkKSkge1xuICAgICAgcmV0dXJuIHF1b3RlZDtcbiAgICB9XG5cbiAgICBpZiAoIWV4dHJhTG9va3VwKSB7XG4gICAgICBleHRyYUxvb2t1cCA9IHVucm9sbExvb2t1cChleHRyYUVzY2FwYWJsZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHF1b3RlZC5yZXBsYWNlKGV4dHJhRXNjYXBhYmxlLCBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gZXh0cmFMb29rdXBbYV07XG4gICAgfSk7XG4gIH1cbn07XG5cbn0se1wianNvbjNcIjo1OH1dLDQ2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIHJhbmRvbSA9IHJlcXVpcmUoJy4vcmFuZG9tJyk7XG5cbnZhciBvblVubG9hZCA9IHt9XG4gICwgYWZ0ZXJVbmxvYWQgPSBmYWxzZVxuICAgIC8vIGRldGVjdCBnb29nbGUgY2hyb21lIHBhY2thZ2VkIGFwcHMgYmVjYXVzZSB0aGV5IGRvbid0IGFsbG93IHRoZSAndW5sb2FkJyBldmVudFxuICAsIGlzQ2hyb21lUGFja2FnZWRBcHAgPSBnbG9iYWwuY2hyb21lICYmIGdsb2JhbC5jaHJvbWUuYXBwICYmIGdsb2JhbC5jaHJvbWUuYXBwLnJ1bnRpbWVcbiAgO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYXR0YWNoRXZlbnQ6IGZ1bmN0aW9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKGdsb2JhbC5kb2N1bWVudCAmJiBnbG9iYWwuYXR0YWNoRXZlbnQpIHtcbiAgICAgIC8vIElFIHF1aXJrcy5cbiAgICAgIC8vIEFjY29yZGluZyB0bzogaHR0cDovL3N0ZXZlc291ZGVycy5jb20vbWlzYy90ZXN0LXBvc3RtZXNzYWdlLnBocFxuICAgICAgLy8gdGhlIG1lc3NhZ2UgZ2V0cyBkZWxpdmVyZWQgb25seSB0byAnZG9jdW1lbnQnLCBub3QgJ3dpbmRvdycuXG4gICAgICBnbG9iYWwuZG9jdW1lbnQuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAvLyBJIGdldCAnd2luZG93JyBmb3IgaWU4LlxuICAgICAgZ2xvYmFsLmF0dGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfVxuXG4sIGRldGFjaEV2ZW50OiBmdW5jdGlvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICBpZiAodHlwZW9mIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZ2xvYmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XG4gICAgfSBlbHNlIGlmIChnbG9iYWwuZG9jdW1lbnQgJiYgZ2xvYmFsLmRldGFjaEV2ZW50KSB7XG4gICAgICBnbG9iYWwuZG9jdW1lbnQuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICBnbG9iYWwuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICB9XG5cbiwgdW5sb2FkQWRkOiBmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgIGlmIChpc0Nocm9tZVBhY2thZ2VkQXBwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgcmVmID0gcmFuZG9tLnN0cmluZyg4KTtcbiAgICBvblVubG9hZFtyZWZdID0gbGlzdGVuZXI7XG4gICAgaWYgKGFmdGVyVW5sb2FkKSB7XG4gICAgICBzZXRUaW1lb3V0KHRoaXMudHJpZ2dlclVubG9hZENhbGxiYWNrcywgMCk7XG4gICAgfVxuICAgIHJldHVybiByZWY7XG4gIH1cblxuLCB1bmxvYWREZWw6IGZ1bmN0aW9uKHJlZikge1xuICAgIGlmIChyZWYgaW4gb25VbmxvYWQpIHtcbiAgICAgIGRlbGV0ZSBvblVubG9hZFtyZWZdO1xuICAgIH1cbiAgfVxuXG4sIHRyaWdnZXJVbmxvYWRDYWxsYmFja3M6IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIHJlZiBpbiBvblVubG9hZCkge1xuICAgICAgb25VbmxvYWRbcmVmXSgpO1xuICAgICAgZGVsZXRlIG9uVW5sb2FkW3JlZl07XG4gICAgfVxuICB9XG59O1xuXG52YXIgdW5sb2FkVHJpZ2dlcmVkID0gZnVuY3Rpb24oKSB7XG4gIGlmIChhZnRlclVubG9hZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBhZnRlclVubG9hZCA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzLnRyaWdnZXJVbmxvYWRDYWxsYmFja3MoKTtcbn07XG5cbi8vICd1bmxvYWQnIGFsb25lIGlzIG5vdCByZWxpYWJsZSBpbiBvcGVyYSB3aXRoaW4gYW4gaWZyYW1lLCBidXQgd2Vcbi8vIGNhbid0IHVzZSBgYmVmb3JldW5sb2FkYCBhcyBJRSBmaXJlcyBpdCBvbiBqYXZhc2NyaXB0OiBsaW5rcy5cbmlmICghaXNDaHJvbWVQYWNrYWdlZEFwcCkge1xuICBtb2R1bGUuZXhwb3J0cy5hdHRhY2hFdmVudCgndW5sb2FkJywgdW5sb2FkVHJpZ2dlcmVkKTtcbn1cblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG5cbn0se1wiLi9yYW5kb21cIjo1MH1dLDQ3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZXZlbnRVdGlscyA9IHJlcXVpcmUoJy4vZXZlbnQnKVxuICAsIEpTT04zID0gcmVxdWlyZSgnanNvbjMnKVxuICAsIGJyb3dzZXIgPSByZXF1aXJlKCcuL2Jyb3dzZXInKVxuICA7XG5cbnZhciBkZWJ1ZyA9IGZ1bmN0aW9uKCkge307XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ3NvY2tqcy1jbGllbnQ6dXRpbHM6aWZyYW1lJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBXUHJlZml4OiAnX2pwJ1xuLCBjdXJyZW50V2luZG93SWQ6IG51bGxcblxuLCBwb2xsdXRlR2xvYmFsTmFtZXNwYWNlOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoIShtb2R1bGUuZXhwb3J0cy5XUHJlZml4IGluIGdsb2JhbCkpIHtcbiAgICAgIGdsb2JhbFttb2R1bGUuZXhwb3J0cy5XUHJlZml4XSA9IHt9O1xuICAgIH1cbiAgfVxuXG4sIHBvc3RNZXNzYWdlOiBmdW5jdGlvbih0eXBlLCBkYXRhKSB7XG4gICAgaWYgKGdsb2JhbC5wYXJlbnQgIT09IGdsb2JhbCkge1xuICAgICAgZ2xvYmFsLnBhcmVudC5wb3N0TWVzc2FnZShKU09OMy5zdHJpbmdpZnkoe1xuICAgICAgICB3aW5kb3dJZDogbW9kdWxlLmV4cG9ydHMuY3VycmVudFdpbmRvd0lkXG4gICAgICAsIHR5cGU6IHR5cGVcbiAgICAgICwgZGF0YTogZGF0YSB8fCAnJ1xuICAgICAgfSksICcqJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlYnVnKCdDYW5ub3QgcG9zdE1lc3NhZ2UsIG5vIHBhcmVudCB3aW5kb3cuJywgdHlwZSwgZGF0YSk7XG4gICAgfVxuICB9XG5cbiwgY3JlYXRlSWZyYW1lOiBmdW5jdGlvbihpZnJhbWVVcmwsIGVycm9yQ2FsbGJhY2spIHtcbiAgICB2YXIgaWZyYW1lID0gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgIHZhciB0cmVmLCB1bmxvYWRSZWY7XG4gICAgdmFyIHVuYXR0YWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICBkZWJ1ZygndW5hdHRhY2gnKTtcbiAgICAgIGNsZWFyVGltZW91dCh0cmVmKTtcbiAgICAgIC8vIEV4cGxvcmVyIGhhZCBwcm9ibGVtcyB3aXRoIHRoYXQuXG4gICAgICB0cnkge1xuICAgICAgICBpZnJhbWUub25sb2FkID0gbnVsbDtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgLy8gaW50ZW50aW9uYWxseSBlbXB0eVxuICAgICAgfVxuICAgICAgaWZyYW1lLm9uZXJyb3IgPSBudWxsO1xuICAgIH07XG4gICAgdmFyIGNsZWFudXAgPSBmdW5jdGlvbigpIHtcbiAgICAgIGRlYnVnKCdjbGVhbnVwJyk7XG4gICAgICBpZiAoaWZyYW1lKSB7XG4gICAgICAgIHVuYXR0YWNoKCk7XG4gICAgICAgIC8vIFRoaXMgdGltZW91dCBtYWtlcyBjaHJvbWUgZmlyZSBvbmJlZm9yZXVubG9hZCBldmVudFxuICAgICAgICAvLyB3aXRoaW4gaWZyYW1lLiBXaXRob3V0IHRoZSB0aW1lb3V0IGl0IGdvZXMgc3RyYWlnaHQgdG9cbiAgICAgICAgLy8gb251bmxvYWQuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGlmcmFtZSkge1xuICAgICAgICAgICAgaWZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWZyYW1lID0gbnVsbDtcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIGV2ZW50VXRpbHMudW5sb2FkRGVsKHVubG9hZFJlZik7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgb25lcnJvciA9IGZ1bmN0aW9uKGVycikge1xuICAgICAgZGVidWcoJ29uZXJyb3InLCBlcnIpO1xuICAgICAgaWYgKGlmcmFtZSkge1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIGVycm9yQ2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBwb3N0ID0gZnVuY3Rpb24obXNnLCBvcmlnaW4pIHtcbiAgICAgIGRlYnVnKCdwb3N0JywgbXNnLCBvcmlnaW4pO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBXaGVuIHRoZSBpZnJhbWUgaXMgbm90IGxvYWRlZCwgSUUgcmFpc2VzIGFuIGV4Y2VwdGlvblxuICAgICAgICAgIC8vIG9uICdjb250ZW50V2luZG93Jy5cbiAgICAgICAgICBpZiAoaWZyYW1lICYmIGlmcmFtZS5jb250ZW50V2luZG93KSB7XG4gICAgICAgICAgICBpZnJhbWUuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZShtc2csIG9yaWdpbik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgLy8gaW50ZW50aW9uYWxseSBlbXB0eVxuICAgICAgICB9XG4gICAgICB9LCAwKTtcbiAgICB9O1xuXG4gICAgaWZyYW1lLnNyYyA9IGlmcmFtZVVybDtcbiAgICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBpZnJhbWUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIGlmcmFtZS5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICBvbmVycm9yKCdvbmVycm9yJyk7XG4gICAgfTtcbiAgICBpZnJhbWUub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICBkZWJ1Zygnb25sb2FkJyk7XG4gICAgICAvLyBgb25sb2FkYCBpcyB0cmlnZ2VyZWQgYmVmb3JlIHNjcmlwdHMgb24gdGhlIGlmcmFtZSBhcmVcbiAgICAgIC8vIGV4ZWN1dGVkLiBHaXZlIGl0IGZldyBzZWNvbmRzIHRvIGFjdHVhbGx5IGxvYWQgc3R1ZmYuXG4gICAgICBjbGVhclRpbWVvdXQodHJlZik7XG4gICAgICB0cmVmID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgb25lcnJvcignb25sb2FkIHRpbWVvdXQnKTtcbiAgICAgIH0sIDIwMDApO1xuICAgIH07XG4gICAgZ2xvYmFsLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICB0cmVmID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIG9uZXJyb3IoJ3RpbWVvdXQnKTtcbiAgICB9LCAxNTAwMCk7XG4gICAgdW5sb2FkUmVmID0gZXZlbnRVdGlscy51bmxvYWRBZGQoY2xlYW51cCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBvc3Q6IHBvc3RcbiAgICAsIGNsZWFudXA6IGNsZWFudXBcbiAgICAsIGxvYWRlZDogdW5hdHRhY2hcbiAgICB9O1xuICB9XG5cbi8qIGVzbGludCBuby11bmRlZjogXCJvZmZcIiwgbmV3LWNhcDogXCJvZmZcIiAqL1xuLCBjcmVhdGVIdG1sZmlsZTogZnVuY3Rpb24oaWZyYW1lVXJsLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgdmFyIGF4byA9IFsnQWN0aXZlJ10uY29uY2F0KCdPYmplY3QnKS5qb2luKCdYJyk7XG4gICAgdmFyIGRvYyA9IG5ldyBnbG9iYWxbYXhvXSgnaHRtbGZpbGUnKTtcbiAgICB2YXIgdHJlZiwgdW5sb2FkUmVmO1xuICAgIHZhciBpZnJhbWU7XG4gICAgdmFyIHVuYXR0YWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICBjbGVhclRpbWVvdXQodHJlZik7XG4gICAgICBpZnJhbWUub25lcnJvciA9IG51bGw7XG4gICAgfTtcbiAgICB2YXIgY2xlYW51cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGRvYykge1xuICAgICAgICB1bmF0dGFjaCgpO1xuICAgICAgICBldmVudFV0aWxzLnVubG9hZERlbCh1bmxvYWRSZWYpO1xuICAgICAgICBpZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICAgICAgICBpZnJhbWUgPSBkb2MgPSBudWxsO1xuICAgICAgICBDb2xsZWN0R2FyYmFnZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIG9uZXJyb3IgPSBmdW5jdGlvbihyKSB7XG4gICAgICBkZWJ1Zygnb25lcnJvcicsIHIpO1xuICAgICAgaWYgKGRvYykge1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIGVycm9yQ2FsbGJhY2socik7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgcG9zdCA9IGZ1bmN0aW9uKG1zZywgb3JpZ2luKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBXaGVuIHRoZSBpZnJhbWUgaXMgbm90IGxvYWRlZCwgSUUgcmFpc2VzIGFuIGV4Y2VwdGlvblxuICAgICAgICAvLyBvbiAnY29udGVudFdpbmRvdycuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGlmcmFtZSAmJiBpZnJhbWUuY29udGVudFdpbmRvdykge1xuICAgICAgICAgICAgICBpZnJhbWUuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZShtc2csIG9yaWdpbik7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAwKTtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgLy8gaW50ZW50aW9uYWxseSBlbXB0eVxuICAgICAgfVxuICAgIH07XG5cbiAgICBkb2Mub3BlbigpO1xuICAgIGRvYy53cml0ZSgnPGh0bWw+PHMnICsgJ2NyaXB0PicgK1xuICAgICAgICAgICAgICAnZG9jdW1lbnQuZG9tYWluPVwiJyArIGdsb2JhbC5kb2N1bWVudC5kb21haW4gKyAnXCI7JyArXG4gICAgICAgICAgICAgICc8L3MnICsgJ2NyaXB0PjwvaHRtbD4nKTtcbiAgICBkb2MuY2xvc2UoKTtcbiAgICBkb2MucGFyZW50V2luZG93W21vZHVsZS5leHBvcnRzLldQcmVmaXhdID0gZ2xvYmFsW21vZHVsZS5leHBvcnRzLldQcmVmaXhdO1xuICAgIHZhciBjID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRvYy5ib2R5LmFwcGVuZENoaWxkKGMpO1xuICAgIGlmcmFtZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICBjLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgaWZyYW1lLnNyYyA9IGlmcmFtZVVybDtcbiAgICBpZnJhbWUub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgb25lcnJvcignb25lcnJvcicpO1xuICAgIH07XG4gICAgdHJlZiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBvbmVycm9yKCd0aW1lb3V0Jyk7XG4gICAgfSwgMTUwMDApO1xuICAgIHVubG9hZFJlZiA9IGV2ZW50VXRpbHMudW5sb2FkQWRkKGNsZWFudXApO1xuICAgIHJldHVybiB7XG4gICAgICBwb3N0OiBwb3N0XG4gICAgLCBjbGVhbnVwOiBjbGVhbnVwXG4gICAgLCBsb2FkZWQ6IHVuYXR0YWNoXG4gICAgfTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMuaWZyYW1lRW5hYmxlZCA9IGZhbHNlO1xuaWYgKGdsb2JhbC5kb2N1bWVudCkge1xuICAvLyBwb3N0TWVzc2FnZSBtaXNiZWhhdmVzIGluIGtvbnF1ZXJvciA0LjYuNSAtIHRoZSBtZXNzYWdlcyBhcmUgZGVsaXZlcmVkIHdpdGhcbiAgLy8gaHVnZSBkZWxheSwgb3Igbm90IGF0IGFsbC5cbiAgbW9kdWxlLmV4cG9ydHMuaWZyYW1lRW5hYmxlZCA9ICh0eXBlb2YgZ2xvYmFsLnBvc3RNZXNzYWdlID09PSAnZnVuY3Rpb24nIHx8XG4gICAgdHlwZW9mIGdsb2JhbC5wb3N0TWVzc2FnZSA9PT0gJ29iamVjdCcpICYmICghYnJvd3Nlci5pc0tvbnF1ZXJvcigpKTtcbn1cblxufSkuY2FsbCh0aGlzLHsgZW52OiB7fSB9LHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG5cbn0se1wiLi9icm93c2VyXCI6NDQsXCIuL2V2ZW50XCI6NDYsXCJkZWJ1Z1wiOjU1LFwianNvbjNcIjo1OH1dLDQ4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIGxvZ09iamVjdCA9IHt9O1xuWydsb2cnLCAnZGVidWcnLCAnd2FybiddLmZvckVhY2goZnVuY3Rpb24gKGxldmVsKSB7XG4gIHZhciBsZXZlbEV4aXN0cztcblxuICB0cnkge1xuICAgIGxldmVsRXhpc3RzID0gZ2xvYmFsLmNvbnNvbGUgJiYgZ2xvYmFsLmNvbnNvbGVbbGV2ZWxdICYmIGdsb2JhbC5jb25zb2xlW2xldmVsXS5hcHBseTtcbiAgfSBjYXRjaChlKSB7XG4gICAgLy8gZG8gbm90aGluZ1xuICB9XG5cbiAgbG9nT2JqZWN0W2xldmVsXSA9IGxldmVsRXhpc3RzID8gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnbG9iYWwuY29uc29sZVtsZXZlbF0uYXBwbHkoZ2xvYmFsLmNvbnNvbGUsIGFyZ3VtZW50cyk7XG4gIH0gOiAobGV2ZWwgPT09ICdsb2cnID8gZnVuY3Rpb24gKCkge30gOiBsb2dPYmplY3QubG9nKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGxvZ09iamVjdDtcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG5cbn0se31dLDQ5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzT2JqZWN0OiBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiBvYmo7XG4gICAgcmV0dXJuIHR5cGUgPT09ICdmdW5jdGlvbicgfHwgdHlwZSA9PT0gJ29iamVjdCcgJiYgISFvYmo7XG4gIH1cblxuLCBleHRlbmQ6IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghdGhpcy5pc09iamVjdChvYmopKSB7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICB2YXIgc291cmNlLCBwcm9wO1xuICAgIGZvciAodmFyIGkgPSAxLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGZvciAocHJvcCBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIHByb3ApKSB7XG4gICAgICAgICAgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH1cbn07XG5cbn0se31dLDUwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuLyogZ2xvYmFsIGNyeXB0bzp0cnVlICovXG52YXIgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJyk7XG5cbi8vIFRoaXMgc3RyaW5nIGhhcyBsZW5ndGggMzIsIGEgcG93ZXIgb2YgMiwgc28gdGhlIG1vZHVsdXMgZG9lc24ndCBpbnRyb2R1Y2UgYVxuLy8gYmlhcy5cbnZhciBfcmFuZG9tU3RyaW5nQ2hhcnMgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDUnO1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHN0cmluZzogZnVuY3Rpb24obGVuZ3RoKSB7XG4gICAgdmFyIG1heCA9IF9yYW5kb21TdHJpbmdDaGFycy5sZW5ndGg7XG4gICAgdmFyIGJ5dGVzID0gY3J5cHRvLnJhbmRvbUJ5dGVzKGxlbmd0aCk7XG4gICAgdmFyIHJldCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHJldC5wdXNoKF9yYW5kb21TdHJpbmdDaGFycy5zdWJzdHIoYnl0ZXNbaV0gJSBtYXgsIDEpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldC5qb2luKCcnKTtcbiAgfVxuXG4sIG51bWJlcjogZnVuY3Rpb24obWF4KSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heCk7XG4gIH1cblxuLCBudW1iZXJTdHJpbmc6IGZ1bmN0aW9uKG1heCkge1xuICAgIHZhciB0ID0gKCcnICsgKG1heCAtIDEpKS5sZW5ndGg7XG4gICAgdmFyIHAgPSBuZXcgQXJyYXkodCArIDEpLmpvaW4oJzAnKTtcbiAgICByZXR1cm4gKHAgKyB0aGlzLm51bWJlcihtYXgpKS5zbGljZSgtdCk7XG4gIH1cbn07XG5cbn0se1wiY3J5cHRvXCI6NDN9XSw1MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3Mpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZGVidWcgPSBmdW5jdGlvbigpIHt9O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NranMtY2xpZW50OnV0aWxzOnRyYW5zcG9ydCcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGF2YWlsYWJsZVRyYW5zcG9ydHMpIHtcbiAgcmV0dXJuIHtcbiAgICBmaWx0ZXJUb0VuYWJsZWQ6IGZ1bmN0aW9uKHRyYW5zcG9ydHNXaGl0ZWxpc3QsIGluZm8pIHtcbiAgICAgIHZhciB0cmFuc3BvcnRzID0ge1xuICAgICAgICBtYWluOiBbXVxuICAgICAgLCBmYWNhZGU6IFtdXG4gICAgICB9O1xuICAgICAgaWYgKCF0cmFuc3BvcnRzV2hpdGVsaXN0KSB7XG4gICAgICAgIHRyYW5zcG9ydHNXaGl0ZWxpc3QgPSBbXTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRyYW5zcG9ydHNXaGl0ZWxpc3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRyYW5zcG9ydHNXaGl0ZWxpc3QgPSBbdHJhbnNwb3J0c1doaXRlbGlzdF07XG4gICAgICB9XG5cbiAgICAgIGF2YWlsYWJsZVRyYW5zcG9ydHMuZm9yRWFjaChmdW5jdGlvbih0cmFucykge1xuICAgICAgICBpZiAoIXRyYW5zKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYW5zLnRyYW5zcG9ydE5hbWUgPT09ICd3ZWJzb2NrZXQnICYmIGluZm8ud2Vic29ja2V0ID09PSBmYWxzZSkge1xuICAgICAgICAgIGRlYnVnKCdkaXNhYmxlZCBmcm9tIHNlcnZlcicsICd3ZWJzb2NrZXQnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhbnNwb3J0c1doaXRlbGlzdC5sZW5ndGggJiZcbiAgICAgICAgICAgIHRyYW5zcG9ydHNXaGl0ZWxpc3QuaW5kZXhPZih0cmFucy50cmFuc3BvcnROYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgICBkZWJ1Zygnbm90IGluIHdoaXRlbGlzdCcsIHRyYW5zLnRyYW5zcG9ydE5hbWUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFucy5lbmFibGVkKGluZm8pKSB7XG4gICAgICAgICAgZGVidWcoJ2VuYWJsZWQnLCB0cmFucy50cmFuc3BvcnROYW1lKTtcbiAgICAgICAgICB0cmFuc3BvcnRzLm1haW4ucHVzaCh0cmFucyk7XG4gICAgICAgICAgaWYgKHRyYW5zLmZhY2FkZVRyYW5zcG9ydCkge1xuICAgICAgICAgICAgdHJhbnNwb3J0cy5mYWNhZGUucHVzaCh0cmFucy5mYWNhZGVUcmFuc3BvcnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWJ1ZygnZGlzYWJsZWQnLCB0cmFucy50cmFuc3BvcnROYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJhbnNwb3J0cztcbiAgICB9XG4gIH07XG59O1xuXG59KS5jYWxsKHRoaXMseyBlbnY6IHt9IH0pXG5cbn0se1wiZGVidWdcIjo1NX1dLDUyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBVUkwgPSByZXF1aXJlKCd1cmwtcGFyc2UnKTtcblxudmFyIGRlYnVnID0gZnVuY3Rpb24oKSB7fTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnc29ja2pzLWNsaWVudDp1dGlsczp1cmwnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldE9yaWdpbjogZnVuY3Rpb24odXJsKSB7XG4gICAgaWYgKCF1cmwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBwID0gbmV3IFVSTCh1cmwpO1xuICAgIGlmIChwLnByb3RvY29sID09PSAnZmlsZTonKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgcG9ydCA9IHAucG9ydDtcbiAgICBpZiAoIXBvcnQpIHtcbiAgICAgIHBvcnQgPSAocC5wcm90b2NvbCA9PT0gJ2h0dHBzOicpID8gJzQ0MycgOiAnODAnO1xuICAgIH1cblxuICAgIHJldHVybiBwLnByb3RvY29sICsgJy8vJyArIHAuaG9zdG5hbWUgKyAnOicgKyBwb3J0O1xuICB9XG5cbiwgaXNPcmlnaW5FcXVhbDogZnVuY3Rpb24oYSwgYikge1xuICAgIHZhciByZXMgPSB0aGlzLmdldE9yaWdpbihhKSA9PT0gdGhpcy5nZXRPcmlnaW4oYik7XG4gICAgZGVidWcoJ3NhbWUnLCBhLCBiLCByZXMpO1xuICAgIHJldHVybiByZXM7XG4gIH1cblxuLCBpc1NjaGVtZUVxdWFsOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIChhLnNwbGl0KCc6JylbMF0gPT09IGIuc3BsaXQoJzonKVswXSk7XG4gIH1cblxuLCBhZGRQYXRoOiBmdW5jdGlvbiAodXJsLCBwYXRoKSB7XG4gICAgdmFyIHFzID0gdXJsLnNwbGl0KCc/Jyk7XG4gICAgcmV0dXJuIHFzWzBdICsgcGF0aCArIChxc1sxXSA/ICc/JyArIHFzWzFdIDogJycpO1xuICB9XG5cbiwgYWRkUXVlcnk6IGZ1bmN0aW9uICh1cmwsIHEpIHtcbiAgICByZXR1cm4gdXJsICsgKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gKCc/JyArIHEpIDogKCcmJyArIHEpKTtcbiAgfVxufTtcblxufSkuY2FsbCh0aGlzLHsgZW52OiB7fSB9KVxuXG59LHtcImRlYnVnXCI6NTUsXCJ1cmwtcGFyc2VcIjo2MX1dLDUzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gJzEuNC4wJztcblxufSx7fV0sNTQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMDtcbnZhciBtID0gcyAqIDYwO1xudmFyIGggPSBtICogNjA7XG52YXIgZCA9IGggKiAyNDtcbnZhciB3ID0gZCAqIDc7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzTmFOKHZhbCkgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigoPzpcXGQrKT9cXC0/XFxkP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8d2Vla3M/fHd8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoXG4gICAgc3RyXG4gICk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ3dlZWtzJzpcbiAgICBjYXNlICd3ZWVrJzpcbiAgICBjYXNlICd3JzpcbiAgICAgIHJldHVybiBuICogdztcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgZCwgJ2RheScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGgsICdob3VyJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgbSwgJ21pbnV0ZScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIHMsICdzZWNvbmQnKTtcbiAgfVxuICByZXR1cm4gbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG1zQWJzLCBuLCBuYW1lKSB7XG4gIHZhciBpc1BsdXJhbCA9IG1zQWJzID49IG4gKiAxLjU7XG4gIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbikgKyAnICcgKyBuYW1lICsgKGlzUGx1cmFsID8gJ3MnIDogJycpO1xufVxuXG59LHt9XSw1NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3Mpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG4vKipcbiAqIFRoaXMgaXMgdGhlIHdlYiBicm93c2VyIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC5cbiAqL1xuZXhwb3J0cy5sb2cgPSBsb2c7XG5leHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5leHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9ycztcbmV4cG9ydHMuc3RvcmFnZSA9IGxvY2Fsc3RvcmFnZSgpO1xuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbJyMwMDAwQ0MnLCAnIzAwMDBGRicsICcjMDAzM0NDJywgJyMwMDMzRkYnLCAnIzAwNjZDQycsICcjMDA2NkZGJywgJyMwMDk5Q0MnLCAnIzAwOTlGRicsICcjMDBDQzAwJywgJyMwMENDMzMnLCAnIzAwQ0M2NicsICcjMDBDQzk5JywgJyMwMENDQ0MnLCAnIzAwQ0NGRicsICcjMzMwMENDJywgJyMzMzAwRkYnLCAnIzMzMzNDQycsICcjMzMzM0ZGJywgJyMzMzY2Q0MnLCAnIzMzNjZGRicsICcjMzM5OUNDJywgJyMzMzk5RkYnLCAnIzMzQ0MwMCcsICcjMzNDQzMzJywgJyMzM0NDNjYnLCAnIzMzQ0M5OScsICcjMzNDQ0NDJywgJyMzM0NDRkYnLCAnIzY2MDBDQycsICcjNjYwMEZGJywgJyM2NjMzQ0MnLCAnIzY2MzNGRicsICcjNjZDQzAwJywgJyM2NkNDMzMnLCAnIzk5MDBDQycsICcjOTkwMEZGJywgJyM5OTMzQ0MnLCAnIzk5MzNGRicsICcjOTlDQzAwJywgJyM5OUNDMzMnLCAnI0NDMDAwMCcsICcjQ0MwMDMzJywgJyNDQzAwNjYnLCAnI0NDMDA5OScsICcjQ0MwMENDJywgJyNDQzAwRkYnLCAnI0NDMzMwMCcsICcjQ0MzMzMzJywgJyNDQzMzNjYnLCAnI0NDMzM5OScsICcjQ0MzM0NDJywgJyNDQzMzRkYnLCAnI0NDNjYwMCcsICcjQ0M2NjMzJywgJyNDQzk5MDAnLCAnI0NDOTkzMycsICcjQ0NDQzAwJywgJyNDQ0NDMzMnLCAnI0ZGMDAwMCcsICcjRkYwMDMzJywgJyNGRjAwNjYnLCAnI0ZGMDA5OScsICcjRkYwMENDJywgJyNGRjAwRkYnLCAnI0ZGMzMwMCcsICcjRkYzMzMzJywgJyNGRjMzNjYnLCAnI0ZGMzM5OScsICcjRkYzM0NDJywgJyNGRjMzRkYnLCAnI0ZGNjYwMCcsICcjRkY2NjMzJywgJyNGRjk5MDAnLCAnI0ZGOTkzMycsICcjRkZDQzAwJywgJyNGRkNDMzMnXTtcbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5cbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcbiAgLy8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuICAvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuICAvLyBleHBsaWNpdGx5XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gSW50ZXJuZXQgRXhwbG9yZXIgYW5kIEVkZ2UgZG8gbm90IHN1cHBvcnQgY29sb3JzLlxuXG5cbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oZWRnZXx0cmlkZW50KVxcLyhcXGQrKS8pKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG4gIC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cblxuICByZXR1cm4gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlIHx8IC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcbiAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgd2luZG93LmNvbnNvbGUuZXhjZXB0aW9uICYmIHdpbmRvdy5jb25zb2xlLnRhYmxlKSB8fCAvLyBJcyBmaXJlZm94ID49IHYzMT9cbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Ub29scy9XZWJfQ29uc29sZSNTdHlsaW5nX21lc3NhZ2VzXG4gIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykgJiYgcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPj0gMzEgfHwgLy8gRG91YmxlIGNoZWNrIHdlYmtpdCBpbiB1c2VyQWdlbnQganVzdCBpbiBjYXNlIHdlIGFyZSBpbiBhIHdvcmtlclxuICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKTtcbn1cbi8qKlxuICogQ29sb3JpemUgbG9nIGFyZ3VtZW50cyBpZiBlbmFibGVkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcbiAgYXJnc1swXSA9ICh0aGlzLnVzZUNvbG9ycyA/ICclYycgOiAnJykgKyB0aGlzLm5hbWVzcGFjZSArICh0aGlzLnVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKSArIGFyZ3NbMF0gKyAodGhpcy51c2VDb2xvcnMgPyAnJWMgJyA6ICcgJykgKyAnKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG4gIGlmICghdGhpcy51c2VDb2xvcnMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG4gIGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpOyAvLyBUaGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuICAvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG4gIC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuXG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBsYXN0QyA9IDA7XG4gIGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICBpZiAobWF0Y2ggPT09ICclJScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpbmRleCsrO1xuXG4gICAgaWYgKG1hdGNoID09PSAnJWMnKSB7XG4gICAgICAvLyBXZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcbiAgICAgIC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG4gICAgICBsYXN0QyA9IGluZGV4O1xuICAgIH1cbiAgfSk7XG4gIGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbn1cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5sb2coKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmxvZ2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuXG5mdW5jdGlvbiBsb2coKSB7XG4gIHZhciBfY29uc29sZTtcblxuICAvLyBUaGlzIGhhY2tlcnkgaXMgcmVxdWlyZWQgZm9yIElFOC85LCB3aGVyZVxuICAvLyB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbiBkb2Vzbid0IGhhdmUgJ2FwcGx5J1xuICByZXR1cm4gKHR5cGVvZiBjb25zb2xlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoY29uc29sZSkpID09PSAnb2JqZWN0JyAmJiBjb25zb2xlLmxvZyAmJiAoX2NvbnNvbGUgPSBjb25zb2xlKS5sb2cuYXBwbHkoX2NvbnNvbGUsIGFyZ3VtZW50cyk7XG59XG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuICB0cnkge1xuICAgIGlmIChuYW1lc3BhY2VzKSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2Uuc2V0SXRlbSgnZGVidWcnLCBuYW1lc3BhY2VzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikgey8vIFN3YWxsb3dcbiAgICAvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cbiAgfVxufVxuLyoqXG4gKiBMb2FkIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHByZXZpb3VzbHkgcGVyc2lzdGVkIGRlYnVnIG1vZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIGxvYWQoKSB7XG4gIHZhciByO1xuXG4gIHRyeSB7XG4gICAgciA9IGV4cG9ydHMuc3RvcmFnZS5nZXRJdGVtKCdkZWJ1ZycpO1xuICB9IGNhdGNoIChlcnJvcikge30gLy8gU3dhbGxvd1xuICAvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cbiAgLy8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVR1xuXG5cbiAgaWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG4gICAgciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuICB9XG5cbiAgcmV0dXJuIHI7XG59XG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuICB0cnkge1xuICAgIC8vIFRWTUxLaXQgKEFwcGxlIFRWIEpTIFJ1bnRpbWUpIGRvZXMgbm90IGhhdmUgYSB3aW5kb3cgb2JqZWN0LCBqdXN0IGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHRcbiAgICAvLyBUaGUgQnJvd3NlciBhbHNvIGhhcyBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0LlxuICAgIHJldHVybiBsb2NhbFN0b3JhZ2U7XG4gIH0gY2F0Y2ggKGVycm9yKSB7Ly8gU3dhbGxvd1xuICAgIC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jb21tb24nKShleHBvcnRzKTtcbnZhciBmb3JtYXR0ZXJzID0gbW9kdWxlLmV4cG9ydHMuZm9ybWF0dGVycztcbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uICh2KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnJvci5tZXNzYWdlO1xuICB9XG59O1xuXG5cbn0pLmNhbGwodGhpcyx7IGVudjoge30gfSlcblxufSx7XCIuL2NvbW1vblwiOjU2fV0sNTY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqL1xuZnVuY3Rpb24gc2V0dXAoZW52KSB7XG4gIGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWc7XG4gIGNyZWF0ZURlYnVnLmRlZmF1bHQgPSBjcmVhdGVEZWJ1ZztcbiAgY3JlYXRlRGVidWcuY29lcmNlID0gY29lcmNlO1xuICBjcmVhdGVEZWJ1Zy5kaXNhYmxlID0gZGlzYWJsZTtcbiAgY3JlYXRlRGVidWcuZW5hYmxlID0gZW5hYmxlO1xuICBjcmVhdGVEZWJ1Zy5lbmFibGVkID0gZW5hYmxlZDtcbiAgY3JlYXRlRGVidWcuaHVtYW5pemUgPSByZXF1aXJlKCdtcycpO1xuICBPYmplY3Qua2V5cyhlbnYpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGNyZWF0ZURlYnVnW2tleV0gPSBlbnZba2V5XTtcbiAgfSk7XG4gIC8qKlxuICAqIEFjdGl2ZSBgZGVidWdgIGluc3RhbmNlcy5cbiAgKi9cblxuICBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMgPSBbXTtcbiAgLyoqXG4gICogVGhlIGN1cnJlbnRseSBhY3RpdmUgZGVidWcgbW9kZSBuYW1lcywgYW5kIG5hbWVzIHRvIHNraXAuXG4gICovXG5cbiAgY3JlYXRlRGVidWcubmFtZXMgPSBbXTtcbiAgY3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcbiAgLyoqXG4gICogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuICAqXG4gICogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuICAqL1xuXG4gIGNyZWF0ZURlYnVnLmZvcm1hdHRlcnMgPSB7fTtcbiAgLyoqXG4gICogU2VsZWN0cyBhIGNvbG9yIGZvciBhIGRlYnVnIG5hbWVzcGFjZVxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZSBzdHJpbmcgZm9yIHRoZSBmb3IgdGhlIGRlYnVnIGluc3RhbmNlIHRvIGJlIGNvbG9yZWRcbiAgKiBAcmV0dXJuIHtOdW1iZXJ8U3RyaW5nfSBBbiBBTlNJIGNvbG9yIGNvZGUgZm9yIHRoZSBnaXZlbiBuYW1lc3BhY2VcbiAgKiBAYXBpIHByaXZhdGVcbiAgKi9cblxuICBmdW5jdGlvbiBzZWxlY3RDb2xvcihuYW1lc3BhY2UpIHtcbiAgICB2YXIgaGFzaCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWVzcGFjZS5sZW5ndGg7IGkrKykge1xuICAgICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIG5hbWVzcGFjZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgaGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlRGVidWcuY29sb3JzW01hdGguYWJzKGhhc2gpICUgY3JlYXRlRGVidWcuY29sb3JzLmxlbmd0aF07XG4gIH1cblxuICBjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvciA9IHNlbGVjdENvbG9yO1xuICAvKipcbiAgKiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cbiAgKlxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAgKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAgKiBAYXBpIHB1YmxpY1xuICAqL1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZURlYnVnKG5hbWVzcGFjZSkge1xuICAgIHZhciBwcmV2VGltZTtcblxuICAgIGZ1bmN0aW9uIGRlYnVnKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIC8vIERpc2FibGVkP1xuICAgICAgaWYgKCFkZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNlbGYgPSBkZWJ1ZzsgLy8gU2V0IGBkaWZmYCB0aW1lc3RhbXBcblxuICAgICAgdmFyIGN1cnIgPSBOdW1iZXIobmV3IERhdGUoKSk7XG4gICAgICB2YXIgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuICAgICAgc2VsZi5kaWZmID0gbXM7XG4gICAgICBzZWxmLnByZXYgPSBwcmV2VGltZTtcbiAgICAgIHNlbGYuY3VyciA9IGN1cnI7XG4gICAgICBwcmV2VGltZSA9IGN1cnI7XG4gICAgICBhcmdzWzBdID0gY3JlYXRlRGVidWcuY29lcmNlKGFyZ3NbMF0pO1xuXG4gICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIEFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG4gICAgICAgIGFyZ3MudW5zaGlmdCgnJU8nKTtcbiAgICAgIH0gLy8gQXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcblxuXG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgYXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIGZ1bmN0aW9uIChtYXRjaCwgZm9ybWF0KSB7XG4gICAgICAgIC8vIElmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcbiAgICAgICAgaWYgKG1hdGNoID09PSAnJSUnKSB7XG4gICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgdmFyIGZvcm1hdHRlciA9IGNyZWF0ZURlYnVnLmZvcm1hdHRlcnNbZm9ybWF0XTtcblxuICAgICAgICBpZiAodHlwZW9mIGZvcm1hdHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHZhciB2YWwgPSBhcmdzW2luZGV4XTtcbiAgICAgICAgICBtYXRjaCA9IGZvcm1hdHRlci5jYWxsKHNlbGYsIHZhbCk7IC8vIE5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcblxuICAgICAgICAgIGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICBpbmRleC0tO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgfSk7IC8vIEFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG5cbiAgICAgIGNyZWF0ZURlYnVnLmZvcm1hdEFyZ3MuY2FsbChzZWxmLCBhcmdzKTtcbiAgICAgIHZhciBsb2dGbiA9IHNlbGYubG9nIHx8IGNyZWF0ZURlYnVnLmxvZztcbiAgICAgIGxvZ0ZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIH1cblxuICAgIGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcbiAgICBkZWJ1Zy5lbmFibGVkID0gY3JlYXRlRGVidWcuZW5hYmxlZChuYW1lc3BhY2UpO1xuICAgIGRlYnVnLnVzZUNvbG9ycyA9IGNyZWF0ZURlYnVnLnVzZUNvbG9ycygpO1xuICAgIGRlYnVnLmNvbG9yID0gc2VsZWN0Q29sb3IobmFtZXNwYWNlKTtcbiAgICBkZWJ1Zy5kZXN0cm95ID0gZGVzdHJveTtcbiAgICBkZWJ1Zy5leHRlbmQgPSBleHRlbmQ7IC8vIERlYnVnLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuICAgIC8vIGRlYnVnLnJhd0xvZyA9IHJhd0xvZztcbiAgICAvLyBlbnYtc3BlY2lmaWMgaW5pdGlhbGl6YXRpb24gbG9naWMgZm9yIGRlYnVnIGluc3RhbmNlc1xuXG4gICAgaWYgKHR5cGVvZiBjcmVhdGVEZWJ1Zy5pbml0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjcmVhdGVEZWJ1Zy5pbml0KGRlYnVnKTtcbiAgICB9XG5cbiAgICBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMucHVzaChkZWJ1Zyk7XG4gICAgcmV0dXJuIGRlYnVnO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB2YXIgaW5kZXggPSBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMuaW5kZXhPZih0aGlzKTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIGNyZWF0ZURlYnVnLmluc3RhbmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZXh0ZW5kKG5hbWVzcGFjZSwgZGVsaW1pdGVyKSB7XG4gICAgcmV0dXJuIGNyZWF0ZURlYnVnKHRoaXMubmFtZXNwYWNlICsgKHR5cGVvZiBkZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gJzonIDogZGVsaW1pdGVyKSArIG5hbWVzcGFjZSk7XG4gIH1cbiAgLyoqXG4gICogRW5hYmxlcyBhIGRlYnVnIG1vZGUgYnkgbmFtZXNwYWNlcy4gVGhpcyBjYW4gaW5jbHVkZSBtb2Rlc1xuICAqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG4gICpcbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICAqIEBhcGkgcHVibGljXG4gICovXG5cblxuICBmdW5jdGlvbiBlbmFibGUobmFtZXNwYWNlcykge1xuICAgIGNyZWF0ZURlYnVnLnNhdmUobmFtZXNwYWNlcyk7XG4gICAgY3JlYXRlRGVidWcubmFtZXMgPSBbXTtcbiAgICBjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuICAgIHZhciBpO1xuICAgIHZhciBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpLnNwbGl0KC9bXFxzLF0rLyk7XG4gICAgdmFyIGxlbiA9IHNwbGl0Lmxlbmd0aDtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKCFzcGxpdFtpXSkge1xuICAgICAgICAvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgbmFtZXNwYWNlcyA9IHNwbGl0W2ldLnJlcGxhY2UoL1xcKi9nLCAnLio/Jyk7XG5cbiAgICAgIGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcbiAgICAgICAgY3JlYXRlRGVidWcuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc3Vic3RyKDEpICsgJyQnKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjcmVhdGVEZWJ1Zy5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcyArICckJykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IGNyZWF0ZURlYnVnLmluc3RhbmNlc1tpXTtcbiAgICAgIGluc3RhbmNlLmVuYWJsZWQgPSBjcmVhdGVEZWJ1Zy5lbmFibGVkKGluc3RhbmNlLm5hbWVzcGFjZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAqIERpc2FibGUgZGVidWcgb3V0cHV0LlxuICAqXG4gICogQGFwaSBwdWJsaWNcbiAgKi9cblxuXG4gIGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgY3JlYXRlRGVidWcuZW5hYmxlKCcnKTtcbiAgfVxuICAvKipcbiAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gICpcbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICogQGFwaSBwdWJsaWNcbiAgKi9cblxuXG4gIGZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuICAgIGlmIChuYW1lW25hbWUubGVuZ3RoIC0gMV0gPT09ICcqJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGk7XG4gICAgdmFyIGxlbjtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGNyZWF0ZURlYnVnLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoY3JlYXRlRGVidWcuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcubmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChjcmVhdGVEZWJ1Zy5uYW1lc1tpXS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvKipcbiAgKiBDb2VyY2UgYHZhbGAuXG4gICpcbiAgKiBAcGFyYW0ge01peGVkfSB2YWxcbiAgKiBAcmV0dXJuIHtNaXhlZH1cbiAgKiBAYXBpIHByaXZhdGVcbiAgKi9cblxuXG4gIGZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcbiAgICBpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHJldHVybiB2YWwuc3RhY2sgfHwgdmFsLm1lc3NhZ2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIGNyZWF0ZURlYnVnLmVuYWJsZShjcmVhdGVEZWJ1Zy5sb2FkKCkpO1xuICByZXR1cm4gY3JlYXRlRGVidWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0dXA7XG5cblxufSx7XCJtc1wiOjU0fV0sNTc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICB9XG59XG5cbn0se31dLDU4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbi8qISBKU09OIHYzLjMuMiB8IGh0dHA6Ly9iZXN0aWVqcy5naXRodWIuaW8vanNvbjMgfCBDb3B5cmlnaHQgMjAxMi0yMDE0LCBLaXQgQ2FtYnJpZGdlIHwgaHR0cDovL2tpdC5taXQtbGljZW5zZS5vcmcgKi9cbjsoZnVuY3Rpb24gKCkge1xuICAvLyBEZXRlY3QgdGhlIGBkZWZpbmVgIGZ1bmN0aW9uIGV4cG9zZWQgYnkgYXN5bmNocm9ub3VzIG1vZHVsZSBsb2FkZXJzLiBUaGVcbiAgLy8gc3RyaWN0IGBkZWZpbmVgIGNoZWNrIGlzIG5lY2Vzc2FyeSBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIGByLmpzYC5cbiAgdmFyIGlzTG9hZGVyID0gdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQ7XG5cbiAgLy8gQSBzZXQgb2YgdHlwZXMgdXNlZCB0byBkaXN0aW5ndWlzaCBvYmplY3RzIGZyb20gcHJpbWl0aXZlcy5cbiAgdmFyIG9iamVjdFR5cGVzID0ge1xuICAgIFwiZnVuY3Rpb25cIjogdHJ1ZSxcbiAgICBcIm9iamVjdFwiOiB0cnVlXG4gIH07XG5cbiAgLy8gRGV0ZWN0IHRoZSBgZXhwb3J0c2Agb2JqZWN0IGV4cG9zZWQgYnkgQ29tbW9uSlMgaW1wbGVtZW50YXRpb25zLlxuICB2YXIgZnJlZUV4cG9ydHMgPSBvYmplY3RUeXBlc1t0eXBlb2YgZXhwb3J0c10gJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4gIC8vIFVzZSB0aGUgYGdsb2JhbGAgb2JqZWN0IGV4cG9zZWQgYnkgTm9kZSAoaW5jbHVkaW5nIEJyb3dzZXJpZnkgdmlhXG4gIC8vIGBpbnNlcnQtbW9kdWxlLWdsb2JhbHNgKSwgTmFyd2hhbCwgYW5kIFJpbmdvIGFzIHRoZSBkZWZhdWx0IGNvbnRleHQsXG4gIC8vIGFuZCB0aGUgYHdpbmRvd2Agb2JqZWN0IGluIGJyb3dzZXJzLiBSaGlubyBleHBvcnRzIGEgYGdsb2JhbGAgZnVuY3Rpb25cbiAgLy8gaW5zdGVhZC5cbiAgdmFyIHJvb3QgPSBvYmplY3RUeXBlc1t0eXBlb2Ygd2luZG93XSAmJiB3aW5kb3cgfHwgdGhpcyxcbiAgICAgIGZyZWVHbG9iYWwgPSBmcmVlRXhwb3J0cyAmJiBvYmplY3RUeXBlc1t0eXBlb2YgbW9kdWxlXSAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiB0eXBlb2YgZ2xvYmFsID09IFwib2JqZWN0XCIgJiYgZ2xvYmFsO1xuXG4gIGlmIChmcmVlR2xvYmFsICYmIChmcmVlR2xvYmFsW1wiZ2xvYmFsXCJdID09PSBmcmVlR2xvYmFsIHx8IGZyZWVHbG9iYWxbXCJ3aW5kb3dcIl0gPT09IGZyZWVHbG9iYWwgfHwgZnJlZUdsb2JhbFtcInNlbGZcIl0gPT09IGZyZWVHbG9iYWwpKSB7XG4gICAgcm9vdCA9IGZyZWVHbG9iYWw7XG4gIH1cblxuICAvLyBQdWJsaWM6IEluaXRpYWxpemVzIEpTT04gMyB1c2luZyB0aGUgZ2l2ZW4gYGNvbnRleHRgIG9iamVjdCwgYXR0YWNoaW5nIHRoZVxuICAvLyBgc3RyaW5naWZ5YCBhbmQgYHBhcnNlYCBmdW5jdGlvbnMgdG8gdGhlIHNwZWNpZmllZCBgZXhwb3J0c2Agb2JqZWN0LlxuICBmdW5jdGlvbiBydW5JbkNvbnRleHQoY29udGV4dCwgZXhwb3J0cykge1xuICAgIGNvbnRleHQgfHwgKGNvbnRleHQgPSByb290W1wiT2JqZWN0XCJdKCkpO1xuICAgIGV4cG9ydHMgfHwgKGV4cG9ydHMgPSByb290W1wiT2JqZWN0XCJdKCkpO1xuXG4gICAgLy8gTmF0aXZlIGNvbnN0cnVjdG9yIGFsaWFzZXMuXG4gICAgdmFyIE51bWJlciA9IGNvbnRleHRbXCJOdW1iZXJcIl0gfHwgcm9vdFtcIk51bWJlclwiXSxcbiAgICAgICAgU3RyaW5nID0gY29udGV4dFtcIlN0cmluZ1wiXSB8fCByb290W1wiU3RyaW5nXCJdLFxuICAgICAgICBPYmplY3QgPSBjb250ZXh0W1wiT2JqZWN0XCJdIHx8IHJvb3RbXCJPYmplY3RcIl0sXG4gICAgICAgIERhdGUgPSBjb250ZXh0W1wiRGF0ZVwiXSB8fCByb290W1wiRGF0ZVwiXSxcbiAgICAgICAgU3ludGF4RXJyb3IgPSBjb250ZXh0W1wiU3ludGF4RXJyb3JcIl0gfHwgcm9vdFtcIlN5bnRheEVycm9yXCJdLFxuICAgICAgICBUeXBlRXJyb3IgPSBjb250ZXh0W1wiVHlwZUVycm9yXCJdIHx8IHJvb3RbXCJUeXBlRXJyb3JcIl0sXG4gICAgICAgIE1hdGggPSBjb250ZXh0W1wiTWF0aFwiXSB8fCByb290W1wiTWF0aFwiXSxcbiAgICAgICAgbmF0aXZlSlNPTiA9IGNvbnRleHRbXCJKU09OXCJdIHx8IHJvb3RbXCJKU09OXCJdO1xuXG4gICAgLy8gRGVsZWdhdGUgdG8gdGhlIG5hdGl2ZSBgc3RyaW5naWZ5YCBhbmQgYHBhcnNlYCBpbXBsZW1lbnRhdGlvbnMuXG4gICAgaWYgKHR5cGVvZiBuYXRpdmVKU09OID09IFwib2JqZWN0XCIgJiYgbmF0aXZlSlNPTikge1xuICAgICAgZXhwb3J0cy5zdHJpbmdpZnkgPSBuYXRpdmVKU09OLnN0cmluZ2lmeTtcbiAgICAgIGV4cG9ydHMucGFyc2UgPSBuYXRpdmVKU09OLnBhcnNlO1xuICAgIH1cblxuICAgIC8vIENvbnZlbmllbmNlIGFsaWFzZXMuXG4gICAgdmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZSxcbiAgICAgICAgZ2V0Q2xhc3MgPSBvYmplY3RQcm90by50b1N0cmluZyxcbiAgICAgICAgaXNQcm9wZXJ0eSwgZm9yRWFjaCwgdW5kZWY7XG5cbiAgICAvLyBUZXN0IHRoZSBgRGF0ZSNnZXRVVEMqYCBtZXRob2RzLiBCYXNlZCBvbiB3b3JrIGJ5IEBZYWZmbGUuXG4gICAgdmFyIGlzRXh0ZW5kZWQgPSBuZXcgRGF0ZSgtMzUwOTgyNzMzNDU3MzI5Mik7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFRoZSBgZ2V0VVRDRnVsbFllYXJgLCBgTW9udGhgLCBhbmQgYERhdGVgIG1ldGhvZHMgcmV0dXJuIG5vbnNlbnNpY2FsXG4gICAgICAvLyByZXN1bHRzIGZvciBjZXJ0YWluIGRhdGVzIGluIE9wZXJhID49IDEwLjUzLlxuICAgICAgaXNFeHRlbmRlZCA9IGlzRXh0ZW5kZWQuZ2V0VVRDRnVsbFllYXIoKSA9PSAtMTA5MjUyICYmIGlzRXh0ZW5kZWQuZ2V0VVRDTW9udGgoKSA9PT0gMCAmJiBpc0V4dGVuZGVkLmdldFVUQ0RhdGUoKSA9PT0gMSAmJlxuICAgICAgICAvLyBTYWZhcmkgPCAyLjAuMiBzdG9yZXMgdGhlIGludGVybmFsIG1pbGxpc2Vjb25kIHRpbWUgdmFsdWUgY29ycmVjdGx5LFxuICAgICAgICAvLyBidXQgY2xpcHMgdGhlIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgZGF0ZSBtZXRob2RzIHRvIHRoZSByYW5nZSBvZlxuICAgICAgICAvLyBzaWduZWQgMzItYml0IGludGVnZXJzIChbLTIgKiogMzEsIDIgKiogMzEgLSAxXSkuXG4gICAgICAgIGlzRXh0ZW5kZWQuZ2V0VVRDSG91cnMoKSA9PSAxMCAmJiBpc0V4dGVuZGVkLmdldFVUQ01pbnV0ZXMoKSA9PSAzNyAmJiBpc0V4dGVuZGVkLmdldFVUQ1NlY29uZHMoKSA9PSA2ICYmIGlzRXh0ZW5kZWQuZ2V0VVRDTWlsbGlzZWNvbmRzKCkgPT0gNzA4O1xuICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge31cblxuICAgIC8vIEludGVybmFsOiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIG5hdGl2ZSBgSlNPTi5zdHJpbmdpZnlgIGFuZCBgcGFyc2VgXG4gICAgLy8gaW1wbGVtZW50YXRpb25zIGFyZSBzcGVjLWNvbXBsaWFudC4gQmFzZWQgb24gd29yayBieSBLZW4gU255ZGVyLlxuICAgIGZ1bmN0aW9uIGhhcyhuYW1lKSB7XG4gICAgICBpZiAoaGFzW25hbWVdICE9PSB1bmRlZikge1xuICAgICAgICAvLyBSZXR1cm4gY2FjaGVkIGZlYXR1cmUgdGVzdCByZXN1bHQuXG4gICAgICAgIHJldHVybiBoYXNbbmFtZV07XG4gICAgICB9XG4gICAgICB2YXIgaXNTdXBwb3J0ZWQ7XG4gICAgICBpZiAobmFtZSA9PSBcImJ1Zy1zdHJpbmctY2hhci1pbmRleFwiKSB7XG4gICAgICAgIC8vIElFIDw9IDcgZG9lc24ndCBzdXBwb3J0IGFjY2Vzc2luZyBzdHJpbmcgY2hhcmFjdGVycyB1c2luZyBzcXVhcmVcbiAgICAgICAgLy8gYnJhY2tldCBub3RhdGlvbi4gSUUgOCBvbmx5IHN1cHBvcnRzIHRoaXMgZm9yIHByaW1pdGl2ZXMuXG4gICAgICAgIGlzU3VwcG9ydGVkID0gXCJhXCJbMF0gIT0gXCJhXCI7XG4gICAgICB9IGVsc2UgaWYgKG5hbWUgPT0gXCJqc29uXCIpIHtcbiAgICAgICAgLy8gSW5kaWNhdGVzIHdoZXRoZXIgYm90aCBgSlNPTi5zdHJpbmdpZnlgIGFuZCBgSlNPTi5wYXJzZWAgYXJlXG4gICAgICAgIC8vIHN1cHBvcnRlZC5cbiAgICAgICAgaXNTdXBwb3J0ZWQgPSBoYXMoXCJqc29uLXN0cmluZ2lmeVwiKSAmJiBoYXMoXCJqc29uLXBhcnNlXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHZhbHVlLCBzZXJpYWxpemVkID0gJ3tcImFcIjpbMSx0cnVlLGZhbHNlLG51bGwsXCJcXFxcdTAwMDBcXFxcYlxcXFxuXFxcXGZcXFxcclxcXFx0XCJdfSc7XG4gICAgICAgIC8vIFRlc3QgYEpTT04uc3RyaW5naWZ5YC5cbiAgICAgICAgaWYgKG5hbWUgPT0gXCJqc29uLXN0cmluZ2lmeVwiKSB7XG4gICAgICAgICAgdmFyIHN0cmluZ2lmeSA9IGV4cG9ydHMuc3RyaW5naWZ5LCBzdHJpbmdpZnlTdXBwb3J0ZWQgPSB0eXBlb2Ygc3RyaW5naWZ5ID09IFwiZnVuY3Rpb25cIiAmJiBpc0V4dGVuZGVkO1xuICAgICAgICAgIGlmIChzdHJpbmdpZnlTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIC8vIEEgdGVzdCBmdW5jdGlvbiBvYmplY3Qgd2l0aCBhIGN1c3RvbSBgdG9KU09OYCBtZXRob2QuXG4gICAgICAgICAgICAodmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfSkudG9KU09OID0gdmFsdWU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBzdHJpbmdpZnlTdXBwb3J0ZWQgPVxuICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggMy4xYjEgYW5kIGIyIHNlcmlhbGl6ZSBzdHJpbmcsIG51bWJlciwgYW5kIGJvb2xlYW5cbiAgICAgICAgICAgICAgICAvLyBwcmltaXRpdmVzIGFzIG9iamVjdCBsaXRlcmFscy5cbiAgICAgICAgICAgICAgICBzdHJpbmdpZnkoMCkgPT09IFwiMFwiICYmXG4gICAgICAgICAgICAgICAgLy8gRkYgMy4xYjEsIGIyLCBhbmQgSlNPTiAyIHNlcmlhbGl6ZSB3cmFwcGVkIHByaW1pdGl2ZXMgYXMgb2JqZWN0XG4gICAgICAgICAgICAgICAgLy8gbGl0ZXJhbHMuXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KG5ldyBOdW1iZXIoKSkgPT09IFwiMFwiICYmXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KG5ldyBTdHJpbmcoKSkgPT0gJ1wiXCInICYmXG4gICAgICAgICAgICAgICAgLy8gRkYgMy4xYjEsIDIgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIHZhbHVlIGlzIGBudWxsYCwgYHVuZGVmaW5lZGAsIG9yXG4gICAgICAgICAgICAgICAgLy8gZG9lcyBub3QgZGVmaW5lIGEgY2Fub25pY2FsIEpTT04gcmVwcmVzZW50YXRpb24gKHRoaXMgYXBwbGllcyB0b1xuICAgICAgICAgICAgICAgIC8vIG9iamVjdHMgd2l0aCBgdG9KU09OYCBwcm9wZXJ0aWVzIGFzIHdlbGwsICp1bmxlc3MqIHRoZXkgYXJlIG5lc3RlZFxuICAgICAgICAgICAgICAgIC8vIHdpdGhpbiBhbiBvYmplY3Qgb3IgYXJyYXkpLlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeShnZXRDbGFzcykgPT09IHVuZGVmICYmXG4gICAgICAgICAgICAgICAgLy8gSUUgOCBzZXJpYWxpemVzIGB1bmRlZmluZWRgIGFzIGBcInVuZGVmaW5lZFwiYC4gU2FmYXJpIDw9IDUuMS43IGFuZFxuICAgICAgICAgICAgICAgIC8vIEZGIDMuMWIzIHBhc3MgdGhpcyB0ZXN0LlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeSh1bmRlZikgPT09IHVuZGVmICYmXG4gICAgICAgICAgICAgICAgLy8gU2FmYXJpIDw9IDUuMS43IGFuZCBGRiAzLjFiMyB0aHJvdyBgRXJyb3JgcyBhbmQgYFR5cGVFcnJvcmBzLFxuICAgICAgICAgICAgICAgIC8vIHJlc3BlY3RpdmVseSwgaWYgdGhlIHZhbHVlIGlzIG9taXR0ZWQgZW50aXJlbHkuXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KCkgPT09IHVuZGVmICYmXG4gICAgICAgICAgICAgICAgLy8gRkYgMy4xYjEsIDIgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIG5vdCBhIG51bWJlcixcbiAgICAgICAgICAgICAgICAvLyBzdHJpbmcsIGFycmF5LCBvYmplY3QsIEJvb2xlYW4sIG9yIGBudWxsYCBsaXRlcmFsLiBUaGlzIGFwcGxpZXMgdG9cbiAgICAgICAgICAgICAgICAvLyBvYmplY3RzIHdpdGggY3VzdG9tIGB0b0pTT05gIG1ldGhvZHMgYXMgd2VsbCwgdW5sZXNzIHRoZXkgYXJlIG5lc3RlZFxuICAgICAgICAgICAgICAgIC8vIGluc2lkZSBvYmplY3Qgb3IgYXJyYXkgbGl0ZXJhbHMuIFlVSSAzLjAuMGIxIGlnbm9yZXMgY3VzdG9tIGB0b0pTT05gXG4gICAgICAgICAgICAgICAgLy8gbWV0aG9kcyBlbnRpcmVseS5cbiAgICAgICAgICAgICAgICBzdHJpbmdpZnkodmFsdWUpID09PSBcIjFcIiAmJlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeShbdmFsdWVdKSA9PSBcIlsxXVwiICYmXG4gICAgICAgICAgICAgICAgLy8gUHJvdG90eXBlIDw9IDEuNi4xIHNlcmlhbGl6ZXMgYFt1bmRlZmluZWRdYCBhcyBgXCJbXVwiYCBpbnN0ZWFkIG9mXG4gICAgICAgICAgICAgICAgLy8gYFwiW251bGxdXCJgLlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeShbdW5kZWZdKSA9PSBcIltudWxsXVwiICYmXG4gICAgICAgICAgICAgICAgLy8gWVVJIDMuMC4wYjEgZmFpbHMgdG8gc2VyaWFsaXplIGBudWxsYCBsaXRlcmFscy5cbiAgICAgICAgICAgICAgICBzdHJpbmdpZnkobnVsbCkgPT0gXCJudWxsXCIgJiZcbiAgICAgICAgICAgICAgICAvLyBGRiAzLjFiMSwgMiBoYWx0cyBzZXJpYWxpemF0aW9uIGlmIGFuIGFycmF5IGNvbnRhaW5zIGEgZnVuY3Rpb246XG4gICAgICAgICAgICAgICAgLy8gYFsxLCB0cnVlLCBnZXRDbGFzcywgMV1gIHNlcmlhbGl6ZXMgYXMgXCJbMSx0cnVlLF0sXCIuIEZGIDMuMWIzXG4gICAgICAgICAgICAgICAgLy8gZWxpZGVzIG5vbi1KU09OIHZhbHVlcyBmcm9tIG9iamVjdHMgYW5kIGFycmF5cywgdW5sZXNzIHRoZXlcbiAgICAgICAgICAgICAgICAvLyBkZWZpbmUgY3VzdG9tIGB0b0pTT05gIG1ldGhvZHMuXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KFt1bmRlZiwgZ2V0Q2xhc3MsIG51bGxdKSA9PSBcIltudWxsLG51bGwsbnVsbF1cIiAmJlxuICAgICAgICAgICAgICAgIC8vIFNpbXBsZSBzZXJpYWxpemF0aW9uIHRlc3QuIEZGIDMuMWIxIHVzZXMgVW5pY29kZSBlc2NhcGUgc2VxdWVuY2VzXG4gICAgICAgICAgICAgICAgLy8gd2hlcmUgY2hhcmFjdGVyIGVzY2FwZSBjb2RlcyBhcmUgZXhwZWN0ZWQgKGUuZy4sIGBcXGJgID0+IGBcXHUwMDA4YCkuXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KHsgXCJhXCI6IFt2YWx1ZSwgdHJ1ZSwgZmFsc2UsIG51bGwsIFwiXFx4MDBcXGJcXG5cXGZcXHJcXHRcIl0gfSkgPT0gc2VyaWFsaXplZCAmJlxuICAgICAgICAgICAgICAgIC8vIEZGIDMuMWIxIGFuZCBiMiBpZ25vcmUgdGhlIGBmaWx0ZXJgIGFuZCBgd2lkdGhgIGFyZ3VtZW50cy5cbiAgICAgICAgICAgICAgICBzdHJpbmdpZnkobnVsbCwgdmFsdWUpID09PSBcIjFcIiAmJlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeShbMSwgMl0sIG51bGwsIDEpID09IFwiW1xcbiAxLFxcbiAyXFxuXVwiICYmXG4gICAgICAgICAgICAgICAgLy8gSlNPTiAyLCBQcm90b3R5cGUgPD0gMS43LCBhbmQgb2xkZXIgV2ViS2l0IGJ1aWxkcyBpbmNvcnJlY3RseVxuICAgICAgICAgICAgICAgIC8vIHNlcmlhbGl6ZSBleHRlbmRlZCB5ZWFycy5cbiAgICAgICAgICAgICAgICBzdHJpbmdpZnkobmV3IERhdGUoLTguNjRlMTUpKSA9PSAnXCItMjcxODIxLTA0LTIwVDAwOjAwOjAwLjAwMFpcIicgJiZcbiAgICAgICAgICAgICAgICAvLyBUaGUgbWlsbGlzZWNvbmRzIGFyZSBvcHRpb25hbCBpbiBFUyA1LCBidXQgcmVxdWlyZWQgaW4gNS4xLlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeShuZXcgRGF0ZSg4LjY0ZTE1KSkgPT0gJ1wiKzI3NTc2MC0wOS0xM1QwMDowMDowMC4wMDBaXCInICYmXG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveCA8PSAxMS4wIGluY29ycmVjdGx5IHNlcmlhbGl6ZXMgeWVhcnMgcHJpb3IgdG8gMCBhcyBuZWdhdGl2ZVxuICAgICAgICAgICAgICAgIC8vIGZvdXItZGlnaXQgeWVhcnMgaW5zdGVhZCBvZiBzaXgtZGlnaXQgeWVhcnMuIENyZWRpdHM6IEBZYWZmbGUuXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KG5ldyBEYXRlKC02MjE5ODc1NTJlNSkpID09ICdcIi0wMDAwMDEtMDEtMDFUMDA6MDA6MDAuMDAwWlwiJyAmJlxuICAgICAgICAgICAgICAgIC8vIFNhZmFyaSA8PSA1LjEuNSBhbmQgT3BlcmEgPj0gMTAuNTMgaW5jb3JyZWN0bHkgc2VyaWFsaXplIG1pbGxpc2Vjb25kXG4gICAgICAgICAgICAgICAgLy8gdmFsdWVzIGxlc3MgdGhhbiAxMDAwLiBDcmVkaXRzOiBAWWFmZmxlLlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeShuZXcgRGF0ZSgtMSkpID09ICdcIjE5NjktMTItMzFUMjM6NTk6NTkuOTk5WlwiJztcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICBzdHJpbmdpZnlTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaXNTdXBwb3J0ZWQgPSBzdHJpbmdpZnlTdXBwb3J0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGVzdCBgSlNPTi5wYXJzZWAuXG4gICAgICAgIGlmIChuYW1lID09IFwianNvbi1wYXJzZVwiKSB7XG4gICAgICAgICAgdmFyIHBhcnNlID0gZXhwb3J0cy5wYXJzZTtcbiAgICAgICAgICBpZiAodHlwZW9mIHBhcnNlID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8gRkYgMy4xYjEsIGIyIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGEgYmFyZSBsaXRlcmFsIGlzIHByb3ZpZGVkLlxuICAgICAgICAgICAgICAvLyBDb25mb3JtaW5nIGltcGxlbWVudGF0aW9ucyBzaG91bGQgYWxzbyBjb2VyY2UgdGhlIGluaXRpYWwgYXJndW1lbnQgdG9cbiAgICAgICAgICAgICAgLy8gYSBzdHJpbmcgcHJpb3IgdG8gcGFyc2luZy5cbiAgICAgICAgICAgICAgaWYgKHBhcnNlKFwiMFwiKSA9PT0gMCAmJiAhcGFyc2UoZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgLy8gU2ltcGxlIHBhcnNpbmcgdGVzdC5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlKHNlcmlhbGl6ZWQpO1xuICAgICAgICAgICAgICAgIHZhciBwYXJzZVN1cHBvcnRlZCA9IHZhbHVlW1wiYVwiXS5sZW5ndGggPT0gNSAmJiB2YWx1ZVtcImFcIl1bMF0gPT09IDE7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTYWZhcmkgPD0gNS4xLjIgYW5kIEZGIDMuMWIxIGFsbG93IHVuZXNjYXBlZCB0YWJzIGluIHN0cmluZ3MuXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlU3VwcG9ydGVkID0gIXBhcnNlKCdcIlxcdFwiJyk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHt9XG4gICAgICAgICAgICAgICAgICBpZiAocGFyc2VTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBGRiA0LjAgYW5kIDQuMC4xIGFsbG93IGxlYWRpbmcgYCtgIHNpZ25zIGFuZCBsZWFkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgLy8gZGVjaW1hbCBwb2ludHMuIEZGIDQuMCwgNC4wLjEsIGFuZCBJRSA5LTEwIGFsc28gYWxsb3dcbiAgICAgICAgICAgICAgICAgICAgICAvLyBjZXJ0YWluIG9jdGFsIGxpdGVyYWxzLlxuICAgICAgICAgICAgICAgICAgICAgIHBhcnNlU3VwcG9ydGVkID0gcGFyc2UoXCIwMVwiKSAhPT0gMTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7fVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gRkYgNC4wLCA0LjAuMSwgYW5kIFJoaW5vIDEuN1IzLVI0IGFsbG93IHRyYWlsaW5nIGRlY2ltYWxcbiAgICAgICAgICAgICAgICAgICAgICAvLyBwb2ludHMuIFRoZXNlIGVudmlyb25tZW50cywgYWxvbmcgd2l0aCBGRiAzLjFiMSBhbmQgMixcbiAgICAgICAgICAgICAgICAgICAgICAvLyBhbHNvIGFsbG93IHRyYWlsaW5nIGNvbW1hcyBpbiBKU09OIG9iamVjdHMgYW5kIGFycmF5cy5cbiAgICAgICAgICAgICAgICAgICAgICBwYXJzZVN1cHBvcnRlZCA9IHBhcnNlKFwiMS5cIikgIT09IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge31cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICBwYXJzZVN1cHBvcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpc1N1cHBvcnRlZCA9IHBhcnNlU3VwcG9ydGVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzW25hbWVdID0gISFpc1N1cHBvcnRlZDtcbiAgICB9XG5cbiAgICBpZiAoIWhhcyhcImpzb25cIikpIHtcbiAgICAgIC8vIENvbW1vbiBgW1tDbGFzc11dYCBuYW1lIGFsaWFzZXMuXG4gICAgICB2YXIgZnVuY3Rpb25DbGFzcyA9IFwiW29iamVjdCBGdW5jdGlvbl1cIixcbiAgICAgICAgICBkYXRlQ2xhc3MgPSBcIltvYmplY3QgRGF0ZV1cIixcbiAgICAgICAgICBudW1iZXJDbGFzcyA9IFwiW29iamVjdCBOdW1iZXJdXCIsXG4gICAgICAgICAgc3RyaW5nQ2xhc3MgPSBcIltvYmplY3QgU3RyaW5nXVwiLFxuICAgICAgICAgIGFycmF5Q2xhc3MgPSBcIltvYmplY3QgQXJyYXldXCIsXG4gICAgICAgICAgYm9vbGVhbkNsYXNzID0gXCJbb2JqZWN0IEJvb2xlYW5dXCI7XG5cbiAgICAgIC8vIERldGVjdCBpbmNvbXBsZXRlIHN1cHBvcnQgZm9yIGFjY2Vzc2luZyBzdHJpbmcgY2hhcmFjdGVycyBieSBpbmRleC5cbiAgICAgIHZhciBjaGFySW5kZXhCdWdneSA9IGhhcyhcImJ1Zy1zdHJpbmctY2hhci1pbmRleFwiKTtcblxuICAgICAgLy8gRGVmaW5lIGFkZGl0aW9uYWwgdXRpbGl0eSBtZXRob2RzIGlmIHRoZSBgRGF0ZWAgbWV0aG9kcyBhcmUgYnVnZ3kuXG4gICAgICBpZiAoIWlzRXh0ZW5kZWQpIHtcbiAgICAgICAgdmFyIGZsb29yID0gTWF0aC5mbG9vcjtcbiAgICAgICAgLy8gQSBtYXBwaW5nIGJldHdlZW4gdGhlIG1vbnRocyBvZiB0aGUgeWVhciBhbmQgdGhlIG51bWJlciBvZiBkYXlzIGJldHdlZW5cbiAgICAgICAgLy8gSmFudWFyeSAxc3QgYW5kIHRoZSBmaXJzdCBvZiB0aGUgcmVzcGVjdGl2ZSBtb250aC5cbiAgICAgICAgdmFyIE1vbnRocyA9IFswLCAzMSwgNTksIDkwLCAxMjAsIDE1MSwgMTgxLCAyMTIsIDI0MywgMjczLCAzMDQsIDMzNF07XG4gICAgICAgIC8vIEludGVybmFsOiBDYWxjdWxhdGVzIHRoZSBudW1iZXIgb2YgZGF5cyBiZXR3ZWVuIHRoZSBVbml4IGVwb2NoIGFuZCB0aGVcbiAgICAgICAgLy8gZmlyc3QgZGF5IG9mIHRoZSBnaXZlbiBtb250aC5cbiAgICAgICAgdmFyIGdldERheSA9IGZ1bmN0aW9uICh5ZWFyLCBtb250aCkge1xuICAgICAgICAgIHJldHVybiBNb250aHNbbW9udGhdICsgMzY1ICogKHllYXIgLSAxOTcwKSArIGZsb29yKCh5ZWFyIC0gMTk2OSArIChtb250aCA9ICsobW9udGggPiAxKSkpIC8gNCkgLSBmbG9vcigoeWVhciAtIDE5MDEgKyBtb250aCkgLyAxMDApICsgZmxvb3IoKHllYXIgLSAxNjAxICsgbW9udGgpIC8gNDAwKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8gSW50ZXJuYWw6IERldGVybWluZXMgaWYgYSBwcm9wZXJ0eSBpcyBhIGRpcmVjdCBwcm9wZXJ0eSBvZiB0aGUgZ2l2ZW5cbiAgICAgIC8vIG9iamVjdC4gRGVsZWdhdGVzIHRvIHRoZSBuYXRpdmUgYE9iamVjdCNoYXNPd25Qcm9wZXJ0eWAgbWV0aG9kLlxuICAgICAgaWYgKCEoaXNQcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5KSkge1xuICAgICAgICBpc1Byb3BlcnR5ID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgICAgdmFyIG1lbWJlcnMgPSB7fSwgY29uc3RydWN0b3I7XG4gICAgICAgICAgaWYgKChtZW1iZXJzLl9fcHJvdG9fXyA9IG51bGwsIG1lbWJlcnMuX19wcm90b19fID0ge1xuICAgICAgICAgICAgLy8gVGhlICpwcm90byogcHJvcGVydHkgY2Fubm90IGJlIHNldCBtdWx0aXBsZSB0aW1lcyBpbiByZWNlbnRcbiAgICAgICAgICAgIC8vIHZlcnNpb25zIG9mIEZpcmVmb3ggYW5kIFNlYU1vbmtleS5cbiAgICAgICAgICAgIFwidG9TdHJpbmdcIjogMVxuICAgICAgICAgIH0sIG1lbWJlcnMpLnRvU3RyaW5nICE9IGdldENsYXNzKSB7XG4gICAgICAgICAgICAvLyBTYWZhcmkgPD0gMi4wLjMgZG9lc24ndCBpbXBsZW1lbnQgYE9iamVjdCNoYXNPd25Qcm9wZXJ0eWAsIGJ1dFxuICAgICAgICAgICAgLy8gc3VwcG9ydHMgdGhlIG11dGFibGUgKnByb3RvKiBwcm9wZXJ0eS5cbiAgICAgICAgICAgIGlzUHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgLy8gQ2FwdHVyZSBhbmQgYnJlYWsgdGhlIG9iamVjdCdzIHByb3RvdHlwZSBjaGFpbiAoc2VlIHNlY3Rpb24gOC42LjJcbiAgICAgICAgICAgICAgLy8gb2YgdGhlIEVTIDUuMSBzcGVjKS4gVGhlIHBhcmVudGhlc2l6ZWQgZXhwcmVzc2lvbiBwcmV2ZW50cyBhblxuICAgICAgICAgICAgICAvLyB1bnNhZmUgdHJhbnNmb3JtYXRpb24gYnkgdGhlIENsb3N1cmUgQ29tcGlsZXIuXG4gICAgICAgICAgICAgIHZhciBvcmlnaW5hbCA9IHRoaXMuX19wcm90b19fLCByZXN1bHQgPSBwcm9wZXJ0eSBpbiAodGhpcy5fX3Byb3RvX18gPSBudWxsLCB0aGlzKTtcbiAgICAgICAgICAgICAgLy8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgcHJvdG90eXBlIGNoYWluLlxuICAgICAgICAgICAgICB0aGlzLl9fcHJvdG9fXyA9IG9yaWdpbmFsO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQ2FwdHVyZSBhIHJlZmVyZW5jZSB0byB0aGUgdG9wLWxldmVsIGBPYmplY3RgIGNvbnN0cnVjdG9yLlxuICAgICAgICAgICAgY29uc3RydWN0b3IgPSBtZW1iZXJzLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgLy8gVXNlIHRoZSBgY29uc3RydWN0b3JgIHByb3BlcnR5IHRvIHNpbXVsYXRlIGBPYmplY3QjaGFzT3duUHJvcGVydHlgIGluXG4gICAgICAgICAgICAvLyBvdGhlciBlbnZpcm9ubWVudHMuXG4gICAgICAgICAgICBpc1Byb3BlcnR5ID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgIHZhciBwYXJlbnQgPSAodGhpcy5jb25zdHJ1Y3RvciB8fCBjb25zdHJ1Y3RvcikucHJvdG90eXBlO1xuICAgICAgICAgICAgICByZXR1cm4gcHJvcGVydHkgaW4gdGhpcyAmJiAhKHByb3BlcnR5IGluIHBhcmVudCAmJiB0aGlzW3Byb3BlcnR5XSA9PT0gcGFyZW50W3Byb3BlcnR5XSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZW1iZXJzID0gbnVsbDtcbiAgICAgICAgICByZXR1cm4gaXNQcm9wZXJ0eS5jYWxsKHRoaXMsIHByb3BlcnR5KTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8gSW50ZXJuYWw6IE5vcm1hbGl6ZXMgdGhlIGBmb3IuLi5pbmAgaXRlcmF0aW9uIGFsZ29yaXRobSBhY3Jvc3NcbiAgICAgIC8vIGVudmlyb25tZW50cy4gRWFjaCBlbnVtZXJhdGVkIGtleSBpcyB5aWVsZGVkIHRvIGEgYGNhbGxiYWNrYCBmdW5jdGlvbi5cbiAgICAgIGZvckVhY2ggPSBmdW5jdGlvbiAob2JqZWN0LCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgc2l6ZSA9IDAsIFByb3BlcnRpZXMsIG1lbWJlcnMsIHByb3BlcnR5O1xuXG4gICAgICAgIC8vIFRlc3RzIGZvciBidWdzIGluIHRoZSBjdXJyZW50IGVudmlyb25tZW50J3MgYGZvci4uLmluYCBhbGdvcml0aG0uIFRoZVxuICAgICAgICAvLyBgdmFsdWVPZmAgcHJvcGVydHkgaW5oZXJpdHMgdGhlIG5vbi1lbnVtZXJhYmxlIGZsYWcgZnJvbVxuICAgICAgICAvLyBgT2JqZWN0LnByb3RvdHlwZWAgaW4gb2xkZXIgdmVyc2lvbnMgb2YgSUUsIE5ldHNjYXBlLCBhbmQgTW96aWxsYS5cbiAgICAgICAgKFByb3BlcnRpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhpcy52YWx1ZU9mID0gMDtcbiAgICAgICAgfSkucHJvdG90eXBlLnZhbHVlT2YgPSAwO1xuXG4gICAgICAgIC8vIEl0ZXJhdGUgb3ZlciBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgYFByb3BlcnRpZXNgIGNsYXNzLlxuICAgICAgICBtZW1iZXJzID0gbmV3IFByb3BlcnRpZXMoKTtcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBtZW1iZXJzKSB7XG4gICAgICAgICAgLy8gSWdub3JlIGFsbCBwcm9wZXJ0aWVzIGluaGVyaXRlZCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC5cbiAgICAgICAgICBpZiAoaXNQcm9wZXJ0eS5jYWxsKG1lbWJlcnMsIHByb3BlcnR5KSkge1xuICAgICAgICAgICAgc2l6ZSsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBQcm9wZXJ0aWVzID0gbWVtYmVycyA9IG51bGw7XG5cbiAgICAgICAgLy8gTm9ybWFsaXplIHRoZSBpdGVyYXRpb24gYWxnb3JpdGhtLlxuICAgICAgICBpZiAoIXNpemUpIHtcbiAgICAgICAgICAvLyBBIGxpc3Qgb2Ygbm9uLWVudW1lcmFibGUgcHJvcGVydGllcyBpbmhlcml0ZWQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuXG4gICAgICAgICAgbWVtYmVycyA9IFtcInZhbHVlT2ZcIiwgXCJ0b1N0cmluZ1wiLCBcInRvTG9jYWxlU3RyaW5nXCIsIFwicHJvcGVydHlJc0VudW1lcmFibGVcIiwgXCJpc1Byb3RvdHlwZU9mXCIsIFwiaGFzT3duUHJvcGVydHlcIiwgXCJjb25zdHJ1Y3RvclwiXTtcbiAgICAgICAgICAvLyBJRSA8PSA4LCBNb3ppbGxhIDEuMCwgYW5kIE5ldHNjYXBlIDYuMiBpZ25vcmUgc2hhZG93ZWQgbm9uLWVudW1lcmFibGVcbiAgICAgICAgICAvLyBwcm9wZXJ0aWVzLlxuICAgICAgICAgIGZvckVhY2ggPSBmdW5jdGlvbiAob2JqZWN0LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIGlzRnVuY3Rpb24gPSBnZXRDbGFzcy5jYWxsKG9iamVjdCkgPT0gZnVuY3Rpb25DbGFzcywgcHJvcGVydHksIGxlbmd0aDtcbiAgICAgICAgICAgIHZhciBoYXNQcm9wZXJ0eSA9ICFpc0Z1bmN0aW9uICYmIHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgIT0gXCJmdW5jdGlvblwiICYmIG9iamVjdFR5cGVzW3R5cGVvZiBvYmplY3QuaGFzT3duUHJvcGVydHldICYmIG9iamVjdC5oYXNPd25Qcm9wZXJ0eSB8fCBpc1Byb3BlcnR5O1xuICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgLy8gR2Vja28gPD0gMS4wIGVudW1lcmF0ZXMgdGhlIGBwcm90b3R5cGVgIHByb3BlcnR5IG9mIGZ1bmN0aW9ucyB1bmRlclxuICAgICAgICAgICAgICAvLyBjZXJ0YWluIGNvbmRpdGlvbnM7IElFIGRvZXMgbm90LlxuICAgICAgICAgICAgICBpZiAoIShpc0Z1bmN0aW9uICYmIHByb3BlcnR5ID09IFwicHJvdG90eXBlXCIpICYmIGhhc1Byb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1hbnVhbGx5IGludm9rZSB0aGUgY2FsbGJhY2sgZm9yIGVhY2ggbm9uLWVudW1lcmFibGUgcHJvcGVydHkuXG4gICAgICAgICAgICBmb3IgKGxlbmd0aCA9IG1lbWJlcnMubGVuZ3RoOyBwcm9wZXJ0eSA9IG1lbWJlcnNbLS1sZW5ndGhdOyBoYXNQcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpICYmIGNhbGxiYWNrKHByb3BlcnR5KSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChzaXplID09IDIpIHtcbiAgICAgICAgICAvLyBTYWZhcmkgPD0gMi4wLjQgZW51bWVyYXRlcyBzaGFkb3dlZCBwcm9wZXJ0aWVzIHR3aWNlLlxuICAgICAgICAgIGZvckVhY2ggPSBmdW5jdGlvbiAob2JqZWN0LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgc2V0IG9mIGl0ZXJhdGVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICB2YXIgbWVtYmVycyA9IHt9LCBpc0Z1bmN0aW9uID0gZ2V0Q2xhc3MuY2FsbChvYmplY3QpID09IGZ1bmN0aW9uQ2xhc3MsIHByb3BlcnR5O1xuICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgLy8gU3RvcmUgZWFjaCBwcm9wZXJ0eSBuYW1lIHRvIHByZXZlbnQgZG91YmxlIGVudW1lcmF0aW9uLiBUaGVcbiAgICAgICAgICAgICAgLy8gYHByb3RvdHlwZWAgcHJvcGVydHkgb2YgZnVuY3Rpb25zIGlzIG5vdCBlbnVtZXJhdGVkIGR1ZSB0byBjcm9zcy1cbiAgICAgICAgICAgICAgLy8gZW52aXJvbm1lbnQgaW5jb25zaXN0ZW5jaWVzLlxuICAgICAgICAgICAgICBpZiAoIShpc0Z1bmN0aW9uICYmIHByb3BlcnR5ID09IFwicHJvdG90eXBlXCIpICYmICFpc1Byb3BlcnR5LmNhbGwobWVtYmVycywgcHJvcGVydHkpICYmIChtZW1iZXJzW3Byb3BlcnR5XSA9IDEpICYmIGlzUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTm8gYnVncyBkZXRlY3RlZDsgdXNlIHRoZSBzdGFuZGFyZCBgZm9yLi4uaW5gIGFsZ29yaXRobS5cbiAgICAgICAgICBmb3JFYWNoID0gZnVuY3Rpb24gKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHZhciBpc0Z1bmN0aW9uID0gZ2V0Q2xhc3MuY2FsbChvYmplY3QpID09IGZ1bmN0aW9uQ2xhc3MsIHByb3BlcnR5LCBpc0NvbnN0cnVjdG9yO1xuICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgaWYgKCEoaXNGdW5jdGlvbiAmJiBwcm9wZXJ0eSA9PSBcInByb3RvdHlwZVwiKSAmJiBpc1Byb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkgJiYgIShpc0NvbnN0cnVjdG9yID0gcHJvcGVydHkgPT09IFwiY29uc3RydWN0b3JcIikpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1hbnVhbGx5IGludm9rZSB0aGUgY2FsbGJhY2sgZm9yIHRoZSBgY29uc3RydWN0b3JgIHByb3BlcnR5IGR1ZSB0b1xuICAgICAgICAgICAgLy8gY3Jvc3MtZW52aXJvbm1lbnQgaW5jb25zaXN0ZW5jaWVzLlxuICAgICAgICAgICAgaWYgKGlzQ29uc3RydWN0b3IgfHwgaXNQcm9wZXJ0eS5jYWxsKG9iamVjdCwgKHByb3BlcnR5ID0gXCJjb25zdHJ1Y3RvclwiKSkpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2socHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvckVhY2gob2JqZWN0LCBjYWxsYmFjayk7XG4gICAgICB9O1xuXG4gICAgICAvLyBQdWJsaWM6IFNlcmlhbGl6ZXMgYSBKYXZhU2NyaXB0IGB2YWx1ZWAgYXMgYSBKU09OIHN0cmluZy4gVGhlIG9wdGlvbmFsXG4gICAgICAvLyBgZmlsdGVyYCBhcmd1bWVudCBtYXkgc3BlY2lmeSBlaXRoZXIgYSBmdW5jdGlvbiB0aGF0IGFsdGVycyBob3cgb2JqZWN0IGFuZFxuICAgICAgLy8gYXJyYXkgbWVtYmVycyBhcmUgc2VyaWFsaXplZCwgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncyBhbmQgbnVtYmVycyB0aGF0XG4gICAgICAvLyBpbmRpY2F0ZXMgd2hpY2ggcHJvcGVydGllcyBzaG91bGQgYmUgc2VyaWFsaXplZC4gVGhlIG9wdGlvbmFsIGB3aWR0aGBcbiAgICAgIC8vIGFyZ3VtZW50IG1heSBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgbnVtYmVyIHRoYXQgc3BlY2lmaWVzIHRoZSBpbmRlbnRhdGlvblxuICAgICAgLy8gbGV2ZWwgb2YgdGhlIG91dHB1dC5cbiAgICAgIGlmICghaGFzKFwianNvbi1zdHJpbmdpZnlcIikpIHtcbiAgICAgICAgLy8gSW50ZXJuYWw6IEEgbWFwIG9mIGNvbnRyb2wgY2hhcmFjdGVycyBhbmQgdGhlaXIgZXNjYXBlZCBlcXVpdmFsZW50cy5cbiAgICAgICAgdmFyIEVzY2FwZXMgPSB7XG4gICAgICAgICAgOTI6IFwiXFxcXFxcXFxcIixcbiAgICAgICAgICAzNDogJ1xcXFxcIicsXG4gICAgICAgICAgODogXCJcXFxcYlwiLFxuICAgICAgICAgIDEyOiBcIlxcXFxmXCIsXG4gICAgICAgICAgMTA6IFwiXFxcXG5cIixcbiAgICAgICAgICAxMzogXCJcXFxcclwiLFxuICAgICAgICAgIDk6IFwiXFxcXHRcIlxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEludGVybmFsOiBDb252ZXJ0cyBgdmFsdWVgIGludG8gYSB6ZXJvLXBhZGRlZCBzdHJpbmcgc3VjaCB0aGF0IGl0c1xuICAgICAgICAvLyBsZW5ndGggaXMgYXQgbGVhc3QgZXF1YWwgdG8gYHdpZHRoYC4gVGhlIGB3aWR0aGAgbXVzdCBiZSA8PSA2LlxuICAgICAgICB2YXIgbGVhZGluZ1plcm9lcyA9IFwiMDAwMDAwXCI7XG4gICAgICAgIHZhciB0b1BhZGRlZFN0cmluZyA9IGZ1bmN0aW9uICh3aWR0aCwgdmFsdWUpIHtcbiAgICAgICAgICAvLyBUaGUgYHx8IDBgIGV4cHJlc3Npb24gaXMgbmVjZXNzYXJ5IHRvIHdvcmsgYXJvdW5kIGEgYnVnIGluXG4gICAgICAgICAgLy8gT3BlcmEgPD0gNy41NHUyIHdoZXJlIGAwID09IC0wYCwgYnV0IGBTdHJpbmcoLTApICE9PSBcIjBcImAuXG4gICAgICAgICAgcmV0dXJuIChsZWFkaW5nWmVyb2VzICsgKHZhbHVlIHx8IDApKS5zbGljZSgtd2lkdGgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEludGVybmFsOiBEb3VibGUtcXVvdGVzIGEgc3RyaW5nIGB2YWx1ZWAsIHJlcGxhY2luZyBhbGwgQVNDSUkgY29udHJvbFxuICAgICAgICAvLyBjaGFyYWN0ZXJzIChjaGFyYWN0ZXJzIHdpdGggY29kZSB1bml0IHZhbHVlcyBiZXR3ZWVuIDAgYW5kIDMxKSB3aXRoXG4gICAgICAgIC8vIHRoZWlyIGVzY2FwZWQgZXF1aXZhbGVudHMuIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgdGhlXG4gICAgICAgIC8vIGBRdW90ZSh2YWx1ZSlgIG9wZXJhdGlvbiBkZWZpbmVkIGluIEVTIDUuMSBzZWN0aW9uIDE1LjEyLjMuXG4gICAgICAgIHZhciB1bmljb2RlUHJlZml4ID0gXCJcXFxcdTAwXCI7XG4gICAgICAgIHZhciBxdW90ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSAnXCInLCBpbmRleCA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aCwgdXNlQ2hhckluZGV4ID0gIWNoYXJJbmRleEJ1Z2d5IHx8IGxlbmd0aCA+IDEwO1xuICAgICAgICAgIHZhciBzeW1ib2xzID0gdXNlQ2hhckluZGV4ICYmIChjaGFySW5kZXhCdWdneSA/IHZhbHVlLnNwbGl0KFwiXCIpIDogdmFsdWUpO1xuICAgICAgICAgIGZvciAoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgdmFyIGNoYXJDb2RlID0gdmFsdWUuY2hhckNvZGVBdChpbmRleCk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgY2hhcmFjdGVyIGlzIGEgY29udHJvbCBjaGFyYWN0ZXIsIGFwcGVuZCBpdHMgVW5pY29kZSBvclxuICAgICAgICAgICAgLy8gc2hvcnRoYW5kIGVzY2FwZSBzZXF1ZW5jZTsgb3RoZXJ3aXNlLCBhcHBlbmQgdGhlIGNoYXJhY3RlciBhcy1pcy5cbiAgICAgICAgICAgIHN3aXRjaCAoY2hhckNvZGUpIHtcbiAgICAgICAgICAgICAgY2FzZSA4OiBjYXNlIDk6IGNhc2UgMTA6IGNhc2UgMTI6IGNhc2UgMTM6IGNhc2UgMzQ6IGNhc2UgOTI6XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IEVzY2FwZXNbY2hhckNvZGVdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmIChjaGFyQ29kZSA8IDMyKSB7XG4gICAgICAgICAgICAgICAgICByZXN1bHQgKz0gdW5pY29kZVByZWZpeCArIHRvUGFkZGVkU3RyaW5nKDIsIGNoYXJDb2RlLnRvU3RyaW5nKDE2KSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IHVzZUNoYXJJbmRleCA/IHN5bWJvbHNbaW5kZXhdIDogdmFsdWUuY2hhckF0KGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdCArICdcIic7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSW50ZXJuYWw6IFJlY3Vyc2l2ZWx5IHNlcmlhbGl6ZXMgYW4gb2JqZWN0LiBJbXBsZW1lbnRzIHRoZVxuICAgICAgICAvLyBgU3RyKGtleSwgaG9sZGVyKWAsIGBKTyh2YWx1ZSlgLCBhbmQgYEpBKHZhbHVlKWAgb3BlcmF0aW9ucy5cbiAgICAgICAgdmFyIHNlcmlhbGl6ZSA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgb2JqZWN0LCBjYWxsYmFjaywgcHJvcGVydGllcywgd2hpdGVzcGFjZSwgaW5kZW50YXRpb24sIHN0YWNrKSB7XG4gICAgICAgICAgdmFyIHZhbHVlLCBjbGFzc05hbWUsIHllYXIsIG1vbnRoLCBkYXRlLCB0aW1lLCBob3VycywgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzLCByZXN1bHRzLCBlbGVtZW50LCBpbmRleCwgbGVuZ3RoLCBwcmVmaXgsIHJlc3VsdDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gTmVjZXNzYXJ5IGZvciBob3N0IG9iamVjdCBzdXBwb3J0LlxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3RbcHJvcGVydHldO1xuICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge31cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUpIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IGdldENsYXNzLmNhbGwodmFsdWUpO1xuICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSA9PSBkYXRlQ2xhc3MgJiYgIWlzUHJvcGVydHkuY2FsbCh2YWx1ZSwgXCJ0b0pTT05cIikpIHtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlID4gLTEgLyAwICYmIHZhbHVlIDwgMSAvIDApIHtcbiAgICAgICAgICAgICAgICAvLyBEYXRlcyBhcmUgc2VyaWFsaXplZCBhY2NvcmRpbmcgdG8gdGhlIGBEYXRlI3RvSlNPTmAgbWV0aG9kXG4gICAgICAgICAgICAgICAgLy8gc3BlY2lmaWVkIGluIEVTIDUuMSBzZWN0aW9uIDE1LjkuNS40NC4gU2VlIHNlY3Rpb24gMTUuOS4xLjE1XG4gICAgICAgICAgICAgICAgLy8gZm9yIHRoZSBJU08gODYwMSBkYXRlIHRpbWUgc3RyaW5nIGZvcm1hdC5cbiAgICAgICAgICAgICAgICBpZiAoZ2V0RGF5KSB7XG4gICAgICAgICAgICAgICAgICAvLyBNYW51YWxseSBjb21wdXRlIHRoZSB5ZWFyLCBtb250aCwgZGF0ZSwgaG91cnMsIG1pbnV0ZXMsXG4gICAgICAgICAgICAgICAgICAvLyBzZWNvbmRzLCBhbmQgbWlsbGlzZWNvbmRzIGlmIHRoZSBgZ2V0VVRDKmAgbWV0aG9kcyBhcmVcbiAgICAgICAgICAgICAgICAgIC8vIGJ1Z2d5LiBBZGFwdGVkIGZyb20gQFlhZmZsZSdzIGBkYXRlLXNoaW1gIHByb2plY3QuXG4gICAgICAgICAgICAgICAgICBkYXRlID0gZmxvb3IodmFsdWUgLyA4NjRlNSk7XG4gICAgICAgICAgICAgICAgICBmb3IgKHllYXIgPSBmbG9vcihkYXRlIC8gMzY1LjI0MjUpICsgMTk3MCAtIDE7IGdldERheSh5ZWFyICsgMSwgMCkgPD0gZGF0ZTsgeWVhcisrKTtcbiAgICAgICAgICAgICAgICAgIGZvciAobW9udGggPSBmbG9vcigoZGF0ZSAtIGdldERheSh5ZWFyLCAwKSkgLyAzMC40Mik7IGdldERheSh5ZWFyLCBtb250aCArIDEpIDw9IGRhdGU7IG1vbnRoKyspO1xuICAgICAgICAgICAgICAgICAgZGF0ZSA9IDEgKyBkYXRlIC0gZ2V0RGF5KHllYXIsIG1vbnRoKTtcbiAgICAgICAgICAgICAgICAgIC8vIFRoZSBgdGltZWAgdmFsdWUgc3BlY2lmaWVzIHRoZSB0aW1lIHdpdGhpbiB0aGUgZGF5IChzZWUgRVNcbiAgICAgICAgICAgICAgICAgIC8vIDUuMSBzZWN0aW9uIDE1LjkuMS4yKS4gVGhlIGZvcm11bGEgYChBICUgQiArIEIpICUgQmAgaXMgdXNlZFxuICAgICAgICAgICAgICAgICAgLy8gdG8gY29tcHV0ZSBgQSBtb2R1bG8gQmAsIGFzIHRoZSBgJWAgb3BlcmF0b3IgZG9lcyBub3RcbiAgICAgICAgICAgICAgICAgIC8vIGNvcnJlc3BvbmQgdG8gdGhlIGBtb2R1bG9gIG9wZXJhdGlvbiBmb3IgbmVnYXRpdmUgbnVtYmVycy5cbiAgICAgICAgICAgICAgICAgIHRpbWUgPSAodmFsdWUgJSA4NjRlNSArIDg2NGU1KSAlIDg2NGU1O1xuICAgICAgICAgICAgICAgICAgLy8gVGhlIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBhbmQgbWlsbGlzZWNvbmRzIGFyZSBvYnRhaW5lZCBieVxuICAgICAgICAgICAgICAgICAgLy8gZGVjb21wb3NpbmcgdGhlIHRpbWUgd2l0aGluIHRoZSBkYXkuIFNlZSBzZWN0aW9uIDE1LjkuMS4xMC5cbiAgICAgICAgICAgICAgICAgIGhvdXJzID0gZmxvb3IodGltZSAvIDM2ZTUpICUgMjQ7XG4gICAgICAgICAgICAgICAgICBtaW51dGVzID0gZmxvb3IodGltZSAvIDZlNCkgJSA2MDtcbiAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSBmbG9vcih0aW1lIC8gMWUzKSAlIDYwO1xuICAgICAgICAgICAgICAgICAgbWlsbGlzZWNvbmRzID0gdGltZSAlIDFlMztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgeWVhciA9IHZhbHVlLmdldFVUQ0Z1bGxZZWFyKCk7XG4gICAgICAgICAgICAgICAgICBtb250aCA9IHZhbHVlLmdldFVUQ01vbnRoKCk7XG4gICAgICAgICAgICAgICAgICBkYXRlID0gdmFsdWUuZ2V0VVRDRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgaG91cnMgPSB2YWx1ZS5nZXRVVENIb3VycygpO1xuICAgICAgICAgICAgICAgICAgbWludXRlcyA9IHZhbHVlLmdldFVUQ01pbnV0ZXMoKTtcbiAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSB2YWx1ZS5nZXRVVENTZWNvbmRzKCk7XG4gICAgICAgICAgICAgICAgICBtaWxsaXNlY29uZHMgPSB2YWx1ZS5nZXRVVENNaWxsaXNlY29uZHMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2VyaWFsaXplIGV4dGVuZGVkIHllYXJzIGNvcnJlY3RseS5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICh5ZWFyIDw9IDAgfHwgeWVhciA+PSAxZTQgPyAoeWVhciA8IDAgPyBcIi1cIiA6IFwiK1wiKSArIHRvUGFkZGVkU3RyaW5nKDYsIHllYXIgPCAwID8gLXllYXIgOiB5ZWFyKSA6IHRvUGFkZGVkU3RyaW5nKDQsIHllYXIpKSArXG4gICAgICAgICAgICAgICAgICBcIi1cIiArIHRvUGFkZGVkU3RyaW5nKDIsIG1vbnRoICsgMSkgKyBcIi1cIiArIHRvUGFkZGVkU3RyaW5nKDIsIGRhdGUpICtcbiAgICAgICAgICAgICAgICAgIC8vIE1vbnRocywgZGF0ZXMsIGhvdXJzLCBtaW51dGVzLCBhbmQgc2Vjb25kcyBzaG91bGQgaGF2ZSB0d29cbiAgICAgICAgICAgICAgICAgIC8vIGRpZ2l0czsgbWlsbGlzZWNvbmRzIHNob3VsZCBoYXZlIHRocmVlLlxuICAgICAgICAgICAgICAgICAgXCJUXCIgKyB0b1BhZGRlZFN0cmluZygyLCBob3VycykgKyBcIjpcIiArIHRvUGFkZGVkU3RyaW5nKDIsIG1pbnV0ZXMpICsgXCI6XCIgKyB0b1BhZGRlZFN0cmluZygyLCBzZWNvbmRzKSArXG4gICAgICAgICAgICAgICAgICAvLyBNaWxsaXNlY29uZHMgYXJlIG9wdGlvbmFsIGluIEVTIDUuMCwgYnV0IHJlcXVpcmVkIGluIDUuMS5cbiAgICAgICAgICAgICAgICAgIFwiLlwiICsgdG9QYWRkZWRTdHJpbmcoMywgbWlsbGlzZWNvbmRzKSArIFwiWlwiO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUudG9KU09OID09IFwiZnVuY3Rpb25cIiAmJiAoKGNsYXNzTmFtZSAhPSBudW1iZXJDbGFzcyAmJiBjbGFzc05hbWUgIT0gc3RyaW5nQ2xhc3MgJiYgY2xhc3NOYW1lICE9IGFycmF5Q2xhc3MpIHx8IGlzUHJvcGVydHkuY2FsbCh2YWx1ZSwgXCJ0b0pTT05cIikpKSB7XG4gICAgICAgICAgICAgIC8vIFByb3RvdHlwZSA8PSAxLjYuMSBhZGRzIG5vbi1zdGFuZGFyZCBgdG9KU09OYCBtZXRob2RzIHRvIHRoZVxuICAgICAgICAgICAgICAvLyBgTnVtYmVyYCwgYFN0cmluZ2AsIGBEYXRlYCwgYW5kIGBBcnJheWAgcHJvdG90eXBlcy4gSlNPTiAzXG4gICAgICAgICAgICAgIC8vIGlnbm9yZXMgYWxsIGB0b0pTT05gIG1ldGhvZHMgb24gdGhlc2Ugb2JqZWN0cyB1bmxlc3MgdGhleSBhcmVcbiAgICAgICAgICAgICAgLy8gZGVmaW5lZCBkaXJlY3RseSBvbiBhbiBpbnN0YW5jZS5cbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b0pTT04ocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIC8vIElmIGEgcmVwbGFjZW1lbnQgZnVuY3Rpb24gd2FzIHByb3ZpZGVkLCBjYWxsIGl0IHRvIG9idGFpbiB0aGUgdmFsdWVcbiAgICAgICAgICAgIC8vIGZvciBzZXJpYWxpemF0aW9uLlxuICAgICAgICAgICAgdmFsdWUgPSBjYWxsYmFjay5jYWxsKG9iamVjdCwgcHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNsYXNzTmFtZSA9IGdldENsYXNzLmNhbGwodmFsdWUpO1xuICAgICAgICAgIGlmIChjbGFzc05hbWUgPT0gYm9vbGVhbkNsYXNzKSB7XG4gICAgICAgICAgICAvLyBCb29sZWFucyBhcmUgcmVwcmVzZW50ZWQgbGl0ZXJhbGx5LlxuICAgICAgICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNsYXNzTmFtZSA9PSBudW1iZXJDbGFzcykge1xuICAgICAgICAgICAgLy8gSlNPTiBudW1iZXJzIG11c3QgYmUgZmluaXRlLiBgSW5maW5pdHlgIGFuZCBgTmFOYCBhcmUgc2VyaWFsaXplZCBhc1xuICAgICAgICAgICAgLy8gYFwibnVsbFwiYC5cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA+IC0xIC8gMCAmJiB2YWx1ZSA8IDEgLyAwID8gXCJcIiArIHZhbHVlIDogXCJudWxsXCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChjbGFzc05hbWUgPT0gc3RyaW5nQ2xhc3MpIHtcbiAgICAgICAgICAgIC8vIFN0cmluZ3MgYXJlIGRvdWJsZS1xdW90ZWQgYW5kIGVzY2FwZWQuXG4gICAgICAgICAgICByZXR1cm4gcXVvdGUoXCJcIiArIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUmVjdXJzaXZlbHkgc2VyaWFsaXplIG9iamVjdHMgYW5kIGFycmF5cy5cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBjeWNsaWMgc3RydWN0dXJlcy4gVGhpcyBpcyBhIGxpbmVhciBzZWFyY2g7IHBlcmZvcm1hbmNlXG4gICAgICAgICAgICAvLyBpcyBpbnZlcnNlbHkgcHJvcG9ydGlvbmFsIHRvIHRoZSBudW1iZXIgb2YgdW5pcXVlIG5lc3RlZCBvYmplY3RzLlxuICAgICAgICAgICAgZm9yIChsZW5ndGggPSBzdGFjay5sZW5ndGg7IGxlbmd0aC0tOykge1xuICAgICAgICAgICAgICBpZiAoc3RhY2tbbGVuZ3RoXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyBDeWNsaWMgc3RydWN0dXJlcyBjYW5ub3QgYmUgc2VyaWFsaXplZCBieSBgSlNPTi5zdHJpbmdpZnlgLlxuICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBZGQgdGhlIG9iamVjdCB0byB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgICAgICAgICBzdGFjay5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgICAgIC8vIFNhdmUgdGhlIGN1cnJlbnQgaW5kZW50YXRpb24gbGV2ZWwgYW5kIGluZGVudCBvbmUgYWRkaXRpb25hbCBsZXZlbC5cbiAgICAgICAgICAgIHByZWZpeCA9IGluZGVudGF0aW9uO1xuICAgICAgICAgICAgaW5kZW50YXRpb24gKz0gd2hpdGVzcGFjZTtcbiAgICAgICAgICAgIGlmIChjbGFzc05hbWUgPT0gYXJyYXlDbGFzcykge1xuICAgICAgICAgICAgICAvLyBSZWN1cnNpdmVseSBzZXJpYWxpemUgYXJyYXkgZWxlbWVudHMuXG4gICAgICAgICAgICAgIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IHNlcmlhbGl6ZShpbmRleCwgdmFsdWUsIGNhbGxiYWNrLCBwcm9wZXJ0aWVzLCB3aGl0ZXNwYWNlLCBpbmRlbnRhdGlvbiwgc3RhY2spO1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChlbGVtZW50ID09PSB1bmRlZiA/IFwibnVsbFwiIDogZWxlbWVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0cy5sZW5ndGggPyAod2hpdGVzcGFjZSA/IFwiW1xcblwiICsgaW5kZW50YXRpb24gKyByZXN1bHRzLmpvaW4oXCIsXFxuXCIgKyBpbmRlbnRhdGlvbikgKyBcIlxcblwiICsgcHJlZml4ICsgXCJdXCIgOiAoXCJbXCIgKyByZXN1bHRzLmpvaW4oXCIsXCIpICsgXCJdXCIpKSA6IFwiW11cIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHNlcmlhbGl6ZSBvYmplY3QgbWVtYmVycy4gTWVtYmVycyBhcmUgc2VsZWN0ZWQgZnJvbVxuICAgICAgICAgICAgICAvLyBlaXRoZXIgYSB1c2VyLXNwZWNpZmllZCBsaXN0IG9mIHByb3BlcnR5IG5hbWVzLCBvciB0aGUgb2JqZWN0XG4gICAgICAgICAgICAgIC8vIGl0c2VsZi5cbiAgICAgICAgICAgICAgZm9yRWFjaChwcm9wZXJ0aWVzIHx8IHZhbHVlLCBmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IHNlcmlhbGl6ZShwcm9wZXJ0eSwgdmFsdWUsIGNhbGxiYWNrLCBwcm9wZXJ0aWVzLCB3aGl0ZXNwYWNlLCBpbmRlbnRhdGlvbiwgc3RhY2spO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50ICE9PSB1bmRlZikge1xuICAgICAgICAgICAgICAgICAgLy8gQWNjb3JkaW5nIHRvIEVTIDUuMSBzZWN0aW9uIDE1LjEyLjM6IFwiSWYgYGdhcGAge3doaXRlc3BhY2V9XG4gICAgICAgICAgICAgICAgICAvLyBpcyBub3QgdGhlIGVtcHR5IHN0cmluZywgbGV0IGBtZW1iZXJgIHtxdW90ZShwcm9wZXJ0eSkgKyBcIjpcIn1cbiAgICAgICAgICAgICAgICAgIC8vIGJlIHRoZSBjb25jYXRlbmF0aW9uIG9mIGBtZW1iZXJgIGFuZCB0aGUgYHNwYWNlYCBjaGFyYWN0ZXIuXCJcbiAgICAgICAgICAgICAgICAgIC8vIFRoZSBcImBzcGFjZWAgY2hhcmFjdGVyXCIgcmVmZXJzIHRvIHRoZSBsaXRlcmFsIHNwYWNlXG4gICAgICAgICAgICAgICAgICAvLyBjaGFyYWN0ZXIsIG5vdCB0aGUgYHNwYWNlYCB7d2lkdGh9IGFyZ3VtZW50IHByb3ZpZGVkIHRvXG4gICAgICAgICAgICAgICAgICAvLyBgSlNPTi5zdHJpbmdpZnlgLlxuICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHF1b3RlKHByb3BlcnR5KSArIFwiOlwiICsgKHdoaXRlc3BhY2UgPyBcIiBcIiA6IFwiXCIpICsgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0cy5sZW5ndGggPyAod2hpdGVzcGFjZSA/IFwie1xcblwiICsgaW5kZW50YXRpb24gKyByZXN1bHRzLmpvaW4oXCIsXFxuXCIgKyBpbmRlbnRhdGlvbikgKyBcIlxcblwiICsgcHJlZml4ICsgXCJ9XCIgOiAoXCJ7XCIgKyByZXN1bHRzLmpvaW4oXCIsXCIpICsgXCJ9XCIpKSA6IFwie31cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgb2JqZWN0IGZyb20gdGhlIHRyYXZlcnNlZCBvYmplY3Qgc3RhY2suXG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFB1YmxpYzogYEpTT04uc3RyaW5naWZ5YC4gU2VlIEVTIDUuMSBzZWN0aW9uIDE1LjEyLjMuXG4gICAgICAgIGV4cG9ydHMuc3RyaW5naWZ5ID0gZnVuY3Rpb24gKHNvdXJjZSwgZmlsdGVyLCB3aWR0aCkge1xuICAgICAgICAgIHZhciB3aGl0ZXNwYWNlLCBjYWxsYmFjaywgcHJvcGVydGllcywgY2xhc3NOYW1lO1xuICAgICAgICAgIGlmIChvYmplY3RUeXBlc1t0eXBlb2YgZmlsdGVyXSAmJiBmaWx0ZXIpIHtcbiAgICAgICAgICAgIGlmICgoY2xhc3NOYW1lID0gZ2V0Q2xhc3MuY2FsbChmaWx0ZXIpKSA9PSBmdW5jdGlvbkNsYXNzKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrID0gZmlsdGVyO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjbGFzc05hbWUgPT0gYXJyYXlDbGFzcykge1xuICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBwcm9wZXJ0eSBuYW1lcyBhcnJheSBpbnRvIGEgbWFrZXNoaWZ0IHNldC5cbiAgICAgICAgICAgICAgcHJvcGVydGllcyA9IHt9O1xuICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDAsIGxlbmd0aCA9IGZpbHRlci5sZW5ndGgsIHZhbHVlOyBpbmRleCA8IGxlbmd0aDsgdmFsdWUgPSBmaWx0ZXJbaW5kZXgrK10sICgoY2xhc3NOYW1lID0gZ2V0Q2xhc3MuY2FsbCh2YWx1ZSkpLCBjbGFzc05hbWUgPT0gc3RyaW5nQ2xhc3MgfHwgY2xhc3NOYW1lID09IG51bWJlckNsYXNzKSAmJiAocHJvcGVydGllc1t2YWx1ZV0gPSAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh3aWR0aCkge1xuICAgICAgICAgICAgaWYgKChjbGFzc05hbWUgPSBnZXRDbGFzcy5jYWxsKHdpZHRoKSkgPT0gbnVtYmVyQ2xhc3MpIHtcbiAgICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgYHdpZHRoYCB0byBhbiBpbnRlZ2VyIGFuZCBjcmVhdGUgYSBzdHJpbmcgY29udGFpbmluZ1xuICAgICAgICAgICAgICAvLyBgd2lkdGhgIG51bWJlciBvZiBzcGFjZSBjaGFyYWN0ZXJzLlxuICAgICAgICAgICAgICBpZiAoKHdpZHRoIC09IHdpZHRoICUgMSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yICh3aGl0ZXNwYWNlID0gXCJcIiwgd2lkdGggPiAxMCAmJiAod2lkdGggPSAxMCk7IHdoaXRlc3BhY2UubGVuZ3RoIDwgd2lkdGg7IHdoaXRlc3BhY2UgKz0gXCIgXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNsYXNzTmFtZSA9PSBzdHJpbmdDbGFzcykge1xuICAgICAgICAgICAgICB3aGl0ZXNwYWNlID0gd2lkdGgubGVuZ3RoIDw9IDEwID8gd2lkdGggOiB3aWR0aC5zbGljZSgwLCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIE9wZXJhIDw9IDcuNTR1MiBkaXNjYXJkcyB0aGUgdmFsdWVzIGFzc29jaWF0ZWQgd2l0aCBlbXB0eSBzdHJpbmcga2V5c1xuICAgICAgICAgIC8vIChgXCJcImApIG9ubHkgaWYgdGhleSBhcmUgdXNlZCBkaXJlY3RseSB3aXRoaW4gYW4gb2JqZWN0IG1lbWJlciBsaXN0XG4gICAgICAgICAgLy8gKGUuZy4sIGAhKFwiXCIgaW4geyBcIlwiOiAxfSlgKS5cbiAgICAgICAgICByZXR1cm4gc2VyaWFsaXplKFwiXCIsICh2YWx1ZSA9IHt9LCB2YWx1ZVtcIlwiXSA9IHNvdXJjZSwgdmFsdWUpLCBjYWxsYmFjaywgcHJvcGVydGllcywgd2hpdGVzcGFjZSwgXCJcIiwgW10pO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBQdWJsaWM6IFBhcnNlcyBhIEpTT04gc291cmNlIHN0cmluZy5cbiAgICAgIGlmICghaGFzKFwianNvbi1wYXJzZVwiKSkge1xuICAgICAgICB2YXIgZnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZTtcblxuICAgICAgICAvLyBJbnRlcm5hbDogQSBtYXAgb2YgZXNjYXBlZCBjb250cm9sIGNoYXJhY3RlcnMgYW5kIHRoZWlyIHVuZXNjYXBlZFxuICAgICAgICAvLyBlcXVpdmFsZW50cy5cbiAgICAgICAgdmFyIFVuZXNjYXBlcyA9IHtcbiAgICAgICAgICA5MjogXCJcXFxcXCIsXG4gICAgICAgICAgMzQ6ICdcIicsXG4gICAgICAgICAgNDc6IFwiL1wiLFxuICAgICAgICAgIDk4OiBcIlxcYlwiLFxuICAgICAgICAgIDExNjogXCJcXHRcIixcbiAgICAgICAgICAxMTA6IFwiXFxuXCIsXG4gICAgICAgICAgMTAyOiBcIlxcZlwiLFxuICAgICAgICAgIDExNDogXCJcXHJcIlxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEludGVybmFsOiBTdG9yZXMgdGhlIHBhcnNlciBzdGF0ZS5cbiAgICAgICAgdmFyIEluZGV4LCBTb3VyY2U7XG5cbiAgICAgICAgLy8gSW50ZXJuYWw6IFJlc2V0cyB0aGUgcGFyc2VyIHN0YXRlIGFuZCB0aHJvd3MgYSBgU3ludGF4RXJyb3JgLlxuICAgICAgICB2YXIgYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgSW5kZXggPSBTb3VyY2UgPSBudWxsO1xuICAgICAgICAgIHRocm93IFN5bnRheEVycm9yKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSW50ZXJuYWw6IFJldHVybnMgdGhlIG5leHQgdG9rZW4sIG9yIGBcIiRcImAgaWYgdGhlIHBhcnNlciBoYXMgcmVhY2hlZFxuICAgICAgICAvLyB0aGUgZW5kIG9mIHRoZSBzb3VyY2Ugc3RyaW5nLiBBIHRva2VuIG1heSBiZSBhIHN0cmluZywgbnVtYmVyLCBgbnVsbGBcbiAgICAgICAgLy8gbGl0ZXJhbCwgb3IgQm9vbGVhbiBsaXRlcmFsLlxuICAgICAgICB2YXIgbGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBTb3VyY2UsIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGgsIHZhbHVlLCBiZWdpbiwgcG9zaXRpb24sIGlzU2lnbmVkLCBjaGFyQ29kZTtcbiAgICAgICAgICB3aGlsZSAoSW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQoSW5kZXgpO1xuICAgICAgICAgICAgc3dpdGNoIChjaGFyQ29kZSkge1xuICAgICAgICAgICAgICBjYXNlIDk6IGNhc2UgMTA6IGNhc2UgMTM6IGNhc2UgMzI6XG4gICAgICAgICAgICAgICAgLy8gU2tpcCB3aGl0ZXNwYWNlIHRva2VucywgaW5jbHVkaW5nIHRhYnMsIGNhcnJpYWdlIHJldHVybnMsIGxpbmVcbiAgICAgICAgICAgICAgICAvLyBmZWVkcywgYW5kIHNwYWNlIGNoYXJhY3RlcnMuXG4gICAgICAgICAgICAgICAgSW5kZXgrKztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAxMjM6IGNhc2UgMTI1OiBjYXNlIDkxOiBjYXNlIDkzOiBjYXNlIDU4OiBjYXNlIDQ0OlxuICAgICAgICAgICAgICAgIC8vIFBhcnNlIGEgcHVuY3R1YXRvciB0b2tlbiAoYHtgLCBgfWAsIGBbYCwgYF1gLCBgOmAsIG9yIGAsYCkgYXRcbiAgICAgICAgICAgICAgICAvLyB0aGUgY3VycmVudCBwb3NpdGlvbi5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGNoYXJJbmRleEJ1Z2d5ID8gc291cmNlLmNoYXJBdChJbmRleCkgOiBzb3VyY2VbSW5kZXhdO1xuICAgICAgICAgICAgICAgIEluZGV4Kys7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICBjYXNlIDM0OlxuICAgICAgICAgICAgICAgIC8vIGBcImAgZGVsaW1pdHMgYSBKU09OIHN0cmluZzsgYWR2YW5jZSB0byB0aGUgbmV4dCBjaGFyYWN0ZXIgYW5kXG4gICAgICAgICAgICAgICAgLy8gYmVnaW4gcGFyc2luZyB0aGUgc3RyaW5nLiBTdHJpbmcgdG9rZW5zIGFyZSBwcmVmaXhlZCB3aXRoIHRoZVxuICAgICAgICAgICAgICAgIC8vIHNlbnRpbmVsIGBAYCBjaGFyYWN0ZXIgdG8gZGlzdGluZ3Vpc2ggdGhlbSBmcm9tIHB1bmN0dWF0b3JzIGFuZFxuICAgICAgICAgICAgICAgIC8vIGVuZC1vZi1zdHJpbmcgdG9rZW5zLlxuICAgICAgICAgICAgICAgIGZvciAodmFsdWUgPSBcIkBcIiwgSW5kZXgrKzsgSW5kZXggPCBsZW5ndGg7KSB7XG4gICAgICAgICAgICAgICAgICBjaGFyQ29kZSA9IHNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KTtcbiAgICAgICAgICAgICAgICAgIGlmIChjaGFyQ29kZSA8IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVuZXNjYXBlZCBBU0NJSSBjb250cm9sIGNoYXJhY3RlcnMgKHRob3NlIHdpdGggYSBjb2RlIHVuaXRcbiAgICAgICAgICAgICAgICAgICAgLy8gbGVzcyB0aGFuIHRoZSBzcGFjZSBjaGFyYWN0ZXIpIGFyZSBub3QgcGVybWl0dGVkLlxuICAgICAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyQ29kZSA9PSA5Mikge1xuICAgICAgICAgICAgICAgICAgICAvLyBBIHJldmVyc2Ugc29saWR1cyAoYFxcYCkgbWFya3MgdGhlIGJlZ2lubmluZyBvZiBhbiBlc2NhcGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnRyb2wgY2hhcmFjdGVyIChpbmNsdWRpbmcgYFwiYCwgYFxcYCwgYW5kIGAvYCkgb3IgVW5pY29kZVxuICAgICAgICAgICAgICAgICAgICAvLyBlc2NhcGUgc2VxdWVuY2UuXG4gICAgICAgICAgICAgICAgICAgIGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQoKytJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2hhckNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDkyOiBjYXNlIDM0OiBjYXNlIDQ3OiBjYXNlIDk4OiBjYXNlIDExNjogY2FzZSAxMTA6IGNhc2UgMTAyOiBjYXNlIDExNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldml2ZSBlc2NhcGVkIGNvbnRyb2wgY2hhcmFjdGVycy5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IFVuZXNjYXBlc1tjaGFyQ29kZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBgXFx1YCBtYXJrcyB0aGUgYmVnaW5uaW5nIG9mIGEgVW5pY29kZSBlc2NhcGUgc2VxdWVuY2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZHZhbmNlIHRvIHRoZSBmaXJzdCBjaGFyYWN0ZXIgYW5kIHZhbGlkYXRlIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm91ci1kaWdpdCBjb2RlIHBvaW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW4gPSArK0luZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwb3NpdGlvbiA9IEluZGV4ICsgNDsgSW5kZXggPCBwb3NpdGlvbjsgSW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyQ29kZSA9IHNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQSB2YWxpZCBzZXF1ZW5jZSBjb21wcmlzZXMgZm91ciBoZXhkaWdpdHMgKGNhc2UtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluc2Vuc2l0aXZlKSB0aGF0IGZvcm0gYSBzaW5nbGUgaGV4YWRlY2ltYWwgdmFsdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGNoYXJDb2RlID49IDQ4ICYmIGNoYXJDb2RlIDw9IDU3IHx8IGNoYXJDb2RlID49IDk3ICYmIGNoYXJDb2RlIDw9IDEwMiB8fCBjaGFyQ29kZSA+PSA2NSAmJiBjaGFyQ29kZSA8PSA3MCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbnZhbGlkIFVuaWNvZGUgZXNjYXBlIHNlcXVlbmNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldml2ZSB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSBmcm9tQ2hhckNvZGUoXCIweFwiICsgc291cmNlLnNsaWNlKGJlZ2luLCBJbmRleCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEludmFsaWQgZXNjYXBlIHNlcXVlbmNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJDb2RlID09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gQW4gdW5lc2NhcGVkIGRvdWJsZS1xdW90ZSBjaGFyYWN0ZXIgbWFya3MgdGhlIGVuZCBvZiB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAvLyBzdHJpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2hhckNvZGUgPSBzb3VyY2UuY2hhckNvZGVBdChJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGJlZ2luID0gSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9wdGltaXplIGZvciB0aGUgY29tbW9uIGNhc2Ugd2hlcmUgYSBzdHJpbmcgaXMgdmFsaWQuXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChjaGFyQ29kZSA+PSAzMiAmJiBjaGFyQ29kZSAhPSA5MiAmJiBjaGFyQ29kZSAhPSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQoKytJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQXBwZW5kIHRoZSBzdHJpbmcgYXMtaXMuXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHNvdXJjZS5zbGljZShiZWdpbiwgSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc291cmNlLmNoYXJDb2RlQXQoSW5kZXgpID09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAvLyBBZHZhbmNlIHRvIHRoZSBuZXh0IGNoYXJhY3RlciBhbmQgcmV0dXJuIHRoZSByZXZpdmVkIHN0cmluZy5cbiAgICAgICAgICAgICAgICAgIEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFVudGVybWluYXRlZCBzdHJpbmcuXG4gICAgICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAvLyBQYXJzZSBudW1iZXJzIGFuZCBsaXRlcmFscy5cbiAgICAgICAgICAgICAgICBiZWdpbiA9IEluZGV4O1xuICAgICAgICAgICAgICAgIC8vIEFkdmFuY2UgcGFzdCB0aGUgbmVnYXRpdmUgc2lnbiwgaWYgb25lIGlzIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICBpZiAoY2hhckNvZGUgPT0gNDUpIHtcbiAgICAgICAgICAgICAgICAgIGlzU2lnbmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQoKytJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFBhcnNlIGFuIGludGVnZXIgb3IgZmxvYXRpbmctcG9pbnQgdmFsdWUuXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJDb2RlID49IDQ4ICYmIGNoYXJDb2RlIDw9IDU3KSB7XG4gICAgICAgICAgICAgICAgICAvLyBMZWFkaW5nIHplcm9lcyBhcmUgaW50ZXJwcmV0ZWQgYXMgb2N0YWwgbGl0ZXJhbHMuXG4gICAgICAgICAgICAgICAgICBpZiAoY2hhckNvZGUgPT0gNDggJiYgKChjaGFyQ29kZSA9IHNvdXJjZS5jaGFyQ29kZUF0KEluZGV4ICsgMSkpLCBjaGFyQ29kZSA+PSA0OCAmJiBjaGFyQ29kZSA8PSA1NykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWxsZWdhbCBvY3RhbCBsaXRlcmFsLlxuICAgICAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaXNTaWduZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBpbnRlZ2VyIGNvbXBvbmVudC5cbiAgICAgICAgICAgICAgICAgIGZvciAoOyBJbmRleCA8IGxlbmd0aCAmJiAoKGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQoSW5kZXgpKSwgY2hhckNvZGUgPj0gNDggJiYgY2hhckNvZGUgPD0gNTcpOyBJbmRleCsrKTtcbiAgICAgICAgICAgICAgICAgIC8vIEZsb2F0cyBjYW5ub3QgY29udGFpbiBhIGxlYWRpbmcgZGVjaW1hbCBwb2ludDsgaG93ZXZlciwgdGhpc1xuICAgICAgICAgICAgICAgICAgLy8gY2FzZSBpcyBhbHJlYWR5IGFjY291bnRlZCBmb3IgYnkgdGhlIHBhcnNlci5cbiAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UuY2hhckNvZGVBdChJbmRleCkgPT0gNDYpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSArK0luZGV4O1xuICAgICAgICAgICAgICAgICAgICAvLyBQYXJzZSB0aGUgZGVjaW1hbCBjb21wb25lbnQuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBwb3NpdGlvbiA8IGxlbmd0aCAmJiAoKGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQocG9zaXRpb24pKSwgY2hhckNvZGUgPj0gNDggJiYgY2hhckNvZGUgPD0gNTcpOyBwb3NpdGlvbisrKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09IEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gSWxsZWdhbCB0cmFpbGluZyBkZWNpbWFsLlxuICAgICAgICAgICAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgSW5kZXggPSBwb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIC8vIFBhcnNlIGV4cG9uZW50cy4gVGhlIGBlYCBkZW5vdGluZyB0aGUgZXhwb25lbnQgaXNcbiAgICAgICAgICAgICAgICAgIC8vIGNhc2UtaW5zZW5zaXRpdmUuXG4gICAgICAgICAgICAgICAgICBjaGFyQ29kZSA9IHNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KTtcbiAgICAgICAgICAgICAgICAgIGlmIChjaGFyQ29kZSA9PSAxMDEgfHwgY2hhckNvZGUgPT0gNjkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhckNvZGUgPSBzb3VyY2UuY2hhckNvZGVBdCgrK0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCBwYXN0IHRoZSBzaWduIGZvbGxvd2luZyB0aGUgZXhwb25lbnQsIGlmIG9uZSBpc1xuICAgICAgICAgICAgICAgICAgICAvLyBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyQ29kZSA9PSA0MyB8fCBjaGFyQ29kZSA9PSA0NSkge1xuICAgICAgICAgICAgICAgICAgICAgIEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2UgdGhlIGV4cG9uZW50aWFsIGNvbXBvbmVudC5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChwb3NpdGlvbiA9IEluZGV4OyBwb3NpdGlvbiA8IGxlbmd0aCAmJiAoKGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQocG9zaXRpb24pKSwgY2hhckNvZGUgPj0gNDggJiYgY2hhckNvZGUgPD0gNTcpOyBwb3NpdGlvbisrKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09IEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gSWxsZWdhbCBlbXB0eSBleHBvbmVudC5cbiAgICAgICAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIEluZGV4ID0gcG9zaXRpb247XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAvLyBDb2VyY2UgdGhlIHBhcnNlZCB2YWx1ZSB0byBhIEphdmFTY3JpcHQgbnVtYmVyLlxuICAgICAgICAgICAgICAgICAgcmV0dXJuICtzb3VyY2Uuc2xpY2UoYmVnaW4sIEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQSBuZWdhdGl2ZSBzaWduIG1heSBvbmx5IHByZWNlZGUgbnVtYmVycy5cbiAgICAgICAgICAgICAgICBpZiAoaXNTaWduZWQpIHtcbiAgICAgICAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGB0cnVlYCwgYGZhbHNlYCwgYW5kIGBudWxsYCBsaXRlcmFscy5cbiAgICAgICAgICAgICAgICBpZiAoc291cmNlLnNsaWNlKEluZGV4LCBJbmRleCArIDQpID09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgICBJbmRleCArPSA0O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VyY2Uuc2xpY2UoSW5kZXgsIEluZGV4ICsgNSkgPT0gXCJmYWxzZVwiKSB7XG4gICAgICAgICAgICAgICAgICBJbmRleCArPSA1O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc291cmNlLnNsaWNlKEluZGV4LCBJbmRleCArIDQpID09IFwibnVsbFwiKSB7XG4gICAgICAgICAgICAgICAgICBJbmRleCArPSA0O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFVucmVjb2duaXplZCB0b2tlbi5cbiAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBSZXR1cm4gdGhlIHNlbnRpbmVsIGAkYCBjaGFyYWN0ZXIgaWYgdGhlIHBhcnNlciBoYXMgcmVhY2hlZCB0aGUgZW5kXG4gICAgICAgICAgLy8gb2YgdGhlIHNvdXJjZSBzdHJpbmcuXG4gICAgICAgICAgcmV0dXJuIFwiJFwiO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEludGVybmFsOiBQYXJzZXMgYSBKU09OIGB2YWx1ZWAgdG9rZW4uXG4gICAgICAgIHZhciBnZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0cywgaGFzTWVtYmVycztcbiAgICAgICAgICBpZiAodmFsdWUgPT0gXCIkXCIpIHtcbiAgICAgICAgICAgIC8vIFVuZXhwZWN0ZWQgZW5kIG9mIGlucHV0LlxuICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBpZiAoKGNoYXJJbmRleEJ1Z2d5ID8gdmFsdWUuY2hhckF0KDApIDogdmFsdWVbMF0pID09IFwiQFwiKSB7XG4gICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgc2VudGluZWwgYEBgIGNoYXJhY3Rlci5cbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnNsaWNlKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUGFyc2Ugb2JqZWN0IGFuZCBhcnJheSBsaXRlcmFscy5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBcIltcIikge1xuICAgICAgICAgICAgICAvLyBQYXJzZXMgYSBKU09OIGFycmF5LCByZXR1cm5pbmcgYSBuZXcgSmF2YVNjcmlwdCBhcnJheS5cbiAgICAgICAgICAgICAgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgICBmb3IgKDs7IGhhc01lbWJlcnMgfHwgKGhhc01lbWJlcnMgPSB0cnVlKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbGV4KCk7XG4gICAgICAgICAgICAgICAgLy8gQSBjbG9zaW5nIHNxdWFyZSBicmFja2V0IG1hcmtzIHRoZSBlbmQgb2YgdGhlIGFycmF5IGxpdGVyYWwuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IFwiXVwiKSB7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGFycmF5IGxpdGVyYWwgY29udGFpbnMgZWxlbWVudHMsIHRoZSBjdXJyZW50IHRva2VuXG4gICAgICAgICAgICAgICAgLy8gc2hvdWxkIGJlIGEgY29tbWEgc2VwYXJhdGluZyB0aGUgcHJldmlvdXMgZWxlbWVudCBmcm9tIHRoZVxuICAgICAgICAgICAgICAgIC8vIG5leHQuXG4gICAgICAgICAgICAgICAgaWYgKGhhc01lbWJlcnMpIHtcbiAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBcIixcIikge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGxleCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gXCJdXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBVbmV4cGVjdGVkIHRyYWlsaW5nIGAsYCBpbiBhcnJheSBsaXRlcmFsLlxuICAgICAgICAgICAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEEgYCxgIG11c3Qgc2VwYXJhdGUgZWFjaCBhcnJheSBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBFbGlzaW9ucyBhbmQgbGVhZGluZyBjb21tYXMgYXJlIG5vdCBwZXJtaXR0ZWQuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IFwiLFwiKSB7XG4gICAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goZ2V0KHZhbHVlKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09IFwie1wiKSB7XG4gICAgICAgICAgICAgIC8vIFBhcnNlcyBhIEpTT04gb2JqZWN0LCByZXR1cm5pbmcgYSBuZXcgSmF2YVNjcmlwdCBvYmplY3QuXG4gICAgICAgICAgICAgIHJlc3VsdHMgPSB7fTtcbiAgICAgICAgICAgICAgZm9yICg7OyBoYXNNZW1iZXJzIHx8IChoYXNNZW1iZXJzID0gdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGxleCgpO1xuICAgICAgICAgICAgICAgIC8vIEEgY2xvc2luZyBjdXJseSBicmFjZSBtYXJrcyB0aGUgZW5kIG9mIHRoZSBvYmplY3QgbGl0ZXJhbC5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gXCJ9XCIpIHtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgb2JqZWN0IGxpdGVyYWwgY29udGFpbnMgbWVtYmVycywgdGhlIGN1cnJlbnQgdG9rZW5cbiAgICAgICAgICAgICAgICAvLyBzaG91bGQgYmUgYSBjb21tYSBzZXBhcmF0b3IuXG4gICAgICAgICAgICAgICAgaWYgKGhhc01lbWJlcnMpIHtcbiAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBcIixcIikge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGxleCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gXCJ9XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBVbmV4cGVjdGVkIHRyYWlsaW5nIGAsYCBpbiBvYmplY3QgbGl0ZXJhbC5cbiAgICAgICAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBBIGAsYCBtdXN0IHNlcGFyYXRlIGVhY2ggb2JqZWN0IG1lbWJlci5cbiAgICAgICAgICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTGVhZGluZyBjb21tYXMgYXJlIG5vdCBwZXJtaXR0ZWQsIG9iamVjdCBwcm9wZXJ0eSBuYW1lcyBtdXN0IGJlXG4gICAgICAgICAgICAgICAgLy8gZG91YmxlLXF1b3RlZCBzdHJpbmdzLCBhbmQgYSBgOmAgbXVzdCBzZXBhcmF0ZSBlYWNoIHByb3BlcnR5XG4gICAgICAgICAgICAgICAgLy8gbmFtZSBhbmQgdmFsdWUuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IFwiLFwiIHx8IHR5cGVvZiB2YWx1ZSAhPSBcInN0cmluZ1wiIHx8IChjaGFySW5kZXhCdWdneSA/IHZhbHVlLmNoYXJBdCgwKSA6IHZhbHVlWzBdKSAhPSBcIkBcIiB8fCBsZXgoKSAhPSBcIjpcIikge1xuICAgICAgICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0c1t2YWx1ZS5zbGljZSgxKV0gPSBnZXQobGV4KCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVW5leHBlY3RlZCB0b2tlbiBlbmNvdW50ZXJlZC5cbiAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJbnRlcm5hbDogVXBkYXRlcyBhIHRyYXZlcnNlZCBvYmplY3QgbWVtYmVyLlxuICAgICAgICB2YXIgdXBkYXRlID0gZnVuY3Rpb24gKHNvdXJjZSwgcHJvcGVydHksIGNhbGxiYWNrKSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnQgPSB3YWxrKHNvdXJjZSwgcHJvcGVydHksIGNhbGxiYWNrKTtcbiAgICAgICAgICBpZiAoZWxlbWVudCA9PT0gdW5kZWYpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBzb3VyY2VbcHJvcGVydHldO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzb3VyY2VbcHJvcGVydHldID0gZWxlbWVudDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSW50ZXJuYWw6IFJlY3Vyc2l2ZWx5IHRyYXZlcnNlcyBhIHBhcnNlZCBKU09OIG9iamVjdCwgaW52b2tpbmcgdGhlXG4gICAgICAgIC8vIGBjYWxsYmFja2AgZnVuY3Rpb24gZm9yIGVhY2ggdmFsdWUuIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgdGhlXG4gICAgICAgIC8vIGBXYWxrKGhvbGRlciwgbmFtZSlgIG9wZXJhdGlvbiBkZWZpbmVkIGluIEVTIDUuMSBzZWN0aW9uIDE1LjEyLjIuXG4gICAgICAgIHZhciB3YWxrID0gZnVuY3Rpb24gKHNvdXJjZSwgcHJvcGVydHksIGNhbGxiYWNrKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gc291cmNlW3Byb3BlcnR5XSwgbGVuZ3RoO1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZSkge1xuICAgICAgICAgICAgLy8gYGZvckVhY2hgIGNhbid0IGJlIHVzZWQgdG8gdHJhdmVyc2UgYW4gYXJyYXkgaW4gT3BlcmEgPD0gOC41NFxuICAgICAgICAgICAgLy8gYmVjYXVzZSBpdHMgYE9iamVjdCNoYXNPd25Qcm9wZXJ0eWAgaW1wbGVtZW50YXRpb24gcmV0dXJucyBgZmFsc2VgXG4gICAgICAgICAgICAvLyBmb3IgYXJyYXkgaW5kaWNlcyAoZS5nLiwgYCFbMSwgMiwgM10uaGFzT3duUHJvcGVydHkoXCIwXCIpYCkuXG4gICAgICAgICAgICBpZiAoZ2V0Q2xhc3MuY2FsbCh2YWx1ZSkgPT0gYXJyYXlDbGFzcykge1xuICAgICAgICAgICAgICBmb3IgKGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgbGVuZ3RoLS07KSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlKHZhbHVlLCBsZW5ndGgsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlKHZhbHVlLCBwcm9wZXJ0eSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwoc291cmNlLCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFB1YmxpYzogYEpTT04ucGFyc2VgLiBTZWUgRVMgNS4xIHNlY3Rpb24gMTUuMTIuMi5cbiAgICAgICAgZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uIChzb3VyY2UsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCwgdmFsdWU7XG4gICAgICAgICAgSW5kZXggPSAwO1xuICAgICAgICAgIFNvdXJjZSA9IFwiXCIgKyBzb3VyY2U7XG4gICAgICAgICAgcmVzdWx0ID0gZ2V0KGxleCgpKTtcbiAgICAgICAgICAvLyBJZiBhIEpTT04gc3RyaW5nIGNvbnRhaW5zIG11bHRpcGxlIHRva2VucywgaXQgaXMgaW52YWxpZC5cbiAgICAgICAgICBpZiAobGV4KCkgIT0gXCIkXCIpIHtcbiAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFJlc2V0IHRoZSBwYXJzZXIgc3RhdGUuXG4gICAgICAgICAgSW5kZXggPSBTb3VyY2UgPSBudWxsO1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjayAmJiBnZXRDbGFzcy5jYWxsKGNhbGxiYWNrKSA9PSBmdW5jdGlvbkNsYXNzID8gd2FsaygodmFsdWUgPSB7fSwgdmFsdWVbXCJcIl0gPSByZXN1bHQsIHZhbHVlKSwgXCJcIiwgY2FsbGJhY2spIDogcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydHNbXCJydW5JbkNvbnRleHRcIl0gPSBydW5JbkNvbnRleHQ7XG4gICAgcmV0dXJuIGV4cG9ydHM7XG4gIH1cblxuICBpZiAoZnJlZUV4cG9ydHMgJiYgIWlzTG9hZGVyKSB7XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBlbnZpcm9ubWVudHMuXG4gICAgcnVuSW5Db250ZXh0KHJvb3QsIGZyZWVFeHBvcnRzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBFeHBvcnQgZm9yIHdlYiBicm93c2VycyBhbmQgSmF2YVNjcmlwdCBlbmdpbmVzLlxuICAgIHZhciBuYXRpdmVKU09OID0gcm9vdC5KU09OLFxuICAgICAgICBwcmV2aW91c0pTT04gPSByb290W1wiSlNPTjNcIl0sXG4gICAgICAgIGlzUmVzdG9yZWQgPSBmYWxzZTtcblxuICAgIHZhciBKU09OMyA9IHJ1bkluQ29udGV4dChyb290LCAocm9vdFtcIkpTT04zXCJdID0ge1xuICAgICAgLy8gUHVibGljOiBSZXN0b3JlcyB0aGUgb3JpZ2luYWwgdmFsdWUgb2YgdGhlIGdsb2JhbCBgSlNPTmAgb2JqZWN0IGFuZFxuICAgICAgLy8gcmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgYEpTT04zYCBvYmplY3QuXG4gICAgICBcIm5vQ29uZmxpY3RcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWlzUmVzdG9yZWQpIHtcbiAgICAgICAgICBpc1Jlc3RvcmVkID0gdHJ1ZTtcbiAgICAgICAgICByb290LkpTT04gPSBuYXRpdmVKU09OO1xuICAgICAgICAgIHJvb3RbXCJKU09OM1wiXSA9IHByZXZpb3VzSlNPTjtcbiAgICAgICAgICBuYXRpdmVKU09OID0gcHJldmlvdXNKU09OID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSlNPTjM7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgcm9vdC5KU09OID0ge1xuICAgICAgXCJwYXJzZVwiOiBKU09OMy5wYXJzZSxcbiAgICAgIFwic3RyaW5naWZ5XCI6IEpTT04zLnN0cmluZ2lmeVxuICAgIH07XG4gIH1cblxuICAvLyBFeHBvcnQgZm9yIGFzeW5jaHJvbm91cyBtb2R1bGUgbG9hZGVycy5cbiAgaWYgKGlzTG9hZGVyKSB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBKU09OMztcbiAgICB9KTtcbiAgfVxufSkuY2FsbCh0aGlzKTtcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG5cbn0se31dLDU5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogRGVjb2RlIGEgVVJJIGVuY29kZWQgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgVVJJIGVuY29kZWQgc3RyaW5nLlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIGRlY29kZWQgc3RyaW5nLlxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGRlY29kZShpbnB1dCkge1xuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGlucHV0LnJlcGxhY2UoL1xcKy9nLCAnICcpKTtcbn1cblxuLyoqXG4gKiBTaW1wbGUgcXVlcnkgc3RyaW5nIHBhcnNlci5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcXVlcnkgVGhlIHF1ZXJ5IHN0cmluZyB0aGF0IG5lZWRzIHRvIGJlIHBhcnNlZC5cbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiBxdWVyeXN0cmluZyhxdWVyeSkge1xuICB2YXIgcGFyc2VyID0gLyhbXj0/Jl0rKT0/KFteJl0qKS9nXG4gICAgLCByZXN1bHQgPSB7fVxuICAgICwgcGFydDtcblxuICB3aGlsZSAocGFydCA9IHBhcnNlci5leGVjKHF1ZXJ5KSkge1xuICAgIHZhciBrZXkgPSBkZWNvZGUocGFydFsxXSlcbiAgICAgICwgdmFsdWUgPSBkZWNvZGUocGFydFsyXSk7XG5cbiAgICAvL1xuICAgIC8vIFByZXZlbnQgb3ZlcnJpZGluZyBvZiBleGlzdGluZyBwcm9wZXJ0aWVzLiBUaGlzIGVuc3VyZXMgdGhhdCBidWlsZC1pblxuICAgIC8vIG1ldGhvZHMgbGlrZSBgdG9TdHJpbmdgIG9yIF9fcHJvdG9fXyBhcmUgbm90IG92ZXJyaWRlbiBieSBtYWxpY2lvdXNcbiAgICAvLyBxdWVyeXN0cmluZ3MuXG4gICAgLy9cbiAgICBpZiAoa2V5IGluIHJlc3VsdCkgY29udGludWU7XG4gICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVHJhbnNmb3JtIGEgcXVlcnkgc3RyaW5nIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIE9iamVjdCB0aGF0IHNob3VsZCBiZSB0cmFuc2Zvcm1lZC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBwcmVmaXggT3B0aW9uYWwgcHJlZml4LlxuICogQHJldHVybnMge1N0cmluZ31cbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIHF1ZXJ5c3RyaW5naWZ5KG9iaiwgcHJlZml4KSB7XG4gIHByZWZpeCA9IHByZWZpeCB8fCAnJztcblxuICB2YXIgcGFpcnMgPSBbXTtcblxuICAvL1xuICAvLyBPcHRpb25hbGx5IHByZWZpeCB3aXRoIGEgJz8nIGlmIG5lZWRlZFxuICAvL1xuICBpZiAoJ3N0cmluZycgIT09IHR5cGVvZiBwcmVmaXgpIHByZWZpeCA9ICc/JztcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKGhhcy5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgcGFpcnMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArJz0nKyBlbmNvZGVVUklDb21wb25lbnQob2JqW2tleV0pKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGFpcnMubGVuZ3RoID8gcHJlZml4ICsgcGFpcnMuam9pbignJicpIDogJyc7XG59XG5cbi8vXG4vLyBFeHBvc2UgdGhlIG1vZHVsZS5cbi8vXG5leHBvcnRzLnN0cmluZ2lmeSA9IHF1ZXJ5c3RyaW5naWZ5O1xuZXhwb3J0cy5wYXJzZSA9IHF1ZXJ5c3RyaW5nO1xuXG59LHt9XSw2MDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ2hlY2sgaWYgd2UncmUgcmVxdWlyZWQgdG8gYWRkIGEgcG9ydCBudW1iZXIuXG4gKlxuICogQHNlZSBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RlZmF1bHQtcG9ydFxuICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBwb3J0IFBvcnQgbnVtYmVyIHdlIG5lZWQgdG8gY2hlY2tcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm90b2NvbCBQcm90b2NvbCB3ZSBuZWVkIHRvIGNoZWNrIGFnYWluc3QuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSXMgaXQgYSBkZWZhdWx0IHBvcnQgZm9yIHRoZSBnaXZlbiBwcm90b2NvbFxuICogQGFwaSBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVxdWlyZWQocG9ydCwgcHJvdG9jb2wpIHtcbiAgcHJvdG9jb2wgPSBwcm90b2NvbC5zcGxpdCgnOicpWzBdO1xuICBwb3J0ID0gK3BvcnQ7XG5cbiAgaWYgKCFwb3J0KSByZXR1cm4gZmFsc2U7XG5cbiAgc3dpdGNoIChwcm90b2NvbCkge1xuICAgIGNhc2UgJ2h0dHAnOlxuICAgIGNhc2UgJ3dzJzpcbiAgICByZXR1cm4gcG9ydCAhPT0gODA7XG5cbiAgICBjYXNlICdodHRwcyc6XG4gICAgY2FzZSAnd3NzJzpcbiAgICByZXR1cm4gcG9ydCAhPT0gNDQzO1xuXG4gICAgY2FzZSAnZnRwJzpcbiAgICByZXR1cm4gcG9ydCAhPT0gMjE7XG5cbiAgICBjYXNlICdnb3BoZXInOlxuICAgIHJldHVybiBwb3J0ICE9PSA3MDtcblxuICAgIGNhc2UgJ2ZpbGUnOlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBwb3J0ICE9PSAwO1xufTtcblxufSx7fV0sNjE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcmVxdWlyZWQgPSByZXF1aXJlKCdyZXF1aXJlcy1wb3J0JylcbiAgLCBxcyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5naWZ5JylcbiAgLCBwcm90b2NvbHJlID0gL14oW2Etel1bYS16MC05ListXSo6KT8oXFwvXFwvKT8oW1xcU1xcc10qKS9pXG4gICwgc2xhc2hlcyA9IC9eW0EtWmEtel1bQS1aYS16MC05Ky0uXSo6XFwvXFwvLztcblxuLyoqXG4gKiBUaGVzZSBhcmUgdGhlIHBhcnNlIHJ1bGVzIGZvciB0aGUgVVJMIHBhcnNlciwgaXQgaW5mb3JtcyB0aGUgcGFyc2VyXG4gKiBhYm91dDpcbiAqXG4gKiAwLiBUaGUgY2hhciBpdCBOZWVkcyB0byBwYXJzZSwgaWYgaXQncyBhIHN0cmluZyBpdCBzaG91bGQgYmUgZG9uZSB1c2luZ1xuICogICAgaW5kZXhPZiwgUmVnRXhwIHVzaW5nIGV4ZWMgYW5kIE5hTiBtZWFucyBzZXQgYXMgY3VycmVudCB2YWx1ZS5cbiAqIDEuIFRoZSBwcm9wZXJ0eSB3ZSBzaG91bGQgc2V0IHdoZW4gcGFyc2luZyB0aGlzIHZhbHVlLlxuICogMi4gSW5kaWNhdGlvbiBpZiBpdCdzIGJhY2t3YXJkcyBvciBmb3J3YXJkIHBhcnNpbmcsIHdoZW4gc2V0IGFzIG51bWJlciBpdCdzXG4gKiAgICB0aGUgdmFsdWUgb2YgZXh0cmEgY2hhcnMgdGhhdCBzaG91bGQgYmUgc3BsaXQgb2ZmLlxuICogMy4gSW5oZXJpdCBmcm9tIGxvY2F0aW9uIGlmIG5vbiBleGlzdGluZyBpbiB0aGUgcGFyc2VyLlxuICogNC4gYHRvTG93ZXJDYXNlYCB0aGUgcmVzdWx0aW5nIHZhbHVlLlxuICovXG52YXIgcnVsZXMgPSBbXG4gIFsnIycsICdoYXNoJ10sICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBmcm9tIHRoZSBiYWNrLlxuICBbJz8nLCAncXVlcnknXSwgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgZnJvbSB0aGUgYmFjay5cbiAgZnVuY3Rpb24gc2FuaXRpemUoYWRkcmVzcykgeyAgICAgICAgICAvLyBTYW5pdGl6ZSB3aGF0IGlzIGxlZnQgb2YgdGhlIGFkZHJlc3NcbiAgICByZXR1cm4gYWRkcmVzcy5yZXBsYWNlKCdcXFxcJywgJy8nKTtcbiAgfSxcbiAgWycvJywgJ3BhdGhuYW1lJ10sICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGZyb20gdGhlIGJhY2suXG4gIFsnQCcsICdhdXRoJywgMV0sICAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBmcm9tIHRoZSBmcm9udC5cbiAgW05hTiwgJ2hvc3QnLCB1bmRlZmluZWQsIDEsIDFdLCAgICAgICAvLyBTZXQgbGVmdCBvdmVyIHZhbHVlLlxuICBbLzooXFxkKykkLywgJ3BvcnQnLCB1bmRlZmluZWQsIDFdLCAgICAvLyBSZWdFeHAgdGhlIGJhY2suXG4gIFtOYU4sICdob3N0bmFtZScsIHVuZGVmaW5lZCwgMSwgMV0gICAgLy8gU2V0IGxlZnQgb3Zlci5cbl07XG5cbi8qKlxuICogVGhlc2UgcHJvcGVydGllcyBzaG91bGQgbm90IGJlIGNvcGllZCBvciBpbmhlcml0ZWQgZnJvbS4gVGhpcyBpcyBvbmx5IG5lZWRlZFxuICogZm9yIGFsbCBub24gYmxvYiBVUkwncyBhcyBhIGJsb2IgVVJMIGRvZXMgbm90IGluY2x1ZGUgYSBoYXNoLCBvbmx5IHRoZVxuICogb3JpZ2luLlxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgaWdub3JlID0geyBoYXNoOiAxLCBxdWVyeTogMSB9O1xuXG4vKipcbiAqIFRoZSBsb2NhdGlvbiBvYmplY3QgZGlmZmVycyB3aGVuIHlvdXIgY29kZSBpcyBsb2FkZWQgdGhyb3VnaCBhIG5vcm1hbCBwYWdlLFxuICogV29ya2VyIG9yIHRocm91Z2ggYSB3b3JrZXIgdXNpbmcgYSBibG9iLiBBbmQgd2l0aCB0aGUgYmxvYmJsZSBiZWdpbnMgdGhlXG4gKiB0cm91YmxlIGFzIHRoZSBsb2NhdGlvbiBvYmplY3Qgd2lsbCBjb250YWluIHRoZSBVUkwgb2YgdGhlIGJsb2IsIG5vdCB0aGVcbiAqIGxvY2F0aW9uIG9mIHRoZSBwYWdlIHdoZXJlIG91ciBjb2RlIGlzIGxvYWRlZCBpbi4gVGhlIGFjdHVhbCBvcmlnaW4gaXNcbiAqIGVuY29kZWQgaW4gdGhlIGBwYXRobmFtZWAgc28gd2UgY2FuIHRoYW5rZnVsbHkgZ2VuZXJhdGUgYSBnb29kIFwiZGVmYXVsdFwiXG4gKiBsb2NhdGlvbiBmcm9tIGl0IHNvIHdlIGNhbiBnZW5lcmF0ZSBwcm9wZXIgcmVsYXRpdmUgVVJMJ3MgYWdhaW4uXG4gKlxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBsb2MgT3B0aW9uYWwgZGVmYXVsdCBsb2NhdGlvbiBvYmplY3QuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBsb2xjYXRpb24gb2JqZWN0LlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBsb2xjYXRpb24obG9jKSB7XG4gIHZhciBsb2NhdGlvbiA9IGdsb2JhbCAmJiBnbG9iYWwubG9jYXRpb24gfHwge307XG4gIGxvYyA9IGxvYyB8fCBsb2NhdGlvbjtcblxuICB2YXIgZmluYWxkZXN0aW5hdGlvbiA9IHt9XG4gICAgLCB0eXBlID0gdHlwZW9mIGxvY1xuICAgICwga2V5O1xuXG4gIGlmICgnYmxvYjonID09PSBsb2MucHJvdG9jb2wpIHtcbiAgICBmaW5hbGRlc3RpbmF0aW9uID0gbmV3IFVybCh1bmVzY2FwZShsb2MucGF0aG5hbWUpLCB7fSk7XG4gIH0gZWxzZSBpZiAoJ3N0cmluZycgPT09IHR5cGUpIHtcbiAgICBmaW5hbGRlc3RpbmF0aW9uID0gbmV3IFVybChsb2MsIHt9KTtcbiAgICBmb3IgKGtleSBpbiBpZ25vcmUpIGRlbGV0ZSBmaW5hbGRlc3RpbmF0aW9uW2tleV07XG4gIH0gZWxzZSBpZiAoJ29iamVjdCcgPT09IHR5cGUpIHtcbiAgICBmb3IgKGtleSBpbiBsb2MpIHtcbiAgICAgIGlmIChrZXkgaW4gaWdub3JlKSBjb250aW51ZTtcbiAgICAgIGZpbmFsZGVzdGluYXRpb25ba2V5XSA9IGxvY1trZXldO1xuICAgIH1cblxuICAgIGlmIChmaW5hbGRlc3RpbmF0aW9uLnNsYXNoZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZmluYWxkZXN0aW5hdGlvbi5zbGFzaGVzID0gc2xhc2hlcy50ZXN0KGxvYy5ocmVmKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmluYWxkZXN0aW5hdGlvbjtcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiBQcm90b2NvbEV4dHJhY3RcbiAqIEB0eXBlIE9iamVjdFxuICogQHByb3BlcnR5IHtTdHJpbmd9IHByb3RvY29sIFByb3RvY29sIG1hdGNoZWQgaW4gdGhlIFVSTCwgaW4gbG93ZXJjYXNlLlxuICogQHByb3BlcnR5IHtCb29sZWFufSBzbGFzaGVzIGB0cnVlYCBpZiBwcm90b2NvbCBpcyBmb2xsb3dlZCBieSBcIi8vXCIsIGVsc2UgYGZhbHNlYC5cbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSByZXN0IFJlc3Qgb2YgdGhlIFVSTCB0aGF0IGlzIG5vdCBwYXJ0IG9mIHRoZSBwcm90b2NvbC5cbiAqL1xuXG4vKipcbiAqIEV4dHJhY3QgcHJvdG9jb2wgaW5mb3JtYXRpb24gZnJvbSBhIFVSTCB3aXRoL3dpdGhvdXQgZG91YmxlIHNsYXNoIChcIi8vXCIpLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBhZGRyZXNzIFVSTCB3ZSB3YW50IHRvIGV4dHJhY3QgZnJvbS5cbiAqIEByZXR1cm4ge1Byb3RvY29sRXh0cmFjdH0gRXh0cmFjdGVkIGluZm9ybWF0aW9uLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZXh0cmFjdFByb3RvY29sKGFkZHJlc3MpIHtcbiAgdmFyIG1hdGNoID0gcHJvdG9jb2xyZS5leGVjKGFkZHJlc3MpO1xuXG4gIHJldHVybiB7XG4gICAgcHJvdG9jb2w6IG1hdGNoWzFdID8gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKSA6ICcnLFxuICAgIHNsYXNoZXM6ICEhbWF0Y2hbMl0sXG4gICAgcmVzdDogbWF0Y2hbM11cbiAgfTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlIGEgcmVsYXRpdmUgVVJMIHBhdGhuYW1lIGFnYWluc3QgYSBiYXNlIFVSTCBwYXRobmFtZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcmVsYXRpdmUgUGF0aG5hbWUgb2YgdGhlIHJlbGF0aXZlIFVSTC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBiYXNlIFBhdGhuYW1lIG9mIHRoZSBiYXNlIFVSTC5cbiAqIEByZXR1cm4ge1N0cmluZ30gUmVzb2x2ZWQgcGF0aG5hbWUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZXNvbHZlKHJlbGF0aXZlLCBiYXNlKSB7XG4gIHZhciBwYXRoID0gKGJhc2UgfHwgJy8nKS5zcGxpdCgnLycpLnNsaWNlKDAsIC0xKS5jb25jYXQocmVsYXRpdmUuc3BsaXQoJy8nKSlcbiAgICAsIGkgPSBwYXRoLmxlbmd0aFxuICAgICwgbGFzdCA9IHBhdGhbaSAtIDFdXG4gICAgLCB1bnNoaWZ0ID0gZmFsc2VcbiAgICAsIHVwID0gMDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgaWYgKHBhdGhbaV0gPT09ICcuJykge1xuICAgICAgcGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChwYXRoW2ldID09PSAnLi4nKSB7XG4gICAgICBwYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgaWYgKGkgPT09IDApIHVuc2hpZnQgPSB0cnVlO1xuICAgICAgcGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIGlmICh1bnNoaWZ0KSBwYXRoLnVuc2hpZnQoJycpO1xuICBpZiAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHBhdGgucHVzaCgnJyk7XG5cbiAgcmV0dXJuIHBhdGguam9pbignLycpO1xufVxuXG4vKipcbiAqIFRoZSBhY3R1YWwgVVJMIGluc3RhbmNlLiBJbnN0ZWFkIG9mIHJldHVybmluZyBhbiBvYmplY3Qgd2UndmUgb3B0ZWQtaW4gdG9cbiAqIGNyZWF0ZSBhbiBhY3R1YWwgY29uc3RydWN0b3IgYXMgaXQncyBtdWNoIG1vcmUgbWVtb3J5IGVmZmljaWVudCBhbmRcbiAqIGZhc3RlciBhbmQgaXQgcGxlYXNlcyBteSBPQ0QuXG4gKlxuICogSXQgaXMgd29ydGggbm90aW5nIHRoYXQgd2Ugc2hvdWxkIG5vdCB1c2UgYFVSTGAgYXMgY2xhc3MgbmFtZSB0byBwcmV2ZW50XG4gKiBjbGFzaGVzIHdpdGggdGhlIGdsb2JhbCBVUkwgaW5zdGFuY2UgdGhhdCBnb3QgaW50cm9kdWNlZCBpbiBicm93c2Vycy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSBhZGRyZXNzIFVSTCB3ZSB3YW50IHRvIHBhcnNlLlxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBsb2NhdGlvbiBMb2NhdGlvbiBkZWZhdWx0cyBmb3IgcmVsYXRpdmUgcGF0aHMuXG4gKiBAcGFyYW0ge0Jvb2xlYW58RnVuY3Rpb259IHBhcnNlciBQYXJzZXIgZm9yIHRoZSBxdWVyeSBzdHJpbmcuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBVcmwoYWRkcmVzcywgbG9jYXRpb24sIHBhcnNlcikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVXJsKSkge1xuICAgIHJldHVybiBuZXcgVXJsKGFkZHJlc3MsIGxvY2F0aW9uLCBwYXJzZXIpO1xuICB9XG5cbiAgdmFyIHJlbGF0aXZlLCBleHRyYWN0ZWQsIHBhcnNlLCBpbnN0cnVjdGlvbiwgaW5kZXgsIGtleVxuICAgICwgaW5zdHJ1Y3Rpb25zID0gcnVsZXMuc2xpY2UoKVxuICAgICwgdHlwZSA9IHR5cGVvZiBsb2NhdGlvblxuICAgICwgdXJsID0gdGhpc1xuICAgICwgaSA9IDA7XG5cbiAgLy9cbiAgLy8gVGhlIGZvbGxvd2luZyBpZiBzdGF0ZW1lbnRzIGFsbG93cyB0aGlzIG1vZHVsZSB0d28gaGF2ZSBjb21wYXRpYmlsaXR5IHdpdGhcbiAgLy8gMiBkaWZmZXJlbnQgQVBJOlxuICAvL1xuICAvLyAxLiBOb2RlLmpzJ3MgYHVybC5wYXJzZWAgYXBpIHdoaWNoIGFjY2VwdHMgYSBVUkwsIGJvb2xlYW4gYXMgYXJndW1lbnRzXG4gIC8vICAgIHdoZXJlIHRoZSBib29sZWFuIGluZGljYXRlcyB0aGF0IHRoZSBxdWVyeSBzdHJpbmcgc2hvdWxkIGFsc28gYmUgcGFyc2VkLlxuICAvL1xuICAvLyAyLiBUaGUgYFVSTGAgaW50ZXJmYWNlIG9mIHRoZSBicm93c2VyIHdoaWNoIGFjY2VwdHMgYSBVUkwsIG9iamVjdCBhc1xuICAvLyAgICBhcmd1bWVudHMuIFRoZSBzdXBwbGllZCBvYmplY3Qgd2lsbCBiZSB1c2VkIGFzIGRlZmF1bHQgdmFsdWVzIC8gZmFsbC1iYWNrXG4gIC8vICAgIGZvciByZWxhdGl2ZSBwYXRocy5cbiAgLy9cbiAgaWYgKCdvYmplY3QnICE9PSB0eXBlICYmICdzdHJpbmcnICE9PSB0eXBlKSB7XG4gICAgcGFyc2VyID0gbG9jYXRpb247XG4gICAgbG9jYXRpb24gPSBudWxsO1xuICB9XG5cbiAgaWYgKHBhcnNlciAmJiAnZnVuY3Rpb24nICE9PSB0eXBlb2YgcGFyc2VyKSBwYXJzZXIgPSBxcy5wYXJzZTtcblxuICBsb2NhdGlvbiA9IGxvbGNhdGlvbihsb2NhdGlvbik7XG5cbiAgLy9cbiAgLy8gRXh0cmFjdCBwcm90b2NvbCBpbmZvcm1hdGlvbiBiZWZvcmUgcnVubmluZyB0aGUgaW5zdHJ1Y3Rpb25zLlxuICAvL1xuICBleHRyYWN0ZWQgPSBleHRyYWN0UHJvdG9jb2woYWRkcmVzcyB8fCAnJyk7XG4gIHJlbGF0aXZlID0gIWV4dHJhY3RlZC5wcm90b2NvbCAmJiAhZXh0cmFjdGVkLnNsYXNoZXM7XG4gIHVybC5zbGFzaGVzID0gZXh0cmFjdGVkLnNsYXNoZXMgfHwgcmVsYXRpdmUgJiYgbG9jYXRpb24uc2xhc2hlcztcbiAgdXJsLnByb3RvY29sID0gZXh0cmFjdGVkLnByb3RvY29sIHx8IGxvY2F0aW9uLnByb3RvY29sIHx8ICcnO1xuICBhZGRyZXNzID0gZXh0cmFjdGVkLnJlc3Q7XG5cbiAgLy9cbiAgLy8gV2hlbiB0aGUgYXV0aG9yaXR5IGNvbXBvbmVudCBpcyBhYnNlbnQgdGhlIFVSTCBzdGFydHMgd2l0aCBhIHBhdGhcbiAgLy8gY29tcG9uZW50LlxuICAvL1xuICBpZiAoIWV4dHJhY3RlZC5zbGFzaGVzKSBpbnN0cnVjdGlvbnNbM10gPSBbLyguKikvLCAncGF0aG5hbWUnXTtcblxuICBmb3IgKDsgaSA8IGluc3RydWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb25zW2ldO1xuXG4gICAgaWYgKHR5cGVvZiBpbnN0cnVjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYWRkcmVzcyA9IGluc3RydWN0aW9uKGFkZHJlc3MpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcGFyc2UgPSBpbnN0cnVjdGlvblswXTtcbiAgICBrZXkgPSBpbnN0cnVjdGlvblsxXTtcblxuICAgIGlmIChwYXJzZSAhPT0gcGFyc2UpIHtcbiAgICAgIHVybFtrZXldID0gYWRkcmVzcztcbiAgICB9IGVsc2UgaWYgKCdzdHJpbmcnID09PSB0eXBlb2YgcGFyc2UpIHtcbiAgICAgIGlmICh+KGluZGV4ID0gYWRkcmVzcy5pbmRleE9mKHBhcnNlKSkpIHtcbiAgICAgICAgaWYgKCdudW1iZXInID09PSB0eXBlb2YgaW5zdHJ1Y3Rpb25bMl0pIHtcbiAgICAgICAgICB1cmxba2V5XSA9IGFkZHJlc3Muc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgICAgIGFkZHJlc3MgPSBhZGRyZXNzLnNsaWNlKGluZGV4ICsgaW5zdHJ1Y3Rpb25bMl0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVybFtrZXldID0gYWRkcmVzcy5zbGljZShpbmRleCk7XG4gICAgICAgICAgYWRkcmVzcyA9IGFkZHJlc3Muc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgoaW5kZXggPSBwYXJzZS5leGVjKGFkZHJlc3MpKSkge1xuICAgICAgdXJsW2tleV0gPSBpbmRleFsxXTtcbiAgICAgIGFkZHJlc3MgPSBhZGRyZXNzLnNsaWNlKDAsIGluZGV4LmluZGV4KTtcbiAgICB9XG5cbiAgICB1cmxba2V5XSA9IHVybFtrZXldIHx8IChcbiAgICAgIHJlbGF0aXZlICYmIGluc3RydWN0aW9uWzNdID8gbG9jYXRpb25ba2V5XSB8fCAnJyA6ICcnXG4gICAgKTtcblxuICAgIC8vXG4gICAgLy8gSG9zdG5hbWUsIGhvc3QgYW5kIHByb3RvY29sIHNob3VsZCBiZSBsb3dlcmNhc2VkIHNvIHRoZXkgY2FuIGJlIHVzZWQgdG9cbiAgICAvLyBjcmVhdGUgYSBwcm9wZXIgYG9yaWdpbmAuXG4gICAgLy9cbiAgICBpZiAoaW5zdHJ1Y3Rpb25bNF0pIHVybFtrZXldID0gdXJsW2tleV0udG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIC8vXG4gIC8vIEFsc28gcGFyc2UgdGhlIHN1cHBsaWVkIHF1ZXJ5IHN0cmluZyBpbiB0byBhbiBvYmplY3QuIElmIHdlJ3JlIHN1cHBsaWVkXG4gIC8vIHdpdGggYSBjdXN0b20gcGFyc2VyIGFzIGZ1bmN0aW9uIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgYnVpbGQtaW5cbiAgLy8gcGFyc2VyLlxuICAvL1xuICBpZiAocGFyc2VyKSB1cmwucXVlcnkgPSBwYXJzZXIodXJsLnF1ZXJ5KTtcblxuICAvL1xuICAvLyBJZiB0aGUgVVJMIGlzIHJlbGF0aXZlLCByZXNvbHZlIHRoZSBwYXRobmFtZSBhZ2FpbnN0IHRoZSBiYXNlIFVSTC5cbiAgLy9cbiAgaWYgKFxuICAgICAgcmVsYXRpdmVcbiAgICAmJiBsb2NhdGlvbi5zbGFzaGVzXG4gICAgJiYgdXJsLnBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nXG4gICAgJiYgKHVybC5wYXRobmFtZSAhPT0gJycgfHwgbG9jYXRpb24ucGF0aG5hbWUgIT09ICcnKVxuICApIHtcbiAgICB1cmwucGF0aG5hbWUgPSByZXNvbHZlKHVybC5wYXRobmFtZSwgbG9jYXRpb24ucGF0aG5hbWUpO1xuICB9XG5cbiAgLy9cbiAgLy8gV2Ugc2hvdWxkIG5vdCBhZGQgcG9ydCBudW1iZXJzIGlmIHRoZXkgYXJlIGFscmVhZHkgdGhlIGRlZmF1bHQgcG9ydCBudW1iZXJcbiAgLy8gZm9yIGEgZ2l2ZW4gcHJvdG9jb2wuIEFzIHRoZSBob3N0IGFsc28gY29udGFpbnMgdGhlIHBvcnQgbnVtYmVyIHdlJ3JlIGdvaW5nXG4gIC8vIG92ZXJyaWRlIGl0IHdpdGggdGhlIGhvc3RuYW1lIHdoaWNoIGNvbnRhaW5zIG5vIHBvcnQgbnVtYmVyLlxuICAvL1xuICBpZiAoIXJlcXVpcmVkKHVybC5wb3J0LCB1cmwucHJvdG9jb2wpKSB7XG4gICAgdXJsLmhvc3QgPSB1cmwuaG9zdG5hbWU7XG4gICAgdXJsLnBvcnQgPSAnJztcbiAgfVxuXG4gIC8vXG4gIC8vIFBhcnNlIGRvd24gdGhlIGBhdXRoYCBmb3IgdGhlIHVzZXJuYW1lIGFuZCBwYXNzd29yZC5cbiAgLy9cbiAgdXJsLnVzZXJuYW1lID0gdXJsLnBhc3N3b3JkID0gJyc7XG4gIGlmICh1cmwuYXV0aCkge1xuICAgIGluc3RydWN0aW9uID0gdXJsLmF1dGguc3BsaXQoJzonKTtcbiAgICB1cmwudXNlcm5hbWUgPSBpbnN0cnVjdGlvblswXSB8fCAnJztcbiAgICB1cmwucGFzc3dvcmQgPSBpbnN0cnVjdGlvblsxXSB8fCAnJztcbiAgfVxuXG4gIHVybC5vcmlnaW4gPSB1cmwucHJvdG9jb2wgJiYgdXJsLmhvc3QgJiYgdXJsLnByb3RvY29sICE9PSAnZmlsZTonXG4gICAgPyB1cmwucHJvdG9jb2wgKycvLycrIHVybC5ob3N0XG4gICAgOiAnbnVsbCc7XG5cbiAgLy9cbiAgLy8gVGhlIGhyZWYgaXMganVzdCB0aGUgY29tcGlsZWQgcmVzdWx0LlxuICAvL1xuICB1cmwuaHJlZiA9IHVybC50b1N0cmluZygpO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgY29udmVuaWVuY2UgbWV0aG9kIGZvciBjaGFuZ2luZyBwcm9wZXJ0aWVzIGluIHRoZSBVUkwgaW5zdGFuY2UgdG9cbiAqIGluc3VyZSB0aGF0IHRoZXkgYWxsIHByb3BhZ2F0ZSBjb3JyZWN0bHkuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHBhcnQgICAgICAgICAgUHJvcGVydHkgd2UgbmVlZCB0byBhZGp1c3QuXG4gKiBAcGFyYW0ge01peGVkfSB2YWx1ZSAgICAgICAgICBUaGUgbmV3bHkgYXNzaWduZWQgdmFsdWUuXG4gKiBAcGFyYW0ge0Jvb2xlYW58RnVuY3Rpb259IGZuICBXaGVuIHNldHRpbmcgdGhlIHF1ZXJ5LCBpdCB3aWxsIGJlIHRoZSBmdW5jdGlvblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlZCB0byBwYXJzZSB0aGUgcXVlcnkuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXaGVuIHNldHRpbmcgdGhlIHByb3RvY29sLCBkb3VibGUgc2xhc2ggd2lsbCBiZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZCBmcm9tIHRoZSBmaW5hbCB1cmwgaWYgaXQgaXMgdHJ1ZS5cbiAqIEByZXR1cm5zIHtVUkx9IFVSTCBpbnN0YW5jZSBmb3IgY2hhaW5pbmcuXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIHNldChwYXJ0LCB2YWx1ZSwgZm4pIHtcbiAgdmFyIHVybCA9IHRoaXM7XG5cbiAgc3dpdGNoIChwYXJ0KSB7XG4gICAgY2FzZSAncXVlcnknOlxuICAgICAgaWYgKCdzdHJpbmcnID09PSB0eXBlb2YgdmFsdWUgJiYgdmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIHZhbHVlID0gKGZuIHx8IHFzLnBhcnNlKSh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHVybFtwYXJ0XSA9IHZhbHVlO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdwb3J0JzpcbiAgICAgIHVybFtwYXJ0XSA9IHZhbHVlO1xuXG4gICAgICBpZiAoIXJlcXVpcmVkKHZhbHVlLCB1cmwucHJvdG9jb2wpKSB7XG4gICAgICAgIHVybC5ob3N0ID0gdXJsLmhvc3RuYW1lO1xuICAgICAgICB1cmxbcGFydF0gPSAnJztcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUpIHtcbiAgICAgICAgdXJsLmhvc3QgPSB1cmwuaG9zdG5hbWUgKyc6JysgdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnaG9zdG5hbWUnOlxuICAgICAgdXJsW3BhcnRdID0gdmFsdWU7XG5cbiAgICAgIGlmICh1cmwucG9ydCkgdmFsdWUgKz0gJzonKyB1cmwucG9ydDtcbiAgICAgIHVybC5ob3N0ID0gdmFsdWU7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2hvc3QnOlxuICAgICAgdXJsW3BhcnRdID0gdmFsdWU7XG5cbiAgICAgIGlmICgvOlxcZCskLy50ZXN0KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCc6Jyk7XG4gICAgICAgIHVybC5wb3J0ID0gdmFsdWUucG9wKCk7XG4gICAgICAgIHVybC5ob3N0bmFtZSA9IHZhbHVlLmpvaW4oJzonKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVybC5ob3N0bmFtZSA9IHZhbHVlO1xuICAgICAgICB1cmwucG9ydCA9ICcnO1xuICAgICAgfVxuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3Byb3RvY29sJzpcbiAgICAgIHVybC5wcm90b2NvbCA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICB1cmwuc2xhc2hlcyA9ICFmbjtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAncGF0aG5hbWUnOlxuICAgIGNhc2UgJ2hhc2gnOlxuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHZhciBjaGFyID0gcGFydCA9PT0gJ3BhdGhuYW1lJyA/ICcvJyA6ICcjJztcbiAgICAgICAgdXJsW3BhcnRdID0gdmFsdWUuY2hhckF0KDApICE9PSBjaGFyID8gY2hhciArIHZhbHVlIDogdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cmxbcGFydF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHVybFtwYXJ0XSA9IHZhbHVlO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpbnMgPSBydWxlc1tpXTtcblxuICAgIGlmIChpbnNbNF0pIHVybFtpbnNbMV1dID0gdXJsW2luc1sxXV0udG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIHVybC5vcmlnaW4gPSB1cmwucHJvdG9jb2wgJiYgdXJsLmhvc3QgJiYgdXJsLnByb3RvY29sICE9PSAnZmlsZTonXG4gICAgPyB1cmwucHJvdG9jb2wgKycvLycrIHVybC5ob3N0XG4gICAgOiAnbnVsbCc7XG5cbiAgdXJsLmhyZWYgPSB1cmwudG9TdHJpbmcoKTtcblxuICByZXR1cm4gdXJsO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgcHJvcGVydGllcyBiYWNrIGluIHRvIGEgdmFsaWQgYW5kIGZ1bGwgVVJMIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmdpZnkgT3B0aW9uYWwgcXVlcnkgc3RyaW5naWZ5IGZ1bmN0aW9uLlxuICogQHJldHVybnMge1N0cmluZ30gQ29tcGlsZWQgdmVyc2lvbiBvZiB0aGUgVVJMLlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyhzdHJpbmdpZnkpIHtcbiAgaWYgKCFzdHJpbmdpZnkgfHwgJ2Z1bmN0aW9uJyAhPT0gdHlwZW9mIHN0cmluZ2lmeSkgc3RyaW5naWZ5ID0gcXMuc3RyaW5naWZ5O1xuXG4gIHZhciBxdWVyeVxuICAgICwgdXJsID0gdGhpc1xuICAgICwgcHJvdG9jb2wgPSB1cmwucHJvdG9jb2w7XG5cbiAgaWYgKHByb3RvY29sICYmIHByb3RvY29sLmNoYXJBdChwcm90b2NvbC5sZW5ndGggLSAxKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7XG5cbiAgdmFyIHJlc3VsdCA9IHByb3RvY29sICsgKHVybC5zbGFzaGVzID8gJy8vJyA6ICcnKTtcblxuICBpZiAodXJsLnVzZXJuYW1lKSB7XG4gICAgcmVzdWx0ICs9IHVybC51c2VybmFtZTtcbiAgICBpZiAodXJsLnBhc3N3b3JkKSByZXN1bHQgKz0gJzonKyB1cmwucGFzc3dvcmQ7XG4gICAgcmVzdWx0ICs9ICdAJztcbiAgfVxuXG4gIHJlc3VsdCArPSB1cmwuaG9zdCArIHVybC5wYXRobmFtZTtcblxuICBxdWVyeSA9ICdvYmplY3QnID09PSB0eXBlb2YgdXJsLnF1ZXJ5ID8gc3RyaW5naWZ5KHVybC5xdWVyeSkgOiB1cmwucXVlcnk7XG4gIGlmIChxdWVyeSkgcmVzdWx0ICs9ICc/JyAhPT0gcXVlcnkuY2hhckF0KDApID8gJz8nKyBxdWVyeSA6IHF1ZXJ5O1xuXG4gIGlmICh1cmwuaGFzaCkgcmVzdWx0ICs9IHVybC5oYXNoO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cblVybC5wcm90b3R5cGUgPSB7IHNldDogc2V0LCB0b1N0cmluZzogdG9TdHJpbmcgfTtcblxuLy9cbi8vIEV4cG9zZSB0aGUgVVJMIHBhcnNlciBhbmQgc29tZSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgdGhhdCBtaWdodCBiZSB1c2VmdWwgZm9yXG4vLyBvdGhlcnMgb3IgdGVzdGluZy5cbi8vXG5VcmwuZXh0cmFjdFByb3RvY29sID0gZXh0cmFjdFByb3RvY29sO1xuVXJsLmxvY2F0aW9uID0gbG9sY2F0aW9uO1xuVXJsLnFzID0gcXM7XG5cbm1vZHVsZS5leHBvcnRzID0gVXJsO1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7XCJxdWVyeXN0cmluZ2lmeVwiOjU5LFwicmVxdWlyZXMtcG9ydFwiOjYwfV19LHt9LFsxXSkoMSlcbn0pO1xuXG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNvY2tqcy5qcy5tYXBcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwdW55Y29kZSA9IHJlcXVpcmUoJ3B1bnljb2RlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5leHBvcnRzLnBhcnNlID0gdXJsUGFyc2U7XG5leHBvcnRzLnJlc29sdmUgPSB1cmxSZXNvbHZlO1xuZXhwb3J0cy5yZXNvbHZlT2JqZWN0ID0gdXJsUmVzb2x2ZU9iamVjdDtcbmV4cG9ydHMuZm9ybWF0ID0gdXJsRm9ybWF0O1xuXG5leHBvcnRzLlVybCA9IFVybDtcblxuZnVuY3Rpb24gVXJsKCkge1xuICB0aGlzLnByb3RvY29sID0gbnVsbDtcbiAgdGhpcy5zbGFzaGVzID0gbnVsbDtcbiAgdGhpcy5hdXRoID0gbnVsbDtcbiAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgdGhpcy5ob3N0bmFtZSA9IG51bGw7XG4gIHRoaXMuaGFzaCA9IG51bGw7XG4gIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgdGhpcy5xdWVyeSA9IG51bGw7XG4gIHRoaXMucGF0aG5hbWUgPSBudWxsO1xuICB0aGlzLnBhdGggPSBudWxsO1xuICB0aGlzLmhyZWYgPSBudWxsO1xufVxuXG4vLyBSZWZlcmVuY2U6IFJGQyAzOTg2LCBSRkMgMTgwOCwgUkZDIDIzOTZcblxuLy8gZGVmaW5lIHRoZXNlIGhlcmUgc28gYXQgbGVhc3QgdGhleSBvbmx5IGhhdmUgdG8gYmVcbi8vIGNvbXBpbGVkIG9uY2Ugb24gdGhlIGZpcnN0IG1vZHVsZSBsb2FkLlxudmFyIHByb3RvY29sUGF0dGVybiA9IC9eKFthLXowLTkuKy1dKzopL2ksXG4gICAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBhIHNpbXBsZSBwYXRoIFVSTFxuICAgIHNpbXBsZVBhdGhQYXR0ZXJuID0gL14oXFwvXFwvPyg/IVxcLylbXlxcP1xcc10qKShcXD9bXlxcc10qKT8kLyxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gICAgLy8gV2UgYWN0dWFsbHkganVzdCBhdXRvLWVzY2FwZSB0aGVzZS5cbiAgICBkZWxpbXMgPSBbJzwnLCAnPicsICdcIicsICdgJywgJyAnLCAnXFxyJywgJ1xcbicsICdcXHQnXSxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gICAgdW53aXNlID0gWyd7JywgJ30nLCAnfCcsICdcXFxcJywgJ14nLCAnYCddLmNvbmNhdChkZWxpbXMpLFxuXG4gICAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLlxuICAgIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAgIC8vIENoYXJhY3RlcnMgdGhhdCBhcmUgbmV2ZXIgZXZlciBhbGxvd2VkIGluIGEgaG9zdG5hbWUuXG4gICAgLy8gTm90ZSB0aGF0IGFueSBpbnZhbGlkIGNoYXJzIGFyZSBhbHNvIGhhbmRsZWQsIGJ1dCB0aGVzZVxuICAgIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAgIC8vIHRoZW0uXG4gICAgbm9uSG9zdENoYXJzID0gWyclJywgJy8nLCAnPycsICc7JywgJyMnXS5jb25jYXQoYXV0b0VzY2FwZSksXG4gICAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICAgIGhvc3RuYW1lTWF4TGVuID0gMjU1LFxuICAgIGhvc3RuYW1lUGFydFBhdHRlcm4gPSAvXlsrYS16MC05QS1aXy1dezAsNjN9JC8sXG4gICAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgY2FuIGFsbG93IFwidW5zYWZlXCIgYW5kIFwidW53aXNlXCIgY2hhcnMuXG4gICAgdW5zYWZlUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gICAgaG9zdGxlc3NQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IGFsd2F5cyBjb250YWluIGEgLy8gYml0LlxuICAgIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAgICdodHRwJzogdHJ1ZSxcbiAgICAgICdodHRwcyc6IHRydWUsXG4gICAgICAnZnRwJzogdHJ1ZSxcbiAgICAgICdnb3BoZXInOiB0cnVlLFxuICAgICAgJ2ZpbGUnOiB0cnVlLFxuICAgICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAgICdodHRwczonOiB0cnVlLFxuICAgICAgJ2Z0cDonOiB0cnVlLFxuICAgICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICAgJ2ZpbGU6JzogdHJ1ZVxuICAgIH0sXG4gICAgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpO1xuXG5mdW5jdGlvbiB1cmxQYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICh1cmwgJiYgdXRpbC5pc09iamVjdCh1cmwpICYmIHVybCBpbnN0YW5jZW9mIFVybCkgcmV0dXJuIHVybDtcblxuICB2YXIgdSA9IG5ldyBVcmw7XG4gIHUucGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG4gIHJldHVybiB1O1xufVxuXG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAoIXV0aWwuaXNTdHJpbmcodXJsKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90IFwiICsgdHlwZW9mIHVybCk7XG4gIH1cblxuICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cbiAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG4gIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2XG4gIHZhciBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoJz8nKSxcbiAgICAgIHNwbGl0dGVyID1cbiAgICAgICAgICAocXVlcnlJbmRleCAhPT0gLTEgJiYgcXVlcnlJbmRleCA8IHVybC5pbmRleE9mKCcjJykpID8gJz8nIDogJyMnLFxuICAgICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSxcbiAgICAgIHNsYXNoUmVnZXggPSAvXFxcXC9nO1xuICB1U3BsaXRbMF0gPSB1U3BsaXRbMF0ucmVwbGFjZShzbGFzaFJlZ2V4LCAnLycpO1xuICB1cmwgPSB1U3BsaXQuam9pbihzcGxpdHRlcik7XG5cbiAgdmFyIHJlc3QgPSB1cmw7XG5cbiAgLy8gdHJpbSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgXCIgIGh0dHA6Ly9mb28uY29tICBcXG5cIlxuICByZXN0ID0gcmVzdC50cmltKCk7XG5cbiAgaWYgKCFzbGFzaGVzRGVub3RlSG9zdCAmJiB1cmwuc3BsaXQoJyMnKS5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBUcnkgZmFzdCBwYXRoIHJlZ2V4cFxuICAgIHZhciBzaW1wbGVQYXRoID0gc2ltcGxlUGF0aFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgICBpZiAoc2ltcGxlUGF0aCkge1xuICAgICAgdGhpcy5wYXRoID0gcmVzdDtcbiAgICAgIHRoaXMuaHJlZiA9IHJlc3Q7XG4gICAgICB0aGlzLnBhdGhuYW1lID0gc2ltcGxlUGF0aFsxXTtcbiAgICAgIGlmIChzaW1wbGVQYXRoWzJdKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gc2ltcGxlUGF0aFsyXTtcbiAgICAgICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWFyY2guc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICAgICAgdGhpcy5xdWVyeSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICB0aGlzLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaG9zdGxlc3NQcm90b2NvbFtwcm90b10gJiZcbiAgICAgIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7XG5cbiAgICAvLyB0aGVyZSdzIGEgaG9zdG5hbWUuXG4gICAgLy8gdGhlIGZpcnN0IGluc3RhbmNlIG9mIC8sID8sIDssIG9yICMgZW5kcyB0aGUgaG9zdC5cbiAgICAvL1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIEAgaW4gdGhlIGhvc3RuYW1lLCB0aGVuIG5vbi1ob3N0IGNoYXJzICphcmUqIGFsbG93ZWRcbiAgICAvLyB0byB0aGUgbGVmdCBvZiB0aGUgbGFzdCBAIHNpZ24sIHVubGVzcyBzb21lIGhvc3QtZW5kaW5nIGNoYXJhY3RlclxuICAgIC8vIGNvbWVzICpiZWZvcmUqIHRoZSBALXNpZ24uXG4gICAgLy8gVVJMcyBhcmUgb2Jub3hpb3VzLlxuICAgIC8vXG4gICAgLy8gZXg6XG4gICAgLy8gaHR0cDovL2FAYkBjLyA9PiB1c2VyOmFAYiBob3N0OmNcbiAgICAvLyBodHRwOi8vYUBiP0BjID0+IHVzZXI6YSBob3N0OmMgcGF0aDovP0BjXG5cbiAgICAvLyB2MC4xMiBUT0RPKGlzYWFjcyk6IFRoaXMgaXMgbm90IHF1aXRlIGhvdyBDaHJvbWUgZG9lcyB0aGluZ3MuXG4gICAgLy8gUmV2aWV3IG91ciB0ZXN0IGNhc2UgYWdhaW5zdCBicm93c2VycyBtb3JlIGNvbXByZWhlbnNpdmVseS5cblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGFueSBob3N0RW5kaW5nQ2hhcnNcbiAgICB2YXIgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9zdEVuZGluZ0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgdGhpcy5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2Yobm9uSG9zdENoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG4gICAgLy8gaWYgd2Ugc3RpbGwgaGF2ZSBub3QgaGl0IGl0LCB0aGVuIHRoZSBlbnRpcmUgdGhpbmcgaXMgYSBob3N0LlxuICAgIGlmIChob3N0RW5kID09PSAtMSlcbiAgICAgIGhvc3RFbmQgPSByZXN0Lmxlbmd0aDtcblxuICAgIHRoaXMuaG9zdCA9IHJlc3Quc2xpY2UoMCwgaG9zdEVuZCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoaG9zdEVuZCk7XG5cbiAgICAvLyBwdWxsIG91dCBwb3J0LlxuICAgIHRoaXMucGFyc2VIb3N0KCk7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgICAgdGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDFdID09PSAnXSc7XG5cbiAgICAvLyB2YWxpZGF0ZSBhIGxpdHRsZS5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgdmFyIGhvc3RwYXJ0cyA9IHRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnljb2RlZCByZXByZXNlbnRhdGlvbiBvZiBcImRvbWFpblwiLlxuICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZlxuICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBwID0gdGhpcy5wb3J0ID8gJzonICsgdGhpcy5wb3J0IDogJyc7XG4gICAgdmFyIGggPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuICAgIHRoaXMuaG9zdCA9IGggKyBwO1xuICAgIHRoaXMuaHJlZiArPSB0aGlzLmhvc3Q7XG5cbiAgICAvLyBzdHJpcCBbIGFuZCBdIGZyb20gdGhlIGhvc3RuYW1lXG4gICAgLy8gdGhlIGhvc3QgZmllbGQgc3RpbGwgcmV0YWlucyB0aGVtLCB0aG91Z2hcbiAgICBpZiAoaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS5zdWJzdHIoMSwgdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIGlmIChyZXN0WzBdICE9PSAnLycpIHtcbiAgICAgICAgcmVzdCA9ICcvJyArIHJlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuXG4gIC8vIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy5cbiAgaWYgKCF1bnNhZmVQcm90b2NvbFtsb3dlclByb3RvXSkge1xuXG4gICAgLy8gRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55IFwiYXV0b0VzY2FwZVwiIGNoYXJzIGdldFxuICAgIC8vIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleVxuICAgIC8vIG5lZWQgdG8gYmUuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTtcbiAgICAgIGlmIChyZXN0LmluZGV4T2YoYWUpID09PSAtMSlcbiAgICAgICAgY29udGludWU7XG4gICAgICB2YXIgZXNjID0gZW5jb2RlVVJJQ29tcG9uZW50KGFlKTtcbiAgICAgIGlmIChlc2MgPT09IGFlKSB7XG4gICAgICAgIGVzYyA9IGVzY2FwZShhZSk7XG4gICAgICB9XG4gICAgICByZXN0ID0gcmVzdC5zcGxpdChhZSkuam9pbihlc2MpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gY2hvcCBvZmYgZnJvbSB0aGUgdGFpbCBmaXJzdC5cbiAgdmFyIGhhc2ggPSByZXN0LmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2ggIT09IC0xKSB7XG4gICAgLy8gZ290IGEgZnJhZ21lbnQgc3RyaW5nLlxuICAgIHRoaXMuaGFzaCA9IHJlc3Quc3Vic3RyKGhhc2gpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIGhhc2gpO1xuICB9XG4gIHZhciBxbSA9IHJlc3QuaW5kZXhPZignPycpO1xuICBpZiAocW0gIT09IC0xKSB7XG4gICAgdGhpcy5zZWFyY2ggPSByZXN0LnN1YnN0cihxbSk7XG4gICAgdGhpcy5xdWVyeSA9IHJlc3Quc3Vic3RyKHFtICsgMSk7XG4gICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnF1ZXJ5KTtcbiAgICB9XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pO1xuICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZFxuICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgdGhpcy5xdWVyeSA9IHt9O1xuICB9XG4gIGlmIChyZXN0KSB0aGlzLnBhdGhuYW1lID0gcmVzdDtcbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJlxuICAgICAgdGhpcy5ob3N0bmFtZSAmJiAhdGhpcy5wYXRobmFtZSkge1xuICAgIHRoaXMucGF0aG5hbWUgPSAnLyc7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gIGlmICh0aGlzLnBhdGhuYW1lIHx8IHRoaXMuc2VhcmNoKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gdGhpcy5zZWFyY2ggfHwgJyc7XG4gICAgdGhpcy5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgdGhpcy5ocmVmID0gdGhpcy5mb3JtYXQoKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBmb3JtYXQgYSBwYXJzZWQgb2JqZWN0IGludG8gYSB1cmwgc3RyaW5nXG5mdW5jdGlvbiB1cmxGb3JtYXQob2JqKSB7XG4gIC8vIGVuc3VyZSBpdCdzIGFuIG9iamVjdCwgYW5kIG5vdCBhIHN0cmluZyB1cmwuXG4gIC8vIElmIGl0J3MgYW4gb2JqLCB0aGlzIGlzIGEgbm8tb3AuXG4gIC8vIHRoaXMgd2F5LCB5b3UgY2FuIGNhbGwgdXJsX2Zvcm1hdCgpIG9uIHN0cmluZ3NcbiAgLy8gdG8gY2xlYW4gdXAgcG90ZW50aWFsbHkgd29ua3kgdXJscy5cbiAgaWYgKHV0aWwuaXNTdHJpbmcob2JqKSkgb2JqID0gdXJsUGFyc2Uob2JqKTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgVXJsKSkgcmV0dXJuIFVybC5wcm90b3R5cGUuZm9ybWF0LmNhbGwob2JqKTtcbiAgcmV0dXJuIG9iai5mb3JtYXQoKTtcbn1cblxuVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGF1dGggPSB0aGlzLmF1dGggfHwgJyc7XG4gIGlmIChhdXRoKSB7XG4gICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTtcbiAgICBhdXRoICs9ICdAJztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgJycsXG4gICAgICBwYXRobmFtZSA9IHRoaXMucGF0aG5hbWUgfHwgJycsXG4gICAgICBoYXNoID0gdGhpcy5oYXNoIHx8ICcnLFxuICAgICAgaG9zdCA9IGZhbHNlLFxuICAgICAgcXVlcnkgPSAnJztcblxuICBpZiAodGhpcy5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyB0aGlzLmhvc3Q7XG4gIH0gZWxzZSBpZiAodGhpcy5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgOlxuICAgICAgICAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nKTtcbiAgICBpZiAodGhpcy5wb3J0KSB7XG4gICAgICBob3N0ICs9ICc6JyArIHRoaXMucG9ydDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSAmJlxuICAgICAgdXRpbC5pc09iamVjdCh0aGlzLnF1ZXJ5KSAmJlxuICAgICAgT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSBxdWVyeXN0cmluZy5zdHJpbmdpZnkodGhpcy5xdWVyeSk7XG4gIH1cblxuICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2ggfHwgKHF1ZXJ5ICYmICgnPycgKyBxdWVyeSkpIHx8ICcnO1xuXG4gIGlmIChwcm90b2NvbCAmJiBwcm90b2NvbC5zdWJzdHIoLTEpICE9PSAnOicpIHByb3RvY29sICs9ICc6JztcblxuICAvLyBvbmx5IHRoZSBzbGFzaGVkUHJvdG9jb2xzIGdldCB0aGUgLy8uICBOb3QgbWFpbHRvOiwgeG1wcDosIGV0Yy5cbiAgLy8gdW5sZXNzIHRoZXkgaGFkIHRoZW0gdG8gYmVnaW4gd2l0aC5cbiAgaWYgKHRoaXMuc2xhc2hlcyB8fFxuICAgICAgKCFwcm90b2NvbCB8fCBzbGFzaGVkUHJvdG9jb2xbcHJvdG9jb2xdKSAmJiBob3N0ICE9PSBmYWxzZSkge1xuICAgIGhvc3QgPSAnLy8nICsgKGhvc3QgfHwgJycpO1xuICAgIGlmIChwYXRobmFtZSAmJiBwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSAnJztcbiAgfVxuXG4gIGlmIChoYXNoICYmIGhhc2guY2hhckF0KDApICE9PSAnIycpIGhhc2ggPSAnIycgKyBoYXNoO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaC5jaGFyQXQoMCkgIT09ICc/Jykgc2VhcmNoID0gJz8nICsgc2VhcmNoO1xuXG4gIHBhdGhuYW1lID0gcGF0aG5hbWUucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobWF0Y2gpO1xuICB9KTtcbiAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoJyMnLCAnJTIzJyk7XG5cbiAgcmV0dXJuIHByb3RvY29sICsgaG9zdCArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmUoc291cmNlLCByZWxhdGl2ZSkge1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZShyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIHJldHVybiB0aGlzLnJlc29sdmVPYmplY3QodXJsUGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKSkuZm9ybWF0KCk7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlT2JqZWN0KHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgaWYgKCFzb3VyY2UpIHJldHVybiByZWxhdGl2ZTtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmVPYmplY3QocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICBpZiAodXRpbC5pc1N0cmluZyhyZWxhdGl2ZSkpIHtcbiAgICB2YXIgcmVsID0gbmV3IFVybCgpO1xuICAgIHJlbC5wYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpO1xuICAgIHJlbGF0aXZlID0gcmVsO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IG5ldyBVcmwoKTtcbiAgdmFyIHRrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gIGZvciAodmFyIHRrID0gMDsgdGsgPCB0a2V5cy5sZW5ndGg7IHRrKyspIHtcbiAgICB2YXIgdGtleSA9IHRrZXlzW3RrXTtcbiAgICByZXN1bHRbdGtleV0gPSB0aGlzW3RrZXldO1xuICB9XG5cbiAgLy8gaGFzaCBpcyBhbHdheXMgb3ZlcnJpZGRlbiwgbm8gbWF0dGVyIHdoYXQuXG4gIC8vIGV2ZW4gaHJlZj1cIlwiIHdpbGwgcmVtb3ZlIGl0LlxuICByZXN1bHQuaGFzaCA9IHJlbGF0aXZlLmhhc2g7XG5cbiAgLy8gaWYgdGhlIHJlbGF0aXZlIHVybCBpcyBlbXB0eSwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgbGVmdCB0byBkbyBoZXJlLlxuICBpZiAocmVsYXRpdmUuaHJlZiA9PT0gJycpIHtcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuXG4gIGlmIChyZWxhdGl2ZS5zbGFzaGVzICYmICFyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgIC8vIHRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIHByb3RvY29sIGZyb20gcmVsYXRpdmVcbiAgICB2YXIgcmtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgZm9yICh2YXIgcmsgPSAwOyByayA8IHJrZXlzLmxlbmd0aDsgcmsrKykge1xuICAgICAgdmFyIHJrZXkgPSBya2V5c1tya107XG4gICAgICBpZiAocmtleSAhPT0gJ3Byb3RvY29sJylcbiAgICAgICAgcmVzdWx0W3JrZXldID0gcmVsYXRpdmVbcmtleV07XG4gICAgfVxuXG4gICAgLy91cmxQYXJzZSBhcHBlbmRzIHRyYWlsaW5nIC8gdG8gdXJscyBsaWtlIGh0dHA6Ly93d3cuZXhhbXBsZS5jb21cbiAgICBpZiAoc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF0gJiZcbiAgICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgIH1cblxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAocmVsYXRpdmUucHJvdG9jb2wgJiYgcmVsYXRpdmUucHJvdG9jb2wgIT09IHJlc3VsdC5wcm90b2NvbCkge1xuICAgIC8vIGlmIGl0J3MgYSBrbm93biB1cmwgcHJvdG9jb2wsIHRoZW4gY2hhbmdpbmdcbiAgICAvLyB0aGUgcHJvdG9jb2wgZG9lcyB3ZWlyZCB0aGluZ3NcbiAgICAvLyBmaXJzdCwgaWYgaXQncyBub3QgZmlsZTosIHRoZW4gd2UgTVVTVCBoYXZlIGEgaG9zdCxcbiAgICAvLyBhbmQgaWYgdGhlcmUgd2FzIGEgcGF0aFxuICAgIC8vIHRvIGJlZ2luIHdpdGgsIHRoZW4gd2UgTVVTVCBoYXZlIGEgcGF0aC5cbiAgICAvLyBpZiBpdCBpcyBmaWxlOiwgdGhlbiB0aGUgaG9zdCBpcyBkcm9wcGVkLFxuICAgIC8vIGJlY2F1c2UgdGhhdCdzIGtub3duIHRvIGJlIGhvc3RsZXNzLlxuICAgIC8vIGFueXRoaW5nIGVsc2UgaXMgYXNzdW1lZCB0byBiZSBhYnNvbHV0ZS5cbiAgICBpZiAoIXNsYXNoZWRQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBrZXlzLmxlbmd0aDsgdisrKSB7XG4gICAgICAgIHZhciBrID0ga2V5c1t2XTtcbiAgICAgICAgcmVzdWx0W2tdID0gcmVsYXRpdmVba107XG4gICAgICB9XG4gICAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3RvY29sID0gcmVsYXRpdmUucHJvdG9jb2w7XG4gICAgaWYgKCFyZWxhdGl2ZS5ob3N0ICYmICFob3N0bGVzc1Byb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgJycpLnNwbGl0KCcvJyk7XG4gICAgICB3aGlsZSAocmVsUGF0aC5sZW5ndGggJiYgIShyZWxhdGl2ZS5ob3N0ID0gcmVsUGF0aC5zaGlmdCgpKSk7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3QpIHJlbGF0aXZlLmhvc3QgPSAnJztcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gJyc7XG4gICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsUGF0aC5qb2luKCcvJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbGF0aXZlLnBhdGhuYW1lO1xuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHJlc3VsdC5ob3N0ID0gcmVsYXRpdmUuaG9zdCB8fCAnJztcbiAgICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGg7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdDtcbiAgICByZXN1bHQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7XG4gICAgLy8gdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnBhdGhuYW1lIHx8IHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHZhciBwID0gcmVzdWx0LnBhdGhuYW1lIHx8ICcnO1xuICAgICAgdmFyIHMgPSByZXN1bHQuc2VhcmNoIHx8ICcnO1xuICAgICAgcmVzdWx0LnBhdGggPSBwICsgcztcbiAgICB9XG4gICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2YXIgaXNTb3VyY2VBYnMgPSAocmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyksXG4gICAgICBpc1JlbEFicyA9IChcbiAgICAgICAgICByZWxhdGl2ZS5ob3N0IHx8XG4gICAgICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICAgICksXG4gICAgICBtdXN0RW5kQWJzID0gKGlzUmVsQWJzIHx8IGlzU291cmNlQWJzIHx8XG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgICAgcmVtb3ZlQWxsRG90cyA9IG11c3RFbmRBYnMsXG4gICAgICBzcmNQYXRoID0gcmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICBwc3ljaG90aWMgPSByZXN1bHQucHJvdG9jb2wgJiYgIXNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdO1xuXG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cblxuICBpZiAoaXNSZWxBYnMpIHtcbiAgICAvLyBpdCdzIGFic29sdXRlLlxuICAgIHJlc3VsdC5ob3N0ID0gKHJlbGF0aXZlLmhvc3QgfHwgcmVsYXRpdmUuaG9zdCA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAocmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdG5hbWUgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgOiByZXN1bHQuaG9zdG5hbWU7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICBzcmNQYXRoID0gcmVsUGF0aDtcbiAgICAvLyBmYWxsIHRocm91Z2ggdG8gdGhlIGRvdC1oYW5kbGluZyBiZWxvdy5cbiAgfSBlbHNlIGlmIChyZWxQYXRoLmxlbmd0aCkge1xuICAgIC8vIGl0J3MgcmVsYXRpdmVcbiAgICAvLyB0aHJvdyBhd2F5IHRoZSBleGlzdGluZyBmaWxlLCBhbmQgdGFrZSB0aGUgbmV3IHBhdGggaW5zdGVhZC5cbiAgICBpZiAoIXNyY1BhdGgpIHNyY1BhdGggPSBbXTtcbiAgICBzcmNQYXRoLnBvcCgpO1xuICAgIHNyY1BhdGggPSBzcmNQYXRoLmNvbmNhdChyZWxQYXRoKTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKCF1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKHJlbGF0aXZlLnNlYXJjaCkpIHtcbiAgICAvLyBqdXN0IHB1bGwgb3V0IHRoZSBzZWFyY2guXG4gICAgLy8gbGlrZSBocmVmPSc/Zm9vJy5cbiAgICAvLyBQdXQgdGhpcyBhZnRlciB0aGUgb3RoZXIgdHdvIGNhc2VzIGJlY2F1c2UgaXQgc2ltcGxpZmllcyB0aGUgYm9vbGVhbnNcbiAgICBpZiAocHN5Y2hvdGljKSB7XG4gICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IHNyY1BhdGguc2hpZnQoKTtcbiAgICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS5cbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7XG4gICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAvLyBob3dldmVyLCBpZiBpdCBlbmRzIGluIGFueXRoaW5nIGVsc2Ugbm9uLXNsYXNoeSxcbiAgLy8gdGhlbiBpdCBtdXN0IE5PVCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAoXG4gICAgICAocmVzdWx0Lmhvc3QgfHwgcmVsYXRpdmUuaG9zdCB8fCBzcmNQYXRoLmxlbmd0aCA+IDEpICYmXG4gICAgICAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHx8IGxhc3QgPT09ICcnKTtcblxuICAvLyBzdHJpcCBzaW5nbGUgZG90cywgcmVzb2x2ZSBkb3VibGUgZG90cyB0byBwYXJlbnQgZGlyXG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBzcmNQYXRoLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICBsYXN0ID0gc3JjUGF0aFtpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoIW11c3RFbmRBYnMgJiYgIXJlbW92ZUFsbERvdHMpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHNyY1BhdGgudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSAnJyAmJlxuICAgICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpO1xuXG4gIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyAnJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnO1xuICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gc3JjUGF0aC5qb2luKCcvJyk7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwXG4gIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICB9XG4gIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDtcbiAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblVybC5wcm90b3R5cGUucGFyc2VIb3N0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBob3N0ID0gdGhpcy5ob3N0O1xuICB2YXIgcG9ydCA9IHBvcnRQYXR0ZXJuLmV4ZWMoaG9zdCk7XG4gIGlmIChwb3J0KSB7XG4gICAgcG9ydCA9IHBvcnRbMF07XG4gICAgaWYgKHBvcnQgIT09ICc6Jykge1xuICAgICAgdGhpcy5wb3J0ID0gcG9ydC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGhvc3QgPSBob3N0LnN1YnN0cigwLCBob3N0Lmxlbmd0aCAtIHBvcnQubGVuZ3RoKTtcbiAgfVxuICBpZiAoaG9zdCkgdGhpcy5ob3N0bmFtZSA9IGhvc3Q7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNTdHJpbmc6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ3N0cmluZyc7XG4gIH0sXG4gIGlzT2JqZWN0OiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09PSBudWxsO1xuICB9LFxuICBpc051bGxPclVuZGVmaW5lZDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PSBudWxsO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGVcbiAgbm8tdW51c2VkLXZhcnNcbiovXG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxubW9kdWxlLmV4cG9ydHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBCYXNlQ2xpZW50KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYXNlQ2xpZW50KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhCYXNlQ2xpZW50LCBudWxsLCBbe1xuICAgIGtleTogXCJnZXRDbGllbnRQYXRoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENsaWVudFBhdGgob3B0aW9ucykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbGllbnQgbmVlZHMgaW1wbGVtZW50YXRpb24nKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQmFzZUNsaWVudDtcbn0oKTsiLCIndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZVxuICBuby11bnVzZWQtdmFyc1xuKi9cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxudmFyIFNvY2tKUyA9IHJlcXVpcmUoJ3NvY2tqcy1jbGllbnQvZGlzdC9zb2NranMnKTtcblxudmFyIEJhc2VDbGllbnQgPSByZXF1aXJlKCcuL0Jhc2VDbGllbnQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlQ2xpZW50KSB7XG4gIF9pbmhlcml0cyhTb2NrSlNDbGllbnQsIF9CYXNlQ2xpZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFNvY2tKU0NsaWVudCk7XG5cbiAgZnVuY3Rpb24gU29ja0pTQ2xpZW50KHVybCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTb2NrSlNDbGllbnQpO1xuXG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICBfdGhpcy5zb2NrID0gbmV3IFNvY2tKUyh1cmwpO1xuXG4gICAgX3RoaXMuc29jay5vbmVycm9yID0gZnVuY3Rpb24gKGVycikgey8vIFRPRE86IHVzZSBsb2dnZXIgdG8gbG9nIHRoZSBlcnJvciBldmVudCBvbmNlIGNsaWVudCBhbmQgY2xpZW50LXNyY1xuICAgICAgLy8gYXJlIHJlb3JnYW5pemVkIHRvIGhhdmUgdGhlIHNhbWUgZGlyZWN0b3J5IHN0cnVjdHVyZVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU29ja0pTQ2xpZW50LCBbe1xuICAgIGtleTogXCJvbk9wZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25PcGVuKGYpIHtcbiAgICAgIHRoaXMuc29jay5vbm9wZW4gPSBmO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkNsb3NlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xvc2UoZikge1xuICAgICAgdGhpcy5zb2NrLm9uY2xvc2UgPSBmO1xuICAgIH0gLy8gY2FsbCBmIHdpdGggdGhlIG1lc3NhZ2Ugc3RyaW5nIGFzIHRoZSBmaXJzdCBhcmd1bWVudFxuXG4gIH0sIHtcbiAgICBrZXk6IFwib25NZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTWVzc2FnZShmKSB7XG4gICAgICB0aGlzLnNvY2sub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZihlLmRhdGEpO1xuICAgICAgfTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJnZXRDbGllbnRQYXRoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENsaWVudFBhdGgob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHJlcXVpcmUucmVzb2x2ZSgnLi9Tb2NrSlNDbGllbnQnKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU29ja0pTQ2xpZW50O1xufShCYXNlQ2xpZW50KTsiLCIndXNlIHN0cmljdCc7XG4vKiBnbG9iYWwgX19yZXNvdXJjZVF1ZXJ5IFdvcmtlckdsb2JhbFNjb3BlIHNlbGYgKi9cblxuLyogZXNsaW50IHByZWZlci1kZXN0cnVjdHVyaW5nOiBvZmYgKi9cblxudmFyIHN0cmlwQW5zaSA9IHJlcXVpcmUoJ3N0cmlwLWFuc2knKTtcblxudmFyIHNvY2tldCA9IHJlcXVpcmUoJy4vc29ja2V0Jyk7XG5cbnZhciBvdmVybGF5ID0gcmVxdWlyZSgnLi9vdmVybGF5Jyk7XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4vdXRpbHMvbG9nJyksXG4gICAgbG9nID0gX3JlcXVpcmUubG9nLFxuICAgIHNldExvZ0xldmVsID0gX3JlcXVpcmUuc2V0TG9nTGV2ZWw7XG5cbnZhciBzZW5kTWVzc2FnZSA9IHJlcXVpcmUoJy4vdXRpbHMvc2VuZE1lc3NhZ2UnKTtcblxudmFyIHJlbG9hZEFwcCA9IHJlcXVpcmUoJy4vdXRpbHMvcmVsb2FkQXBwJyk7XG5cbnZhciBjcmVhdGVTb2NrZXRVcmwgPSByZXF1aXJlKCcuL3V0aWxzL2NyZWF0ZVNvY2tldFVybCcpO1xuXG52YXIgc3RhdHVzID0ge1xuICBpc1VubG9hZGluZzogZmFsc2UsXG4gIGN1cnJlbnRIYXNoOiAnJ1xufTtcbnZhciBvcHRpb25zID0ge1xuICBob3Q6IGZhbHNlLFxuICBob3RSZWxvYWQ6IHRydWUsXG4gIGxpdmVSZWxvYWQ6IGZhbHNlLFxuICBpbml0aWFsOiB0cnVlLFxuICB1c2VXYXJuaW5nT3ZlcmxheTogZmFsc2UsXG4gIHVzZUVycm9yT3ZlcmxheTogZmFsc2UsXG4gIHVzZVByb2dyZXNzOiBmYWxzZVxufTtcbnZhciBzb2NrZXRVcmwgPSBjcmVhdGVTb2NrZXRVcmwoX19yZXNvdXJjZVF1ZXJ5KTtcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgZnVuY3Rpb24gKCkge1xuICBzdGF0dXMuaXNVbmxvYWRpbmcgPSB0cnVlO1xufSk7XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICB2YXIgcXMgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnRvTG93ZXJDYXNlKCk7XG4gIG9wdGlvbnMuaG90UmVsb2FkID0gcXMuaW5kZXhPZignaG90cmVsb2FkPWZhbHNlJykgPT09IC0xO1xufVxuXG52YXIgb25Tb2NrZXRNZXNzYWdlID0ge1xuICBob3Q6IGZ1bmN0aW9uIGhvdCgpIHtcbiAgICBvcHRpb25zLmhvdCA9IHRydWU7XG4gICAgbG9nLmluZm8oJ1tXRFNdIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnQgZW5hYmxlZC4nKTtcbiAgfSxcbiAgbGl2ZVJlbG9hZDogZnVuY3Rpb24gbGl2ZVJlbG9hZCgpIHtcbiAgICBvcHRpb25zLmxpdmVSZWxvYWQgPSB0cnVlO1xuICAgIGxvZy5pbmZvKCdbV0RTXSBMaXZlIFJlbG9hZGluZyBlbmFibGVkLicpO1xuICB9LFxuICBpbnZhbGlkOiBmdW5jdGlvbiBpbnZhbGlkKCkge1xuICAgIGxvZy5pbmZvKCdbV0RTXSBBcHAgdXBkYXRlZC4gUmVjb21waWxpbmcuLi4nKTsgLy8gZml4ZXMgIzEwNDIuIG92ZXJsYXkgZG9lc24ndCBjbGVhciBpZiBlcnJvcnMgYXJlIGZpeGVkIGJ1dCB3YXJuaW5ncyByZW1haW4uXG5cbiAgICBpZiAob3B0aW9ucy51c2VXYXJuaW5nT3ZlcmxheSB8fCBvcHRpb25zLnVzZUVycm9yT3ZlcmxheSkge1xuICAgICAgb3ZlcmxheS5jbGVhcigpO1xuICAgIH1cblxuICAgIHNlbmRNZXNzYWdlKCdJbnZhbGlkJyk7XG4gIH0sXG4gIGhhc2g6IGZ1bmN0aW9uIGhhc2goX2hhc2gpIHtcbiAgICBzdGF0dXMuY3VycmVudEhhc2ggPSBfaGFzaDtcbiAgfSxcbiAgJ3N0aWxsLW9rJzogZnVuY3Rpb24gc3RpbGxPaygpIHtcbiAgICBsb2cuaW5mbygnW1dEU10gTm90aGluZyBjaGFuZ2VkLicpO1xuXG4gICAgaWYgKG9wdGlvbnMudXNlV2FybmluZ092ZXJsYXkgfHwgb3B0aW9ucy51c2VFcnJvck92ZXJsYXkpIHtcbiAgICAgIG92ZXJsYXkuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBzZW5kTWVzc2FnZSgnU3RpbGxPaycpO1xuICB9LFxuICAnbG9nLWxldmVsJzogZnVuY3Rpb24gbG9nTGV2ZWwobGV2ZWwpIHtcbiAgICB2YXIgaG90Q3R4ID0gcmVxdWlyZS5jb250ZXh0KCd3ZWJwYWNrL2hvdCcsIGZhbHNlLCAvXlxcLlxcL2xvZyQvKTtcblxuICAgIGlmIChob3RDdHgua2V5cygpLmluZGV4T2YoJy4vbG9nJykgIT09IC0xKSB7XG4gICAgICBob3RDdHgoJy4vbG9nJykuc2V0TG9nTGV2ZWwobGV2ZWwpO1xuICAgIH1cblxuICAgIHNldExvZ0xldmVsKGxldmVsKTtcbiAgfSxcbiAgb3ZlcmxheTogZnVuY3Rpb24gb3ZlcmxheSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgb3B0aW9ucy51c2VXYXJuaW5nT3ZlcmxheSA9IGZhbHNlO1xuICAgICAgICBvcHRpb25zLnVzZUVycm9yT3ZlcmxheSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgICBvcHRpb25zLnVzZVdhcm5pbmdPdmVybGF5ID0gdmFsdWUud2FybmluZ3M7XG4gICAgICAgIG9wdGlvbnMudXNlRXJyb3JPdmVybGF5ID0gdmFsdWUuZXJyb3JzO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgcHJvZ3Jlc3M6IGZ1bmN0aW9uIHByb2dyZXNzKF9wcm9ncmVzcykge1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBvcHRpb25zLnVzZVByb2dyZXNzID0gX3Byb2dyZXNzO1xuICAgIH1cbiAgfSxcbiAgJ3Byb2dyZXNzLXVwZGF0ZSc6IGZ1bmN0aW9uIHByb2dyZXNzVXBkYXRlKGRhdGEpIHtcbiAgICBpZiAob3B0aW9ucy51c2VQcm9ncmVzcykge1xuICAgICAgbG9nLmluZm8oXCJbV0RTXSBcIi5jb25jYXQoZGF0YS5wZXJjZW50LCBcIiUgLSBcIikuY29uY2F0KGRhdGEubXNnLCBcIi5cIikpO1xuICAgIH1cblxuICAgIHNlbmRNZXNzYWdlKCdQcm9ncmVzcycsIGRhdGEpO1xuICB9LFxuICBvazogZnVuY3Rpb24gb2soKSB7XG4gICAgc2VuZE1lc3NhZ2UoJ09rJyk7XG5cbiAgICBpZiAob3B0aW9ucy51c2VXYXJuaW5nT3ZlcmxheSB8fCBvcHRpb25zLnVzZUVycm9yT3ZlcmxheSkge1xuICAgICAgb3ZlcmxheS5jbGVhcigpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmluaXRpYWwpIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmluaXRpYWwgPSBmYWxzZTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmV0dXJuLWFzc2lnblxuXG5cbiAgICByZWxvYWRBcHAob3B0aW9ucywgc3RhdHVzKTtcbiAgfSxcbiAgJ2NvbnRlbnQtY2hhbmdlZCc6IGZ1bmN0aW9uIGNvbnRlbnRDaGFuZ2VkKCkge1xuICAgIGxvZy5pbmZvKCdbV0RTXSBDb250ZW50IGJhc2UgY2hhbmdlZC4gUmVsb2FkaW5nLi4uJyk7XG4gICAgc2VsZi5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgfSxcbiAgd2FybmluZ3M6IGZ1bmN0aW9uIHdhcm5pbmdzKF93YXJuaW5ncykge1xuICAgIGxvZy53YXJuKCdbV0RTXSBXYXJuaW5ncyB3aGlsZSBjb21waWxpbmcuJyk7XG5cbiAgICB2YXIgc3RyaXBwZWRXYXJuaW5ncyA9IF93YXJuaW5ncy5tYXAoZnVuY3Rpb24gKHdhcm5pbmcpIHtcbiAgICAgIHJldHVybiBzdHJpcEFuc2kod2FybmluZyk7XG4gICAgfSk7XG5cbiAgICBzZW5kTWVzc2FnZSgnV2FybmluZ3MnLCBzdHJpcHBlZFdhcm5pbmdzKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaXBwZWRXYXJuaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgbG9nLndhcm4oc3RyaXBwZWRXYXJuaW5nc1tpXSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMudXNlV2FybmluZ092ZXJsYXkpIHtcbiAgICAgIG92ZXJsYXkuc2hvd01lc3NhZ2UoX3dhcm5pbmdzKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5pbml0aWFsKSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5pbml0aWFsID0gZmFsc2U7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJldHVybi1hc3NpZ25cblxuXG4gICAgcmVsb2FkQXBwKG9wdGlvbnMsIHN0YXR1cyk7XG4gIH0sXG4gIGVycm9yczogZnVuY3Rpb24gZXJyb3JzKF9lcnJvcnMpIHtcbiAgICBsb2cuZXJyb3IoJ1tXRFNdIEVycm9ycyB3aGlsZSBjb21waWxpbmcuIFJlbG9hZCBwcmV2ZW50ZWQuJyk7XG5cbiAgICB2YXIgc3RyaXBwZWRFcnJvcnMgPSBfZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBzdHJpcEFuc2koZXJyb3IpO1xuICAgIH0pO1xuXG4gICAgc2VuZE1lc3NhZ2UoJ0Vycm9ycycsIHN0cmlwcGVkRXJyb3JzKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaXBwZWRFcnJvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxvZy5lcnJvcihzdHJpcHBlZEVycm9yc1tpXSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMudXNlRXJyb3JPdmVybGF5KSB7XG4gICAgICBvdmVybGF5LnNob3dNZXNzYWdlKF9lcnJvcnMpO1xuICAgIH1cblxuICAgIG9wdGlvbnMuaW5pdGlhbCA9IGZhbHNlO1xuICB9LFxuICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoX2Vycm9yKSB7XG4gICAgbG9nLmVycm9yKF9lcnJvcik7XG4gIH0sXG4gIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICBsb2cuZXJyb3IoJ1tXRFNdIERpc2Nvbm5lY3RlZCEnKTtcbiAgICBzZW5kTWVzc2FnZSgnQ2xvc2UnKTtcbiAgfVxufTtcbnNvY2tldChzb2NrZXRVcmwsIG9uU29ja2V0TWVzc2FnZSk7IiwiJ3VzZSBzdHJpY3QnOyAvLyBUaGUgZXJyb3Igb3ZlcmxheSBpcyBpbnNwaXJlZCAoYW5kIG1vc3RseSBjb3BpZWQpIGZyb20gQ3JlYXRlIFJlYWN0IEFwcCAoaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29raW5jdWJhdG9yL2NyZWF0ZS1yZWFjdC1hcHApXG4vLyBUaGV5LCBpbiB0dXJuLCBnb3QgaW5zcGlyZWQgYnkgd2VicGFjay1ob3QtbWlkZGxld2FyZSAoaHR0cHM6Ly9naXRodWIuY29tL2dsZW5qYW1pbi93ZWJwYWNrLWhvdC1taWRkbGV3YXJlKS5cblxudmFyIGFuc2lIVE1MID0gcmVxdWlyZSgnYW5zaS1odG1sJyk7XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJ2h0bWwtZW50aXRpZXMnKSxcbiAgICBBbGxIdG1sRW50aXRpZXMgPSBfcmVxdWlyZS5BbGxIdG1sRW50aXRpZXM7XG5cbnZhciBlbnRpdGllcyA9IG5ldyBBbGxIdG1sRW50aXRpZXMoKTtcbnZhciBjb2xvcnMgPSB7XG4gIHJlc2V0OiBbJ3RyYW5zcGFyZW50JywgJ3RyYW5zcGFyZW50J10sXG4gIGJsYWNrOiAnMTgxODE4JyxcbiAgcmVkOiAnRTM2MDQ5JyxcbiAgZ3JlZW46ICdCM0NCNzQnLFxuICB5ZWxsb3c6ICdGRkQwODAnLFxuICBibHVlOiAnN0NBRkMyJyxcbiAgbWFnZW50YTogJzdGQUNDQScsXG4gIGN5YW46ICdDM0MyRUYnLFxuICBsaWdodGdyZXk6ICdFQkU3RTMnLFxuICBkYXJrZ3JleTogJzZENzg5MSdcbn07XG52YXIgb3ZlcmxheUlmcmFtZSA9IG51bGw7XG52YXIgb3ZlcmxheURpdiA9IG51bGw7XG52YXIgbGFzdE9uT3ZlcmxheURpdlJlYWR5ID0gbnVsbDtcbmFuc2lIVE1MLnNldENvbG9ycyhjb2xvcnMpO1xuXG5mdW5jdGlvbiBjcmVhdGVPdmVybGF5SWZyYW1lKG9uSWZyYW1lTG9hZCkge1xuICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gIGlmcmFtZS5pZCA9ICd3ZWJwYWNrLWRldi1zZXJ2ZXItY2xpZW50LW92ZXJsYXknO1xuICBpZnJhbWUuc3JjID0gJ2Fib3V0OmJsYW5rJztcbiAgaWZyYW1lLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgaWZyYW1lLnN0eWxlLmxlZnQgPSAwO1xuICBpZnJhbWUuc3R5bGUudG9wID0gMDtcbiAgaWZyYW1lLnN0eWxlLnJpZ2h0ID0gMDtcbiAgaWZyYW1lLnN0eWxlLmJvdHRvbSA9IDA7XG4gIGlmcmFtZS5zdHlsZS53aWR0aCA9ICcxMDB2dyc7XG4gIGlmcmFtZS5zdHlsZS5oZWlnaHQgPSAnMTAwdmgnO1xuICBpZnJhbWUuc3R5bGUuYm9yZGVyID0gJ25vbmUnO1xuICBpZnJhbWUuc3R5bGUuekluZGV4ID0gOTk5OTk5OTk5OTtcbiAgaWZyYW1lLm9ubG9hZCA9IG9uSWZyYW1lTG9hZDtcbiAgcmV0dXJuIGlmcmFtZTtcbn1cblxuZnVuY3Rpb24gYWRkT3ZlcmxheURpdlRvKGlmcmFtZSkge1xuICB2YXIgZGl2ID0gaWZyYW1lLmNvbnRlbnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2LmlkID0gJ3dlYnBhY2stZGV2LXNlcnZlci1jbGllbnQtb3ZlcmxheS1kaXYnO1xuICBkaXYuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICBkaXYuc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xuICBkaXYuc3R5bGUubGVmdCA9IDA7XG4gIGRpdi5zdHlsZS50b3AgPSAwO1xuICBkaXYuc3R5bGUucmlnaHQgPSAwO1xuICBkaXYuc3R5bGUuYm90dG9tID0gMDtcbiAgZGl2LnN0eWxlLndpZHRoID0gJzEwMHZ3JztcbiAgZGl2LnN0eWxlLmhlaWdodCA9ICcxMDB2aCc7XG4gIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgwLCAwLCAwLCAwLjg1KSc7XG4gIGRpdi5zdHlsZS5jb2xvciA9ICcjRThFOEU4JztcbiAgZGl2LnN0eWxlLmZvbnRGYW1pbHkgPSAnTWVubG8sIENvbnNvbGFzLCBtb25vc3BhY2UnO1xuICBkaXYuc3R5bGUuZm9udFNpemUgPSAnbGFyZ2UnO1xuICBkaXYuc3R5bGUucGFkZGluZyA9ICcycmVtJztcbiAgZGl2LnN0eWxlLmxpbmVIZWlnaHQgPSAnMS4yJztcbiAgZGl2LnN0eWxlLndoaXRlU3BhY2UgPSAncHJlLXdyYXAnO1xuICBkaXYuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gIGlmcmFtZS5jb250ZW50RG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xuICByZXR1cm4gZGl2O1xufVxuXG5mdW5jdGlvbiBlbnN1cmVPdmVybGF5RGl2RXhpc3RzKG9uT3ZlcmxheURpdlJlYWR5KSB7XG4gIGlmIChvdmVybGF5RGl2KSB7XG4gICAgLy8gRXZlcnl0aGluZyBpcyByZWFkeSwgY2FsbCB0aGUgY2FsbGJhY2sgcmlnaHQgYXdheS5cbiAgICBvbk92ZXJsYXlEaXZSZWFkeShvdmVybGF5RGl2KTtcbiAgICByZXR1cm47XG4gIH0gLy8gQ3JlYXRpbmcgYW4gaWZyYW1lIG1heSBiZSBhc3luY2hyb25vdXMgc28gd2UnbGwgc2NoZWR1bGUgdGhlIGNhbGxiYWNrLlxuICAvLyBJbiBjYXNlIG9mIG11bHRpcGxlIGNhbGxzLCBsYXN0IGNhbGxiYWNrIHdpbnMuXG5cblxuICBsYXN0T25PdmVybGF5RGl2UmVhZHkgPSBvbk92ZXJsYXlEaXZSZWFkeTtcblxuICBpZiAob3ZlcmxheUlmcmFtZSkge1xuICAgIC8vIFdlJ3ZlIGFscmVhZHkgY3JlYXRlZCBpdC5cbiAgICByZXR1cm47XG4gIH0gLy8gQ3JlYXRlIGlmcmFtZSBhbmQsIHdoZW4gaXQgaXMgcmVhZHksIGEgZGl2IGluc2lkZSBpdC5cblxuXG4gIG92ZXJsYXlJZnJhbWUgPSBjcmVhdGVPdmVybGF5SWZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICBvdmVybGF5RGl2ID0gYWRkT3ZlcmxheURpdlRvKG92ZXJsYXlJZnJhbWUpOyAvLyBOb3cgd2UgY2FuIHRhbGshXG5cbiAgICBsYXN0T25PdmVybGF5RGl2UmVhZHkob3ZlcmxheURpdik7XG4gIH0pOyAvLyBaYWxnbyBhbGVydDogb25JZnJhbWVMb2FkKCkgd2lsbCBiZSBjYWxsZWQgZWl0aGVyIHN5bmNocm9ub3VzbHlcbiAgLy8gb3IgYXN5bmNocm9ub3VzbHkgZGVwZW5kaW5nIG9uIHRoZSBicm93c2VyLlxuICAvLyBXZSBkZWxheSBhZGRpbmcgaXQgc28gYG92ZXJsYXlJZnJhbWVgIGlzIHNldCB3aGVuIGBvbklmcmFtZUxvYWRgIGZpcmVzLlxuXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3ZlcmxheUlmcmFtZSk7XG59IC8vIFN1Y2Nlc3NmdWwgY29tcGlsYXRpb24uXG5cblxuZnVuY3Rpb24gY2xlYXIoKSB7XG4gIGlmICghb3ZlcmxheURpdikge1xuICAgIC8vIEl0IGlzIG5vdCB0aGVyZSBpbiB0aGUgZmlyc3QgcGxhY2UuXG4gICAgcmV0dXJuO1xuICB9IC8vIENsZWFuIHVwIGFuZCByZXNldCBpbnRlcm5hbCBzdGF0ZS5cblxuXG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQob3ZlcmxheUlmcmFtZSk7XG4gIG92ZXJsYXlEaXYgPSBudWxsO1xuICBvdmVybGF5SWZyYW1lID0gbnVsbDtcbiAgbGFzdE9uT3ZlcmxheURpdlJlYWR5ID0gbnVsbDtcbn0gLy8gQ29tcGlsYXRpb24gd2l0aCBlcnJvcnMgKGUuZy4gc3ludGF4IGVycm9yIG9yIG1pc3NpbmcgbW9kdWxlcykuXG5cblxuZnVuY3Rpb24gc2hvd01lc3NhZ2UobWVzc2FnZXMpIHtcbiAgZW5zdXJlT3ZlcmxheURpdkV4aXN0cyhmdW5jdGlvbiAoZGl2KSB7XG4gICAgLy8gTWFrZSBpdCBsb29rIHNpbWlsYXIgdG8gb3VyIHRlcm1pbmFsLlxuICAgIGRpdi5pbm5lckhUTUwgPSBcIjxzcGFuIHN0eWxlPVxcXCJjb2xvcjogI1wiLmNvbmNhdChjb2xvcnMucmVkLCBcIlxcXCI+RmFpbGVkIHRvIGNvbXBpbGUuPC9zcGFuPjxicj48YnI+XCIpLmNvbmNhdChhbnNpSFRNTChlbnRpdGllcy5lbmNvZGUobWVzc2FnZXNbMF0pKSk7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY2xlYXI6IGNsZWFyLFxuICBzaG93TWVzc2FnZTogc2hvd01lc3NhZ2Vcbn07IiwiJ3VzZSBzdHJpY3QnO1xuLyogZ2xvYmFsIF9fd2VicGFja19kZXZfc2VydmVyX2NsaWVudF9fICovXG5cbi8qIGVzbGludC1kaXNhYmxlXG4gIGNhbWVsY2FzZVxuKi9cbi8vIHRoaXMgU29ja0pTQ2xpZW50IGlzIGhlcmUgYXMgYSBkZWZhdWx0IGZhbGxiYWNrLCBpbiBjYXNlIGlubGluZSBtb2RlXG4vLyBpcyBvZmYgb3IgdGhlIGNsaWVudCBpcyBub3QgaW5qZWN0ZWQuIFRoaXMgd2lsbCBiZSBzd2l0Y2hlZCB0b1xuLy8gV2Vic29ja2V0Q2xpZW50IHdoZW4gaXQgYmVjb21lcyB0aGUgZGVmYXVsdFxuLy8gaW1wb3J0YW50OiB0aGUgcGF0aCB0byBTb2NrSlNDbGllbnQgaGVyZSBpcyBtYWRlIHRvIHdvcmsgaW4gdGhlICdjbGllbnQnXG4vLyBkaXJlY3RvcnksIGJ1dCBpcyB1cGRhdGVkIHZpYSB0aGUgd2VicGFjayBjb21waWxhdGlvbiB3aGVuIGNvbXBpbGVkIGZyb21cbi8vIHRoZSAnY2xpZW50LXNyYycgZGlyZWN0b3J5XG5cbnZhciBDbGllbnQgPSB0eXBlb2YgX193ZWJwYWNrX2Rldl9zZXJ2ZXJfY2xpZW50X18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX2Rldl9zZXJ2ZXJfY2xpZW50X18gOiAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVucmVzb2x2ZWRcbnJlcXVpcmUoJy4vY2xpZW50cy9Tb2NrSlNDbGllbnQnKTtcbnZhciByZXRyaWVzID0gMDtcbnZhciBjbGllbnQgPSBudWxsO1xuXG52YXIgc29ja2V0ID0gZnVuY3Rpb24gaW5pdFNvY2tldCh1cmwsIGhhbmRsZXJzKSB7XG4gIGNsaWVudCA9IG5ldyBDbGllbnQodXJsKTtcbiAgY2xpZW50Lm9uT3BlbihmdW5jdGlvbiAoKSB7XG4gICAgcmV0cmllcyA9IDA7XG4gIH0pO1xuICBjbGllbnQub25DbG9zZShmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHJldHJpZXMgPT09IDApIHtcbiAgICAgIGhhbmRsZXJzLmNsb3NlKCk7XG4gICAgfSAvLyBUcnkgdG8gcmVjb25uZWN0LlxuXG5cbiAgICBjbGllbnQgPSBudWxsOyAvLyBBZnRlciAxMCByZXRyaWVzIHN0b3AgdHJ5aW5nLCB0byBwcmV2ZW50IGxvZ3NwYW0uXG5cbiAgICBpZiAocmV0cmllcyA8PSAxMCkge1xuICAgICAgLy8gRXhwb25lbnRpYWxseSBpbmNyZWFzZSB0aW1lb3V0IHRvIHJlY29ubmVjdC5cbiAgICAgIC8vIFJlc3BlY3RmdWxseSBjb3BpZWQgZnJvbSB0aGUgcGFja2FnZSBgZ290YC5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1taXhlZC1vcGVyYXRvcnMsIG5vLXJlc3RyaWN0ZWQtcHJvcGVydGllc1xuICAgICAgdmFyIHJldHJ5SW5NcyA9IDEwMDAgKiBNYXRoLnBvdygyLCByZXRyaWVzKSArIE1hdGgucmFuZG9tKCkgKiAxMDA7XG4gICAgICByZXRyaWVzICs9IDE7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc29ja2V0KHVybCwgaGFuZGxlcnMpO1xuICAgICAgfSwgcmV0cnlJbk1zKTtcbiAgICB9XG4gIH0pO1xuICBjbGllbnQub25NZXNzYWdlKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIG1zZyA9IEpTT04ucGFyc2UoZGF0YSk7XG5cbiAgICBpZiAoaGFuZGxlcnNbbXNnLnR5cGVdKSB7XG4gICAgICBoYW5kbGVyc1ttc2cudHlwZV0obXNnLmRhdGEpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNvY2tldDsiLCIndXNlIHN0cmljdCc7XG4vKiBnbG9iYWwgc2VsZiAqL1xuXG52YXIgdXJsID0gcmVxdWlyZSgndXJsJyk7XG5cbnZhciBnZXRDdXJyZW50U2NyaXB0U291cmNlID0gcmVxdWlyZSgnLi9nZXRDdXJyZW50U2NyaXB0U291cmNlJyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZVNvY2tldFVybChyZXNvdXJjZVF1ZXJ5LCBjdXJyZW50TG9jYXRpb24pIHtcbiAgdmFyIHVybFBhcnRzO1xuXG4gIGlmICh0eXBlb2YgcmVzb3VyY2VRdWVyeSA9PT0gJ3N0cmluZycgJiYgcmVzb3VyY2VRdWVyeSAhPT0gJycpIHtcbiAgICAvLyBJZiB0aGlzIGJ1bmRsZSBpcyBpbmxpbmVkLCB1c2UgdGhlIHJlc291cmNlIHF1ZXJ5IHRvIGdldCB0aGUgY29ycmVjdCB1cmwuXG4gICAgLy8gZm9ybWF0IGlzIGxpa2UgYD9odHRwOi8vMC4wLjAuMDo4MDk2JnNvY2tQb3J0PTgwOTcmc29ja0hvc3Q9bG9jYWxob3N0YFxuICAgIHVybFBhcnRzID0gdXJsLnBhcnNlKHJlc291cmNlUXVlcnkgLy8gc3RyaXAgbGVhZGluZyBgP2AgZnJvbSBxdWVyeSBzdHJpbmcgdG8gZ2V0IGEgdmFsaWQgVVJMXG4gICAgLnN1YnN0cigxKSAvLyByZXBsYWNlIGZpcnN0IGAmYCB3aXRoIGA/YCB0byBoYXZlIGEgdmFsaWQgcXVlcnkgc3RyaW5nXG4gICAgLnJlcGxhY2UoJyYnLCAnPycpLCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBFbHNlLCBnZXQgdGhlIHVybCBmcm9tIHRoZSA8c2NyaXB0PiB0aGlzIGZpbGUgd2FzIGNhbGxlZCB3aXRoLlxuICAgIHZhciBzY3JpcHRIb3N0ID0gZ2V0Q3VycmVudFNjcmlwdFNvdXJjZSgpO1xuICAgIHVybFBhcnRzID0gdXJsLnBhcnNlKHNjcmlwdEhvc3QgfHwgJy8nLCB0cnVlLCB0cnVlKTtcbiAgfSAvLyBVc2UgcGFyYW1ldGVyIHRvIGFsbG93IHBhc3NpbmcgbG9jYXRpb24gaW4gdW5pdCB0ZXN0c1xuXG5cbiAgaWYgKHR5cGVvZiBjdXJyZW50TG9jYXRpb24gPT09ICdzdHJpbmcnICYmIGN1cnJlbnRMb2NhdGlvbiAhPT0gJycpIHtcbiAgICBjdXJyZW50TG9jYXRpb24gPSB1cmwucGFyc2UoY3VycmVudExvY2F0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICBjdXJyZW50TG9jYXRpb24gPSBzZWxmLmxvY2F0aW9uO1xuICB9XG5cbiAgcmV0dXJuIGdldFNvY2tldFVybCh1cmxQYXJ0cywgY3VycmVudExvY2F0aW9uKTtcbn1cbi8qXG4gKiBHZXRzIHNvY2tldCBVUkwgYmFzZWQgb24gU2NyaXB0IFNvdXJjZS9Mb2NhdGlvblxuICogKHNjcmlwdFNyYzogVVJMLCBsb2NhdGlvbjogVVJMKSAtPiBVUkxcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldFNvY2tldFVybCh1cmxQYXJ0cywgbG9jKSB7XG4gIHZhciBhdXRoID0gdXJsUGFydHMuYXV0aCxcbiAgICAgIHF1ZXJ5ID0gdXJsUGFydHMucXVlcnk7XG4gIHZhciBob3N0bmFtZSA9IHVybFBhcnRzLmhvc3RuYW1lLFxuICAgICAgcHJvdG9jb2wgPSB1cmxQYXJ0cy5wcm90b2NvbCxcbiAgICAgIHBvcnQgPSB1cmxQYXJ0cy5wb3J0O1xuXG4gIGlmICghcG9ydCB8fCBwb3J0ID09PSAnMCcpIHtcbiAgICBwb3J0ID0gbG9jLnBvcnQ7XG4gIH0gLy8gY2hlY2sgaXB2NCBhbmQgaXB2NiBgYWxsIGhvc3RuYW1lYFxuICAvLyB3aHkgZG8gd2UgbmVlZCB0aGlzIGNoZWNrP1xuICAvLyBob3N0bmFtZSBuL2EgZm9yIGZpbGUgcHJvdG9jb2wgKGV4YW1wbGUsIHdoZW4gdXNpbmcgZWxlY3Ryb24sIGlvbmljKVxuICAvLyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrL3dlYnBhY2stZGV2LXNlcnZlci9wdWxsLzM4NFxuXG5cbiAgaWYgKChob3N0bmFtZSA9PT0gJzAuMC4wLjAnIHx8IGhvc3RuYW1lID09PSAnOjonKSAmJiBsb2MuaG9zdG5hbWUgJiYgbG9jLnByb3RvY29sLmluZGV4T2YoJ2h0dHAnKSA9PT0gMCkge1xuICAgIGhvc3RuYW1lID0gbG9jLmhvc3RuYW1lO1xuICB9IC8vIGBob3N0bmFtZWAgY2FuIGJlIGVtcHR5IHdoZW4gdGhlIHNjcmlwdCBwYXRoIGlzIHJlbGF0aXZlLiBJbiB0aGF0IGNhc2UsIHNwZWNpZnlpbmdcbiAgLy8gYSBwcm90b2NvbCB3b3VsZCByZXN1bHQgaW4gYW4gaW52YWxpZCBVUkwuXG4gIC8vIFdoZW4gaHR0cHMgaXMgdXNlZCBpbiB0aGUgYXBwLCBzZWN1cmUgd2Vic29ja2V0cyBhcmUgYWx3YXlzIG5lY2Vzc2FyeVxuICAvLyBiZWNhdXNlIHRoZSBicm93c2VyIGRvZXNuJ3QgYWNjZXB0IG5vbi1zZWN1cmUgd2Vic29ja2V0cy5cblxuXG4gIGlmIChob3N0bmFtZSAmJiBob3N0bmFtZSAhPT0gJzEyNy4wLjAuMScgJiYgKGxvYy5wcm90b2NvbCA9PT0gJ2h0dHBzOicgfHwgdXJsUGFydHMuaG9zdG5hbWUgPT09ICcwLjAuMC4wJykpIHtcbiAgICBwcm90b2NvbCA9IGxvYy5wcm90b2NvbDtcbiAgfSAvLyBhbGwgb2YgdGhlc2Ugc29jayB1cmwgcGFyYW1zIGFyZSBvcHRpb25hbGx5IHBhc3NlZCBpbiB0aHJvdWdoXG4gIC8vIHJlc291cmNlUXVlcnksIHNvIHdlIG5lZWQgdG8gZmFsbCBiYWNrIHRvIHRoZSBkZWZhdWx0IGlmXG4gIC8vIHRoZXkgYXJlIG5vdCBwcm92aWRlZFxuXG5cbiAgdmFyIHNvY2tIb3N0ID0gcXVlcnkuc29ja0hvc3QgfHwgaG9zdG5hbWU7XG4gIHZhciBzb2NrUGF0aCA9IHF1ZXJ5LnNvY2tQYXRoIHx8ICcvc29ja2pzLW5vZGUnO1xuICB2YXIgc29ja1BvcnQgPSBxdWVyeS5zb2NrUG9ydCB8fCBwb3J0O1xuXG4gIGlmIChzb2NrUG9ydCA9PT0gJ2xvY2F0aW9uJykge1xuICAgIHNvY2tQb3J0ID0gbG9jLnBvcnQ7XG4gIH1cblxuICByZXR1cm4gdXJsLmZvcm1hdCh7XG4gICAgcHJvdG9jb2w6IHByb3RvY29sLFxuICAgIGF1dGg6IGF1dGgsXG4gICAgaG9zdG5hbWU6IHNvY2tIb3N0LFxuICAgIHBvcnQ6IHNvY2tQb3J0LFxuICAgIC8vIElmIHNvY2tQYXRoIGlzIHByb3ZpZGVkIGl0J2xsIGJlIHBhc3NlZCBpbiB2aWEgdGhlIHJlc291cmNlUXVlcnkgYXMgYVxuICAgIC8vIHF1ZXJ5IHBhcmFtIHNvIGl0IGhhcyB0byBiZSBwYXJzZWQgb3V0IG9mIHRoZSBxdWVyeXN0cmluZyBpbiBvcmRlciBmb3IgdGhlXG4gICAgLy8gY2xpZW50IHRvIG9wZW4gdGhlIHNvY2tldCB0byB0aGUgY29ycmVjdCBsb2NhdGlvbi5cbiAgICBwYXRobmFtZTogc29ja1BhdGhcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlU29ja2V0VXJsOyIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gZ2V0Q3VycmVudFNjcmlwdFNvdXJjZSgpIHtcbiAgLy8gYGRvY3VtZW50LmN1cnJlbnRTY3JpcHRgIGlzIHRoZSBtb3N0IGFjY3VyYXRlIHdheSB0byBmaW5kIHRoZSBjdXJyZW50IHNjcmlwdCxcbiAgLy8gYnV0IGlzIG5vdCBzdXBwb3J0ZWQgaW4gYWxsIGJyb3dzZXJzLlxuICBpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCkge1xuICAgIHJldHVybiBkb2N1bWVudC5jdXJyZW50U2NyaXB0LmdldEF0dHJpYnV0ZSgnc3JjJyk7XG4gIH0gLy8gRmFsbCBiYWNrIHRvIGdldHRpbmcgYWxsIHNjcmlwdHMgaW4gdGhlIGRvY3VtZW50LlxuXG5cbiAgdmFyIHNjcmlwdEVsZW1lbnRzID0gZG9jdW1lbnQuc2NyaXB0cyB8fCBbXTtcbiAgdmFyIGN1cnJlbnRTY3JpcHQgPSBzY3JpcHRFbGVtZW50c1tzY3JpcHRFbGVtZW50cy5sZW5ndGggLSAxXTtcblxuICBpZiAoY3VycmVudFNjcmlwdCkge1xuICAgIHJldHVybiBjdXJyZW50U2NyaXB0LmdldEF0dHJpYnV0ZSgnc3JjJyk7XG4gIH0gLy8gRmFpbCBhcyB0aGVyZSB3YXMgbm8gc2NyaXB0IHRvIHVzZS5cblxuXG4gIHRocm93IG5ldyBFcnJvcignW1dEU10gRmFpbGVkIHRvIGdldCBjdXJyZW50IHNjcmlwdCBzb3VyY2UuJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0Q3VycmVudFNjcmlwdFNvdXJjZTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBsb2cgPSByZXF1aXJlKCdsb2dsZXZlbCcpLmdldExvZ2dlcignd2VicGFjay1kZXYtc2VydmVyJyk7XG5cbnZhciBJTkZPID0gJ2luZm8nO1xudmFyIFdBUk4gPSAnd2Fybic7XG52YXIgRVJST1IgPSAnZXJyb3InO1xudmFyIERFQlVHID0gJ2RlYnVnJztcbnZhciBUUkFDRSA9ICd0cmFjZSc7XG52YXIgU0lMRU5UID0gJ3NpbGVudCc7IC8vIGRlcHJlY2F0ZWRcbi8vIFRPRE86IHJlbW92ZSB0aGVzZSBhdCBtYWpvciByZWxlYXNlZFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2svd2VicGFjay1kZXYtc2VydmVyL3B1bGwvMTgyNVxuXG52YXIgV0FSTklORyA9ICd3YXJuaW5nJztcbnZhciBOT05FID0gJ25vbmUnOyAvLyBTZXQgdGhlIGRlZmF1bHQgbG9nIGxldmVsXG5cbmxvZy5zZXREZWZhdWx0TGV2ZWwoSU5GTyk7XG5cbmZ1bmN0aW9uIHNldExvZ0xldmVsKGxldmVsKSB7XG4gIHN3aXRjaCAobGV2ZWwpIHtcbiAgICBjYXNlIElORk86XG4gICAgY2FzZSBXQVJOOlxuICAgIGNhc2UgRVJST1I6XG4gICAgY2FzZSBERUJVRzpcbiAgICBjYXNlIFRSQUNFOlxuICAgICAgbG9nLnNldExldmVsKGxldmVsKTtcbiAgICAgIGJyZWFrO1xuICAgIC8vIGRlcHJlY2F0ZWRcblxuICAgIGNhc2UgV0FSTklORzpcbiAgICAgIC8vIGxvZ2xldmVsJ3Mgd2FybmluZyBuYW1lIGlzIGRpZmZlcmVudCBmcm9tIHdlYnBhY2snc1xuICAgICAgbG9nLnNldExldmVsKCd3YXJuJyk7XG4gICAgICBicmVhaztcbiAgICAvLyBkZXByZWNhdGVkXG5cbiAgICBjYXNlIE5PTkU6XG4gICAgY2FzZSBTSUxFTlQ6XG4gICAgICBsb2cuZGlzYWJsZUFsbCgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgbG9nLmVycm9yKFwiW1dEU10gVW5rbm93biBjbGllbnRMb2dMZXZlbCAnXCIuY29uY2F0KGxldmVsLCBcIidcIikpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBsb2c6IGxvZyxcbiAgc2V0TG9nTGV2ZWw6IHNldExvZ0xldmVsXG59OyIsIid1c2Ugc3RyaWN0Jztcbi8qIGdsb2JhbCBXb3JrZXJHbG9iYWxTY29wZSBzZWxmICovXG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4vbG9nJyksXG4gICAgbG9nID0gX3JlcXVpcmUubG9nO1xuXG5mdW5jdGlvbiByZWxvYWRBcHAoX3JlZiwgX3JlZjIpIHtcbiAgdmFyIGhvdFJlbG9hZCA9IF9yZWYuaG90UmVsb2FkLFxuICAgICAgaG90ID0gX3JlZi5ob3QsXG4gICAgICBsaXZlUmVsb2FkID0gX3JlZi5saXZlUmVsb2FkO1xuICB2YXIgaXNVbmxvYWRpbmcgPSBfcmVmMi5pc1VubG9hZGluZyxcbiAgICAgIGN1cnJlbnRIYXNoID0gX3JlZjIuY3VycmVudEhhc2g7XG5cbiAgaWYgKGlzVW5sb2FkaW5nIHx8ICFob3RSZWxvYWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoaG90KSB7XG4gICAgbG9nLmluZm8oJ1tXRFNdIEFwcCBob3QgdXBkYXRlLi4uJyk7XG5cbiAgICB2YXIgaG90RW1pdHRlciA9IHJlcXVpcmUoJ3dlYnBhY2svaG90L2VtaXR0ZXInKTtcblxuICAgIGhvdEVtaXR0ZXIuZW1pdCgnd2VicGFja0hvdFVwZGF0ZScsIGN1cnJlbnRIYXNoKTtcblxuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi53aW5kb3cpIHtcbiAgICAgIC8vIGJyb2FkY2FzdCB1cGRhdGUgdG8gd2luZG93XG4gICAgICBzZWxmLnBvc3RNZXNzYWdlKFwid2VicGFja0hvdFVwZGF0ZVwiLmNvbmNhdChjdXJyZW50SGFzaCksICcqJyk7XG4gICAgfVxuICB9IC8vIGFsbG93IHJlZnJlc2hpbmcgdGhlIHBhZ2Ugb25seSBpZiBsaXZlUmVsb2FkIGlzbid0IGRpc2FibGVkXG4gIGVsc2UgaWYgKGxpdmVSZWxvYWQpIHtcbiAgICAgIHZhciByb290V2luZG93ID0gc2VsZjsgLy8gdXNlIHBhcmVudCB3aW5kb3cgZm9yIHJlbG9hZCAoaW4gY2FzZSB3ZSdyZSBpbiBhbiBpZnJhbWUgd2l0aCBubyB2YWxpZCBzcmMpXG5cbiAgICAgIHZhciBpbnRlcnZhbElkID0gc2VsZi5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChyb290V2luZG93LmxvY2F0aW9uLnByb3RvY29sICE9PSAnYWJvdXQ6Jykge1xuICAgICAgICAgIC8vIHJlbG9hZCBpbW1lZGlhdGVseSBpZiBwcm90b2NvbCBpcyB2YWxpZFxuICAgICAgICAgIGFwcGx5UmVsb2FkKHJvb3RXaW5kb3csIGludGVydmFsSWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvb3RXaW5kb3cgPSByb290V2luZG93LnBhcmVudDtcblxuICAgICAgICAgIGlmIChyb290V2luZG93LnBhcmVudCA9PT0gcm9vdFdpbmRvdykge1xuICAgICAgICAgICAgLy8gaWYgcGFyZW50IGVxdWFscyBjdXJyZW50IHdpbmRvdyB3ZSd2ZSByZWFjaGVkIHRoZSByb290IHdoaWNoIHdvdWxkIGNvbnRpbnVlIGZvcmV2ZXIsIHNvIHRyaWdnZXIgYSByZWxvYWQgYW55d2F5c1xuICAgICAgICAgICAgYXBwbHlSZWxvYWQocm9vdFdpbmRvdywgaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlSZWxvYWQocm9vdFdpbmRvdywgaW50ZXJ2YWxJZCkge1xuICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgbG9nLmluZm8oJ1tXRFNdIEFwcCB1cGRhdGVkLiBSZWxvYWRpbmcuLi4nKTtcbiAgICByb290V2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVsb2FkQXBwOyIsIid1c2Ugc3RyaWN0Jztcbi8qIGdsb2JhbCBfX3Jlc291cmNlUXVlcnkgV29ya2VyR2xvYmFsU2NvcGUgc2VsZiAqL1xuLy8gU2VuZCBtZXNzYWdlcyB0byB0aGUgb3V0c2lkZSwgc28gcGx1Z2lucyBjYW4gY29uc3VtZSBpdC5cblxuZnVuY3Rpb24gc2VuZE1zZyh0eXBlLCBkYXRhKSB7XG4gIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSA9PT0gJ3VuZGVmaW5lZCcgfHwgIShzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUpKSkge1xuICAgIHNlbGYucG9zdE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogXCJ3ZWJwYWNrXCIuY29uY2F0KHR5cGUpLFxuICAgICAgZGF0YTogZGF0YVxuICAgIH0sICcqJyk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZW5kTXNnOyIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gL1tcXHUwMDFiXFx1MDA5Yl1bWygpIzs/XSooPzpbMC05XXsxLDR9KD86O1swLTldezAsNH0pKik/WzAtOUEtUFJaY2YtbnFyeT0+PF0vZztcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgYW5zaVJlZ2V4ID0gcmVxdWlyZSgnYW5zaS1yZWdleCcpKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0cikge1xuXHRyZXR1cm4gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgPyBzdHIucmVwbGFjZShhbnNpUmVnZXgsICcnKSA6IHN0cjtcbn07XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCJ2YXIgbWFwID0ge1xuXHRcIi4vbG9nXCI6IFwiLi9ub2RlX21vZHVsZXMvd2VicGFjay9ob3QvbG9nLmpzXCJcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSBcIi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svaG90IHN5bmMgXlxcXFwuXFxcXC9sb2ckXCI7IiwidmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJldmVudHNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiIsInZhciBsb2dMZXZlbCA9IFwiaW5mb1wiO1xuXG5mdW5jdGlvbiBkdW1teSgpIHt9XG5cbmZ1bmN0aW9uIHNob3VsZExvZyhsZXZlbCkge1xuXHR2YXIgc2hvdWxkTG9nID1cblx0XHQobG9nTGV2ZWwgPT09IFwiaW5mb1wiICYmIGxldmVsID09PSBcImluZm9cIikgfHxcblx0XHQoW1wiaW5mb1wiLCBcIndhcm5pbmdcIl0uaW5kZXhPZihsb2dMZXZlbCkgPj0gMCAmJiBsZXZlbCA9PT0gXCJ3YXJuaW5nXCIpIHx8XG5cdFx0KFtcImluZm9cIiwgXCJ3YXJuaW5nXCIsIFwiZXJyb3JcIl0uaW5kZXhPZihsb2dMZXZlbCkgPj0gMCAmJiBsZXZlbCA9PT0gXCJlcnJvclwiKTtcblx0cmV0dXJuIHNob3VsZExvZztcbn1cblxuZnVuY3Rpb24gbG9nR3JvdXAobG9nRm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uKGxldmVsLCBtc2cpIHtcblx0XHRpZiAoc2hvdWxkTG9nKGxldmVsKSkge1xuXHRcdFx0bG9nRm4obXNnKTtcblx0XHR9XG5cdH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGV2ZWwsIG1zZykge1xuXHRpZiAoc2hvdWxkTG9nKGxldmVsKSkge1xuXHRcdGlmIChsZXZlbCA9PT0gXCJpbmZvXCIpIHtcblx0XHRcdGNvbnNvbGUubG9nKG1zZyk7XG5cdFx0fSBlbHNlIGlmIChsZXZlbCA9PT0gXCJ3YXJuaW5nXCIpIHtcblx0XHRcdGNvbnNvbGUud2Fybihtc2cpO1xuXHRcdH0gZWxzZSBpZiAobGV2ZWwgPT09IFwiZXJyb3JcIikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihtc2cpO1xuXHRcdH1cblx0fVxufTtcblxuLyogZXNsaW50LWRpc2FibGUgbm9kZS9uby11bnN1cHBvcnRlZC1mZWF0dXJlcy9ub2RlLWJ1aWx0aW5zICovXG52YXIgZ3JvdXAgPSBjb25zb2xlLmdyb3VwIHx8IGR1bW15O1xudmFyIGdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZCB8fCBkdW1teTtcbnZhciBncm91cEVuZCA9IGNvbnNvbGUuZ3JvdXBFbmQgfHwgZHVtbXk7XG4vKiBlc2xpbnQtZW5hYmxlIG5vZGUvbm8tdW5zdXBwb3J0ZWQtZmVhdHVyZXMvbm9kZS1idWlsdGlucyAqL1xuXG5tb2R1bGUuZXhwb3J0cy5ncm91cCA9IGxvZ0dyb3VwKGdyb3VwKTtcblxubW9kdWxlLmV4cG9ydHMuZ3JvdXBDb2xsYXBzZWQgPSBsb2dHcm91cChncm91cENvbGxhcHNlZCk7XG5cbm1vZHVsZS5leHBvcnRzLmdyb3VwRW5kID0gbG9nR3JvdXAoZ3JvdXBFbmQpO1xuXG5tb2R1bGUuZXhwb3J0cy5zZXRMb2dMZXZlbCA9IGZ1bmN0aW9uKGxldmVsKSB7XG5cdGxvZ0xldmVsID0gbGV2ZWw7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5mb3JtYXRFcnJvciA9IGZ1bmN0aW9uKGVycikge1xuXHR2YXIgbWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuXHR2YXIgc3RhY2sgPSBlcnIuc3RhY2s7XG5cdGlmICghc3RhY2spIHtcblx0XHRyZXR1cm4gbWVzc2FnZTtcblx0fSBlbHNlIGlmIChzdGFjay5pbmRleE9mKG1lc3NhZ2UpIDwgMCkge1xuXHRcdHJldHVybiBtZXNzYWdlICsgXCJcXG5cIiArIHN0YWNrO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBzdGFjaztcblx0fVxufTtcbiIsIi8qXHJcbiBDT01QRVRJVElPTiBMQUJTIExURCB2MS4wLjVcclxuIChjKSAyMDE1LTIwMjAgQWxla3NhbmRyIEJlcm5vdGFzXHJcbiBMaWNlbnNlOiB3d3cuY29tcGV0aXRpb25sYWJzLmNvbS90ZXJtcy1vZi1zZXJ2aWNlXHJcbiovXHJcblxyXG5pbXBvcnQgJy4vcG9seWZpbGxzJztcclxuaW1wb3J0ICcuL21vZHVsZXMvc2V0VGltZW91dEdsb2JhbCc7XHJcblxyXG5pbXBvcnQgeyBMYldpZGdldCB9IGZyb20gJy4vbW9kdWxlcy9MYldpZGdldCc7XHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG4gIGlmICh0eXBlb2Ygd2luZG93Ll9jbExlYWRlckJvYXJkVjNTZWxmSW5pdCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIHdpbmRvdy5fY2xMZWFkZXJCb2FyZFYzU2VsZkluaXQgPSBMYldpZGdldDtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc29sZS53YXJuKCd3aW5kb3cuX2NsTGVhZGVyQm9hcmRWM1NlbGZJbml0IGlzIGFscmVhZHkgZGVmaW5lZCcpO1xyXG4gIH1cclxufSkoKTtcclxuIiwiaW1wb3J0IGNMYWJzIGZyb20gJy4vY0xhYnMnO1xyXG5pbXBvcnQgc2l6ZW9mIGZyb20gJy4uL3V0aWxzL3NpemVvZic7XHJcblxyXG4vKipcclxuICogQWpheCBtZXRob2RcclxuICpcclxuICogQGNsYXNzIEFqYXhcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5jTGFicy5BamF4ID0gZnVuY3Rpb24gKCkge1xyXG4gIHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbn07XHJcblxyXG5jTGFicy5BamF4LnByb3RvdHlwZS5jcmVhdGVDT1JTUmVxdWVzdCA9IGZ1bmN0aW9uIChtZXRob2QsIHVybCkge1xyXG4gIHZhciBvYmogPSB0aGlzO1xyXG5cclxuICBpZiAoJ3dpdGhDcmVkZW50aWFscycgaW4gb2JqLnhocikge1xyXG4gICAgLy8gTW9zdCBicm93c2Vycy5cclxuICAgIG9iai54aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XHJcbiAgfSBlbHNlIGlmICh0eXBlb2YgWERvbWFpblJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAvLyBJRTggJiBJRTlcclxuICAgIC8qIGVzbGludCBuby11bmRlZjogXCJvZmZcIiAqL1xyXG4gICAgb2JqLnhociA9IG5ldyBYRG9tYWluUmVxdWVzdCgpO1xyXG5cclxuICAgIHVybCA9ICh1cmwuaW5kZXhPZignaHR0cHMnKSA+IC0xICYmIGxvY2F0aW9uLnByb3RvY29sICE9PSAnaHR0cHM6JykgPyB1cmwucmVwbGFjZSgnaHR0cHMnLCAnaHR0cCcpIDogdXJsO1xyXG5cclxuICAgIG9iai54aHIub3BlbihtZXRob2QsIHVybCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIENPUlMgbm90IHN1cHBvcnRlZC5cclxuICAgIG9iai54aHIgPSBudWxsO1xyXG4gIH1cclxuICByZXR1cm4gb2JqLnhocjtcclxufTtcclxuXHJcbmNMYWJzLkFqYXgucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gIGlmIChfdGhpcy54aHIgJiYgdHlwZW9mIF90aGlzLnhoci5yZWFkeVN0YXRlICE9PSAndW5kZWZpbmVkJyAmJiBfdGhpcy54aHIucmVhZHlTdGF0ZSAhPT0gNCAmJiBfdGhpcy54aHIucmVhZHlTdGF0ZSA+IDApIHtcclxuICAgIC8vIGNvbnNvbGUuZXJyb3IoXCJhYm9ydGluZyBBamF4XCIsIF90aGlzLnhoci5yZWFkeVN0YXRlLCBfdGhpcy54aHIpO1xyXG4gICAgX3RoaXMueGhyLmFib3J0KCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gX3RoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0cmlldmVzIGRhdGEgZnJvbSBhIFVSTCB3aXRob3V0IHBhZ2UgcmVmcmVzaFxyXG4gKlxyXG4gKiBAbWV0aG9kIGdldERhdGFcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ3VyYXRpb24gb2JqZWN0XHJcbiAqICAtIG9iamVjdCBjb250YWluczogSFRUUCBtZXRob2QgXCJ0eXBlOiBQT1NULCBHRVRcIiwgdXJsOiB0byBzZW5kIHRoZSByZXF1ZXN0IHRvLCBkYXRhOiB7b2JqZWN0fVxyXG4gKiBAcmV0dXJuIHtTdHJpbmd9IGluIHN1Y2Nlc3Mgb2JqZWN0XHJcbiAqL1xyXG5jTGFicy5BamF4LnByb3RvdHlwZS5nZXREYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICB2YXIgb2JqID0gdGhpcztcclxuXHJcbiAgdHJ5IHtcclxuICAgIGRhdGEudHlwZSA9IChkYXRhLnR5cGUgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZGF0YS50eXBlID09PSAnc3RyaW5nJyAmJiBkYXRhLnR5cGUubGVuZ3RoID4gMCkgPyBkYXRhLnR5cGUgOiAnUE9TVCc7XHJcbiAgICBkYXRhLmRhdGEgPSAoZGF0YS5kYXRhICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGRhdGEuZGF0YSA9PT0gJ29iamVjdCcpID8gZGF0YS5kYXRhIDoge307XHJcbiAgICBkYXRhLnVybCA9IChkYXRhLnVybCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBkYXRhLnVybCA9PT0gJ3N0cmluZycgJiYgZGF0YS51cmwubGVuZ3RoID4gMCkgPyBkYXRhLnVybCA6ICcnO1xyXG4gICAgZGF0YS5zdWNjZXNzID0gKGRhdGEuc3VjY2VzcyAhPT0gdW5kZWZpbmVkKSA/IGRhdGEuc3VjY2VzcyA6IGZ1bmN0aW9uICgpIHtcclxuICAgIH07XHJcbiAgICBkYXRhLmVycm9yID0gKGRhdGEuZXJyb3IgIT09IHVuZGVmaW5lZCkgPyBkYXRhLmVycm9yIDogZnVuY3Rpb24gKCkge1xyXG4gICAgfTtcclxuICAgIGRhdGEuaGVhZGVycyA9IChkYXRhLmhlYWRlcnMgIT09IHVuZGVmaW5lZCkgPyBkYXRhLmhlYWRlcnMgOiB7fTtcclxuICAgIGRhdGEuZXh0cmFDYWxsYmFjayA9IChkYXRhLmV4dHJhQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgPyBkYXRhLmV4dHJhQ2FsbGJhY2sgOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGNyb3NzIGJyb3dzZXIgQ09SUyBzdXBwb3J0XHJcbiAgICBvYmoueGhyID0gdGhpcy5jcmVhdGVDT1JTUmVxdWVzdChkYXRhLnR5cGUsIGRhdGEudXJsKTtcclxuXHJcbiAgICBvYmoueGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgZGF0YS5leHRyYUNhbGxiYWNrKGRhdGEsIG9iai54aHIpO1xyXG4gICAgICBkYXRhLnN1Y2Nlc3Mob2JqLnhoci5yZXNwb25zZVRleHQsIGRhdGEsIG9iai54aHIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBvYmoueGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGRhdGEuZXJyb3Iob2JqLnhoci5zdGF0dXMpO1xyXG4gICAgfTtcclxuXHJcbiAgICBpZiAodHlwZW9mIFhEb21haW5SZXF1ZXN0ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBpZiAoc2l6ZW9mKGRhdGEuaGVhZGVycykgPiAwKSB7XHJcbiAgICAgICAgdmFyIGl0ZW07XHJcbiAgICAgICAgZm9yIChpdGVtIGluIGRhdGEuaGVhZGVycykge1xyXG4gICAgICAgICAgb2JqLnhoci5zZXRSZXF1ZXN0SGVhZGVyKGl0ZW0sIGRhdGEuaGVhZGVyc1tpdGVtXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKChkYXRhLnR5cGUgPT09ICdQT1NUJyB8fCBkYXRhLnR5cGUgPT09ICdQVVQnKSAmJiBzaXplb2YoZGF0YS5oZWFkZXJzKSA9PT0gMCkge1xyXG4gICAgICAgIG9iai54aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvYmoueGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L3BsYWluJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvYmoueGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkoZGF0YS5kYXRhKSk7XHJcblxyXG4gICAgcmV0dXJuIG9iai54aHI7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gIH1cclxufTtcclxuIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xyXG5pbXBvcnQgSWRlbnRpY29uIGZyb20gJ2lkZW50aWNvbi5qcyc7XHJcbmltcG9ydCBqc1NIQSBmcm9tICdqc3NoYSc7XHJcblxyXG5pbXBvcnQgbWVyZ2VPYmplY3RzIGZyb20gJy4uL3V0aWxzL21lcmdlT2JqZWN0cyc7XHJcbmltcG9ydCBmb3JtYXROdW1iZXJMZWFkaW5nWmVyb3MgZnJvbSAnLi4vdXRpbHMvZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zJztcclxuaW1wb3J0IHN0cmluZ0NvbnRhaW5zIGZyb20gJy4uL3V0aWxzL3N0cmluZ0NvbnRhaW5zJztcclxuaW1wb3J0IG9iamVjdEl0ZXJhdG9yIGZyb20gJy4uL3V0aWxzL29iamVjdEl0ZXJhdG9yJztcclxuaW1wb3J0IHF1ZXJ5IGZyb20gJy4uL3V0aWxzL3F1ZXJ5JztcclxuaW1wb3J0IGhhc0NsYXNzIGZyb20gJy4uL3V0aWxzL2hhc0NsYXNzJztcclxuaW1wb3J0IGFkZENsYXNzIGZyb20gJy4uL3V0aWxzL2FkZENsYXNzJztcclxuaW1wb3J0IHJlbW92ZUNsYXNzIGZyb20gJy4uL3V0aWxzL3JlbW92ZUNsYXNzJztcclxuaW1wb3J0IGNsb3Nlc3QgZnJvbSAnLi4vdXRpbHMvY2xvc2VzdCc7XHJcbmltcG9ydCBpc01vYmlsZVRhYmxldCBmcm9tICcuLi91dGlscy9pc01vYmlsZVRhYmxldCc7XHJcblxyXG5pbXBvcnQgY0xhYnMgZnJvbSAnLi9jTGFicyc7XHJcbmltcG9ydCAnLi9BamF4JztcclxuXHJcbmltcG9ydCB7IE5vdGlmaWNhdGlvbnMgfSBmcm9tICcuL05vdGlmaWNhdGlvbnMnO1xyXG5pbXBvcnQgeyBNaW5pU2NvcmVCb2FyZCB9IGZyb20gJy4vTWluaVNjb3JlQm9hcmQnO1xyXG5pbXBvcnQgeyBNYWluV2lkZ2V0IH0gZnJvbSAnLi9NYWluV2lkZ2V0JztcclxuXHJcbmNvbnN0IHRyYW5zbGF0aW9uID0gcmVxdWlyZShgLi4vLi4vaTE4bi90cmFuc2xhdGlvbl8ke3Byb2Nlc3MuZW52LkxBTkd9Lmpzb25gKTtcclxuXHJcbi8qKlxyXG4gKiBNYWluIGxlYWRlcmJvYXJkIHdpZGdldCwgY29udHJvbHMgYWxsIGFjdGlvbnMgYW5kIGluaXRpYXRpb24gbG9naWMuXHJcbiAqIE1haW4gcmVzcG9uc2liaWxpdHkgaXMgdG8gY29udHJvbCB0aGUgaW50ZXJhY3Rpb25zIGJldHdlZW4gZGlmZmVyZW50IHdpZGdldHMvcGx1Z2lucyBhbmQgdXNlciBldmVuIGFjdGlvbnNcclxuICogQHBhcmFtIG9wdGlvbnMge09iamVjdH0gc2V0dGluZyBwYXJhbWV0ZXJzIHVzZWQgdG8gb3ZlcndyaXRlIHRoZSBkZWZhdWx0IHNldHRpbmdzXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IExiV2lkZ2V0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICB0aGlzLnNldHRpbmdzID0ge1xyXG4gICAgZGVidWc6IHRydWUsXHJcbiAgICBiaW5kQ29udGFpbmVyOiBkb2N1bWVudC5ib2R5LFxyXG4gICAgYXV0b1N0YXJ0OiB0cnVlLFxyXG4gICAgc3NlTWVzc2FnaW5nOiBudWxsLFxyXG4gICAgbm90aWZpY2F0aW9uczogbnVsbCxcclxuICAgIG1pbmlTY29yZUJvYXJkOiBudWxsLFxyXG4gICAgZW5hYmxlTm90aWZpY2F0aW9uczogdHJ1ZSxcclxuICAgIG1haW5XaWRnZXQ6IG51bGwsXHJcbiAgICBnbG9iYWxBamF4OiBuZXcgY0xhYnMuQWpheCgpLFxyXG4gICAgY2hlY2tBamF4OiBuZXcgY0xhYnMuQWpheCgpLFxyXG4gICAgbGFuZ3VhZ2U6IHByb2Nlc3MuZW52LkxBTkcsXHJcbiAgICBjdXJyZW5jeTogJycsXHJcbiAgICBzcGFjZU5hbWU6ICcnLFxyXG4gICAgbWVtYmVySWQ6ICcnLFxyXG4gICAgZ3JvdXBzOiAnJyxcclxuICAgIGdhbWVJZDogJycsXHJcbiAgICBlbmZvcmNlR2FtZUxvb2t1cDogdHJ1ZSwgLy8gdG91cm5hbWVudCBsb29rdXAgd2lsbCBpbmNsdWRlL2V4Y2x1ZGUgZ2FtZSBvbmx5IHJlcXVlc3RzXHJcbiAgICBhcGlLZXk6ICcnLFxyXG4gICAgbWVtYmVyOiBudWxsLFxyXG4gICAgY29tcGV0aXRpb246IHtcclxuICAgICAgYWN0aXZlQ29tcGV0aXRpb25JZDogbnVsbCxcclxuICAgICAgYWN0aXZlQ29udGVzdElkOiBudWxsLFxyXG4gICAgICBhY3RpdmVDb21wZXRpdGlvbjogbnVsbCxcclxuICAgICAgYWN0aXZlQ29udGVzdDogbnVsbCxcclxuICAgICAgcmVmcmVzaEludGVydmFsOiBudWxsLFxyXG4gICAgICByZWZyZXNoSW50ZXJ2YWxNaWxsaXM6IDEwMDAwLFxyXG4gICAgICBleHRyYWN0SW1hZ2VIZWFkZXI6IHRydWUgLy8gd2lsbCBleHRyYWN0IHRoZSBmaXJzdCBmb3VuZCBpbWFnZSBpbnNpZGUgdGhlIGJvZHkgdGFnIGFuZCBtb3ZlIGl0IG9uIHRvcFxyXG4gICAgfSxcclxuICAgIGFjaGlldmVtZW50czoge1xyXG4gICAgICBsaXN0OiBbXSxcclxuICAgICAgYXZhaWxhYmxlUmV3YXJkczogW10sXHJcbiAgICAgIHJld2FyZHM6IFtdLFxyXG4gICAgICBleHBpcmVkUmV3YXJkczogW10sXHJcbiAgICAgIGV4dHJhY3RJbWFnZUhlYWRlcjogdHJ1ZSAvLyB3aWxsIGV4dHJhY3QgdGhlIGZpcnN0IGZvdW5kIGltYWdlIGluc2lkZSB0aGUgYm9keSB0YWcgYW5kIG1vdmUgaXQgb24gdG9wXHJcbiAgICB9LFxyXG4gICAgcmV3YXJkczoge1xyXG4gICAgICBhdmFpbGFibGVSZXdhcmRzOiBbXSxcclxuICAgICAgcmV3YXJkczogW10sXHJcbiAgICAgIGV4cGlyZWRSZXdhcmRzOiBbXSxcclxuICAgICAgcmV3YXJkRm9ybWF0dGVyOiBmdW5jdGlvbiAocmV3YXJkKSB7XHJcbiAgICAgICAgdmFyIGRlZmF1bHRSZXdhcmRWYWx1ZSA9IHJld2FyZC52YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiByZXdhcmQudW5pdE9mTWVhc3VyZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHJld2FyZC51bml0T2ZNZWFzdXJlLnN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgcmV3YXJkLnVuaXRPZk1lYXN1cmUuc3ltYm9sICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBkZWZhdWx0UmV3YXJkVmFsdWUgPSByZXdhcmQudW5pdE9mTWVhc3VyZS5zeW1ib2wgKyByZXdhcmQudmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGVmYXVsdFJld2FyZFZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgbWVzc2FnZXM6IHtcclxuICAgICAgZW5hYmxlOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlczogW11cclxuICAgIH0sXHJcbiAgICB0b3VybmFtZW50czoge1xyXG4gICAgICBhY3RpdmVDb21wZXRpdGlvbklkOiBudWxsLFxyXG4gICAgICByZWFkeUNvbXBldGl0aW9uczogW10sIC8vIHN0YXR1c0NvZGUgM1xyXG4gICAgICBhY3RpdmVDb21wZXRpdGlvbnM6IFtdLCAvLyBzdGF0dXNDb2RlIDVcclxuICAgICAgZmluaXNoZWRDb21wZXRpdGlvbnM6IFtdIC8vIHN0YXR1c0NvZGUgN1xyXG4gICAgfSxcclxuICAgIGxlYWRlcmJvYXJkOiB7XHJcbiAgICAgIGZ1bGxMZWFkZXJib2FyZFNpemU6IDEwMCxcclxuICAgICAgcmVmcmVzaEludGVydmFsTWlsbGlzOiA1MDAwLFxyXG4gICAgICByZWZyZXNoSW50ZXJ2YWw6IG51bGwsXHJcbiAgICAgIHJlZnJlc2hMYkRhdGFJbnRlcnZhbDogbnVsbCxcclxuICAgICAgbGVhZGVyYm9hcmREYXRhOiBbXSxcclxuICAgICAgbG9hZExlYWRlcmJvYXJkSGlzdG9yeToge31cclxuXHJcbiAgICB9LFxyXG4gICAgdXJpOiB7XHJcbiAgICAgIGdhdGV3YXlEb21haW46IGNMYWJzLmFwaS51cmwsXHJcblxyXG4gICAgICBtZW1iZXJzOiAnL2FwaS92MS86c3BhY2UvbWVtYmVycy9yZWZlcmVuY2UvOmlkJyxcclxuICAgICAgYXNzZXRzOiAnL2Fzc2V0cy9hdHRhY2htZW50cy86YXR0YWNobWVudElkJyxcclxuXHJcbiAgICAgIG1lbWJlclNTRTogJy9hcGkvdjEvOnNwYWNlL3NzZS9yZWZlcmVuY2UvOmlkJyxcclxuICAgICAgbWVtYmVyU1NFSGVhcnRiZWF0OiAnL2FwaS92MS86c3BhY2Uvc3NlL3JlZmVyZW5jZS86aWQvaGVhcnRiZWF0JyxcclxuXHJcbiAgICAgIGNvbXBldGl0aW9uczogJy9hcGkvdjEvOnNwYWNlL2NvbXBldGl0aW9ucycsXHJcbiAgICAgIGNvbXBldGl0aW9uQnlJZDogJy9hcGkvdjEvOnNwYWNlL2NvbXBldGl0aW9ucy86aWQnLFxyXG4gICAgICBjb250ZXN0TGVhZGVyYm9hcmQ6ICcvYXBpL3YxLzpzcGFjZS9jb250ZXN0cy86aWQvbGVhZGVyYm9hcmQnLFxyXG5cclxuICAgICAgYWNoaWV2ZW1lbnQ6ICcvYXBpL3YxLzpzcGFjZS9hY2hpZXZlbWVudHMvOmlkJyxcclxuICAgICAgYWNoaWV2ZW1lbnRzOiAnL2FwaS92MS86c3BhY2UvYWNoaWV2ZW1lbnRzL21lbWJlcnMvcmVmZXJlbmNlLzppZCcsXHJcbiAgICAgIC8vIGFjaGlldmVtZW50czogXCIvYXBpL3YxLzpzcGFjZS9hY2hpZXZlbWVudHNcIixcclxuICAgICAgYWNoaWV2ZW1lbnRzUHJvZ3Jlc3Npb246ICcvYXBpL3YxLzpzcGFjZS9tZW1iZXJzL3JlZmVyZW5jZS86aWQvYWNoaWV2ZW1lbnRzJyxcclxuICAgICAgYWNoaWV2ZW1lbnRzSXNzdWVkOiAnL2FwaS92MS86c3BhY2UvbWVtYmVycy9yZWZlcmVuY2UvOmlkL2FjaGlldmVtZW50cy9pc3N1ZWQnLFxyXG5cclxuICAgICAgbWVzc2FnZXM6ICcvYXBpL3YxLzpzcGFjZS9tZW1iZXJzL3JlZmVyZW5jZS86aWQvbWVzc2FnZXMnLFxyXG4gICAgICBtZXNzYWdlQnlJZDogJy9hcGkvdjEvOnNwYWNlL21lbWJlcnMvcmVmZXJlbmNlLzppZC9tZXNzYWdlcy86bWVzc2FnZUlkJyxcclxuXHJcbiAgICAgIG1lbWJlclJld2FyZDogJy9hcGkvdjEvOnNwYWNlL21lbWJlcnMvcmVmZXJlbmNlLzppZC9hd2FyZC86YXdhcmRJZCcsXHJcbiAgICAgIG1lbWJlclJld2FyZENsYWltOiAnL2FwaS92MS86c3BhY2UvbWVtYmVycy9yZWZlcmVuY2UvOmlkL2F3YXJkLzphd2FyZElkL2F3YXJkJyxcclxuXHJcbiAgICAgIG1lbWJlckNvbXBldGl0aW9uczogJy9hcGkvdjEvOnNwYWNlL21lbWJlcnMvcmVmZXJlbmNlLzppZC9jb21wZXRpdGlvbnMnLFxyXG4gICAgICBtZW1iZXJDb21wZXRpdGlvbkJ5SWQ6ICcvYXBpL3YxLzpzcGFjZS9tZW1iZXJzL3JlZmVyZW5jZS86aWQvY29tcGV0aXRpb24vOmNvbXBldGl0aW9uSWQnLFxyXG4gICAgICBtZW1iZXJDb21wZXRpdGlvbk9wdEluOiAnL2FwaS92MS86c3BhY2UvbWVtYmVycy9yZWZlcmVuY2UvOmlkL2NvbXBldGl0aW9uLzpjb21wZXRpdGlvbklkL29wdGluJyxcclxuICAgICAgbWVtYmVyQ29tcGV0aXRpb25PcHRJbkNoZWNrOiAnL2FwaS92MS86c3BhY2UvbWVtYmVycy9yZWZlcmVuY2UvOmlkL2NvbXBldGl0aW9uLzpjb21wZXRpdGlvbklkL29wdGluLWNoZWNrJyxcclxuXHJcbiAgICAgIHRyYW5zbGF0aW9uUGF0aDogJycgLy8gLi4vaTE4bi90cmFuc2xhdGlvbl86bGFuZ3VhZ2UuanNvblxyXG4gICAgfSxcclxuICAgIGxvYWRUcmFuc2xhdGlvbnM6IHRydWUsXHJcbiAgICB0cmFuc2xhdGlvbjogdHJhbnNsYXRpb24sXHJcbiAgICByZXNvdXJjZXM6IFtcclxuICAgICAgKGNMYWJzLmFwaS51cmwgKyAnL2Fzc2V0cy93aWRnZXRzL2xlYWRlcmJvYXJkX3YzL2Nzcy9zdHlsZS5jc3M/dD0nICsgKG5ldyBEYXRlKCkuZ2V0VGltZSgpKSksXHJcbiAgICAgIChjTGFicy5hcGkudXJsICsgJy9hc3NldHMvd2lkZ2V0cy9sZWFkZXJib2FyZF92My9jc3MvZm9udHMuY3NzP3Q9JyArIChuZXcgRGF0ZSgpLmdldFRpbWUoKSkpXHJcbiAgICBdLFxyXG4gICAgbGF5b3V0QnVpbGRDYWxsYmFjazogZnVuY3Rpb24gKGxheW91dCwgaW5zdGFuY2UpIHtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICB0aGlzLnNldHRpbmdzID0gbWVyZ2VPYmplY3RzKHRoaXMuc2V0dGluZ3MsIG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgdGhpcy5sb2cgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVidWcpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBGb3JtYXQgZHVyYXRpb24gb2YgRGF0ZSBUaW1lIGZyb20gbW9tZW50KCkgb2JqZWN0XHJcbiAgICogQHBhcmFtIGR1cmF0aW9uIHttb21lbnR9XHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICB0aGlzLmZvcm1hdERhdGVUaW1lID0gZnVuY3Rpb24gKGR1cmF0aW9uKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIGxhcmdlUmVzdWx0ID0gW107XHJcbiAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICBpZiAoZHVyYXRpb24uZGF5cygpKSBsYXJnZVJlc3VsdC5wdXNoKGR1cmF0aW9uLmRheXMoKSArICc8c3BhbiBjbGFzcz1cInRpbWUtaW5kXCI+JyArIF90aGlzLnNldHRpbmdzLnRyYW5zbGF0aW9uLnRpbWUuZGF5cyArICc8L3NwYW4+Jyk7XHJcbiAgICBpZiAoZHVyYXRpb24uaG91cnMoKSB8fCBkdXJhdGlvbi5kYXlzKCkgPiAwKSB7XHJcbiAgICAgIHJlc3VsdC5wdXNoKGZvcm1hdE51bWJlckxlYWRpbmdaZXJvcyhkdXJhdGlvbi5ob3VycygpLCAyKSArICc8c3BhbiBjbGFzcz1cInRpbWUtaW5kXCI+JyArIF90aGlzLnNldHRpbmdzLnRyYW5zbGF0aW9uLnRpbWUuaG91cnMgKyAnPC9zcGFuPicpO1xyXG4gICAgfSBlbHNlIHJlc3VsdC5wdXNoKCcwMDxzcGFuIGNsYXNzPVwidGltZS1pbmRcIj4nICsgX3RoaXMuc2V0dGluZ3MudHJhbnNsYXRpb24udGltZS5ob3VycyArICc8L3NwYW4+Jyk7XHJcbiAgICBpZiAoZHVyYXRpb24ubWludXRlcygpIHx8IGR1cmF0aW9uLmhvdXJzKCkgPiAwIHx8IGR1cmF0aW9uLmRheXMoKSA+IDApIHtcclxuICAgICAgcmVzdWx0LnB1c2goZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zKGR1cmF0aW9uLm1pbnV0ZXMoKSwgMikgKyAoKGR1cmF0aW9uLmRheXMoKSA+IDApID8gJzxzcGFuIGNsYXNzPVwidGltZS1pbmRcIj4nICsgX3RoaXMuc2V0dGluZ3MudHJhbnNsYXRpb24udGltZS5taW51dGVzICsgJzwvc3Bhbj4nIDogJzxzcGFuIGNsYXNzPVwidGltZS1pbmRcIj4nICsgX3RoaXMuc2V0dGluZ3MudHJhbnNsYXRpb24udGltZS5taW51dGVzU2hvcnRIYW5kICsgJzwvc3Bhbj4nKSk7XHJcbiAgICB9IGVsc2UgKHJlc3VsdC5wdXNoKCcwMCcgKyAoKGR1cmF0aW9uLmRheXMoKSA+IDApID8gJzxzcGFuIGNsYXNzPVwidGltZS1pbmRcIj4nICsgX3RoaXMuc2V0dGluZ3MudHJhbnNsYXRpb24udGltZS5taW51dGVzICsgJzwvc3Bhbj4nIDogJzxzcGFuIGNsYXNzPVwidGltZS1pbmRcIj4nICsgX3RoaXMuc2V0dGluZ3MudHJhbnNsYXRpb24udGltZS5taW51dGVzU2hvcnRIYW5kICsgJzwvc3Bhbj4nKSkpO1xyXG4gICAgLy8gaWYgKGR1cmF0aW9uLnNlY29uZHMoKSAmJiBkdXJhdGlvbi5kYXlzKCkgPT09IDApeyByZXN1bHQucHVzaCggZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zKGR1cmF0aW9uLnNlY29uZHMoKSwgMikgKyAnPHNwYW4gY2xhc3M9XCJ0aW1lLWluZFwiPnM8L3NwYW4+JyApIH1lbHNlIGlmKGR1cmF0aW9uLmRheXMoKSA9PT0gMCl7cmVzdWx0LnB1c2goICcwMDxzcGFuIGNsYXNzPVwidGltZS1pbmRcIj5zPC9zcGFuPicgKX07XHJcbiAgICByZXN1bHQucHVzaChmb3JtYXROdW1iZXJMZWFkaW5nWmVyb3MoZHVyYXRpb24uc2Vjb25kcygpLCAyKSArICc8c3BhbiBjbGFzcz1cInRpbWUtaW5kXCI+JyArIF90aGlzLnNldHRpbmdzLnRyYW5zbGF0aW9uLnRpbWUuc2Vjb25kcyArICc8L3NwYW4+Jyk7XHJcbiAgICByZXR1cm4gKGxhcmdlUmVzdWx0Lmxlbmd0aCA+IDApID8gKGxhcmdlUmVzdWx0LmpvaW4oJyAnKSArICcgJyArIHJlc3VsdC5qb2luKCc6JykpIDogcmVzdWx0LmpvaW4oJzonKTtcclxuICB9O1xyXG5cclxuICB0aGlzLnBvcHVsYXRlSWRlbnRpY29uQmFzZTY0SW1hZ2UgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICBpZiAoc3RyLmxlbmd0aCA+IDApIHtcclxuICAgICAgLyogZXNsaW50IG5ldy1jYXA6IFwib2ZmXCIgKi9cclxuICAgICAgdmFyIHNoYU9iaiA9IG5ldyBqc1NIQSgnU0hBLTUxMicsICdURVhUJyk7XHJcbiAgICAgIHNoYU9iai51cGRhdGUoc3RyKTtcclxuICAgICAgdmFyIGhhc2ggPSBzaGFPYmouZ2V0SGFzaCgnSEVYJywgMSk7XHJcbiAgICAgIHZhciBkYXRhID0gbmV3IElkZW50aWNvbihoYXNoLCB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogWzI1NSwgMjU1LCAyNTUsIDI1NV0sIC8vIHJnYmEgd2hpdGVcclxuICAgICAgICBtYXJnaW46IDAuMSwgLy8gMjAlIG1hcmdpblxyXG4gICAgICAgIHNpemU6IDIyLCAvLyA0MjBweCBzcXVhcmVcclxuICAgICAgICBmb3JtYXQ6ICdzdmcnIC8vIHVzZSBTVkcgaW5zdGVhZCBvZiBQTkdcclxuICAgICAgfSkudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgIHZhciBpY29uID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsJyArIGRhdGE7XHJcblxyXG4gICAgICByZXR1cm4gaWNvbjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBnZXQgYSBsaXN0IG9mIGF2YWlsYWJsZSBjb21wZXRpdGlvbiBmaWx0ZXJlZCBieSBwcm92aWRlZCBnbG9iYWwgY3JpdGVyaWFcclxuICAgKiBAcGFyYW0gY2FsbGJhY2sge0Z1bmN0aW9ufVxyXG4gICAqL1xyXG4gIHZhciBjb21wZXRpdGlvbkNoZWNrQWpheCA9IG5ldyBjTGFicy5BamF4KCk7XHJcbiAgdGhpcy5jaGVja0ZvckF2YWlsYWJsZUNvbXBldGl0aW9ucyA9IGZ1bmN0aW9uIChjYWxsYmFjaywgYWpheEluc3RhbmNlKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIHVybCA9IChfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZC5sZW5ndGggPT09IDApID8gKFxyXG4gICAgICBfdGhpcy5zZXR0aW5ncy51cmkuY29tcGV0aXRpb25zLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSlcclxuICAgICkgOiAoXHJcbiAgICAgIF90aGlzLnNldHRpbmdzLnVyaS5tZW1iZXJDb21wZXRpdGlvbnMucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZClcclxuICAgICk7XHJcbiAgICB2YXIgZmlsdGVycyA9IFtcclxuICAgICAgJ3N0YXR1c0NvZGU+PT0zJyxcclxuICAgICAgJ3N0YXR1c0NvZGU8PT01JyxcclxuICAgICAgJ19zb3J0QnlGaWVsZHM9b3B0aW9ucy5zY2hlZHVsZWREYXRlcy5lbmQ6ZGVzYycsXHJcbiAgICAgICgnX2xhbmc9JyArIF90aGlzLnNldHRpbmdzLmxhbmd1YWdlKVxyXG4gICAgXTtcclxuICAgIHZhciBhamF4SW5zdGFuY2VUb1VzZSA9ICh0eXBlb2YgYWpheEluc3RhbmNlICE9PSAndW5kZWZpbmVkJyAmJiBhamF4SW5zdGFuY2UgIT09IG51bGwpID8gYWpheEluc3RhbmNlIDogY29tcGV0aXRpb25DaGVja0FqYXg7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5jdXJyZW5jeSA9PT0gJ3N0cmluZycgJiYgX3RoaXMuc2V0dGluZ3MuY3VycmVuY3kubGVuZ3RoID4gMCkge1xyXG4gICAgICBmaWx0ZXJzLnB1c2goJ191b21LZXk9JyArIF90aGlzLnNldHRpbmdzLmN1cnJlbmN5KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZ2FtZUlkLmxlbmd0aCA+IDAgJiYgX3RoaXMuc2V0dGluZ3MuZW5mb3JjZUdhbWVMb29rdXApIHtcclxuICAgICAgZmlsdGVycy5wdXNoKCdvcHRpb25zLnByb2R1Y3RzLnByb2R1Y3RSZWZJZD0nICsgX3RoaXMuc2V0dGluZ3MuZ2FtZUlkKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZ3JvdXBzLmxlbmd0aCA+IDAgJiYgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGZpbHRlcnMucHVzaCgnb3B0aW9ucy5saW1pdEVudHJhbnRzVG89JyArIF90aGlzLnNldHRpbmdzLmdyb3Vwcyk7XHJcbiAgICB9XHJcblxyXG4gICAgYWpheEluc3RhbmNlVG9Vc2UuYWJvcnQoKS5nZXREYXRhKHtcclxuICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyB1cmwgKyAnPycgKyBmaWx0ZXJzLmpvaW4oJyYnKSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcclxuICAgICAgfSxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcclxuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG5cclxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLnJlYWR5Q29tcGV0aXRpb25zID0gW107XHJcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5hY3RpdmVDb21wZXRpdGlvbnMgPSBbXTtcclxuXHJcbiAgICAgICAgICB3aW5kb3cubWFwT2JqZWN0KGpzb24uZGF0YSwgZnVuY3Rpb24gKGNvbXApIHtcclxuICAgICAgICAgICAgaWYgKGNvbXAuc3RhdHVzQ29kZSA9PT0gMykge1xyXG4gICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLnJlYWR5Q29tcGV0aXRpb25zLnB1c2goY29tcCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcC5zdGF0dXNDb2RlID09PSA1KSB7XHJcbiAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMuYWN0aXZlQ29tcGV0aXRpb25zLnB1c2goY29tcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIF90aGlzLmNoZWNrRm9yRmluaXNoZWRDb21wZXRpdGlvbnMoY2FsbGJhY2ssIGFqYXhJbnN0YW5jZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIF90aGlzLmxvZygnZmFpbGVkIHRvIGNoZWNrRm9yQWN0aXZlQ29tcGV0aXRpb25zICcgKyByZXNwb25zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBnZXQgYSBsaXN0IG9mIGZpbmlzaGVkIGNvbXBldGl0aW9uIGZpbHRlcmVkIGJ5IHByb3ZpZGVkIGdsb2JhbCBjcml0ZXJpYVxyXG4gICAqIEBwYXJhbSBjYWxsYmFjayB7RnVuY3Rpb259XHJcbiAgICovXHJcbiAgdmFyIGNvbXBldGl0aW9uRmluaXNoZWRDaGVja0FqYXggPSBuZXcgY0xhYnMuQWpheCgpO1xyXG4gIHRoaXMuY2hlY2tGb3JGaW5pc2hlZENvbXBldGl0aW9ucyA9IGZ1bmN0aW9uIChjYWxsYmFjaywgYWpheEluc3RhbmNlKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIHVybCA9IChfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZC5sZW5ndGggPT09IDApID8gKFxyXG4gICAgICBfdGhpcy5zZXR0aW5ncy51cmkuY29tcGV0aXRpb25zLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSlcclxuICAgICkgOiAoXHJcbiAgICAgIF90aGlzLnNldHRpbmdzLnVyaS5tZW1iZXJDb21wZXRpdGlvbnMucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZClcclxuICAgICk7XHJcbiAgICB2YXIgZmlsdGVycyA9IFtcclxuICAgICAgJ3N0YXR1c0NvZGU9NycsXHJcbiAgICAgICdfbGltaXQ9MTAnLFxyXG4gICAgICAnX3NvcnRCeUZpZWxkcz1vcHRpb25zLnNjaGVkdWxlZERhdGVzLmVuZDpkZXNjJyxcclxuICAgICAgKCdfbGFuZz0nICsgX3RoaXMuc2V0dGluZ3MubGFuZ3VhZ2UpXHJcbiAgICBdO1xyXG4gICAgdmFyIGFqYXhJbnN0YW5jZVRvVXNlID0gKHR5cGVvZiBhamF4SW5zdGFuY2UgIT09ICd1bmRlZmluZWQnICYmIGFqYXhJbnN0YW5jZSAhPT0gbnVsbCkgPyBhamF4SW5zdGFuY2UgOiBjb21wZXRpdGlvbkZpbmlzaGVkQ2hlY2tBamF4O1xyXG5cclxuICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MuY3VycmVuY3kgPT09ICdzdHJpbmcnICYmIF90aGlzLnNldHRpbmdzLmN1cnJlbmN5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgZmlsdGVycy5wdXNoKCdfdW9tS2V5PScgKyBfdGhpcy5zZXR0aW5ncy5jdXJyZW5jeSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmdhbWVJZC5sZW5ndGggPiAwICYmIF90aGlzLnNldHRpbmdzLmVuZm9yY2VHYW1lTG9va3VwKSB7XHJcbiAgICAgIGZpbHRlcnMucHVzaCgnb3B0aW9ucy5wcm9kdWN0cy5wcm9kdWN0UmVmSWQ9JyArIF90aGlzLnNldHRpbmdzLmdhbWVJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmdyb3Vwcy5sZW5ndGggPiAwICYmIF90aGlzLnNldHRpbmdzLm1lbWJlcklkLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBmaWx0ZXJzLnB1c2goJ29wdGlvbnMubGltaXRFbnRyYW50c1RvPScgKyBfdGhpcy5zZXR0aW5ncy5ncm91cHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGFqYXhJbnN0YW5jZVRvVXNlLmFib3J0KCkuZ2V0RGF0YSh7XHJcbiAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgdXJsICsgJz8nICsgZmlsdGVycy5qb2luKCcmJyksXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MuYXBpS2V5XHJcbiAgICAgIH0sXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XHJcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuXHJcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5maW5pc2hlZENvbXBldGl0aW9ucyA9IFtdO1xyXG5cclxuICAgICAgICAgIHdpbmRvdy5tYXBPYmplY3QoanNvbi5kYXRhLCBmdW5jdGlvbiAoY29tcCkge1xyXG4gICAgICAgICAgICBpZiAoY29tcC5zdGF0dXNDb2RlID09PSA3KSB7XHJcbiAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMuZmluaXNoZWRDb21wZXRpdGlvbnMucHVzaChjb21wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBfdGhpcy5sb2coJ2ZhaWxlZCB0byBjaGVja0ZvckZpbmlzaGVkQ29tcGV0aXRpb25zICcgKyByZXNwb25zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICB0aGlzLnByZXBhcmVBY3RpdmVDb21wZXRpdGlvbiA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBhY3RpdmVDb21wZXRpdGlvbiA9IG51bGw7XHJcbiAgICB2YXIgYWN0aXZlQ29tcGV0aXRpb25JZCA9IG51bGw7XHJcblxyXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLmFjdGl2ZUNvbXBldGl0aW9uSWQgIT09IG51bGwpIHtcclxuICAgICAgd2luZG93Lm1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5hY3RpdmVDb21wZXRpdGlvbnMsIGZ1bmN0aW9uIChjb21wKSB7XHJcbiAgICAgICAgaWYgKGNvbXAuaWQgPT09IF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLmFjdGl2ZUNvbXBldGl0aW9uSWQpIHtcclxuICAgICAgICAgIGFjdGl2ZUNvbXBldGl0aW9uID0gY29tcDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICB3aW5kb3cubWFwT2JqZWN0KF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLnJlYWR5Q29tcGV0aXRpb25zLCBmdW5jdGlvbiAoY29tcCkge1xyXG4gICAgICAgIGlmIChjb21wLmlkID09PSBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5hY3RpdmVDb21wZXRpdGlvbklkKSB7XHJcbiAgICAgICAgICBhY3RpdmVDb21wZXRpdGlvbiA9IGNvbXA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgd2luZG93Lm1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5maW5pc2hlZENvbXBldGl0aW9ucywgZnVuY3Rpb24gKGNvbXApIHtcclxuICAgICAgICBpZiAoY29tcC5pZCA9PT0gX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMuYWN0aXZlQ29tcGV0aXRpb25JZCkge1xyXG4gICAgICAgICAgYWN0aXZlQ29tcGV0aXRpb24gPSBjb21wO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoYWN0aXZlQ29tcGV0aXRpb24gIT09IG51bGwpIHtcclxuICAgICAgICBhY3RpdmVDb21wZXRpdGlvbklkID0gX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMuYWN0aXZlQ29tcGV0aXRpb25JZDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5hY3RpdmVDb21wZXRpdGlvbklkID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChhY3RpdmVDb21wZXRpdGlvbiA9PT0gbnVsbCAmJiBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5hY3RpdmVDb21wZXRpdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICBhY3RpdmVDb21wZXRpdGlvbiA9IF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLmFjdGl2ZUNvbXBldGl0aW9uc1swXTtcclxuICAgICAgYWN0aXZlQ29tcGV0aXRpb25JZCA9IGFjdGl2ZUNvbXBldGl0aW9uLmlkO1xyXG4gICAgfSBlbHNlIGlmIChhY3RpdmVDb21wZXRpdGlvbiA9PT0gbnVsbCAmJiBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5yZWFkeUNvbXBldGl0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGFjdGl2ZUNvbXBldGl0aW9uID0gX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMucmVhZHlDb21wZXRpdGlvbnNbMF07XHJcbiAgICAgIGFjdGl2ZUNvbXBldGl0aW9uSWQgPSBhY3RpdmVDb21wZXRpdGlvbi5pZDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBubyBjb21wZXRpdGlvbnMgZm91bmRcclxuICAgIGlmIChhY3RpdmVDb21wZXRpdGlvbklkID09PSBudWxsICYmIF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLmZpbmlzaGVkQ29tcGV0aXRpb25zLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgIC8vIGRlYWN0aXZhdGlvbiByZXF1aXJlcyBjbG9zaW5nICYgb3BlbmluZyBvZiB0aGUgbWFpbldpZGdldC5cclxuICAgICAgX3RoaXMuZGVhY3RpdmF0ZUNvbXBldGl0aW9uc0FuZExlYWRlcmJvYXJkcygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uSWQgIT09IGFjdGl2ZUNvbXBldGl0aW9uSWQgJiYgYWN0aXZlQ29tcGV0aXRpb25JZCAhPT0gbnVsbCkge1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uID0gYWN0aXZlQ29tcGV0aXRpb247XHJcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb25JZCA9IGFjdGl2ZUNvbXBldGl0aW9uSWQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGxvYWQgYWN0aXZlIGNvbXBldGl0aW9uXHJcbiAgICAgIGlmIChhY3RpdmVDb21wZXRpdGlvbklkICE9PSBudWxsKSB7XHJcbiAgICAgICAgX3RoaXMubG9hZEFjdGl2ZUNvbXBldGl0aW9uKGZ1bmN0aW9uIChqc29uKSB7XHJcbiAgICAgICAgICBfdGhpcy5zZXRBY3RpdmVDb21wZXRpdGlvbihqc29uLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMubG9hZEFjdGl2ZUNvbXBldGl0aW9uID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIHVybCA9IChfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZC5sZW5ndGggPT09IDApID8gKFxyXG4gICAgICBfdGhpcy5zZXR0aW5ncy51cmkuY29tcGV0aXRpb25CeUlkLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSkucmVwbGFjZSgnOmlkJywgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb25JZClcclxuICAgICkgOiAoXHJcbiAgICAgIF90aGlzLnNldHRpbmdzLnVyaS5tZW1iZXJDb21wZXRpdGlvbkJ5SWQucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZCkucmVwbGFjZSgnOmNvbXBldGl0aW9uSWQnLCBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbklkKVxyXG4gICAgKTtcclxuICAgIHZhciBmaWx0ZXJzID0gW1xyXG4gICAgICAoJ19pbmNsdWRlPXN0cmF0ZWd5JyksXHJcbiAgICAgICgnX2xhbmc9JyArIF90aGlzLnNldHRpbmdzLmxhbmd1YWdlKVxyXG4gICAgXTtcclxuXHJcbiAgICBpZiAodHlwZW9mIF90aGlzLnNldHRpbmdzLmN1cnJlbmN5ID09PSAnc3RyaW5nJyAmJiBfdGhpcy5zZXR0aW5ncy5jdXJyZW5jeS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGZpbHRlcnMucHVzaCgnX3VvbUtleT0nICsgX3RoaXMuc2V0dGluZ3MuY3VycmVuY3kpO1xyXG4gICAgfVxyXG5cclxuICAgIF90aGlzLnNldHRpbmdzLmdsb2JhbEFqYXguYWJvcnQoKS5nZXREYXRhKHtcclxuICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyB1cmwgKyAnPycgKyBmaWx0ZXJzLmpvaW4oJyYnKSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcclxuICAgICAgfSxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcclxuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG5cclxuICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soanNvbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIF90aGlzLmxvZygnZmFpbGVkIHRvIGxvYWRBY3RpdmVDb21wZXRpdGlvbiAnICsgcmVzcG9uc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5zZXRBY3RpdmVDb21wZXRpdGlvbiA9IGZ1bmN0aW9uIChqc29uLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbiA9IGpzb24uZGF0YTtcclxuICAgIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgPSBudWxsO1xyXG4gICAgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdElkID0gbnVsbDtcclxuXHJcbiAgICBpZiAodHlwZW9mIGpzb24uZGF0YS5jb250ZXN0cyAhPT0gJ3VuZGVmaW5lZCcgJiYganNvbi5kYXRhLmNvbnRlc3RzLmxlbmd0aCA+IDApIHtcclxuICAgICAgd2luZG93Lm1hcE9iamVjdChqc29uLmRhdGEuY29udGVzdHMsIGZ1bmN0aW9uIChjb250ZXN0KSB7XHJcbiAgICAgICAgaWYgKGNvbnRlc3Quc3RhdHVzQ29kZSA8IDcgJiYgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCA9IGNvbnRlc3Q7XHJcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0SWQgPSBjb250ZXN0LmlkO1xyXG5cclxuICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5yZXdhcmRzID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnJld2FyZHMgPSBbXTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB2YXIgcmV3YXJkcyA9IFtdO1xyXG4gICAgICAgICAgd2luZG93Lm1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnJld2FyZHMsIGZ1bmN0aW9uIChyZXdhcmQpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXdhcmQucmV3YXJkUmFuayA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICB2YXIgcmFua1BhcnRzID0gcmV3YXJkLnJld2FyZFJhbmsuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICB2YXIgcmV3YXJkUmFuayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICB3aW5kb3cubWFwT2JqZWN0KHJhbmtQYXJ0cywgZnVuY3Rpb24gKHBhcnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdHJpbmdDb250YWlucyhwYXJ0LCAnLScpKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciByYW5rUmFuZ2UgPSBwYXJ0LnNwbGl0KCctJyk7XHJcbiAgICAgICAgICAgICAgICAgIHZhciByYWdlU3RhcnQgPSBwYXJzZUludChyYW5rUmFuZ2VbMF0pO1xyXG4gICAgICAgICAgICAgICAgICB2YXIgcmFuZ2VFbmQgPSBwYXJzZUludChyYW5rUmFuZ2VbMV0pO1xyXG4gICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gcmFnZVN0YXJ0OyBpIDw9IHJhbmdlRW5kOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICByZXdhcmRSYW5rLnB1c2goaSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHJld2FyZFJhbmsucHVzaChwYXJzZUludChwYXJ0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgIHJld2FyZC5yZXdhcmRSYW5rID0gcmV3YXJkUmFuaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV3YXJkcy5wdXNoKHJld2FyZCk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnJld2FyZHMgPSByZXdhcmRzO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBjYWxsYmFjaygpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMuZ2V0TGVhZGVyYm9hcmREYXRhID0gZnVuY3Rpb24gKGNvdW50LCBjYWxsYmFjaykge1xyXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdElkICE9PSBudWxsKSB7XHJcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgIHZhciB1cmwgPSBfdGhpcy5zZXR0aW5ncy51cmkuY29udGVzdExlYWRlcmJvYXJkLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSkucmVwbGFjZSgnOmlkJywgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdElkKTtcclxuICAgICAgdmFyIGZpbHRlcnMgPSBbXHJcbiAgICAgICAgJ19saW1pdD0nICsgY291bnQsXHJcbiAgICAgICAgJ3JhbmtpbmdzPTInXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBpZiAodHlwZW9mIF90aGlzLnNldHRpbmdzLm1lbWJlcklkID09PSAnc3RyaW5nJyAmJiBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZmlsdGVycy5wdXNoKCdtZW1iZXJJZD0nICsgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5nbG9iYWxBamF4LmFib3J0KCkuZ2V0RGF0YSh7XHJcbiAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIHVybCArICc/JyArIGZpbHRlcnMuam9pbignJicpLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XHJcbiAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBpZihcclxuICAgICAgICAgICAgLy8gICB0eXBlb2YgX3RoaXMuc2V0dGluZ3MubG9hZExlYWRlcmJvYXJkSGlzdG9yeVtfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0SWRdID09PSBcInVuZGVmaW5lZFwiXHJcbiAgICAgICAgICAgIC8vICAgfHxcclxuICAgICAgICAgICAgLy8gICAoXHJcbiAgICAgICAgICAgIC8vICAgICB0eXBlb2YgX3RoaXMuc2V0dGluZ3MubG9hZExlYWRlcmJvYXJkSGlzdG9yeVtfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0SWRdICE9PSBcInVuZGVmaW5lZFwiXHJcbiAgICAgICAgICAgIC8vICAgICAmJlxyXG4gICAgICAgICAgICAvLyAgICAgX3RoaXMuc2V0dGluZ3MubG9hZExlYWRlcmJvYXJkSGlzdG9yeVtfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0SWRdICE9PSBkYXRhXHJcbiAgICAgICAgICAgIC8vICAgKVxyXG4gICAgICAgICAgICAvLyApIHtcclxuICAgICAgICAgICAgLy8gICBfdGhpcy5zZXR0aW5ncy5sb2FkTGVhZGVyYm9hcmRIaXN0b3J5W190aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3RJZF0gPSB7XHJcbiAgICAgICAgICAgIC8vICAgICBjaGFuZ2VkOiB0cnVlLFxyXG4gICAgICAgICAgICAvLyAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoanNvbi5kYXRhKVxyXG4gICAgICAgICAgICAvLyAgIH07XHJcbiAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gbWFzayBjb21wZXRpdG9yJ3MgbmFtZXMuIFdlIHdpbGwgcmVwbGFjZSBsYXN0IDQgY2hhcmFjdGVycyB3aXRoIFwiKlwiXHJcbiAgICAgICAgICAgIC8vIGFsc28gZmlyc3QgNCBjaGFycyBhcmUgcmVwbGFjZWQgd2l0aCBcIipcIlxyXG4gICAgICAgICAgICBfdGhpcy5tYXNrTmFtZXMoanNvbi5kYXRhLCBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZCk7XHJcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxlYWRlcmJvYXJkRGF0YSA9IGpzb24uZGF0YTtcclxuXHJcbiAgICAgICAgICAgIGNhbGxiYWNrKGpzb24uZGF0YSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBfdGhpcy5sb2coJ2ZhaWxlZCB0byBnZXRMZWFkZXJib2FyZERhdGEgJyArIHJlc3BvbnNlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2FsbGJhY2soKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBmdW5jdGlvbiBtYXNrcyBuYW1lcyBvZiB1c2Vyc1xyXG4gIHRoaXMubWFza05hbWVzID0gZnVuY3Rpb24gKGRhdGEsIG15bmFtZSkge1xyXG4gICAgLy8gbXluYW1lIC0tPiBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZFxyXG4gICAgZm9yICh2YXIgbGVhZGJvYXJkIG9mIGRhdGEpIHtcclxuICAgICAgaWYgKGxlYWRib2FyZC5uYW1lICE9PSBteW5hbWUpIHtcclxuICAgICAgICAvLyBzcGxpdCBjYXNpbm8gYW5kIHBsYXllciBuYW1lXHJcbiAgICAgICAgdmFyIHNlcGFyYXRlZCA9IGxlYWRib2FyZC5uYW1lLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgY29uc3QgY2FzTmFtZSA9IHRoaXMubWFza1dvcmQoc2VwYXJhdGVkWzBdKTtcclxuICAgICAgICBjb25zdCBwbGF5ZXJOYW1lID0gdGhpcy5tYXNrV29yZChzZXBhcmF0ZWRbMV0pO1xyXG4gICAgICAgIGxlYWRib2FyZC5uYW1lID0gY2FzTmFtZSArICc6JyArIHBsYXllck5hbWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyB0YWtlIHN0cmluZyBhcyBpbnB1dCBhbmQgcHV0IGZpcnN0IDQgY2hhcnMgYXMgXCIqXCJcclxuICB0aGlzLm1hc2tXb3JkID0gZnVuY3Rpb24gKHdvcmQpIHtcclxuICAgIHZhciByZXQgPSAnJztcclxuICAgIC8vIHJlcGxhY2UgbGFzdCA0XHJcbiAgICBpZiAod29yZC5sZW5ndGggPj0gNCkge1xyXG4gICAgICByZXQgPSB3b3JkLnN1YnN0cmluZygwLCB3b3JkLmxlbmd0aCAtIDQpO1xyXG4gICAgICByZXQgKz0gJyoqKionO1xyXG4gICAgICAvLyByZXBsYWNlIGFsbFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0ID0gd29yZC5yZXBsYWNlKC8uL2csICcqJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmV0O1xyXG4gIH07XHJcblxyXG4gIHZhciBjaGVja0FjaGlldmVtZW50c0FqYXggPSBuZXcgY0xhYnMuQWpheCgpO1xyXG4gIHRoaXMuY2hlY2tGb3JBdmFpbGFibGVBY2hpZXZlbWVudHMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB2YXIgdXJsID0gX3RoaXMuc2V0dGluZ3MudXJpLmFjaGlldmVtZW50cy5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLm1lbWJlcklkKTtcclxuICAgIHZhciBmaWx0ZXJzID0gW1xyXG4gICAgICAnX2xpbWl0PTEwMCcsXHJcbiAgICAgICdfaW5jbHVkZT1yZXdhcmRzLHByb2R1Y3RzJyxcclxuICAgICAgKCdfbGFuZz0nICsgX3RoaXMuc2V0dGluZ3MubGFuZ3VhZ2UpXHJcbiAgICBdO1xyXG4gICAgdmFyIHdpdGhHcm91cHMgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAodHlwZW9mIF90aGlzLnNldHRpbmdzLmN1cnJlbmN5ID09PSAnc3RyaW5nJyAmJiBfdGhpcy5zZXR0aW5ncy5jdXJyZW5jeS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGZpbHRlcnMucHVzaCgnX3VvbUtleT0nICsgX3RoaXMuc2V0dGluZ3MuY3VycmVuY3kpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MubWVtYmVyLmdyb3VwcyAhPT0gJ3VuZGVmaW5lZCcgJiYgX3RoaXMuc2V0dGluZ3MubWVtYmVyLmdyb3Vwcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHdpdGhHcm91cHMgPSB0cnVlO1xyXG4gICAgICBmaWx0ZXJzLnB1c2goJ21lbWJlckdyb3Vwcz0nICsgX3RoaXMuc2V0dGluZ3MubWVtYmVyLmdyb3Vwcy5qb2luKCcsJykpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrQWNoaWV2ZW1lbnRzQWpheC5hYm9ydCgpLmdldERhdGEoe1xyXG4gICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIHVybCArICc/X2xhbmc9JyArIF90aGlzLnNldHRpbmdzLmxhbmd1YWdlICsgJyZfdW9tS2V5PScgKyBfdGhpcy5zZXR0aW5ncy5jdXJyZW5jeSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcclxuICAgICAgfSxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcclxuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICB2YXIganNvbkZvckFsbCA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgICAgICAgLy8gY2xlYXIgYWNoaWV2ZW1lbnRzIGxpc3RcclxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLmFjaGlldmVtZW50cy5saXN0ID0gW107XHJcbiAgICAgICAgICAvKlxyXG4gICAgICAgICAgd2luZG93Lm1hcE9iamVjdChqc29uRm9yQWxsLmRhdGEsIGZ1bmN0aW9uIChhY2gpIHtcclxuICAgICAgICAgICAgLy8gaGVyZSB3ZSBhZGQgZmlyc3QgYWNoaWV2ZW1lbnRzXHJcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLmFjaGlldmVtZW50cy5saXN0LnB1c2goYWNoKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgICBpZiAod2l0aEdyb3Vwcykge1xyXG4gICAgICAgICAgICBjaGVja0FjaGlldmVtZW50c0FqYXguYWJvcnQoKS5nZXREYXRhKHtcclxuICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICAgICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgdXJsICsgJz8nICsgZmlsdGVycy5qb2luKCcmJyksXHJcbiAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ1gtQVBJLUtFWSc6IF90aGlzLnNldHRpbmdzLmFwaUtleVxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIHdpbmRvdy5tYXBPYmplY3QoanNvbi5kYXRhLCBmdW5jdGlvbiAoYWNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2Ugc2hvdyB0aGUgYWNoaWV2ZW1lbnQgb25seSBpZiBpdCdzIGFjdGl2ZSBmb3IgdGhlIGN1cnJlbnQgZ2FtZSAocHJvZHVjdClcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5maWx0ZXJBY2hpZXZlbWVudEJ5UHJvZHVjdChhY2gsIF90aGlzLnNldHRpbmdzLmdhbWVJZCwgX3RoaXMpO1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKF90aGlzLnNldHRpbmdzLmFjaGlldmVtZW50cy5saXN0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIF90aGlzLmxvZygnZmFpbGVkIHRvIGNoZWNrRm9yQXZhaWxhYmxlQWNoaWV2ZW1lbnRzICcgKyByZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKGpzb25Gb3JBbGwuZGF0YSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIF90aGlzLmxvZygnZmFpbGVkIHRvIGNoZWNrRm9yQXZhaWxhYmxlQWNoaWV2ZW1lbnRzICcgKyByZXNwb25zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvLyBmaWx0ZXIgYWNoaWV2ZW1lbnQgaWYgZW5hYmxlZCBmb3IgY3VycmVudCBnYW1lXHJcbiAgLy8gd2Ugc2hvdyB0aGUgYWNoaWV2ZW1lbnQgb25seSBpZiBpdCdzIGFjdGl2ZSBmb3IgdGhlIGN1cnJlbnQgZ2FtZSAocHJvZHVjdClcclxuICAvLyBfdGhpcy5zZXR0aW5ncy5nYW1lSWQ9XCI1NVwiXHJcbiAgLy8gYWNoLnByb2R1Y3RzID0gW3tuYW1lOiBcIkVkZGllIER1bmRlZVwiLCBwcm9kdWN0R3JvdXBzOiBbXCJnYW1lYXJ0XCJdLCBwcm9kdWN0UmVmSWQ6IFwiNTVcIiwgcHJvZHVjdFR5cGU6IFwic2xvdFwifV1cclxuICB0aGlzLmZpbHRlckFjaGlldmVtZW50QnlQcm9kdWN0ID0gZnVuY3Rpb24gKGFjaCwgZ2FtZWlkLCBzZWxmKSB7XHJcbiAgICAvLyBubyBwcm9kdWN0IGZpbHRlcmluZyBlbmFibGVkIGluIGJhY2tvZmZpY2VcclxuICAgIGlmIChhY2gucHJvZHVjdHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHNlbGYuc2V0dGluZ3MuYWNoaWV2ZW1lbnRzLmxpc3QucHVzaChhY2gpO1xyXG4gICAgICAvLyBjaGVjayBpZiBhY2hpZXZlbWVudCBlbmFibGVkIGZvciB0aGlzIGN1cnJlbnQgZ2FtZSAocHJvZHVjdClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZvciAodmFyIHByb2Qgb2YgYWNoLnByb2R1Y3RzKSB7XHJcbiAgICAgICAgaWYgKHByb2QucHJvZHVjdFJlZklkID09PSBzZWxmLnNldHRpbmdzLmdhbWVJZCkge1xyXG4gICAgICAgICAgLy8gYWRkIHRvIGFjaGlldmVtZW50cyBsaXN0XHJcbiAgICAgICAgICBzZWxmLnNldHRpbmdzLmFjaGlldmVtZW50cy5saXN0LnB1c2goYWNoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2YXIgZ2V0QWNoaWV2ZW1lbnRzQWpheCA9IG5ldyBjTGFicy5BamF4KCk7XHJcbiAgdGhpcy5nZXRBY2hpZXZlbWVudCA9IGZ1bmN0aW9uIChhY2hpZXZlbWVudElkLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBnZXRBY2hpZXZlbWVudHNBamF4LmFib3J0KCkuZ2V0RGF0YSh7XHJcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyBfdGhpcy5zZXR0aW5ncy51cmkuYWNoaWV2ZW1lbnQucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBhY2hpZXZlbWVudElkKSArICc/X2xhbmc9JyArIF90aGlzLnNldHRpbmdzLmxhbmd1YWdlICsgJyZfdW9tS2V5PScgKyBfdGhpcy5zZXR0aW5ncy5jdXJyZW5jeSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcclxuICAgICAgfSxcclxuICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XHJcbiAgICAgICAgdmFyIGpzb24gPSBudWxsO1xyXG4gICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgIGNhbGxiYWNrKGpzb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICBjYWxsYmFjayhudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHZhciBnZXRSZXdhcmRBamF4ID0gbmV3IGNMYWJzLkFqYXgoKTtcclxuICB0aGlzLmdldFJld2FyZCA9IGZ1bmN0aW9uIChyZXdhcmRJZCwgY2FsbGJhY2spIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgZ2V0UmV3YXJkQWpheC5hYm9ydCgpLmdldERhdGEoe1xyXG4gICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgX3RoaXMuc2V0dGluZ3MudXJpLm1lbWJlclJld2FyZC5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLm1lbWJlcklkKS5yZXBsYWNlKCc6YXdhcmRJZCcsIHJld2FyZElkKSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcclxuICAgICAgfSxcclxuICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XHJcbiAgICAgICAgdmFyIGpzb24gPSBudWxsO1xyXG4gICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgIGNhbGxiYWNrKGpzb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICBjYWxsYmFjayhudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHZhciBnZXRNZXNzYWdlQWpheCA9IG5ldyBjTGFicy5BamF4KCk7XHJcbiAgdGhpcy5nZXRNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2VJZCwgY2FsbGJhY2spIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgZ2V0TWVzc2FnZUFqYXguYWJvcnQoKS5nZXREYXRhKHtcclxuICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIF90aGlzLnNldHRpbmdzLnVyaS5tZXNzYWdlQnlJZC5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLm1lbWJlcklkKS5yZXBsYWNlKCc6bWVzc2FnZUlkJywgbWVzc2FnZUlkKSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcclxuICAgICAgfSxcclxuICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XHJcbiAgICAgICAgdmFyIGpzb24gPSBudWxsO1xyXG4gICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgIGNhbGxiYWNrKGpzb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICBjYWxsYmFjayhudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHZhciBjbGFpbVJld2FyZEFqYXggPSBuZXcgY0xhYnMuQWpheCgpO1xyXG4gIHRoaXMuY2xhaW1SZXdhcmQgPSBmdW5jdGlvbiAocmV3YXJkSWQsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGNsYWltUmV3YXJkQWpheC5hYm9ydCgpLmdldERhdGEoe1xyXG4gICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgX3RoaXMuc2V0dGluZ3MudXJpLm1lbWJlclJld2FyZENsYWltLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSkucmVwbGFjZSgnOmlkJywgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQpLnJlcGxhY2UoJzphd2FyZElkJywgcmV3YXJkSWQpLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ1gtQVBJLUtFWSc6IF90aGlzLnNldHRpbmdzLmFwaUtleVxyXG4gICAgICB9LFxyXG4gICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XHJcbiAgICAgICAgdmFyIGpzb24gPSBudWxsO1xyXG4gICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgIGNhbGxiYWNrKGpzb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICBjYWxsYmFjayhudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHZhciBjaGVja0Zvck1lbWJlckFjaGlldmVtZW50c0FqYXggPSBuZXcgY0xhYnMuQWpheCgpO1xyXG4gIHRoaXMuY2hlY2tGb3JNZW1iZXJBY2hpZXZlbWVudHNJc3N1ZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB2YXIgdXJsID0gX3RoaXMuc2V0dGluZ3MudXJpLmFjaGlldmVtZW50c0lzc3VlZC5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLm1lbWJlcklkKTtcclxuXHJcbiAgICBjaGVja0Zvck1lbWJlckFjaGlldmVtZW50c0FqYXguYWJvcnQoKS5nZXREYXRhKHtcclxuICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyB1cmwsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MuYXBpS2V5XHJcbiAgICAgIH0sXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XHJcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICAgIHZhciBpZExpc3QgPSBbXTtcclxuXHJcbiAgICAgICAgICBpZiAodHlwZW9mIGpzb24uYWdncmVnYXRpb25zICE9PSAndW5kZWZpbmVkJyAmJiBqc29uLmFnZ3JlZ2F0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5tYXBPYmplY3QoanNvbi5hZ2dyZWdhdGlvbnNbMF0uaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgaWRMaXN0LnB1c2goaXRlbS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKGlkTGlzdCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIF90aGlzLmxvZygnZmFpbGVkIHRvIGNoZWNrRm9yTWVtYmVyQWNoaWV2ZW1lbnRzSXNzdWVkICcgKyByZXNwb25zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICB2YXIgY2hlY2tGb3JNZW1iZXJBY2hpZXZlbWVudHNQcm9ncmVzc2lvbkFqYXggPSBuZXcgY0xhYnMuQWpheCgpO1xyXG4gIHRoaXMuY2hlY2tGb3JNZW1iZXJBY2hpZXZlbWVudHNQcm9ncmVzc2lvbiA9IGZ1bmN0aW9uIChpZExpc3QsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIHVybCA9IF90aGlzLnNldHRpbmdzLnVyaS5hY2hpZXZlbWVudHNQcm9ncmVzc2lvbi5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLm1lbWJlcklkKTtcclxuXHJcbiAgICBjaGVja0Zvck1lbWJlckFjaGlldmVtZW50c1Byb2dyZXNzaW9uQWpheC5hYm9ydCgpLmdldERhdGEoe1xyXG4gICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIHVybCArIChpZExpc3QubGVuZ3RoID4gMCA/ICgnP2lkPScgKyBpZExpc3Quam9pbignLCcpKSA6ICcnKSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcclxuICAgICAgfSxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcclxuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG5cclxuICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKGpzb24uZGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIF90aGlzLmxvZygnZmFpbGVkIHRvIGNoZWNrRm9yTWVtYmVyQWNoaWV2ZW1lbnRzUHJvZ3Jlc3Npb24gJyArIHJlc3BvbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHZhciBjaGVja0ZvckF2YWlsYWJsZVJld2FyZHNBamF4ID0gbmV3IGNMYWJzLkFqYXgoKTtcclxuICB0aGlzLmNoZWNrRm9yQXZhaWxhYmxlUmV3YXJkcyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciB1cmwgPSBfdGhpcy5zZXR0aW5ncy51cmkubWVzc2FnZXMucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZCk7XHJcblxyXG4gICAgLy8gY2xhaW1lZCByZXdhcmRzXHJcbiAgICBjaGVja0ZvckF2YWlsYWJsZVJld2FyZHNBamF4LmFib3J0KCkuZ2V0RGF0YSh7XHJcbiAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgdXJsICsgJz9fc29ydEJ5RmllbGRzPWNyZWF0ZWQ6ZGVzYyZtZXNzYWdlVHlwZT1SZXdhcmQmcHJpemUuY2xhaW1lZD10cnVlJl9oYXNWYWx1ZXNGb3I9cHJpemUmX2xpbWl0PTEwMCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MuYXBpS2V5XHJcbiAgICAgIH0sXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XHJcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgdmFyIGpzb25Gb3JBbGwgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuXHJcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5yZXdhcmRzLnJld2FyZHMgPSBbXTtcclxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLnJld2FyZHMuYXZhaWxhYmxlUmV3YXJkcyA9IFtdO1xyXG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MucmV3YXJkcy5leHBpcmVkUmV3YXJkcyA9IFtdO1xyXG5cclxuICAgICAgICAgIHdpbmRvdy5tYXBPYmplY3QoanNvbkZvckFsbC5kYXRhLCBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICB2YXIgZXhwaXJlZCA9ICh0eXBlb2YgbWVzc2FnZS5leHBpcnkgPT09ICd1bmRlZmluZWQnKSA/IGZhbHNlIDogKG1vbWVudChtZXNzYWdlLmV4cGlyeSkuZGlmZihtb21lbnQoKSkgPCAwKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZXhwaXJlZCkge1xyXG4gICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLnJld2FyZHMucmV3YXJkcy5wdXNoKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBub3QtY2xhaW1lZCByZXdhcmRzXHJcbiAgICAgICAgICBjaGVja0ZvckF2YWlsYWJsZVJld2FyZHNBamF4LmFib3J0KCkuZ2V0RGF0YSh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgdXJsICsgJz9fc29ydEJ5RmllbGRzPWNyZWF0ZWQ6ZGVzYyZtZXNzYWdlVHlwZT1SZXdhcmQmcHJpemUuY2xhaW1lZD1mYWxzZSZfaGFzVmFsdWVzRm9yPXByaXplJl9saW1pdD0xMDAnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgJ1gtQVBJLUtFWSc6IF90aGlzLnNldHRpbmdzLmFwaUtleVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIGRhdGFPYmosIHhocikge1xyXG4gICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBqc29uRm9yQWxsID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgd2luZG93Lm1hcE9iamVjdChqc29uRm9yQWxsLmRhdGEsIGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBleHBpcmVkID0gKHR5cGVvZiBtZXNzYWdlLmV4cGlyeSA9PT0gJ3VuZGVmaW5lZCcpID8gZmFsc2UgOiAobW9tZW50KG1lc3NhZ2UuZXhwaXJ5KS5kaWZmKG1vbWVudCgpKSA8IDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgaWYgKCFleHBpcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MucmV3YXJkcy5hdmFpbGFibGVSZXdhcmRzLnB1c2gobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGV4cGlyZWQgcmV3YXJkc1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHV0Y0RhdGUgPSBkYXRlLmdldFVUQ0Z1bGxZZWFyKCkgKyAnLScgKyBmb3JtYXROdW1iZXJMZWFkaW5nWmVyb3MoKGRhdGUuZ2V0VVRDTW9udGgoKSArIDEpLCAyKSArICctJyArIGZvcm1hdE51bWJlckxlYWRpbmdaZXJvcyhkYXRlLmdldFVUQ0RhdGUoKSwgMikgKyAnVCcgKyBmb3JtYXROdW1iZXJMZWFkaW5nWmVyb3MoZGF0ZS5nZXRVVENIb3VycygpLCAyKSArICc6JyArIGZvcm1hdE51bWJlckxlYWRpbmdaZXJvcyhkYXRlLmdldFVUQ01pbnV0ZXMoKSwgMikgKyAnOjAwJztcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLmdsb2JhbEFqYXguYWJvcnQoKS5nZXREYXRhKHtcclxuICAgICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyB1cmwgKyAnP19zb3J0QnlGaWVsZHM9Y3JlYXRlZDpkZXNjJl9saW1pdD0xMDAmbWVzc2FnZVR5cGU9UmV3YXJkJl9oYXNWYWx1ZXNGb3I9ZXhwaXJ5JmV4cGlyeTw9PScgKyB1dGNEYXRlLFxyXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ1gtQVBJLUtFWSc6IF90aGlzLnNldHRpbmdzLmFwaUtleVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIGRhdGFPYmosIHhocikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uRm9yQWxsID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1hcE9iamVjdChqc29uRm9yQWxsLmRhdGEsIGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLnJld2FyZHMuZXhwaXJlZFJld2FyZHMucHVzaChtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKF90aGlzLnNldHRpbmdzLnJld2FyZHMucmV3YXJkcywgX3RoaXMuc2V0dGluZ3MucmV3YXJkcy5hdmFpbGFibGVSZXdhcmRzLCBfdGhpcy5zZXR0aW5ncy5yZXdhcmRzLmV4cGlyZWRSZXdhcmRzKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nKCdmYWlsZWQgdG8gY2hlY2tGb3JBdmFpbGFibGVSZXdhcmRzIGV4cGlyZWQgJyArIHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2coJ2ZhaWxlZCB0byBjaGVja0ZvckF2YWlsYWJsZVJld2FyZHMgbm90LWNsYWltZWQgJyArIHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBfdGhpcy5sb2coJ2ZhaWxlZCB0byBjaGVja0ZvckF2YWlsYWJsZVJld2FyZHMgY2xhaW1lZCAnICsgcmVzcG9uc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGNoZWNrRm9yQXZhaWxhYmxlTWVzc2FnZXNBamF4ID0gbmV3IGNMYWJzLkFqYXgoKTtcclxuICB0aGlzLmNoZWNrRm9yQXZhaWxhYmxlTWVzc2FnZXMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB2YXIgdXJsID0gX3RoaXMuc2V0dGluZ3MudXJpLm1lc3NhZ2VzLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSkucmVwbGFjZSgnOmlkJywgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQpO1xyXG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldE1vbnRoKCkgLSAxKTtcclxuXHJcbiAgICB2YXIgY3JlYXRlZERhdGVGaWx0ZXIgPSBkYXRlLmdldEZ1bGxZZWFyKCkgKyAnLScgKyBmb3JtYXROdW1iZXJMZWFkaW5nWmVyb3MoKGRhdGUuZ2V0TW9udGgoKSArIDEpLCAyKSArICctJyArIGZvcm1hdE51bWJlckxlYWRpbmdaZXJvcyhkYXRlLmdldERhdGUoKSwgMik7XHJcblxyXG4gICAgY2hlY2tGb3JBdmFpbGFibGVNZXNzYWdlc0FqYXguYWJvcnQoKS5nZXREYXRhKHtcclxuICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyB1cmwgKyAnP19zb3J0QnlGaWVsZHM9Y3JlYXRlZDpkZXNjJl9oYXNOb1ZhbHVlc0Zvcj1wcml6ZSZfbGltaXQ9MTAwJmNyZWF0ZWQ+PT0nICsgY3JlYXRlZERhdGVGaWx0ZXIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MuYXBpS2V5XHJcbiAgICAgIH0sXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XHJcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgdmFyIGpzb25Gb3JBbGwgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuXHJcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5tZXNzYWdlcy5tZXNzYWdlcyA9IFtdO1xyXG5cclxuICAgICAgICAgIHdpbmRvdy5tYXBPYmplY3QoanNvbkZvckFsbC5kYXRhLCBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5tZXNzYWdlcy5tZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soX3RoaXMuc2V0dGluZ3MubWVzc2FnZXMubWVzc2FnZXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBfdGhpcy5sb2coJ2ZhaWxlZCB0byBjaGVja0ZvckF2YWlsYWJsZU1lc3NhZ2VzICcgKyByZXNwb25zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICB2YXIgb3B0SW5NZW1iZXJBamF4ID0gbmV3IGNMYWJzLkFqYXgoKTtcclxuICB0aGlzLm9wdEluTWVtYmVyVG9BY3RpdmVDb21wZXRpdGlvbiA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciB1cmwgPSBfdGhpcy5zZXR0aW5ncy51cmkubWVtYmVyQ29tcGV0aXRpb25PcHRJbi5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLm1lbWJlcklkKS5yZXBsYWNlKCc6Y29tcGV0aXRpb25JZCcsIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uSWQpO1xyXG5cclxuICAgIG9wdEluTWVtYmVyQWpheC5hYm9ydCgpLmdldERhdGEoe1xyXG4gICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIHVybCxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcclxuICAgICAgfSxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcclxuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBfdGhpcy5sb2coJ2ZhaWxlZCB0byBvcHRJbk1lbWJlclRvQWN0aXZlQ29tcGV0aXRpb24gJyArIHJlc3BvbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHZhciByZXZhbGlkYXRpb25Db3VudCA9IDA7XHJcbiAgdGhpcy5yZXZhbGlkYXRlSWZTdWNjZXNzZnVsbE9wdEluID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLmxvYWRBY3RpdmVDb21wZXRpdGlvbihmdW5jdGlvbiAoY29tcGV0aXRpb25Kc29uKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgY29tcGV0aXRpb25Kc29uLmRhdGEub3B0aW4gPT09ICdib29sZWFuJyAmJiAhY29tcGV0aXRpb25Kc29uLmRhdGEub3B0aW4pIHtcclxuICAgICAgICByZXZhbGlkYXRpb25Db3VudCsrO1xyXG5cclxuICAgICAgICBpZiAocmV2YWxpZGF0aW9uQ291bnQgPCA1KSB7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucmV2YWxpZGF0ZUlmU3VjY2Vzc2Z1bGxPcHRJbihjYWxsYmFjayk7XHJcbiAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXZhbGlkYXRpb25Db3VudCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb21wZXRpdGlvbkpzb24uZGF0YS5vcHRpbiA9PT0gJ2Jvb2xlYW4nICYmIGNvbXBldGl0aW9uSnNvbi5kYXRhLm9wdGluKSB7XHJcbiAgICAgICAgY2FsbGJhY2soY29tcGV0aXRpb25Kc29uKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5sZWFkZXJib2FyZERhdGFSZWZyZXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQucmVmcmVzaExiRGF0YUludGVydmFsKSB7XHJcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoTGJEYXRhSW50ZXJ2YWwpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChcclxuICAgICAgKF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uICE9PSBudWxsICYmIHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpblJlcXVpcmVkID09PSAnYm9vbGVhbicgJiYgIV90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLm9wdGluUmVxdWlyZWQpIHx8XHJcbiAgICAgICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ub3B0aW4gPT09ICdib29sZWFuJyAmJiBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpbilcclxuICAgICkge1xyXG4gICAgICB2YXIgY291bnQgPSAoX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuYWN0aXZlKSA/IDAgOiBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5mdWxsTGVhZGVyYm9hcmRTaXplO1xyXG4gICAgICBfdGhpcy5nZXRMZWFkZXJib2FyZERhdGEoY291bnQsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmFjdGl2ZSkgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQubG9hZFNjb3JlQm9hcmQoKTtcclxuICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5zZXR0aW5ncy5hY3RpdmUpIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubG9hZExlYWRlcmJvYXJkKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hMYkRhdGFJbnRlcnZhbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBfdGhpcy5sZWFkZXJib2FyZERhdGFSZWZyZXNoKCk7XHJcbiAgICB9LCBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoSW50ZXJ2YWxNaWxsaXMpO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuYWN0aXZlQ29tcGV0aXRpb25EYXRhUmVmcmVzaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24ucmVmcmVzaEludGVydmFsKSB7XHJcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5yZWZyZXNoSW50ZXJ2YWwpO1xyXG4gICAgfVxyXG5cclxuICAgIF90aGlzLmNoZWNrRm9yQXZhaWxhYmxlQ29tcGV0aXRpb25zKGZ1bmN0aW9uICgpIHtcclxuICAgICAgX3RoaXMucHJlcGFyZUFjdGl2ZUNvbXBldGl0aW9uKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY291bnQgPSAoX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuYWN0aXZlKSA/IDAgOiBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5mdWxsTGVhZGVyYm9hcmRTaXplO1xyXG5cclxuICAgICAgICAvLyBjbGVhciB0byBub3QgY2xhc2ggd2l0aCBMQiByZWZyZXNoIHRoYXQgY291bGQgaGFwcGVuIGF0IHNhbWUgdGltZVxyXG4gICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoSW50ZXJ2YWwpIHtcclxuICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmFjdGl2ZSB8fCBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnNldHRpbmdzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAoX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24gIT09IG51bGwgJiYgdHlwZW9mIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLm9wdGluUmVxdWlyZWQgPT09ICdib29sZWFuJyAmJiAhX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ub3B0aW5SZXF1aXJlZCkgfHxcclxuICAgICAgICAgICAgKF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uICE9PSBudWxsICYmIHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpbiA9PT0gJ2Jvb2xlYW4nICYmIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLm9wdGluKVxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmdldExlYWRlcmJvYXJkRGF0YShjb3VudCwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuYWN0aXZlKSBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5sb2FkU2NvcmVCb2FyZCgpO1xyXG4gICAgICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnNldHRpbmdzLmFjdGl2ZSkgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5sb2FkTGVhZGVyYm9hcmQoKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gcmUtc3RhcnQgbGVhZGVyYm9hcmQgcmVmcmVzaFxyXG4gICAgICAgICAgICAgIF90aGlzLmxlYWRlcmJvYXJkRGF0YVJlZnJlc2goKTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmFjdGl2ZSkgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQubG9hZFNjb3JlQm9hcmQoKTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuc2V0dGluZ3MuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgX3RoaXMuZ2V0TGVhZGVyYm9hcmREYXRhKGNvdW50LCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5sb2FkTGVhZGVyYm9hcmQoKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gcmVzdGFydCBsZWFkZXJib2FyZCByZWZyZXNoXHJcbiAgICAgICAgICAgIF90aGlzLmxlYWRlcmJvYXJkRGF0YVJlZnJlc2goKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5hY3RpdmUpIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLmxvYWRTY29yZUJvYXJkKCk7XHJcblxyXG4gICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5yZWZyZXNoSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgX3RoaXMuYWN0aXZlQ29tcGV0aXRpb25EYXRhUmVmcmVzaCgpO1xyXG4gICAgfSwgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24ucmVmcmVzaEludGVydmFsTWlsbGlzKTtcclxuICB9O1xyXG5cclxuICB0aGlzLmRlYWN0aXZhdGVDb21wZXRpdGlvbnNBbmRMZWFkZXJib2FyZHMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hJbnRlcnZhbCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQucmVmcmVzaEludGVydmFsKTtcclxuICAgIH1cclxuXHJcbiAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5jbGVhckFsbCgpO1xyXG4gICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5jbGVhckFsbCgpO1xyXG5cclxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgY2FsbGJhY2soKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB0aGlzLnN0b3BBY3Rpdml0eSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQucmVmcmVzaEludGVydmFsKSB7XHJcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoSW50ZXJ2YWwpO1xyXG4gICAgICBjbGVhckludGVydmFsKF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hJbnRlcnZhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hMYkRhdGFJbnRlcnZhbCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQucmVmcmVzaExiRGF0YUludGVydmFsKTtcclxuICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoTGJEYXRhSW50ZXJ2YWwpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy51cGRhdGVJbnRlcnZhbCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MudXBkYXRlSW50ZXJ2YWwpO1xyXG4gICAgICBjbGVhckludGVydmFsKF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hJbnRlcnZhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBjYWxsYmFjaygpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMucmVzdGFydEFjdGl2aXR5ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLmFjdGl2ZUNvbXBldGl0aW9uRGF0YVJlZnJlc2goKTtcclxuICAgIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnVwZGF0ZVNjb3JlQm9hcmQoKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5sb2FkTWVtYmVyID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLnNldHRpbmdzLmdsb2JhbEFqYXguYWJvcnQoKS5nZXREYXRhKHtcclxuICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyBfdGhpcy5zZXR0aW5ncy51cmkubWVtYmVycy5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLm1lbWJlcklkKSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcclxuICAgICAgfSxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcclxuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG5cclxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1lbWJlciA9IGpzb24uZGF0YTtcclxuXHJcbiAgICAgICAgICBjYWxsYmFjayhqc29uLmRhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBfdGhpcy5sb2coJ2ZhaWxlZCB0byBsb2FkTWVtYmVyICcgKyByZXNwb25zZSk7XHJcbiAgICAgICAgICAvLyBpZiB1c2VyIG5vdCBmb3VuZCwgd2UgY2FuIHJldHJ5IGxhdGVyIHRvIHNlZSBpZiBpdCB3YXMgaW5zZXJ0ZWQuXHJcbiAgICAgICAgICAvLyBub3JtYWxseSB0aGUgc3BpbiBldmVudHMgd2lsbCBhdXRvbWF0aWNhbGx5IGluc2VydCB0aGUgdXNlclxyXG4gICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDQwNCkge1xyXG4gICAgICAgICAgICAvLyByZXRyeSBpbiA1IHNlY3NcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgX3RoaXMuaW5pdCgpO1xyXG4gICAgICAgICAgICB9LCA1MDAwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHRoaXMubG9hZFdpZGdldFRyYW5zbGF0aW9ucyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBpZiAodHlwZW9mIF90aGlzLnNldHRpbmdzLnVyaS50cmFuc2xhdGlvblBhdGggPT09ICdzdHJpbmcnICYmIF90aGlzLnNldHRpbmdzLnVyaS50cmFuc2xhdGlvblBhdGgubGVuZ3RoID4gMCAmJiBfdGhpcy5zZXR0aW5ncy5sb2FkVHJhbnNsYXRpb25zKSB7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLmdsb2JhbEFqYXguYWJvcnQoKS5nZXREYXRhKHtcclxuICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICAvLyB0cmFuc2xhdGlvbiBwYXRoIG11c3QgYmUgYWJzb2x1dGUgVVJMXHJcbiAgICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy51cmkudHJhbnNsYXRpb25QYXRoLnJlcGxhY2UoJzpsYW5ndWFnZScsIF90aGlzLnNldHRpbmdzLmxhbmd1YWdlKS50b1N0cmluZygpLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XHJcbiAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcblxyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy50cmFuc2xhdGlvbiA9IG1lcmdlT2JqZWN0cyhfdGhpcy5zZXR0aW5ncy50cmFuc2xhdGlvbiwganNvbik7XHJcblxyXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgX3RoaXMubG9nKCdubyB0cmFuc2xhdGlvbiBmb3VuZCAnICsgcmVzcG9uc2UpO1xyXG5cclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBhamF4T3B0aW9ucywgdGhyb3duRXJyb3IpIHtcclxuICAgICAgICAgIF90aGlzLmxvZygnVHJhbnNsYXRpb24gRmlsZSBSZXF1ZXN0IEVycm9yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5zdGFydHVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5pbml0TGF5b3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgX3RoaXMuYWN0aXZlQ29tcGV0aXRpb25EYXRhUmVmcmVzaCgpO1xyXG5cclxuICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmVuYWJsZU5vdGlmaWNhdGlvbnMpIHtcclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5ub3RpZmljYXRpb25zLmluaXQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgX3RoaXMuY2xlYW51cCgpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdmFyIF9jbGVhbnVwSW5zdGFuY2U7XHJcbiAgdGhpcy5jbGVhbnVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBpZiAoX2NsZWFudXBJbnN0YW5jZSkge1xyXG4gICAgICBjbGVhclRpbWVvdXQoX2NsZWFudXBJbnN0YW5jZSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2NsZWFudXBJbnN0YW5jZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnByZUxvYWRlclJlcnVuKCk7XHJcblxyXG4gICAgICBfdGhpcy5jbGVhbnVwKCk7XHJcbiAgICB9LCAzMDAwKTtcclxuICB9O1xyXG5cclxuICB0aGlzLmxvYWRTdHlsZXNoZWV0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIGNyZWF0ZWRSZXNvdXJjZXMgPSBmYWxzZTtcclxuICAgIHZhciBhdmFpbGFibGVMaW5rcyA9IFtdO1xyXG5cclxuICAgIG9iamVjdEl0ZXJhdG9yKHF1ZXJ5KCdsaW5rJyksIGZ1bmN0aW9uIChsaW5rKSB7XHJcbiAgICAgIGlmIChsaW5rICE9PSBudWxsKSB7XHJcbiAgICAgICAgYXZhaWxhYmxlTGlua3MucHVzaChsaW5rLmhyZWYpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB3aW5kb3cubWFwT2JqZWN0KF90aGlzLnNldHRpbmdzLnJlc291cmNlcywgZnVuY3Rpb24gKHJlc291cmNlLCBrZXksIGNvdW50KSB7XHJcbiAgICAgIHZhciBleGlzdHMgPSBmYWxzZTtcclxuXHJcbiAgICAgIHdpbmRvdy5tYXBPYmplY3QoYXZhaWxhYmxlTGlua3MsIGZ1bmN0aW9uIChsaW5rKSB7XHJcbiAgICAgICAgaWYgKGxpbmsgPT09IHJlc291cmNlKSB7XHJcbiAgICAgICAgICBleGlzdHMgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIWV4aXN0cykge1xyXG4gICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xyXG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdyZWwnLCAnc3R5bGVzaGVldCcpO1xyXG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvY3NzJyk7XHJcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCByZXNvdXJjZSk7XHJcblxyXG4gICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xyXG4gICAgICAgICAgbGluay5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIGxpbmsub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcclxuXHJcbiAgICAgICAgY3JlYXRlZFJlc291cmNlcyA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghY3JlYXRlZFJlc291cmNlcyAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgY2FsbGJhY2soKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB0aGlzLmNsaWNrZWRNaW5pU2NvcmVCb2FyZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgaWYgKCFfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5kcmFnZ2luZykge1xyXG4gICAgICBfdGhpcy5kZWFjdGl2YXRlQ29tcGV0aXRpb25zQW5kTGVhZGVyYm9hcmRzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5sZWFkZXJib2FyZERhdGEgPSBbXTtcclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmluaXRMYXlvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgX3RoaXMuYWN0aXZlQ29tcGV0aXRpb25EYXRhUmVmcmVzaCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfSwgMjAwKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogT3BlbiBtYWluIHdpZGdldCBhbmQgb3BlbiBzcGVjaWZpYyB0YWIgYW5kIGxvYWRzIHJlbGV2YW50IGFjdGlvblxyXG4gICAqIEBwYXJhbSB0YWIgU3RyaW5nXHJcbiAgICogQHBhcmFtIGFjdGlvbkNhbGxiYWNrIEZ1bmN0aW9uXHJcbiAgICovXHJcbiAgdGhpcy5vcGVuV2l0aFRhYkFuZEFjdGlvbiA9IGZ1bmN0aW9uICh0YWIsIGFjdGlvbkNhbGxiYWNrKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnNldHRpbmdzLmFjdGl2ZSkge1xyXG4gICAgICB2YXIgbG9hZFRhYiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuc2V0dGluZ3MuY29udGFpbmVyLCB0YWIpO1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0Lm5hdmlnYXRpb25Td2l0Y2gobG9hZFRhYiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF90aGlzLmFjdGl2ZUNvbXBldGl0aW9uRGF0YVJlZnJlc2goKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb25DYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgYWN0aW9uQ2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgIH0sIDIwMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBfdGhpcy5kZWFjdGl2YXRlQ29tcGV0aXRpb25zQW5kTGVhZGVyYm9hcmRzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmluaXRMYXlvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5uYXZpZ2F0aW9uU3dpdGNoKHF1ZXJ5KF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuc2V0dGluZ3MuY29udGFpbmVyLCB0YWIpLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmFjdGl2ZUNvbXBldGl0aW9uRGF0YVJlZnJlc2goKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYWN0aW9uQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICBhY3Rpb25DYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH0sIDIwMCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHZhciBsb2FkQ29tcGV0aXRpb25MaXN0QWpheCA9IG5ldyBjTGFicy5BamF4KCk7XHJcbiAgdGhpcy5ldmVudEhhbmRsZXJzID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIC8vIG1pbmkgc2NvcmVib2FyZCBvcHQtaW4gYWN0aW9uXHJcbiAgICBpZiAoaGFzQ2xhc3MoZWwsICdjbC13aWRnZXQtbXMtb3B0aW4tYWN0aW9uJykgJiYgIWhhc0NsYXNzKGVsLCAnY2hlY2tpbmcnKSkge1xyXG4gICAgICBhZGRDbGFzcyhlbCwgJ2NoZWNraW5nJyk7XHJcblxyXG4gICAgICBfdGhpcy5vcHRJbk1lbWJlclRvQWN0aXZlQ29tcGV0aXRpb24oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF90aGlzLnJldmFsaWRhdGVJZlN1Y2Nlc3NmdWxsT3B0SW4oZnVuY3Rpb24gKGNvbXBldGl0aW9uSnNvbikge1xyXG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24gPSBjb21wZXRpdGlvbkpzb24uZGF0YTtcclxuXHJcbiAgICAgICAgICAvLyBfdGhpcy5nZXRMZWFkZXJib2FyZERhdGEoMSwgZnVuY3Rpb24oIGRhdGEgKXtcclxuICAgICAgICAgIC8vICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5sb2FkU2NvcmVCb2FyZCggZGF0YSApO1xyXG4gICAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgICAgLy8gZXh0cmEgYWN0aW9uIHRvIGxvYWQgY29tcGV0aXRpb24gZGV0YWlscyBvbiBtaW5pIHNjb3JlYm9hcmQgb3B0LWluIC0gUHJvZHVjdCByZXF1ZXN0XHJcbiAgICAgICAgICBfdGhpcy5kZWFjdGl2YXRlQ29tcGV0aXRpb25zQW5kTGVhZGVyYm9hcmRzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQubGVhZGVyYm9hcmREYXRhID0gW107XHJcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuaW5pdExheW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlQ29tcGV0aXRpb25EYXRhUmVmcmVzaCgpO1xyXG5cclxuICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmxvYWRDb21wZXRpdGlvbkRldGFpbHMoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9LCAyMDApO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdjaGVja2luZycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIExlYWRlcmJvYXJkIGRldGFpbHMgb3B0LWluIGFjdGlvblxyXG4gICAgfSBlbHNlIGlmIChoYXNDbGFzcyhlbCwgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtb3B0aW4tYWN0aW9uJykgJiYgIWhhc0NsYXNzKGVsLCAnY2hlY2tpbmcnKSkge1xyXG4gICAgICBhZGRDbGFzcyhlbCwgJ2NoZWNraW5nJyk7XHJcblxyXG4gICAgICBfdGhpcy5vcHRJbk1lbWJlclRvQWN0aXZlQ29tcGV0aXRpb24oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF90aGlzLnJldmFsaWRhdGVJZlN1Y2Nlc3NmdWxsT3B0SW4oZnVuY3Rpb24gKGNvbXBldGl0aW9uSnNvbikge1xyXG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24gPSBjb21wZXRpdGlvbkpzb24uZGF0YTtcclxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuY29tcGV0aXRpb25EZXRhaWxzT3B0SW5CdXR0b25TdGF0ZSgpO1xyXG5cclxuICAgICAgICAgIHJlbW92ZUNsYXNzKGVsLCAnY2hlY2tpbmcnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBMZWFkZXJib2FyZCBkZXRhaWxzIG9wdC1pbiBhY3Rpb25cclxuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1sYi1vcHRpbi1hY3Rpb24nKSAmJiAhaGFzQ2xhc3MoZWwsICdjaGVja2luZycpKSB7XHJcbiAgICAgIGFkZENsYXNzKGVsLCAnY2hlY2tpbmcnKTtcclxuXHJcbiAgICAgIF90aGlzLm9wdEluTWVtYmVyVG9BY3RpdmVDb21wZXRpdGlvbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3RoaXMucmV2YWxpZGF0ZUlmU3VjY2Vzc2Z1bGxPcHRJbihmdW5jdGlvbiAoY29tcGV0aXRpb25Kc29uKSB7XHJcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbiA9IGNvbXBldGl0aW9uSnNvbi5kYXRhO1xyXG5cclxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubG9hZENvbXBldGl0aW9uRGV0YWlscyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2NoZWNraW5nJyk7XHJcbiAgICAgICAgICBlbC5wYXJlbnROb2RlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gY2xvc2UgbWluaSBzY29yZWJvYXJkIGluZm8gYXJlYVxyXG4gICAgfSBlbHNlIGlmIChoYXNDbGFzcyhlbCwgJ2NsLXdpZGdldC1tcy1pbmZvcm1hdGlvbi1jbG9zZScpICYmICFoYXNDbGFzcyhlbCwgJ2NoZWNraW5nJykpIHtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuY2xlYXJBbGwoKTtcclxuXHJcbiAgICAgIC8vIGNsb3NlIG5vdGlmaWNhdGlvbiB3aW5kb3dcclxuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC13aWRnZXQtbm90aWYtaW5mb3JtYXRpb24tY2xvc2UnKSAmJiAhaGFzQ2xhc3MoZWwsICdjaGVja2luZycpKSB7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLm5vdGlmaWNhdGlvbnMuaGlkZU5vdGlmaWNhdGlvbigpO1xyXG5cclxuICAgICAgLy8gY2xvc2UgbGVhZGVyYm9hcmQgd2luZG93XHJcbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtbWFpbi13aWRnZXQtbGItaGVhZGVyLWNsb3NlJykgfHwgaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1hY2gtaGVhZGVyLWNsb3NlJykgfHwgaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtaGVhZGVyLWNsb3NlJykgfHwgaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1pbmJveC1oZWFkZXItY2xvc2UnKSkge1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmhpZGUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cclxuICAgICAgICBfdGhpcy5hY3RpdmVDb21wZXRpdGlvbkRhdGFSZWZyZXNoKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gbG9hZCBjb21wZXRpdGlvbiBkZXRhaWxzXHJcbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1jb250ZW50LWxhYmVsJykpIHtcclxuICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwpIHtcclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmxvYWRDb21wZXRpdGlvbkRldGFpbHMoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBsb2FkIGFjaGlldmVtZW50IGRldGFpbHNcclxuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1hY2gtbGlzdC1tb3JlJykpIHtcclxuICAgICAgX3RoaXMuZ2V0QWNoaWV2ZW1lbnQoZWwuZGF0YXNldC5pZCwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmxvYWRBY2hpZXZlbWVudERldGFpbHMoZGF0YSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIGxlYWRlcmJvYXJkIGRldGFpbHMgYmFjayBidXR0b25cclxuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWJhY2stYnRuJykpIHtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5oaWRlQ29tcGV0aXRpb25EZXRhaWxzKCk7XHJcblxyXG4gICAgICAvLyBhY2hpZXZlbWVudHMgZGV0YWlscyBiYWNrIGJ1dHRvblxyXG4gICAgfSBlbHNlIGlmIChoYXNDbGFzcyhlbCwgJ2NsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzLWJhY2stYnRuJykpIHtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5oaWRlQWNoaWV2ZW1lbnREZXRhaWxzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyByZXdhcmRzIGRldGFpbHMgYmFjayBidXR0b25cclxuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1iYWNrLWJ0bicpKSB7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuaGlkZVJld2FyZERldGFpbHMoZnVuY3Rpb24gKCkge1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIG1lc3NhZ2VzIGRldGFpbHMgYmFjayBidXR0b25cclxuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1pbmJveC1kZXRhaWxzLWJhY2stYnRuJykpIHtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5oaWRlTWVzc2FnZURldGFpbHMoZnVuY3Rpb24gKCkge1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIGxvYWQgcmV3YXJkcyBkZXRhaWxzXHJcbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtcmV3LWxpc3QtaXRlbScpIHx8IGNsb3Nlc3QoZWwsICcuY2wtcmV3LWxpc3QtaXRlbScpICE9PSBudWxsKSB7XHJcbiAgICAgIHZhciByZXdhcmRJZCA9IChoYXNDbGFzcyhlbCwgJ2NsLXJldy1saXN0LWl0ZW0nKSkgPyBlbC5kYXRhc2V0LnJld2FyZElkIDogY2xvc2VzdChlbCwgJy5jbC1yZXctbGlzdC1pdGVtJykuZGF0YXNldC5yZXdhcmRJZDtcclxuICAgICAgX3RoaXMuZ2V0UmV3YXJkKHJld2FyZElkLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubG9hZFJld2FyZERldGFpbHMoZGF0YSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIGxvYWQgaW5ib3ggZGV0YWlsc1xyXG4gICAgfSBlbHNlIGlmIChoYXNDbGFzcyhlbCwgJ2NsLWluYm94LWxpc3QtaXRlbScpIHx8IGNsb3Nlc3QoZWwsICcuY2wtaW5ib3gtbGlzdC1pdGVtJykgIT09IG51bGwpIHtcclxuICAgICAgdmFyIG1lc3NhZ2VJZCA9IChoYXNDbGFzcyhlbCwgJ2NsLWluYm94LWxpc3QtaXRlbScpKSA/IGVsLmRhdGFzZXQucmV3YXJkSWQgOiBjbG9zZXN0KGVsLCAnLmNsLWluYm94LWxpc3QtaXRlbScpLmRhdGFzZXQuaWQ7XHJcbiAgICAgIF90aGlzLmdldE1lc3NhZ2UobWVzc2FnZUlkLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubG9hZE1lc3NhZ2VEZXRhaWxzKGRhdGEsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBjbGFpbSByZXdhcmRcclxuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtY2xhaW0tYnRuJykpIHtcclxuICAgICAgX3RoaXMuY2xhaW1SZXdhcmQoZWwuZGF0YXNldC5pZCwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhLmNsYWltZWQpIHtcclxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubG9hZFJld2FyZHMoKTtcclxuXHJcbiAgICAgICAgICBhZGRDbGFzcyhlbCwgJ2NsLWNsYWltZWQnKTtcclxuICAgICAgICAgIGVsLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLnRyYW5zbGF0aW9uLnJld2FyZHMuY2xhaW1lZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdjbC1jbGFpbWVkJyk7XHJcbiAgICAgICAgICBlbC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy50cmFuc2xhdGlvbi5yZXdhcmRzLmNsYWltO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBsb2FkIGFjaGlldmVtZW50IGRldGFpbHMgd2luZG93IGZyb20gbm90aWZpY2F0aW9uIHdpbmRvd1xyXG4gICAgfSBlbHNlIGlmIChoYXNDbGFzcyhlbCwgJ2NsLXdpZGdldC1ub3RpZi1pbmZvcm1hdGlvbi1kZXRhaWxzLXdyYXBwZXInKSB8fCBjbG9zZXN0KGVsLCAnLmNsLXdpZGdldC1ub3RpZi1pbmZvcm1hdGlvbi1kZXRhaWxzLXdyYXBwZXInKSAhPT0gbnVsbCkge1xyXG4gICAgICBfdGhpcy5vcGVuV2l0aFRhYkFuZEFjdGlvbignLmNsLW1haW4td2lkZ2V0LW5hdmlnYXRpb24tYWNoLWljb24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGlkID0gKGhhc0NsYXNzKGVsLCAnY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLWRldGFpbHMtd3JhcHBlcicpKSA/IGVsLmRhdGFzZXQuaWQgOiBjbG9zZXN0KGVsLCAnLmNsLXdpZGdldC1ub3RpZi1pbmZvcm1hdGlvbi1kZXRhaWxzLXdyYXBwZXInKS5kYXRhc2V0LmlkO1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzLm5vdGlmaWNhdGlvbnMuaGlkZU5vdGlmaWNhdGlvbigpO1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuaGlkZUFjaGlldmVtZW50RGV0YWlscyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBfdGhpcy5nZXRBY2hpZXZlbWVudChpZCwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5sb2FkQWNoaWV2ZW1lbnREZXRhaWxzKGRhdGEpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gcHJpbWFyeSB3aWRnZXQgbmF2aWdhdGlvblxyXG4gICAgfSBlbHNlIGlmIChoYXNDbGFzcyhlbCwgJ2NsLW1haW4tbmF2aWdhdGlvbi1pdGVtJykpIHtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5uYXZpZ2F0aW9uU3dpdGNoKGVsKTtcclxuXHJcbiAgICAgIC8vIGNvbXBldGl0aW9uIGxpc3RcclxuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1sYi1oZWFkZXItbGlzdC1pY29uJykpIHtcclxuICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hJbnRlcnZhbCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoSW50ZXJ2YWwpO1xyXG4gICAgICB9XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubG9hZENvbXBldGl0aW9uTGlzdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3RoaXMuYWN0aXZlQ29tcGV0aXRpb25EYXRhUmVmcmVzaCgpO1xyXG4gICAgICB9LCBsb2FkQ29tcGV0aXRpb25MaXN0QWpheCk7XHJcblxyXG4gICAgICAvLyBsb2FkIGNvbXBldGl0aW9uXHJcbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtdG91ci1saXN0LWl0ZW0nKSB8fCBjbG9zZXN0KGVsLCAnLmNsLXRvdXItbGlzdC1pdGVtJykgIT09IG51bGwpIHtcclxuICAgICAgdmFyIHRvdXJuYW1lbnRJZCA9IChoYXNDbGFzcyhlbCwgJ2NsLXRvdXItbGlzdC1pdGVtJykpID8gZWwuZGF0YXNldC5pZCA6IGNsb3Nlc3QoZWwsICcuY2wtdG91ci1saXN0LWl0ZW0nKS5kYXRhc2V0LmlkO1xyXG4gICAgICB2YXIgcHJlTG9hZGVyID0gX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5wcmVsb2FkZXIoKTtcclxuXHJcbiAgICAgIHByZUxvYWRlci5zaG93KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnNldHRpbmdzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMuYWN0aXZlQ29tcGV0aXRpb25JZCA9IHRvdXJuYW1lbnRJZDtcclxuICAgICAgICBfdGhpcy5hY3RpdmVDb21wZXRpdGlvbkRhdGFSZWZyZXNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuaGlkZUNvbXBldGl0aW9uTGlzdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHByZUxvYWRlci5oaWRlKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBoaWRlIGNvbXBldGl0aW9uIGxpc3Qgdmlld1xyXG4gICAgfSBlbHNlIGlmIChoYXNDbGFzcyhlbCwgJ2NsLW1haW4td2lkZ2V0LXRvdXJuYW1lbnRzLWJhY2stYnRuJykpIHtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5oaWRlQ29tcGV0aXRpb25MaXN0KCk7XHJcblxyXG4gICAgICAvLyBtaW5pIHNjb3JlYm9hcmQgYWN0aW9uIHRvIG9wZW4gcHJpbWFyeSB3aWRnZXRcclxuICAgIH0gZWxzZSBpZiAoKGhhc0NsYXNzKGVsLCAnY2wtd2lkZ2V0LW1zLWljb24td3JhcHBlcicpIHx8IGNsb3Nlc3QoZWwsICcuY2wtd2lkZ2V0LW1zLWljb24td3JhcHBlcicpICE9PSBudWxsKSB8fCAoaGFzQ2xhc3MoZWwsICdjbC13aWRnZXQtbXMtaW5mb3JtYXRpb24td3JhcHBlcicpIHx8IGNsb3Nlc3QoZWwsICcuY2wtd2lkZ2V0LW1zLWluZm9ybWF0aW9uLXdyYXBwZXInKSAhPT0gbnVsbCkpIHtcclxuICAgICAgX3RoaXMuY2xpY2tlZE1pbmlTY29yZUJvYXJkKCk7XHJcblxyXG4gICAgICAvLyBhY2NvcmRpb24gbmF2aWdhdGlvblxyXG4gICAgfSBlbHNlIGlmIChoYXNDbGFzcyhlbCwgJ2NsLWFjY29yZGlvbi1sYWJlbCcpKSB7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuYWNjb3JkaW9uTmF2aWdhdGlvbihlbCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5ldmVudExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcclxuICAgICAgICBjYXNlIDI3OiAvLyBvbiBlc2NhcGVcclxuICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnNldHRpbmdzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmhpZGUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cclxuICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVDb21wZXRpdGlvbkRhdGFSZWZyZXNoKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChfdGhpcy5pc01vYmlsZSgpKSB7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgZWwgPSBldmVudC50YXJnZXQ7XHJcblxyXG4gICAgICAgIGlmICghX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuZHJhZ2dpbmcpIHtcclxuICAgICAgICAgIF90aGlzLmV2ZW50SGFuZGxlcnMoZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGVsID0gZXZlbnQudGFyZ2V0O1xyXG5cclxuICAgICAgICBfdGhpcy5ldmVudEhhbmRsZXJzKGVsKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5jbG9zZUV2ZXJ5dGhpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLmRlYWN0aXZhdGVDb21wZXRpdGlvbnNBbmRMZWFkZXJib2FyZHMoZnVuY3Rpb24gKCkge1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5sZWFkZXJib2FyZERhdGEgPSBbXTtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5pbml0TGF5b3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfdGhpcy5hY3RpdmVDb21wZXRpdGlvbkRhdGFSZWZyZXNoKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgfSwgMjAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuaGlkZSgpO1xyXG4gICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5zZXR0aW5ncy5wcmVMb2FkZXIucHJlTG9hZGVyQWN0aXZlID0gZmFsc2U7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5pc01vYmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBpc01vYmlsZVRhYmxldCgpO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMubG9hZFN0eWxlc2hlZXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBfdGhpcy5sb2FkTWVtYmVyKGZ1bmN0aW9uIChtZW1iZXIpIHtcclxuICAgICAgICBfdGhpcy5sb2FkV2lkZ2V0VHJhbnNsYXRpb25zKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5ub3RpZmljYXRpb25zID0gbmV3IE5vdGlmaWNhdGlvbnMoKTtcclxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQgPSBuZXcgTWluaVNjb3JlQm9hcmQoe1xyXG4gICAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldCA9IG5ldyBNYWluV2lkZ2V0KCk7XHJcblxyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5ub3RpZmljYXRpb25zLnNldHRpbmdzLmxiV2lkZ2V0ID0gX3RoaXM7XHJcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmxiV2lkZ2V0ID0gX3RoaXM7XHJcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuc2V0dGluZ3MubGJXaWRnZXQgPSBfdGhpcztcclxuXHJcbiAgICAgICAgICAgIF90aGlzLnN0YXJ0dXAoKTtcclxuICAgICAgICAgICAgX3RoaXMuZXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuaGlkZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgX3RoaXMuZGVhY3RpdmF0ZUNvbXBldGl0aW9uc0FuZExlYWRlcmJvYXJkcyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhcnR1cCgpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBpZiAodGhpcy5zZXR0aW5ncy5hdXRvU3RhcnQpIHtcclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gIH1cclxufTtcclxuIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xyXG5pbXBvcnQgaGFzQ2xhc3MgZnJvbSAnLi4vdXRpbHMvaGFzQ2xhc3MnO1xyXG5pbXBvcnQgcmVtb3ZlQ2xhc3MgZnJvbSAnLi4vdXRpbHMvcmVtb3ZlQ2xhc3MnO1xyXG5pbXBvcnQgb2JqZWN0SXRlcmF0b3IgZnJvbSAnLi4vdXRpbHMvb2JqZWN0SXRlcmF0b3InO1xyXG5pbXBvcnQgcXVlcnkgZnJvbSAnLi4vdXRpbHMvcXVlcnknO1xyXG5pbXBvcnQgY2xvc2VzdCBmcm9tICcuLi91dGlscy9jbG9zZXN0JztcclxuaW1wb3J0IGFkZENsYXNzIGZyb20gJy4uL3V0aWxzL2FkZENsYXNzJztcclxuaW1wb3J0IHJlbW92ZSBmcm9tICcuLi91dGlscy9yZW1vdmUnO1xyXG5pbXBvcnQgYXBwZW5kTmV4dCBmcm9tICcuLi91dGlscy9hcHBlbmROZXh0JztcclxuaW1wb3J0IHN0cmlwSHRtbCBmcm9tICcuLi91dGlscy9zdHJpcEh0bWwnO1xyXG5cclxuZXhwb3J0IGNvbnN0IE1haW5XaWRnZXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gIHRoaXMuc2V0dGluZ3MgPSB7XHJcbiAgICBsYldpZGdldDogbnVsbCxcclxuICAgIGNvbnRhaW5lcjogbnVsbCxcclxuICAgIG5hdmlnYXRpb246IG51bGwsXHJcbiAgICBzZWN0aW9uOiBudWxsLFxyXG4gICAgZGV0YWlsc0NvbnRhaW5lcjogbnVsbCxcclxuICAgIHRvdXJuYW1lbnRMaXN0Q29udGFpbmVyOiBudWxsLFxyXG4gICAgaGVhZGVyRGF0ZTogbnVsbCxcclxuICAgIHByZUxvYWRlcjoge1xyXG4gICAgICBwcmVMb2FkZXJBY3RpdmU6IGZhbHNlLFxyXG4gICAgICBwcmVMb2FkZXJsYXN0QXR0ZW1wdDogbnVsbCxcclxuICAgICAgcHJlbG9hZGVyQ2FsbGJhY2tSZWNvdmVyeTogZnVuY3Rpb24gKCkge1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgYWNoaWV2ZW1lbnQ6IHtcclxuICAgICAgY29udGFpbmVyOiBudWxsLFxyXG4gICAgICBkZXRhaWxzQ29udGFpbmVyOiBudWxsXHJcbiAgICB9LFxyXG4gICAgcmV3YXJkOiB7XHJcbiAgICAgIGNvbnRhaW5lcjogbnVsbCxcclxuICAgICAgZGV0YWlsc0NvbnRhaW5lcjogbnVsbFxyXG4gICAgfSxcclxuICAgIG1lc3NhZ2VzOiB7XHJcbiAgICAgIGNvbnRhaW5lcjogbnVsbCxcclxuICAgICAgZGV0YWlsc0NvbnRhaW5lcjogbnVsbFxyXG4gICAgfSxcclxuICAgIGxlYWRlcmJvYXJkOiB7XHJcbiAgICAgIGRlZmF1bHRFbXB0eUxpc3Q6IDIwLFxyXG4gICAgICB0b3BSZXN1bHRTaXplOiAzLFxyXG4gICAgICBoZWFkZXI6IG51bGwsXHJcbiAgICAgIGNvbnRhaW5lcjogbnVsbCxcclxuICAgICAgbGlzdDogbnVsbCxcclxuICAgICAgdG9wUmVzdWx0czogbnVsbCxcclxuICAgICAgdGltZXJJbnRlcnZhbDogbnVsbFxyXG4gICAgfSxcclxuICAgIHRvdXJuYW1lbnRzU2VjdGlvbjoge1xyXG4gICAgICBhY2NvcmRpb25MYXlvdXQ6IFt7XHJcbiAgICAgICAgbGFiZWw6ICdVcGNvbWluZyBUb3VybmFtZW50cycsXHJcbiAgICAgICAgdHlwZTogJ3JlYWR5Q29tcGV0aXRpb25zJyxcclxuICAgICAgICBzaG93OiBmYWxzZSxcclxuICAgICAgICBzaG93VG9wUmVzdWx0czogMVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbGFiZWw6ICdBY3RpdmUgVG91cm5hbWVudHMnLFxyXG4gICAgICAgIHR5cGU6ICdhY3RpdmVDb21wZXRpdGlvbnMnLFxyXG4gICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgc2hvd1RvcFJlc3VsdHM6IDFcclxuICAgICAgfSwge1xyXG4gICAgICAgIGxhYmVsOiAnRmluaXNoZWQgVG91cm5hbWVudHMnLFxyXG4gICAgICAgIHR5cGU6ICdmaW5pc2hlZENvbXBldGl0aW9ucycsXHJcbiAgICAgICAgc2hvdzogZmFsc2UsXHJcbiAgICAgICAgc2hvd1RvcFJlc3VsdHM6IDFcclxuICAgICAgfV1cclxuICAgIH0sXHJcbiAgICByZXdhcmRzU2VjdGlvbjoge1xyXG4gICAgICBhY2NvcmRpb25MYXlvdXQ6IFt7XHJcbiAgICAgICAgbGFiZWw6ICdBdmFpbGFibGUgUmV3YXJkcycsXHJcbiAgICAgICAgdHlwZTogJ2F2YWlsYWJsZVJld2FyZHMnLFxyXG4gICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgc2hvd1RvcFJlc3VsdHM6IDFcclxuICAgICAgfSwge1xyXG4gICAgICAgIGxhYmVsOiAnQ2xhaW1lZCBSZXdhcmRzJyxcclxuICAgICAgICB0eXBlOiAncmV3YXJkcycsXHJcbiAgICAgICAgc2hvdzogZmFsc2UsXHJcbiAgICAgICAgc2hvd1RvcFJlc3VsdHM6IDFcclxuICAgICAgfSwge1xyXG4gICAgICAgIGxhYmVsOiAnRXhwaXJlZCBSZXdhcmRzJyxcclxuICAgICAgICB0eXBlOiAnZXhwaXJlZFJld2FyZHMnLFxyXG4gICAgICAgIHNob3c6IGZhbHNlLFxyXG4gICAgICAgIHNob3dUb3BSZXN1bHRzOiAxXHJcbiAgICAgIH1dXHJcbiAgICB9LFxyXG4gICAgYWN0aXZlOiBmYWxzZSxcclxuICAgIG5hdmlnYXRpb25Td2l0Y2hMYXN0QXRlbXB0OiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcclxuICAgIG5hdmlnYXRpb25Td2l0Y2hJblByb2dyZXNzOiBmYWxzZVxyXG4gIH07XHJcblxyXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIGZvciAodmFyIG9wdCBpbiBvcHRpb25zKSB7XHJcbiAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG9wdCkpIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzW29wdF0gPSBvcHRpb25zW29wdF07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFjY29yZGlvbiBzdHlsZSBsYXlvdXRcclxuICAgKiAtIHBhcmFtZXRlcnM6XHJcbiAgICogICAgICAtIGxhYmVsOiBTdHJpbmcgXCJBdmFpbGFibGUgcmV3YXJkc1wiXHJcbiAgICogICAgICAtIHR5cGU6IFN0cmluZyBcImF2YWlsYWJsZS1yZXdhcmRzXCJcclxuICAgKiAgICAgIC0gc2hvd246IEJvb2xlYW4gdHJ1ZS9mYWxzZVxyXG4gICAqIEBwYXJhbSBkYXRhIEFycmF5XHJcbiAgICogQHBhcmFtIG9uTGF5b3V0IEZ1bmN0aW9uXHJcbiAgICovXHJcbiAgdGhpcy5hY2NvcmRpb25TdHlsZSA9IGZ1bmN0aW9uIChkYXRhLCBvbkxheW91dCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBhY2NvcmRpb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgYWNjb3JkaW9uV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4tYWNjb3JkaW9uLWNvbnRhaW5lcicpO1xyXG5cclxuICAgIHdpbmRvdy5tYXBPYmplY3QoZGF0YSwgZnVuY3Rpb24gKGVudHJ5KSB7XHJcbiAgICAgIHZhciBhY2NvcmRpb25TZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHZhciBhY2NvcmRpb25MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB2YXIgdG9wU2hvd25FbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB2YXIgYWNjb3JkaW9uTGlzdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB2YXIgYWNjb3JkaW9uTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgYWNjb3JkaW9uU2VjdGlvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjY29yZGlvbiAnICsgZW50cnkudHlwZSArICgodHlwZW9mIGVudHJ5LnNob3cgPT09ICdib29sZWFuJyAmJiBlbnRyeS5zaG93KSA/ICcgY2wtc2hvd24nIDogJycpKTtcclxuICAgICAgYWNjb3JkaW9uTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2NvcmRpb24tbGFiZWwnKTtcclxuICAgICAgdG9wU2hvd25FbnRyeS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjY29yZGlvbi1lbnRyeScpO1xyXG4gICAgICBhY2NvcmRpb25MaXN0Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNjb3JkaW9uLWxpc3QtY29udGFpbmVyJyk7XHJcbiAgICAgIGFjY29yZGlvbkxpc3Quc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2NvcmRpb24tbGlzdCcpO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5yZXdhcmRzW2VudHJ5LnR5cGVdICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGFjY29yZGlvbkxhYmVsLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnJld2FyZHNbZW50cnkudHlwZV07XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnRvdXJuYW1lbnRzW2VudHJ5LnR5cGVdICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGFjY29yZGlvbkxhYmVsLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnRvdXJuYW1lbnRzW2VudHJ5LnR5cGVdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFjY29yZGlvbkxhYmVsLmlubmVySFRNTCA9IGVudHJ5LmxhYmVsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodHlwZW9mIG9uTGF5b3V0ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgb25MYXlvdXQoYWNjb3JkaW9uU2VjdGlvbiwgYWNjb3JkaW9uTGlzdCwgdG9wU2hvd25FbnRyeSwgZW50cnkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhY2NvcmRpb25MaXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGFjY29yZGlvbkxpc3QpO1xyXG5cclxuICAgICAgYWNjb3JkaW9uU2VjdGlvbi5hcHBlbmRDaGlsZChhY2NvcmRpb25MYWJlbCk7XHJcbiAgICAgIGFjY29yZGlvblNlY3Rpb24uYXBwZW5kQ2hpbGQodG9wU2hvd25FbnRyeSk7XHJcbiAgICAgIGFjY29yZGlvblNlY3Rpb24uYXBwZW5kQ2hpbGQoYWNjb3JkaW9uTGlzdENvbnRhaW5lcik7XHJcblxyXG4gICAgICBhY2NvcmRpb25XcmFwcGVyLmFwcGVuZENoaWxkKGFjY29yZGlvblNlY3Rpb24pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGFjY29yZGlvbldyYXBwZXI7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5hY2NvcmRpb25OYXZpZ2F0aW9uID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgIC8vIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB2YXIgcGFyZW50RWwgPSBlbGVtZW50LnBhcmVudE5vZGU7XHJcblxyXG4gICAgaWYgKGhhc0NsYXNzKHBhcmVudEVsLCAnY2wtc2hvd24nKSkge1xyXG4gICAgICByZW1vdmVDbGFzcyhwYXJlbnRFbCwgJ2NsLXNob3duJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvYmplY3RJdGVyYXRvcihxdWVyeShjbG9zZXN0KHBhcmVudEVsLCAnLmNsLW1haW4tYWNjb3JkaW9uLWNvbnRhaW5lcicpLCAnLmNsLXNob3duJyksIGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICByZW1vdmVDbGFzcyhvYmosICdjbC1zaG93bicpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGFkZENsYXNzKHBhcmVudEVsLCAnY2wtc2hvd24nKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB0aGlzLmxheW91dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGlubmVyV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgIHZhciBuYXZpZ2F0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgbmF2aWdhdGlvbkl0ZW1zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgbmF2aWdhdGlvbkl0ZW1MQiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIG5hdmlnYXRpb25JdGVtTEJJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgbmF2aWdhdGlvbkl0ZW1BQ0ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBuYXZpZ2F0aW9uSXRlbUFDSEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBuYXZpZ2F0aW9uSXRlbVJld2FyZHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBuYXZpZ2F0aW9uSXRlbVJld2FyZHNJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgbmF2aWdhdGlvbkl0ZW1JbmJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIG5hdmlnYXRpb25JdGVtSW5ib3hJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgdmFyIG1haW5TZWN0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgdmFyIHByZUxvYWRlckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHByZUxvYWRlckNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBwcmVMb2FkZXJCYXIxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgcHJlTG9hZGVyQmFyMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHByZUxvYWRlckJhcjMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICB2YXIgc2VjdGlvbkxCID0gX3RoaXMubGVhZGVyYm9hcmRBcmVhTGF5b3V0KCk7XHJcbiAgICB2YXIgc2VjdGlvbkFDSCA9IF90aGlzLmFjaGlldmVtZW50c0FyZWFMYXlvdXQoKTtcclxuICAgIHZhciBzZWN0aW9uUmV3YXJkcyA9IF90aGlzLnJld2FyZHNBcmVhTGF5b3V0KCk7XHJcbiAgICB2YXIgc2VjdGlvbkluYm94ID0gX3RoaXMuaW5ib3hBcmVhTGF5b3V0KCk7XHJcblxyXG4gICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXdyYXBwZXInKTtcclxuICAgIGlubmVyV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWlubmVyLXdyYXBwZXInKTtcclxuXHJcbiAgICBuYXZpZ2F0aW9uQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1jb250YWluZXInKTtcclxuICAgIG5hdmlnYXRpb25JdGVtcy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LW5hdmlnYXRpb24taXRlbXMnKTtcclxuICAgIG5hdmlnYXRpb25JdGVtTEIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWxiIGNsLWFjdGl2ZS1uYXYnKTtcclxuICAgIG5hdmlnYXRpb25JdGVtTEJJY29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1sYi1pY29uIGNsLW1haW4tbmF2aWdhdGlvbi1pdGVtJyk7XHJcbiAgICBuYXZpZ2F0aW9uSXRlbUFDSC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LW5hdmlnYXRpb24tYWNoJyk7XHJcbiAgICBuYXZpZ2F0aW9uSXRlbUFDSEljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWFjaC1pY29uIGNsLW1haW4tbmF2aWdhdGlvbi1pdGVtJyk7XHJcbiAgICBuYXZpZ2F0aW9uSXRlbVJld2FyZHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLXJld2FyZHMnKTtcclxuICAgIG5hdmlnYXRpb25JdGVtUmV3YXJkc0ljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLXJld2FyZHMtaWNvbiBjbC1tYWluLW5hdmlnYXRpb24taXRlbScpO1xyXG5cclxuICAgIG1haW5TZWN0aW9uQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1jb250YWluZXInKTtcclxuXHJcbiAgICBwcmVMb2FkZXJDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1wcmUtbG9hZGVyJyk7XHJcbiAgICBwcmVMb2FkZXJDb250ZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcHJlLWxvYWRlci1jb250ZW50Jyk7XHJcbiAgICBwcmVMb2FkZXJCYXIxLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtcHJlLWxvYWRlci1iYXInKTtcclxuICAgIHByZUxvYWRlckJhcjIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1wcmUtbG9hZGVyLWJhcicpO1xyXG4gICAgcHJlTG9hZGVyQmFyMy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXByZS1sb2FkZXItYmFyJyk7XHJcblxyXG4gICAgcHJlTG9hZGVyQ29udGVudC5hcHBlbmRDaGlsZChwcmVMb2FkZXJCYXIxKTtcclxuICAgIHByZUxvYWRlckNvbnRlbnQuYXBwZW5kQ2hpbGQocHJlTG9hZGVyQmFyMik7XHJcbiAgICBwcmVMb2FkZXJDb250ZW50LmFwcGVuZENoaWxkKHByZUxvYWRlckJhcjMpO1xyXG4gICAgcHJlTG9hZGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHByZUxvYWRlckNvbnRlbnQpO1xyXG5cclxuICAgIG5hdmlnYXRpb25JdGVtTEIuYXBwZW5kQ2hpbGQobmF2aWdhdGlvbkl0ZW1MQkljb24pO1xyXG4gICAgbmF2aWdhdGlvbkl0ZW1zLmFwcGVuZENoaWxkKG5hdmlnYXRpb25JdGVtTEIpO1xyXG4gICAgbmF2aWdhdGlvbkl0ZW1BQ0guYXBwZW5kQ2hpbGQobmF2aWdhdGlvbkl0ZW1BQ0hJY29uKTtcclxuICAgIG5hdmlnYXRpb25JdGVtcy5hcHBlbmRDaGlsZChuYXZpZ2F0aW9uSXRlbUFDSCk7XHJcbiAgICBuYXZpZ2F0aW9uSXRlbVJld2FyZHMuYXBwZW5kQ2hpbGQobmF2aWdhdGlvbkl0ZW1SZXdhcmRzSWNvbik7XHJcbiAgICBuYXZpZ2F0aW9uSXRlbXMuYXBwZW5kQ2hpbGQobmF2aWdhdGlvbkl0ZW1SZXdhcmRzKTtcclxuXHJcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubWVzc2FnZXMuZW5hYmxlKSB7XHJcbiAgICAgIG5hdmlnYXRpb25JdGVtSW5ib3guc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWluYm94Jyk7XHJcbiAgICAgIG5hdmlnYXRpb25JdGVtSW5ib3hJY29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1pbmJveC1pY29uIGNsLW1haW4tbmF2aWdhdGlvbi1pdGVtJyk7XHJcbiAgICAgIG5hdmlnYXRpb25JdGVtSW5ib3guYXBwZW5kQ2hpbGQobmF2aWdhdGlvbkl0ZW1JbmJveEljb24pO1xyXG4gICAgICBuYXZpZ2F0aW9uSXRlbXMuYXBwZW5kQ2hpbGQobmF2aWdhdGlvbkl0ZW1JbmJveCk7XHJcbiAgICB9XHJcblxyXG4gICAgbmF2aWdhdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChuYXZpZ2F0aW9uSXRlbXMpO1xyXG5cclxuICAgIG1haW5TZWN0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25MQik7XHJcbiAgICBtYWluU2VjdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uQUNIKTtcclxuICAgIG1haW5TZWN0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzKTtcclxuICAgIG1haW5TZWN0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveCk7XHJcbiAgICBtYWluU2VjdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChwcmVMb2FkZXJDb250YWluZXIpO1xyXG5cclxuICAgIGlubmVyV3JhcHBlci5hcHBlbmRDaGlsZChuYXZpZ2F0aW9uQ29udGFpbmVyKTtcclxuICAgIGlubmVyV3JhcHBlci5hcHBlbmRDaGlsZChtYWluU2VjdGlvbkNvbnRhaW5lcik7XHJcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGlubmVyV3JhcHBlcik7XHJcblxyXG4gICAgcmV0dXJuIHdyYXBwZXI7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5sZWFkZXJib2FyZEFyZWFMYXlvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIHNlY3Rpb25MQiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgIHZhciBzZWN0aW9uTEJIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uTEJIZWFkZXJMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvbkxCSGVhZGVyTGlzdEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uTEJIZWFkZXJMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25MQkhlYWRlckRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uTEJIZWFkZXJDbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgIHZhciBzZWN0aW9uTEJEZXRhaWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvbkxCRGV0YWlsc0luZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uTEJEZXRhaWxzSW5mb0ljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uTEJEZXRhaWxzQ29udGVudENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uTEJEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICB2YXIgc2VjdGlvbkxCTGVhZGVyYm9hcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uTEJMZWFkZXJib2FyZEhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyTGFiZWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvbkxCTGVhZGVyYm9hcmRIZWFkZXJUb3BSZXN1bHRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvbkxCTGVhZGVyYm9hcmRCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvbkxCTGVhZGVyYm9hcmRCb2R5UmVzdWx0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgIHZhciBzZWN0aW9uTEJNaXNzaW5nTWVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgdmFyIHNlY3Rpb25MQk9wdEluQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvbkxCT3B0SW5BY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblxyXG4gICAgdmFyIHNlY3Rpb25MQkZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25MQkZvb3RlckNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICB2YXIgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzSGVhZGVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uVG91cm5hbWVudERldGFpbHNIZWFkZXJEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQmFja0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgIHZhciBzZWN0aW9uVG91cm5hbWVudERldGFpbHNCb2R5Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQm9keUltYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc09wdEluQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzT3B0SW5BY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblxyXG4gICAgdmFyIHNlY3Rpb25Ub3VybmFtZW50TGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25Ub3VybmFtZW50TGlzdEJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uVG91cm5hbWVudExpc3RCb2R5UmVzdWx0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25Ub3VybmFtZW50QmFja0FjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuXHJcbiAgICBzZWN0aW9uTEIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYiBjbC1tYWluLXNlY3Rpb24taXRlbSBjbC1tYWluLWFjdGl2ZS1zZWN0aW9uJyk7XHJcbiAgICBzZWN0aW9uTEJIZWFkZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1oZWFkZXInKTtcclxuICAgIHNlY3Rpb25MQkhlYWRlckxpc3Quc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1oZWFkZXItbGlzdCcpO1xyXG4gICAgc2VjdGlvbkxCSGVhZGVyTGlzdEljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1oZWFkZXItbGlzdC1pY29uJyk7XHJcbiAgICBzZWN0aW9uTEJIZWFkZXJMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWhlYWRlci1sYWJlbCcpO1xyXG4gICAgc2VjdGlvbkxCSGVhZGVyRGF0ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWhlYWRlci1kYXRlJyk7XHJcbiAgICBzZWN0aW9uTEJIZWFkZXJDbG9zZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWhlYWRlci1jbG9zZScpO1xyXG5cclxuICAgIHNlY3Rpb25MQkRldGFpbHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzJyk7XHJcbiAgICBzZWN0aW9uTEJEZXRhaWxzSW5mby5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtaW5mbycpO1xyXG4gICAgc2VjdGlvbkxCRGV0YWlsc0luZm9JY29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1pbmZvLWljb24nKTtcclxuICAgIHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1jb250ZW50Jyk7XHJcbiAgICBzZWN0aW9uTEJEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1jb250ZW50LWxhYmVsJyk7XHJcbiAgICBzZWN0aW9uTEJEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWNvbnRlbnQtZGF0ZScpO1xyXG5cclxuICAgIC8vIExlYWRlcmJvYXJkIHJlc3VsdCBjb250YWluZXJcclxuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItbGVhZGVyYm9hcmQnKTtcclxuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItbGVhZGVyYm9hcmQtaGVhZGVyJyk7XHJcbiAgICBzZWN0aW9uTEJMZWFkZXJib2FyZEhlYWRlckxhYmVscy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWxlYWRlcmJvYXJkLWhlYWRlci1sYWJlbHMnKTtcclxuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyVG9wUmVzdWx0cy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWxlYWRlcmJvYXJkLWhlYWRlci10b3AtcmVzJyk7XHJcbiAgICBzZWN0aW9uTEJMZWFkZXJib2FyZEJvZHkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1sZWFkZXJib2FyZC1ib2R5Jyk7XHJcbiAgICBzZWN0aW9uTEJMZWFkZXJib2FyZEJvZHlSZXN1bHRzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItbGVhZGVyYm9hcmQtYm9keS1yZXMnKTtcclxuXHJcbiAgICBzZWN0aW9uTEJNaXNzaW5nTWVtYmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItbWlzc2luZy1tZW1iZXInKTtcclxuXHJcbiAgICAvLyBmb290ZXJcclxuICAgIHNlY3Rpb25MQkZvb3Rlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWZvb3RlcicpO1xyXG4gICAgc2VjdGlvbkxCRm9vdGVyQ29udGVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWZvb3Rlci1jb250ZW50Jyk7XHJcblxyXG4gICAgLy8gZGV0YWlscyBzZWN0aW9uXHJcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWNvbnRhaW5lcicpO1xyXG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzSGVhZGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1oZWFkZXInKTtcclxuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0hlYWRlckxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1oZWFkZXItbGFiZWwnKTtcclxuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0hlYWRlckRhdGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWhlYWRlci1kYXRlJyk7XHJcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNCYWNrQnRuLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1iYWNrLWJ0bicpO1xyXG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQm9keUNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtYm9keS1jb250YWluZXInKTtcclxuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JvZHlJbWFnZUNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtYm9keS1pbWFnZS1jb250Jyk7XHJcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNCb2R5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1ib2R5Jyk7XHJcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNPcHRJbkNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtb3B0aW4tY29udGFpbmVyJyk7XHJcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNPcHRJbkFjdGlvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtb3B0aW4tYWN0aW9uJyk7XHJcblxyXG4gICAgc2VjdGlvblRvdXJuYW1lbnRMaXN0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtdG91cm5hbWVudHMtbGlzdCcpO1xyXG4gICAgc2VjdGlvblRvdXJuYW1lbnRCYWNrQWN0aW9uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtdG91cm5hbWVudHMtYmFjay1idG4nKTtcclxuICAgIHNlY3Rpb25Ub3VybmFtZW50TGlzdEJvZHkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC10b3VybmFtZW50cy1saXN0LWJvZHknKTtcclxuICAgIHNlY3Rpb25Ub3VybmFtZW50TGlzdEJvZHlSZXN1bHRzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtdG91cm5hbWVudHMtbGlzdC1ib2R5LXJlcycpO1xyXG5cclxuICAgIHNlY3Rpb25MQk9wdEluQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItb3B0aW4tY29udGFpbmVyJyk7XHJcbiAgICBzZWN0aW9uTEJPcHRJbkFjdGlvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLW9wdGluLWFjdGlvbicpO1xyXG5cclxuICAgIHNlY3Rpb25MQkhlYWRlckxhYmVsLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnRvdXJuYW1lbnRzLmxhYmVsO1xyXG4gICAgc2VjdGlvbkxCRm9vdGVyQ29udGVudC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5nbG9iYWwuY29weTtcclxuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc09wdEluQWN0aW9uLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnRvdXJuYW1lbnRzLmVudGVyO1xyXG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzT3B0SW5BY3Rpb24uaHJlZiA9ICdqYXZhc2NyaXB0OnZvaWQoMCk7JztcclxuICAgIHNlY3Rpb25MQk9wdEluQWN0aW9uLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnRvdXJuYW1lbnRzLmVudGVyO1xyXG4gICAgc2VjdGlvbkxCT3B0SW5BY3Rpb24uaHJlZiA9ICdqYXZhc2NyaXB0OnZvaWQoMCk7JztcclxuXHJcbiAgICBzZWN0aW9uTEJIZWFkZXJMaXN0LmFwcGVuZENoaWxkKHNlY3Rpb25MQkhlYWRlckxpc3RJY29uKTtcclxuICAgIHNlY3Rpb25MQkhlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uTEJIZWFkZXJMaXN0KTtcclxuICAgIHNlY3Rpb25MQkhlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uTEJIZWFkZXJMYWJlbCk7XHJcbiAgICBzZWN0aW9uTEJIZWFkZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCSGVhZGVyRGF0ZSk7XHJcbiAgICBzZWN0aW9uTEJIZWFkZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCSGVhZGVyQ2xvc2UpO1xyXG5cclxuICAgIHNlY3Rpb25MQkRldGFpbHNJbmZvLmFwcGVuZENoaWxkKHNlY3Rpb25MQkRldGFpbHNJbmZvSWNvbik7XHJcbiAgICBzZWN0aW9uTEJEZXRhaWxzQ29udGVudENvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uTEJEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsKTtcclxuICAgIHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyRGF0ZSk7XHJcbiAgICBzZWN0aW9uTEJEZXRhaWxzLmFwcGVuZENoaWxkKHNlY3Rpb25MQkRldGFpbHNJbmZvKTtcclxuICAgIHNlY3Rpb25MQkRldGFpbHMuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCRGV0YWlsc0NvbnRlbnRDb250YWluZXIpO1xyXG5cclxuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyTGFiZWxzKTtcclxuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkLmFwcGVuZENoaWxkKHNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyKTtcclxuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkLmFwcGVuZENoaWxkKHNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyVG9wUmVzdWx0cyk7XHJcbiAgICBzZWN0aW9uTEJMZWFkZXJib2FyZEJvZHkuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCTGVhZGVyYm9hcmRCb2R5UmVzdWx0cyk7XHJcbiAgICBzZWN0aW9uTEJMZWFkZXJib2FyZC5hcHBlbmRDaGlsZChzZWN0aW9uTEJMZWFkZXJib2FyZEJvZHkpO1xyXG5cclxuICAgIHNlY3Rpb25MQkZvb3Rlci5hcHBlbmRDaGlsZChzZWN0aW9uTEJGb290ZXJDb250ZW50KTtcclxuXHJcbiAgICBzZWN0aW9uVG91cm5hbWVudExpc3RCb2R5LmFwcGVuZENoaWxkKHNlY3Rpb25Ub3VybmFtZW50TGlzdEJvZHlSZXN1bHRzKTtcclxuICAgIHNlY3Rpb25Ub3VybmFtZW50TGlzdC5hcHBlbmRDaGlsZChzZWN0aW9uVG91cm5hbWVudExpc3RCb2R5KTtcclxuICAgIHNlY3Rpb25Ub3VybmFtZW50TGlzdC5hcHBlbmRDaGlsZChzZWN0aW9uVG91cm5hbWVudEJhY2tBY3Rpb24pO1xyXG5cclxuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0hlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uVG91cm5hbWVudERldGFpbHNIZWFkZXJMYWJlbCk7XHJcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNIZWFkZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzSGVhZGVyRGF0ZSk7XHJcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzSGVhZGVyKTtcclxuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uVG91cm5hbWVudERldGFpbHNCYWNrQnRuKTtcclxuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JvZHlDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQm9keUltYWdlQ29udGFpbmVyKTtcclxuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JvZHlDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQm9keSk7XHJcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQm9keUNvbnRhaW5lcik7XHJcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNPcHRJbkNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uVG91cm5hbWVudERldGFpbHNPcHRJbkFjdGlvbik7XHJcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzT3B0SW5Db250YWluZXIpO1xyXG5cclxuICAgIHNlY3Rpb25MQk9wdEluQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25MQk9wdEluQWN0aW9uKTtcclxuXHJcbiAgICBzZWN0aW9uTEIuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCSGVhZGVyKTtcclxuICAgIHNlY3Rpb25MQi5hcHBlbmRDaGlsZChzZWN0aW9uTEJEZXRhaWxzKTtcclxuICAgIHNlY3Rpb25MQi5hcHBlbmRDaGlsZChzZWN0aW9uTEJMZWFkZXJib2FyZCk7XHJcbiAgICBzZWN0aW9uTEIuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCTWlzc2luZ01lbWJlcik7XHJcbiAgICBzZWN0aW9uTEIuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCT3B0SW5Db250YWluZXIpO1xyXG4gICAgc2VjdGlvbkxCLmFwcGVuZENoaWxkKHNlY3Rpb25MQkZvb3Rlcik7XHJcbiAgICBzZWN0aW9uTEIuYXBwZW5kQ2hpbGQoc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQ29udGFpbmVyKTtcclxuICAgIHNlY3Rpb25MQi5hcHBlbmRDaGlsZChzZWN0aW9uVG91cm5hbWVudExpc3QpO1xyXG5cclxuICAgIHJldHVybiBzZWN0aW9uTEI7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5hY2hpZXZlbWVudHNBcmVhTGF5b3V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBzZWN0aW9uQUNIID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgdmFyIHNlY3Rpb25BQ0hIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uQUNISGVhZGVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uQUNISGVhZGVyRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25BQ0hIZWFkZXJDbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgIHZhciBzZWN0aW9uQUNIRGV0YWlscyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25BQ0hEZXRhaWxzSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25BQ0hEZXRhaWxzSW5mb0ljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uQUNIRGV0YWlsc0NvbnRlbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uQUNIRGV0YWlsc0NvbnRlbnRDb250YWluZXJMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25BQ0hEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICB2YXIgc2VjdGlvbkFDSExpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uQUNITGlzdEJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uQUNITGlzdEJvZHlSZXN1bHRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgdmFyIHNlY3Rpb25BQ0hGb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uQUNIRm9vdGVyQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgIHZhciBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0hlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXJMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXJEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0JhY2tCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICB2YXIgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0JvZHlDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQm9keUltYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0JvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICBzZWN0aW9uQUNILnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1hY2ggY2wtbWFpbi1zZWN0aW9uLWl0ZW0nKTtcclxuICAgIHNlY3Rpb25BQ0hIZWFkZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtaGVhZGVyJyk7XHJcbiAgICBzZWN0aW9uQUNISGVhZGVyTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtaGVhZGVyLWxhYmVsJyk7XHJcbiAgICBzZWN0aW9uQUNISGVhZGVyRGF0ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1oZWFkZXItZGF0ZScpO1xyXG4gICAgc2VjdGlvbkFDSEhlYWRlckNsb3NlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWhlYWRlci1jbG9zZScpO1xyXG5cclxuICAgIHNlY3Rpb25BQ0hEZXRhaWxzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMnKTtcclxuICAgIHNlY3Rpb25BQ0hEZXRhaWxzSW5mby5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzLWluZm8nKTtcclxuICAgIHNlY3Rpb25BQ0hEZXRhaWxzSW5mb0ljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtZGV0YWlscy1pbmZvLWljb24nKTtcclxuICAgIHNlY3Rpb25BQ0hEZXRhaWxzQ29udGVudENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzLWNvbnRlbnQnKTtcclxuICAgIHNlY3Rpb25BQ0hEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtY29udGVudC1sYWJlbCcpO1xyXG4gICAgc2VjdGlvbkFDSERldGFpbHNDb250ZW50Q29udGFpbmVyRGF0ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzLWNvbnRlbnQtZGF0ZScpO1xyXG5cclxuICAgIC8vIExlYWRlcmJvYXJkIHJlc3VsdCBjb250YWluZXJcclxuICAgIHNlY3Rpb25BQ0hMaXN0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWxpc3QnKTtcclxuICAgIHNlY3Rpb25BQ0hMaXN0Qm9keS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1saXN0LWJvZHknKTtcclxuICAgIHNlY3Rpb25BQ0hMaXN0Qm9keVJlc3VsdHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtbGlzdC1ib2R5LXJlcycpO1xyXG5cclxuICAgIC8vIGZvb3RlclxyXG4gICAgc2VjdGlvbkFDSEZvb3Rlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1mb290ZXInKTtcclxuICAgIHNlY3Rpb25BQ0hGb290ZXJDb250ZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWZvb3Rlci1jb250ZW50Jyk7XHJcblxyXG4gICAgLy8gZGV0YWlscyBzZWN0aW9uXHJcbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtY29udGFpbmVyJyk7XHJcbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzSGVhZGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtaGVhZGVyJyk7XHJcbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzSGVhZGVyTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtZGV0YWlscy1oZWFkZXItbGFiZWwnKTtcclxuICAgIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXJEYXRlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtaGVhZGVyLWRhdGUnKTtcclxuICAgIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCYWNrQnRuLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtYmFjay1idG4nKTtcclxuICAgIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCb2R5Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtYm9keS1jb250YWluZXInKTtcclxuICAgIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCb2R5SW1hZ2VDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtZGV0YWlscy1ib2R5LWltYWdlLWNvbnQnKTtcclxuICAgIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCb2R5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtYm9keScpO1xyXG5cclxuICAgIHNlY3Rpb25BQ0hIZWFkZXJMYWJlbC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5hY2hpZXZlbWVudHMubGFiZWw7XHJcbiAgICBzZWN0aW9uQUNIRm9vdGVyQ29udGVudC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5nbG9iYWwuY29weTtcclxuXHJcbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzSGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXJMYWJlbCk7XHJcbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzSGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXJEYXRlKTtcclxuICAgIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0hlYWRlcik7XHJcbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCYWNrQnRuKTtcclxuICAgIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCb2R5Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCb2R5SW1hZ2VDb250YWluZXIpO1xyXG4gICAgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0JvZHlDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0JvZHkpO1xyXG4gICAgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQm9keUNvbnRhaW5lcik7XHJcblxyXG4gICAgc2VjdGlvbkFDSEhlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uQUNISGVhZGVyTGFiZWwpO1xyXG4gICAgc2VjdGlvbkFDSEhlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uQUNISGVhZGVyRGF0ZSk7XHJcbiAgICBzZWN0aW9uQUNISGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25BQ0hIZWFkZXJDbG9zZSk7XHJcblxyXG4gICAgc2VjdGlvbkFDSERldGFpbHNJbmZvLmFwcGVuZENoaWxkKHNlY3Rpb25BQ0hEZXRhaWxzSW5mb0ljb24pO1xyXG4gICAgc2VjdGlvbkFDSERldGFpbHNDb250ZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25BQ0hEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsKTtcclxuICAgIHNlY3Rpb25BQ0hEZXRhaWxzQ29udGVudENvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uQUNIRGV0YWlsc0NvbnRlbnRDb250YWluZXJEYXRlKTtcclxuICAgIHNlY3Rpb25BQ0hEZXRhaWxzLmFwcGVuZENoaWxkKHNlY3Rpb25BQ0hEZXRhaWxzSW5mbyk7XHJcbiAgICBzZWN0aW9uQUNIRGV0YWlscy5hcHBlbmRDaGlsZChzZWN0aW9uQUNIRGV0YWlsc0NvbnRlbnRDb250YWluZXIpO1xyXG5cclxuICAgIHNlY3Rpb25BQ0hMaXN0Qm9keS5hcHBlbmRDaGlsZChzZWN0aW9uQUNITGlzdEJvZHlSZXN1bHRzKTtcclxuICAgIHNlY3Rpb25BQ0hMaXN0LmFwcGVuZENoaWxkKHNlY3Rpb25BQ0hMaXN0Qm9keSk7XHJcblxyXG4gICAgc2VjdGlvbkFDSEZvb3Rlci5hcHBlbmRDaGlsZChzZWN0aW9uQUNIRm9vdGVyQ29udGVudCk7XHJcblxyXG4gICAgc2VjdGlvbkFDSC5hcHBlbmRDaGlsZChzZWN0aW9uQUNISGVhZGVyKTtcclxuICAgIHNlY3Rpb25BQ0guYXBwZW5kQ2hpbGQoc2VjdGlvbkFDSERldGFpbHMpO1xyXG4gICAgc2VjdGlvbkFDSC5hcHBlbmRDaGlsZChzZWN0aW9uQUNITGlzdCk7XHJcbiAgICBzZWN0aW9uQUNILmFwcGVuZENoaWxkKHNlY3Rpb25BQ0hGb290ZXIpO1xyXG4gICAgc2VjdGlvbkFDSC5hcHBlbmRDaGlsZChzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQ29udGFpbmVyKTtcclxuXHJcbiAgICByZXR1cm4gc2VjdGlvbkFDSDtcclxuICB9O1xyXG5cclxuICB0aGlzLnJld2FyZHNBcmVhTGF5b3V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBzZWN0aW9uUmV3YXJkcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgIHZhciBzZWN0aW9uUmV3YXJkc0hlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzSGVhZGVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uUmV3YXJkc0hlYWRlckRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uUmV3YXJkc0hlYWRlckNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzRGV0YWlscyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0luZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uUmV3YXJkc0RldGFpbHNJbmZvSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRlbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250ZW50Q29udGFpbmVyRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgIHZhciBzZWN0aW9uUmV3YXJkc0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uUmV3YXJkc0xpc3RCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvblJld2FyZHNMaXN0Qm9keVJlc3VsdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICB2YXIgc2VjdGlvblJld2FyZHNGb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uUmV3YXJkc0Zvb3RlckNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICB2YXIgc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvblJld2FyZHNEZXRhaWxzSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvblJld2FyZHNEZXRhaWxzSGVhZGVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uUmV3YXJkc0RldGFpbHNIZWFkZXJEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvblJld2FyZHNEZXRhaWxzQmFja0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgIHZhciBzZWN0aW9uUmV3YXJkc0RldGFpbHNCb2R5Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvblJld2FyZHNEZXRhaWxzQm9keUltYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvblJld2FyZHNEZXRhaWxzQm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzV2lubmluZ3NDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uUmV3YXJkc1dpbm5pbmdzSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzV2lubmluZ3NWYWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzQ2xhaW1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uUmV3YXJkc0NsYWltQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG5cclxuICAgIHNlY3Rpb25SZXdhcmRzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1yZXdhcmQgY2wtbWFpbi1zZWN0aW9uLWl0ZW0nKTtcclxuICAgIHNlY3Rpb25SZXdhcmRzSGVhZGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWhlYWRlcicpO1xyXG4gICAgc2VjdGlvblJld2FyZHNIZWFkZXJMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1oZWFkZXItbGFiZWwnKTtcclxuICAgIHNlY3Rpb25SZXdhcmRzSGVhZGVyRGF0ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1oZWFkZXItZGF0ZScpO1xyXG4gICAgc2VjdGlvblJld2FyZHNIZWFkZXJDbG9zZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1oZWFkZXItY2xvc2UnKTtcclxuXHJcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscycpO1xyXG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzSW5mby5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1kZXRhaWxzLWluZm8nKTtcclxuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0luZm9JY29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtaW5mby1pY29uJyk7XHJcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250ZW50Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtY29udGVudCcpO1xyXG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtY29udGVudC1sYWJlbCcpO1xyXG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1jb250ZW50LWRhdGUnKTtcclxuXHJcbiAgICAvLyBMZWFkZXJib2FyZCByZXN1bHQgY29udGFpbmVyXHJcbiAgICBzZWN0aW9uUmV3YXJkc0xpc3Quc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtbGlzdCcpO1xyXG4gICAgc2VjdGlvblJld2FyZHNMaXN0Qm9keS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1saXN0LWJvZHknKTtcclxuICAgIHNlY3Rpb25SZXdhcmRzTGlzdEJvZHlSZXN1bHRzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWxpc3QtYm9keS1yZXMnKTtcclxuXHJcbiAgICAvLyBmb290ZXJcclxuICAgIHNlY3Rpb25SZXdhcmRzRm9vdGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWZvb3RlcicpO1xyXG4gICAgc2VjdGlvblJld2FyZHNGb290ZXJDb250ZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWZvb3Rlci1jb250ZW50Jyk7XHJcblxyXG4gICAgLy8gZGV0YWlscyBzZWN0aW9uXHJcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1jb250YWluZXInKTtcclxuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0hlYWRlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1kZXRhaWxzLWhlYWRlcicpO1xyXG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzSGVhZGVyTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1oZWFkZXItbGFiZWwnKTtcclxuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0hlYWRlckRhdGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1oZWFkZXItZGF0ZScpO1xyXG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzQmFja0J0bi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1kZXRhaWxzLWJhY2stYnRuJyk7XHJcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNCb2R5Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtYm9keS1jb250YWluZXInKTtcclxuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0JvZHlJbWFnZUNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1kZXRhaWxzLWJvZHktaW1hZ2UtY29udCcpO1xyXG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzQm9keS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1kZXRhaWxzLWJvZHknKTtcclxuICAgIHNlY3Rpb25SZXdhcmRzV2lubmluZ3NDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtd2lubmluZ3MtY29udGFpbmVyJyk7XHJcbiAgICBzZWN0aW9uUmV3YXJkc1dpbm5pbmdzSWNvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC13aW5uaW5ncy1pY29uJyk7XHJcbiAgICBzZWN0aW9uUmV3YXJkc1dpbm5pbmdzVmFsdWUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtd2lubmluZ3MtdmFsdWUnKTtcclxuICAgIHNlY3Rpb25SZXdhcmRzQ2xhaW1Db250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtY2xhaW0tY29udGFpbmVyJyk7XHJcbiAgICBzZWN0aW9uUmV3YXJkc0NsYWltQnRuLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWNsYWltLWJ0bicpO1xyXG5cclxuICAgIHNlY3Rpb25SZXdhcmRzSGVhZGVyTGFiZWwuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ucmV3YXJkcy5sYWJlbDtcclxuICAgIHNlY3Rpb25SZXdhcmRzRm9vdGVyQ29udGVudC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5nbG9iYWwuY29weTtcclxuICAgIHNlY3Rpb25SZXdhcmRzQ2xhaW1CdG4uaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ucmV3YXJkcy5jbGFpbTtcclxuXHJcbiAgICBzZWN0aW9uUmV3YXJkc1dpbm5pbmdzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzV2lubmluZ3NJY29uKTtcclxuICAgIHNlY3Rpb25SZXdhcmRzV2lubmluZ3NDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNXaW5uaW5nc1ZhbHVlKTtcclxuICAgIHNlY3Rpb25SZXdhcmRzQ2xhaW1Db250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNDbGFpbUJ0bik7XHJcblxyXG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzSGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzRGV0YWlsc0hlYWRlckxhYmVsKTtcclxuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0hlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHNIZWFkZXJEYXRlKTtcclxuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHNIZWFkZXIpO1xyXG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzRGV0YWlsc0JhY2tCdG4pO1xyXG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzQm9keUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHNCb2R5SW1hZ2VDb250YWluZXIpO1xyXG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzQm9keUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHNCb2R5KTtcclxuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0JvZHlDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNXaW5uaW5nc0NvbnRhaW5lcik7XHJcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNEZXRhaWxzQm9keUNvbnRhaW5lcik7XHJcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNDbGFpbUNvbnRhaW5lcik7XHJcblxyXG4gICAgc2VjdGlvblJld2FyZHNIZWFkZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNIZWFkZXJMYWJlbCk7XHJcbiAgICBzZWN0aW9uUmV3YXJkc0hlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0hlYWRlckRhdGUpO1xyXG4gICAgc2VjdGlvblJld2FyZHNIZWFkZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNIZWFkZXJDbG9zZSk7XHJcblxyXG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzSW5mby5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHNJbmZvSWNvbik7XHJcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250ZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRlbnRDb250YWluZXJMYWJlbCk7XHJcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250ZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRlbnRDb250YWluZXJEYXRlKTtcclxuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlscy5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHNJbmZvKTtcclxuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlscy5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250ZW50Q29udGFpbmVyKTtcclxuXHJcbiAgICBzZWN0aW9uUmV3YXJkc0xpc3RCb2R5LmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzTGlzdEJvZHlSZXN1bHRzKTtcclxuICAgIHNlY3Rpb25SZXdhcmRzTGlzdC5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0xpc3RCb2R5KTtcclxuXHJcbiAgICBzZWN0aW9uUmV3YXJkc0Zvb3Rlci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0Zvb3RlckNvbnRlbnQpO1xyXG5cclxuICAgIHNlY3Rpb25SZXdhcmRzLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzSGVhZGVyKTtcclxuICAgIHNlY3Rpb25SZXdhcmRzLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzRGV0YWlscyk7XHJcbiAgICBzZWN0aW9uUmV3YXJkcy5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0xpc3QpO1xyXG4gICAgc2VjdGlvblJld2FyZHMuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNGb290ZXIpO1xyXG4gICAgc2VjdGlvblJld2FyZHMuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGFpbmVyKTtcclxuXHJcbiAgICByZXR1cm4gc2VjdGlvblJld2FyZHM7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5pbmJveEFyZWFMYXlvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIHNlY3Rpb25JbmJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgIHZhciBzZWN0aW9uSW5ib3hIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uSW5ib3hIZWFkZXJMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25JbmJveEhlYWRlckRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uSW5ib3hIZWFkZXJDbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgIHZhciBzZWN0aW9uSW5ib3hEZXRhaWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvbkluYm94RGV0YWlsc0luZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uSW5ib3hEZXRhaWxzSW5mb0ljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGVudENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25JbmJveERldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICB2YXIgc2VjdGlvbkluYm94TGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25JbmJveExpc3RCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvbkluYm94TGlzdEJvZHlSZXN1bHRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgdmFyIHNlY3Rpb25JbmJveEZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25JbmJveEZvb3RlckNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICB2YXIgc2VjdGlvbkluYm94RGV0YWlsc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25JbmJveERldGFpbHNIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHNlY3Rpb25JbmJveERldGFpbHNCYWNrQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgdmFyIHNlY3Rpb25JbmJveERldGFpbHNCb2R5Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgc2VjdGlvbkluYm94RGV0YWlsc0JvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICBzZWN0aW9uSW5ib3guc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1zZWN0aW9uLWluYm94IGNsLW1haW4tc2VjdGlvbi1pdGVtJyk7XHJcbiAgICBzZWN0aW9uSW5ib3hIZWFkZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1pbmJveC1oZWFkZXInKTtcclxuICAgIHNlY3Rpb25JbmJveEhlYWRlckxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtaGVhZGVyLWxhYmVsJyk7XHJcbiAgICBzZWN0aW9uSW5ib3hIZWFkZXJEYXRlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtaGVhZGVyLWRhdGUnKTtcclxuICAgIHNlY3Rpb25JbmJveEhlYWRlckNsb3NlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtaGVhZGVyLWNsb3NlJyk7XHJcblxyXG4gICAgc2VjdGlvbkluYm94RGV0YWlscy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMnKTtcclxuICAgIHNlY3Rpb25JbmJveERldGFpbHNJbmZvLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtZGV0YWlscy1pbmZvJyk7XHJcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzSW5mb0ljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1pbmJveC1kZXRhaWxzLWluZm8taWNvbicpO1xyXG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0NvbnRlbnRDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1pbmJveC1kZXRhaWxzLWNvbnRlbnQnKTtcclxuICAgIHNlY3Rpb25JbmJveERldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1pbmJveC1kZXRhaWxzLWNvbnRlbnQtbGFiZWwnKTtcclxuICAgIHNlY3Rpb25JbmJveERldGFpbHNDb250ZW50Q29udGFpbmVyRGF0ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtY29udGVudC1kYXRlJyk7XHJcblxyXG4gICAgLy8gTGVhZGVyYm9hcmQgcmVzdWx0IGNvbnRhaW5lclxyXG4gICAgc2VjdGlvbkluYm94TGlzdC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWxpc3QnKTtcclxuICAgIHNlY3Rpb25JbmJveExpc3RCb2R5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtbGlzdC1ib2R5Jyk7XHJcbiAgICBzZWN0aW9uSW5ib3hMaXN0Qm9keVJlc3VsdHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1pbmJveC1saXN0LWJvZHktcmVzJyk7XHJcblxyXG4gICAgLy8gZm9vdGVyXHJcbiAgICBzZWN0aW9uSW5ib3hGb290ZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1pbmJveC1mb290ZXInKTtcclxuICAgIHNlY3Rpb25JbmJveEZvb3RlckNvbnRlbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1pbmJveC1mb290ZXItY29udGVudCcpO1xyXG5cclxuICAgIC8vIGRldGFpbHMgc2VjdGlvblxyXG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtY29udGFpbmVyJyk7XHJcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtZGV0YWlscy1oZWFkZXInKTtcclxuICAgIHNlY3Rpb25JbmJveERldGFpbHNIZWFkZXJMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtaGVhZGVyLWxhYmVsJyk7XHJcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyRGF0ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtaGVhZGVyLWRhdGUnKTtcclxuICAgIHNlY3Rpb25JbmJveERldGFpbHNCYWNrQnRuLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtZGV0YWlscy1iYWNrLWJ0bicpO1xyXG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0JvZHlDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1pbmJveC1kZXRhaWxzLWJvZHktY29udGFpbmVyJyk7XHJcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzQm9keS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtYm9keScpO1xyXG5cclxuICAgIHNlY3Rpb25JbmJveEhlYWRlckxhYmVsLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLm1lc3NhZ2VzLmxhYmVsO1xyXG4gICAgc2VjdGlvbkluYm94Rm9vdGVyQ29udGVudC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5nbG9iYWwuY29weTtcclxuXHJcbiAgICBzZWN0aW9uSW5ib3hIZWFkZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94SGVhZGVyTGFiZWwpO1xyXG4gICAgc2VjdGlvbkluYm94SGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveEhlYWRlckRhdGUpO1xyXG4gICAgc2VjdGlvbkluYm94SGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveEhlYWRlckNsb3NlKTtcclxuXHJcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzSW5mby5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzSW5mb0ljb24pO1xyXG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0NvbnRlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94RGV0YWlsc0NvbnRlbnRDb250YWluZXJMYWJlbCk7XHJcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGVudENvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUpO1xyXG4gICAgc2VjdGlvbkluYm94RGV0YWlscy5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzSW5mbyk7XHJcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveERldGFpbHNDb250ZW50Q29udGFpbmVyKTtcclxuXHJcbiAgICBzZWN0aW9uSW5ib3hMaXN0Qm9keS5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hMaXN0Qm9keVJlc3VsdHMpO1xyXG4gICAgc2VjdGlvbkluYm94TGlzdC5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hMaXN0Qm9keSk7XHJcblxyXG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0hlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyTGFiZWwpO1xyXG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0hlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyRGF0ZSk7XHJcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveERldGFpbHNIZWFkZXIpO1xyXG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzQmFja0J0bik7XHJcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzQm9keUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzQm9keSk7XHJcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveERldGFpbHNCb2R5Q29udGFpbmVyKTtcclxuXHJcbiAgICBzZWN0aW9uSW5ib3hGb290ZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94Rm9vdGVyQ29udGVudCk7XHJcblxyXG4gICAgc2VjdGlvbkluYm94LmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveEhlYWRlcik7XHJcbiAgICBzZWN0aW9uSW5ib3guYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94RGV0YWlscyk7XHJcbiAgICBzZWN0aW9uSW5ib3guYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94TGlzdCk7XHJcbiAgICBzZWN0aW9uSW5ib3guYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94Rm9vdGVyKTtcclxuICAgIHNlY3Rpb25JbmJveC5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGFpbmVyKTtcclxuXHJcbiAgICByZXR1cm4gc2VjdGlvbkluYm94O1xyXG4gIH07XHJcblxyXG4gIHRoaXMubGVhZGVyYm9hcmRIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIHJhbmtDb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBpY29uQ29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgbmFtZUNvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGdyb3d0aENvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHBvaW50c0NvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgIHJhbmtDb2wuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1yYW5rLWNvbCBjbC1jb2wnKTtcclxuICAgIGljb25Db2wuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1pY29uLWNvbCBjbC1jb2wnKTtcclxuICAgIG5hbWVDb2wuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1uYW1lLWNvbCBjbC1jb2wnKTtcclxuICAgIGdyb3d0aENvbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWdyb3d0aC1jb2wgY2wtY29sJyk7XHJcbiAgICBwb2ludHNDb2wuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1wb2ludHMtY29sIGNsLWNvbCcpO1xyXG5cclxuICAgIHJhbmtDb2wuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubGVhZGVyYm9hcmQucmFuaztcclxuICAgIGljb25Db2wuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBuYW1lQ29sLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmxlYWRlcmJvYXJkLm5hbWU7XHJcbiAgICBncm93dGhDb2wuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBwb2ludHNDb2wuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubGVhZGVyYm9hcmQucG9pbnRzO1xyXG5cclxuICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmhlYWRlci5hcHBlbmRDaGlsZChyYW5rQ29sKTtcclxuICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmhlYWRlci5hcHBlbmRDaGlsZChpY29uQ29sKTtcclxuICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmhlYWRlci5hcHBlbmRDaGlsZChuYW1lQ29sKTtcclxuICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmhlYWRlci5hcHBlbmRDaGlsZChncm93dGhDb2wpO1xyXG4gICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuaGVhZGVyLmFwcGVuZENoaWxkKHBvaW50c0NvbCk7XHJcblxyXG4gICAgdmFyIHJld2FyZENvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHJld2FyZEVuYWJsZWQgPSAodHlwZW9mIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09ICd1bmRlZmluZWQnICYmIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwgJiYgdHlwZW9mIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QucmV3YXJkcyAhPT0gJ3VuZGVmaW5lZCcgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5yZXdhcmRzLmxlbmd0aCA+IDApO1xyXG4gICAgcmV3YXJkQ29sLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtcmV3YXJkLWNvbCBjbC1jb2wnICsgKHJld2FyZEVuYWJsZWQgPyAnIGNsLWNvbC1yZXdhcmQtZW5hYmxlZCcgOiAnJykpO1xyXG4gICAgcmV3YXJkQ29sLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmxlYWRlcmJvYXJkLnByaXplO1xyXG5cclxuICAgIGFkZENsYXNzKF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmhlYWRlciwgJ2NsLXJld2FyZC1lbmFibGVkJyk7XHJcblxyXG4gICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuaGVhZGVyLmFwcGVuZENoaWxkKHJld2FyZENvbCk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5sZWFkZXJib2FyZFJvdyA9IGZ1bmN0aW9uIChyYW5rLCBpY29uLCBuYW1lLCBjaGFuZ2UsIGdyb3d0aCwgcG9pbnRzLCByZXdhcmQsIGNvdW50LCBtZW1iZXJGb3VuZCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBjZWxsV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHJhbmtDZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciByYW5rQ2VsVmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBpY29uQ2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgaWNvbkNlbEltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgdmFyIG5hbWVDZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBncm93dGhDZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBwb2ludHNDZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBtZW1iZXJGb3VuZENsYXNzID0gKG1lbWJlckZvdW5kKSA/ICcgY2wtbGItbWVtYmVyLXJvdycgOiAnJztcclxuXHJcbiAgICBjZWxsV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWxiLXJvdyBjbC1sYi1yYW5rLScgKyByYW5rICsgJyBjbC1sYi1jb3VudC0nICsgY291bnQgKyBtZW1iZXJGb3VuZENsYXNzKTtcclxuICAgIHJhbmtDZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1yYW5rLWNvbCBjbC1jb2wgY2wtcmFuay0nICsgcmFuayk7XHJcbiAgICByYW5rQ2VsVmFsdWUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1yYW5rLWNvbC12YWx1ZScpO1xyXG4gICAgaWNvbkNlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWljb24tY29sIGNsLWNvbCcpO1xyXG4gICAgaWNvbkNlbEltZy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWljb24tY29sLWltZycpO1xyXG4gICAgbmFtZUNlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW5hbWUtY29sIGNsLWNvbCcpO1xyXG4gICAgZ3Jvd3RoQ2VsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtZ3Jvd3RoLWNvbCBjbC1jb2wnKTtcclxuICAgIHBvaW50c0NlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXBvaW50cy1jb2wgY2wtY29sJyk7XHJcblxyXG4gICAgY2VsbFdyYXBwZXIuZGF0YXNldC5yYW5rID0gcmFuaztcclxuXHJcbiAgICByYW5rQ2VsVmFsdWUuaW5uZXJIVE1MID0gcmFuaztcclxuICAgIG5hbWVDZWwuaW5uZXJIVE1MID0gbmFtZTtcclxuICAgIGdyb3d0aENlbC5kYXRhc2V0Lmdyb3d0aCA9IChjaGFuZ2UgPCAwKSA/ICdkb3duJyA6IChjaGFuZ2UgPiAwID8gJ3VwJyA6ICdzYW1lJyk7XHJcbiAgICBncm93dGhDZWwuZGF0YXNldC5jaGFuZ2UgPSBjaGFuZ2U7XHJcbiAgICBncm93dGhDZWwuaW5uZXJIVE1MID0gZ3Jvd3RoO1xyXG4gICAgcG9pbnRzQ2VsLmlubmVySFRNTCA9IHBvaW50cztcclxuXHJcbiAgICBpZiAoaWNvbi5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGljb25DZWxJbWcuc3JjID0gaWNvbjtcclxuICAgICAgaWNvbkNlbEltZy5hbHQgPSBuYW1lO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWNvbkNlbEltZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG5cclxuICAgIHJhbmtDZWwuYXBwZW5kQ2hpbGQocmFua0NlbFZhbHVlKTtcclxuICAgIGNlbGxXcmFwcGVyLmFwcGVuZENoaWxkKHJhbmtDZWwpO1xyXG4gICAgaWNvbkNlbC5hcHBlbmRDaGlsZChpY29uQ2VsSW1nKTtcclxuICAgIGNlbGxXcmFwcGVyLmFwcGVuZENoaWxkKGljb25DZWwpO1xyXG4gICAgY2VsbFdyYXBwZXIuYXBwZW5kQ2hpbGQobmFtZUNlbCk7XHJcbiAgICBjZWxsV3JhcHBlci5hcHBlbmRDaGlsZChncm93dGhDZWwpO1xyXG4gICAgY2VsbFdyYXBwZXIuYXBwZW5kQ2hpbGQocG9pbnRzQ2VsKTtcclxuXHJcbiAgICB2YXIgcmV3YXJkQ2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgcmV3YXJkRW5hYmxlZCA9ICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCAhPT0gJ3VuZGVmaW5lZCcgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCAhPT0gbnVsbCAmJiB0eXBlb2YgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5yZXdhcmRzICE9PSAndW5kZWZpbmVkJyAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnJld2FyZHMubGVuZ3RoID4gMCk7XHJcbiAgICByZXdhcmRDZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1yZXdhcmQtY29sIGNsLWNvbCcgKyAocmV3YXJkRW5hYmxlZCA/ICcgY2wtY29sLXJld2FyZC1lbmFibGVkJyA6ICcnKSk7XHJcbiAgICByZXdhcmRDZWwuaW5uZXJIVE1MID0gKHR5cGVvZiByZXdhcmQgIT09ICd1bmRlZmluZWQnICYmIHJld2FyZCAhPT0gbnVsbCkgPyByZXdhcmQgOiAnJztcclxuXHJcbiAgICBhZGRDbGFzcyhjZWxsV3JhcHBlciwgJ2NsLXJld2FyZC1lbmFibGVkJyk7XHJcblxyXG4gICAgY2VsbFdyYXBwZXIuYXBwZW5kQ2hpbGQocmV3YXJkQ2VsKTtcclxuXHJcbiAgICByZXR1cm4gY2VsbFdyYXBwZXI7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5sZWFkZXJib2FyZFJvd1VwZGF0ZSA9IGZ1bmN0aW9uIChyYW5rLCBpY29uLCBuYW1lLCBjaGFuZ2UsIGdyb3d0aCwgcG9pbnRzLCByZXdhcmQsIGNvdW50LCBtZW1iZXJGb3VuZCwgb25NaXNzaW5nKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIGNlbGxSb3cgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5jb250YWluZXIsICcuY2wtbGItcmFuay0nICsgcmFuayArICcuY2wtbGItY291bnQtJyArIGNvdW50KTtcclxuXHJcbiAgICBpZiAoY2VsbFJvdyA9PT0gbnVsbCkge1xyXG4gICAgICBvbk1pc3NpbmcocmFuaywgaWNvbiwgbmFtZSwgY2hhbmdlLCBncm93dGgsIHBvaW50cywgcmV3YXJkLCBjb3VudCwgbWVtYmVyRm91bmQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIHJhbmtDZWwgPSBxdWVyeShjZWxsUm93LCAnLmNsLXJhbmstY29sLXZhbHVlJyk7XHJcbiAgICAgIHZhciBpY29uQ2VsID0gcXVlcnkoY2VsbFJvdywgJy5jbC1pY29uLWNvbC1pbWcnKTtcclxuICAgICAgdmFyIG5hbWVDZWwgPSBxdWVyeShjZWxsUm93LCAnLmNsLW5hbWUtY29sJyk7XHJcbiAgICAgIHZhciBncm93dGhDZWwgPSBxdWVyeShjZWxsUm93LCAnLmNsLWdyb3d0aC1jb2wnKTtcclxuICAgICAgdmFyIHBvaW50c0NlbCA9IHF1ZXJ5KGNlbGxSb3csICcuY2wtcG9pbnRzLWNvbCcpO1xyXG4gICAgICB2YXIgbWVtYmVyRm91bmRDbGFzcyA9ICdjbC1sYi1tZW1iZXItcm93JztcclxuICAgICAgdmFyIHJvd0hhc0NsYXNzID0gaGFzQ2xhc3MoY2VsbFJvdywgbWVtYmVyRm91bmRDbGFzcyk7XHJcblxyXG4gICAgICBpZiAoY291bnQgPiAwICYmICFoYXNDbGFzcyhjZWxsUm93LCAnY2wtc2hhcmVkLXJhbmsnKSkge1xyXG4gICAgICAgIGFkZENsYXNzKGNlbGxSb3csICdjbC1zaGFyZWQtcmFuaycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobWVtYmVyRm91bmQgJiYgIXJvd0hhc0NsYXNzKSB7XHJcbiAgICAgICAgYWRkQ2xhc3MoY2VsbFJvdywgbWVtYmVyRm91bmRDbGFzcyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoIW1lbWJlckZvdW5kICYmIHJvd0hhc0NsYXNzKSB7XHJcbiAgICAgICAgcmVtb3ZlQ2xhc3MoY2VsbFJvdywgbWVtYmVyRm91bmRDbGFzcyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNlbGxSb3cuZGF0YXNldC5yYW5rID0gcmFuaztcclxuXHJcbiAgICAgIHJhbmtDZWwuaW5uZXJIVE1MID0gcmFuaztcclxuICAgICAgbmFtZUNlbC5pbm5lckhUTUwgPSBuYW1lO1xyXG5cclxuICAgICAgZ3Jvd3RoQ2VsLmRhdGFzZXQuZ3Jvd3RoID0gKGNoYW5nZSA8IDApID8gJ2Rvd24nIDogKGNoYW5nZSA+IDAgPyAndXAnIDogJ3NhbWUnKTtcclxuICAgICAgZ3Jvd3RoQ2VsLmRhdGFzZXQuY2hhbmdlID0gY2hhbmdlO1xyXG4gICAgICBncm93dGhDZWwuaW5uZXJIVE1MID0gZ3Jvd3RoO1xyXG5cclxuICAgICAgcG9pbnRzQ2VsLmlubmVySFRNTCA9IHBvaW50cztcclxuXHJcbiAgICAgIGlmIChpY29uLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBpY29uQ2VsLnNyYyA9IGljb247XHJcbiAgICAgICAgaWNvbkNlbC5hbHQgPSBuYW1lO1xyXG4gICAgICAgIGljb25DZWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWNvbkNlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodHlwZW9mIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09ICd1bmRlZmluZWQnICYmIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwgJiYgdHlwZW9mIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QucmV3YXJkcyAhPT0gJ3VuZGVmaW5lZCcgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5yZXdhcmRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICB2YXIgcmV3YXJkQ2VsID0gcXVlcnkoY2VsbFJvdywgJy5jbC1yZXdhcmQtY29sJyk7XHJcbiAgICAgICAgaWYgKHJld2FyZENlbCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgcmV3YXJkQ2VsLmlubmVySFRNTCA9ICh0eXBlb2YgcmV3YXJkICE9PSAndW5kZWZpbmVkJyAmJiByZXdhcmQgIT09IG51bGwpID8gcmV3YXJkIDogJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5wb3B1bGF0ZUxlYWRlcmJvYXJkUmVzdWx0c1dpdGhEZWZhdWx0RW50cmllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB2YXIgdG9wUmVzdWx0cyA9IFtdO1xyXG4gICAgdmFyIHJlbWFpbmluZ1Jlc3VsdHMgPSBbXTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnRvcFJlc3VsdFNpemU7IGkrKykge1xyXG4gICAgICBjb25zdCByYW5rID0gaSArIDE7XHJcblxyXG4gICAgICB0b3BSZXN1bHRzLnB1c2goe1xyXG4gICAgICAgIG5hbWU6ICctLScsXHJcbiAgICAgICAgcmFuazogcmFuayxcclxuICAgICAgICBwb2ludHM6ICctLScsXHJcbiAgICAgICAgbWVtYmVySWQ6ICcnLFxyXG4gICAgICAgIG1lbWJlclJlZklkOiAnJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBzID0gX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQudG9wUmVzdWx0U2l6ZTsgcyA8IF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmRlZmF1bHRFbXB0eUxpc3Q7IHMrKykge1xyXG4gICAgICBjb25zdCByYW5rID0gcyArIDE7XHJcblxyXG4gICAgICByZW1haW5pbmdSZXN1bHRzLnB1c2goe1xyXG4gICAgICAgIG5hbWU6ICctLScsXHJcbiAgICAgICAgcmFuazogcmFuayxcclxuICAgICAgICBwb2ludHM6ICctLScsXHJcbiAgICAgICAgbWVtYmVySWQ6ICcnLFxyXG4gICAgICAgIG1lbWJlclJlZklkOiAnJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfdGhpcy51cGRhdGVMZWFkZXJib2FyZFRvcFJlc3VsdHModG9wUmVzdWx0cyk7XHJcbiAgICBfdGhpcy51cGRhdGVMZWFkZXJib2FyZFJlc3VsdHMocmVtYWluaW5nUmVzdWx0cyk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy51cGRhdGVMZWFkZXJib2FyZFRvcFJlc3VsdHMgPSBmdW5jdGlvbiAodG9wUmVzdWx0cykge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciByYW5rQ2hlY2sgPSBbXTtcclxuICAgIHZhciBjbGVhbnVwUmFua0NoZWNrID0gW107XHJcblxyXG4gICAgLy8gY2xlYW51cFxyXG4gICAgd2luZG93Lm1hcE9iamVjdCh0b3BSZXN1bHRzLCBmdW5jdGlvbiAobGIpIHtcclxuICAgICAgY2xlYW51cFJhbmtDaGVjay5wdXNoKGxiLnJhbmspO1xyXG4gICAgICBvYmplY3RJdGVyYXRvcihxdWVyeShfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC50b3BSZXN1bHRzLCAnLmNsLWxiLXJhbmstJyArIGxiLnJhbmsgKyAnLmNsLXNoYXJlZC1yYW5rJyksIGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICByZW1vdmUob2JqKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBvYmplY3RJdGVyYXRvcihxdWVyeShfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC50b3BSZXN1bHRzLCAnLmNsLWxiLXJvdycpLCBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgIHZhciByYW5rID0gcGFyc2VJbnQob2JqLmRhdGFzZXQucmFuayk7XHJcbiAgICAgIGlmIChjbGVhbnVwUmFua0NoZWNrLmluZGV4T2YocmFuaykgPT09IC0xICYmIHJhbmsgPiBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5kZWZhdWx0RW1wdHlMaXN0KSB7XHJcbiAgICAgICAgcmVtb3ZlKG9iaik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHdpbmRvdy5tYXBPYmplY3QodG9wUmVzdWx0cywgZnVuY3Rpb24gKGxiKSB7XHJcbiAgICAgIHZhciBjb3VudCA9IDA7XHJcbiAgICAgIHZhciBpY29uID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQucG9wdWxhdGVJZGVudGljb25CYXNlNjRJbWFnZShsYi5tZW1iZXJJZCk7XHJcbiAgICAgIHZhciBtZW1iZXJGb3VuZCA9IChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCA9PT0gbGIubWVtYmVySWQgfHwgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubWVtYmVySWQgPT09IGxiLm1lbWJlclJlZklkKTtcclxuICAgICAgdmFyIG1lbWJlck5hbWUgPSAobWVtYmVyRm91bmQpID8gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubGVhZGVyYm9hcmQueW91IDogbGIubmFtZTtcclxuICAgICAgdmFyIHJld2FyZCA9IF90aGlzLmdldFJld2FyZChsYi5yYW5rKTtcclxuICAgICAgdmFyIGNoYW5nZSA9ICh0eXBlb2YgbGIuY2hhbmdlID09PSAndW5kZWZpbmVkJykgPyAwIDogbGIuY2hhbmdlO1xyXG4gICAgICB2YXIgZ3Jvd3RoVHlwZSA9IChjaGFuZ2UgPCAwKSA/ICdkb3duJyA6IChjaGFuZ2UgPiAwID8gJ3VwJyA6ICdzYW1lJyk7XHJcbiAgICAgIHZhciBncm93dGhJY29uID0gXCI8c3BhbiBjbGFzcz0nY2wtZ3Jvd3RoLWljb24gY2wtZ3Jvd3RoLVwiICsgZ3Jvd3RoVHlwZSArIFwiJz48L3NwYW4+XCI7XHJcblxyXG4gICAgICBpZiAocmFua0NoZWNrLmluZGV4T2YobGIucmFuaykgIT09IC0xKSB7XHJcbiAgICAgICAgZm9yICh2YXIgcmMgPSAwOyByYyA8IHJhbmtDaGVjay5sZW5ndGg7IHJjKyspIHtcclxuICAgICAgICAgIGlmIChsYi5yYW5rID09PSByYW5rQ2hlY2tbcmNdKSB7XHJcbiAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBfdGhpcy5sZWFkZXJib2FyZFJvd1VwZGF0ZShcclxuICAgICAgICBsYi5yYW5rLFxyXG4gICAgICAgIGljb24sIC8vIGljb25cclxuICAgICAgICBtZW1iZXJOYW1lLFxyXG4gICAgICAgIGNoYW5nZSxcclxuICAgICAgICBncm93dGhJY29uLCAvLyBncm93dGhcclxuICAgICAgICBsYi5wb2ludHMsXHJcbiAgICAgICAgcmV3YXJkLCAvLyByZXdhcmRcclxuICAgICAgICBjb3VudCxcclxuICAgICAgICBtZW1iZXJGb3VuZCxcclxuICAgICAgICBmdW5jdGlvbiAocmFuaywgaWNvbiwgbmFtZSwgY2hhbmdlLCBncm93dGgsIHBvaW50cywgcmV3YXJkLCBjb3VudCwgbWVtYmVyRm91bmQpIHtcclxuICAgICAgICAgIHZhciBuZXdSb3cgPSBfdGhpcy5sZWFkZXJib2FyZFJvdyhyYW5rLCBpY29uLCBuYW1lLCBjaGFuZ2UsIGdyb3d0aCwgcG9pbnRzLCByZXdhcmQsIGNvdW50LCBtZW1iZXJGb3VuZCk7XHJcbiAgICAgICAgICB2YXIgcHJldkNlbGxSb3cgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5jb250YWluZXIsICcuY2wtbGItcmFuay0nICsgcmFuayArICcuY2wtbGItY291bnQtJyArIChjb3VudCAtIDEpKTtcclxuXHJcbiAgICAgICAgICBpZiAocHJldkNlbGxSb3cgIT09IG51bGwgJiYgdHlwZW9mIHByZXZDZWxsUm93Lmxlbmd0aCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgYXBwZW5kTmV4dChwcmV2Q2VsbFJvdywgbmV3Um93KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnRvcFJlc3VsdHMuYXBwZW5kQ2hpbGQobmV3Um93KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcblxyXG4gICAgICByYW5rQ2hlY2sucHVzaChsYi5yYW5rKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuZ2V0UmV3YXJkID0gZnVuY3Rpb24gKHJhbmspIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB2YXIgcmV3YXJkUmVzcG9uc2UgPSBbXTtcclxuXHJcbiAgICBpZiAodHlwZW9mIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09ICd1bmRlZmluZWQnICYmIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwpIHtcclxuICAgICAgd2luZG93Lm1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnJld2FyZHMsIGZ1bmN0aW9uIChyZXdhcmQpIHtcclxuICAgICAgICBpZiAocmV3YXJkLnJld2FyZFJhbmsgaW5zdGFuY2VvZiBBcnJheSAmJiByZXdhcmQucmV3YXJkUmFuay5pbmRleE9mKHJhbmspICE9PSAtMSkge1xyXG4gICAgICAgICAgcmV3YXJkUmVzcG9uc2UucHVzaChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5yZXdhcmRzLnJld2FyZEZvcm1hdHRlcihyZXdhcmQpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXdhcmRSZXNwb25zZS5qb2luKCcsICcpO1xyXG4gIH07XHJcblxyXG4gIHRoaXMudXBkYXRlTGVhZGVyYm9hcmRSZXN1bHRzID0gZnVuY3Rpb24gKHJlbWFpbmluZ1Jlc3VsdHMpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB2YXIgcmFua0NoZWNrID0gW107XHJcbiAgICB2YXIgY2xlYW51cFJhbmtDaGVjayA9IFtdO1xyXG5cclxuICAgIC8vIGNsZWFudXBcclxuICAgIHdpbmRvdy5tYXBPYmplY3QocmVtYWluaW5nUmVzdWx0cywgZnVuY3Rpb24gKGxiKSB7XHJcbiAgICAgIGNsZWFudXBSYW5rQ2hlY2sucHVzaChsYi5yYW5rKTtcclxuICAgICAgb2JqZWN0SXRlcmF0b3IocXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQubGlzdCwgJy5jbC1sYi1yYW5rLScgKyBsYi5yYW5rICsgJy5jbC1zaGFyZWQtcmFuaycpLCBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgcmVtb3ZlKG9iaik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgb2JqZWN0SXRlcmF0b3IocXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuY29udGFpbmVyLCAnLmNsLWxiLXJvdycpLCBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIHJhbmsgPSBwYXJzZUludChvYmouZGF0YXNldC5yYW5rKTtcclxuICAgICAgICBpZiAoY2xlYW51cFJhbmtDaGVjay5pbmRleE9mKHJhbmspID09PSAtMSAmJiByYW5rID4gX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuZGVmYXVsdEVtcHR5TGlzdCkge1xyXG4gICAgICAgICAgcmVtb3ZlKG9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2cob2JqLmRhdGFzZXQsIG9iai5hdHRyaWJ1dGVzLCBvYmopO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHdpbmRvdy5tYXBPYmplY3QocmVtYWluaW5nUmVzdWx0cywgZnVuY3Rpb24gKGxiKSB7XHJcbiAgICAgIHZhciBjb3VudCA9IDA7XHJcbiAgICAgIHZhciBpY29uID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQucG9wdWxhdGVJZGVudGljb25CYXNlNjRJbWFnZShsYi5tZW1iZXJJZCk7XHJcbiAgICAgIHZhciBtZW1iZXJGb3VuZCA9IChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCA9PT0gbGIubWVtYmVySWQgfHwgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubWVtYmVySWQgPT09IGxiLm1lbWJlclJlZklkKTtcclxuICAgICAgdmFyIG1lbWJlck5hbWUgPSAobWVtYmVyRm91bmQpID8gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubGVhZGVyYm9hcmQueW91IDogbGIubmFtZTtcclxuICAgICAgdmFyIHJld2FyZCA9IF90aGlzLmdldFJld2FyZChsYi5yYW5rKTtcclxuICAgICAgdmFyIGNoYW5nZSA9ICh0eXBlb2YgbGIuY2hhbmdlID09PSAndW5kZWZpbmVkJykgPyAwIDogbGIuY2hhbmdlO1xyXG4gICAgICB2YXIgZ3Jvd3RoVHlwZSA9IChjaGFuZ2UgPCAwKSA/ICdkb3duJyA6IChjaGFuZ2UgPiAwID8gJ3VwJyA6ICdzYW1lJyk7XHJcbiAgICAgIHZhciBncm93dGhJY29uID0gXCI8c3BhbiBjbGFzcz0nY2wtZ3Jvd3RoLWljb24gY2wtZ3Jvd3RoLVwiICsgZ3Jvd3RoVHlwZSArIFwiJz48L3NwYW4+XCI7XHJcblxyXG4gICAgICBpZiAocmFua0NoZWNrLmluZGV4T2YobGIucmFuaykgIT09IC0xKSB7XHJcbiAgICAgICAgZm9yICh2YXIgcmMgPSAwOyByYyA8IHJhbmtDaGVjay5sZW5ndGg7IHJjKyspIHtcclxuICAgICAgICAgIGlmIChsYi5yYW5rID09PSByYW5rQ2hlY2tbcmNdKSB7XHJcbiAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBfdGhpcy5sZWFkZXJib2FyZFJvd1VwZGF0ZShcclxuICAgICAgICBsYi5yYW5rLFxyXG4gICAgICAgIGljb24sIC8vIGljb25cclxuICAgICAgICBtZW1iZXJOYW1lLFxyXG4gICAgICAgIGNoYW5nZSxcclxuICAgICAgICBncm93dGhJY29uLCAvLyBncm93dGhcclxuICAgICAgICBsYi5wb2ludHMsXHJcbiAgICAgICAgcmV3YXJkLFxyXG4gICAgICAgIGNvdW50LFxyXG4gICAgICAgIG1lbWJlckZvdW5kLFxyXG4gICAgICAgIGZ1bmN0aW9uIChyYW5rLCBpY29uLCBuYW1lLCBjaGFuZ2UsIGdyb3d0aCwgcG9pbnRzLCByZXdhcmQsIGNvdW50LCBtZW1iZXJGb3VuZCkge1xyXG4gICAgICAgICAgdmFyIG5ld1JvdyA9IF90aGlzLmxlYWRlcmJvYXJkUm93KHJhbmssIGljb24sIG5hbWUsIG5hbWUsIGdyb3d0aCwgcG9pbnRzLCByZXdhcmQsIGNvdW50LCBtZW1iZXJGb3VuZCk7XHJcbiAgICAgICAgICB2YXIgcHJldkNlbGxSb3cgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5jb250YWluZXIsICcuY2wtbGItcmFuay0nICsgcmFuayArICcuY2wtbGItY291bnQtJyArIChjb3VudCAtIDEpKTtcclxuXHJcbiAgICAgICAgICBpZiAocHJldkNlbGxSb3cgIT09IG51bGwgJiYgdHlwZW9mIHByZXZDZWxsUm93Lmxlbmd0aCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgYXBwZW5kTmV4dChwcmV2Q2VsbFJvdywgbmV3Um93KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxpc3QuYXBwZW5kQ2hpbGQobmV3Um93KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcblxyXG4gICAgICByYW5rQ2hlY2sucHVzaChsYi5yYW5rKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHRoaXMudXBkYXRlTGVhZGVyYm9hcmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIHRvcFJlc3VsdHMgPSBbXTtcclxuICAgIHZhciByZW1haW5pbmdSZXN1bHRzID0gW107XHJcblxyXG4gICAgX3RoaXMucG9wdWxhdGVMZWFkZXJib2FyZFJlc3VsdHNXaXRoRGVmYXVsdEVudHJpZXMoKTtcclxuXHJcbiAgICB3aW5kb3cubWFwT2JqZWN0KF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmxlYWRlcmJvYXJkLmxlYWRlcmJvYXJkRGF0YSwgZnVuY3Rpb24gKGxiKSB7XHJcbiAgICAgIGlmIChsYi5yYW5rIDw9IF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnRvcFJlc3VsdFNpemUpIHtcclxuICAgICAgICB0b3BSZXN1bHRzLnB1c2gobGIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlbWFpbmluZ1Jlc3VsdHMucHVzaChsYik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIF90aGlzLnVwZGF0ZUxlYWRlcmJvYXJkVG9wUmVzdWx0cyh0b3BSZXN1bHRzKTtcclxuICAgIF90aGlzLnVwZGF0ZUxlYWRlcmJvYXJkUmVzdWx0cyhyZW1haW5pbmdSZXN1bHRzKTtcclxuXHJcbiAgICB2YXIgbWVtYmVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQubGlzdCwgJy5jbC1sYi1tZW1iZXItcm93Jyk7XHJcbiAgICBpZiAobWVtYmVyICE9PSBudWxsKSB7XHJcbiAgICAgIF90aGlzLm1pc3NpbmdNZW1iZXIoX3RoaXMuaXNFbGVtZW50VmlzaWJsZUluVmlldyhtZW1iZXIsIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxpc3QucGFyZW50Tm9kZSkpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMudXBkYXRlTGVhZGVyYm9hcmRUaW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBkaWZmID0gbW9tZW50KF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3Quc2NoZWR1bGVkU3RhcnQpLmRpZmYobW9tZW50KCkpO1xyXG4gICAgdmFyIGRhdGUgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5mb3JtYXREYXRlVGltZShtb21lbnQuZHVyYXRpb24oZGlmZikpO1xyXG5cclxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC50aW1lckludGVydmFsKSB7XHJcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC50aW1lckludGVydmFsKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZGlmZiA8IDAgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdGF0dXNDb2RlID09PSAwKSB7XHJcbiAgICAgIGRhdGUgPSAnJztcclxuICAgIH0gZWxzZSBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdGF0dXNDb2RlID4gMCAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0YXR1c0NvZGUgPCAzKSB7XHJcbiAgICAgIGRpZmYgPSBtb21lbnQoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zY2hlZHVsZWRFbmQpLmRpZmYobW9tZW50KCkpO1xyXG4gICAgICBkYXRlID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuZm9ybWF0RGF0ZVRpbWUobW9tZW50LmR1cmF0aW9uKGRpZmYpKTtcclxuICAgIH0gZWxzZSBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdGF0dXNDb2RlID09PSAzKSB7XHJcbiAgICAgIGRhdGUgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi50b3VybmFtZW50cy5maW5pc2hpbmc7XHJcbiAgICB9IGVsc2UgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3Quc3RhdHVzQ29kZSA+PSA0KSB7XHJcbiAgICAgIGRhdGUgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi50b3VybmFtZW50cy5maW5pc2hlZDtcclxuICAgIH1cclxuXHJcbiAgICBfdGhpcy5zZXR0aW5ncy5oZWFkZXJEYXRlLmlubmVySFRNTCA9IGRhdGU7XHJcbiAgICBfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyRGF0ZS5pbm5lckhUTUwgPSBkYXRlO1xyXG5cclxuICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnRpbWVySW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgX3RoaXMudXBkYXRlTGVhZGVyYm9hcmRUaW1lKCk7XHJcbiAgICB9LCAxMDAwKTtcclxuICB9O1xyXG5cclxuICB0aGlzLmxlYWRlcmJvYXJkRGV0YWlsc1VwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB2YXIgbWFpbkxhYmVsID0gcXVlcnkoX3RoaXMuc2V0dGluZ3Muc2VjdGlvbiwgJy5jbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWNvbnRlbnQtbGFiZWwnKTtcclxuXHJcbiAgICBtYWluTGFiZWwuaW5uZXJIVE1MID0gKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwpID8gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5sYWJlbCA6IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnRvdXJuYW1lbnRzLm5vQXZhaWxhYmxlQ29tcGV0aXRpb25zO1xyXG4gIH07XHJcblxyXG4gIHRoaXMubGVhZGVyYm9hcmRPcHRJbkNoZWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBvcHRJbiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLnNlY3Rpb24sICcuY2wtbWFpbi13aWRnZXQtbGItb3B0aW4tYWN0aW9uJyk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24gIT09IG51bGwgJiYgdHlwZW9mIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLm9wdGluUmVxdWlyZWQgPT09ICdib29sZWFuJyAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpblJlcXVpcmVkKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ub3B0aW4gPT09ICdib29sZWFuJyAmJiAhX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ub3B0aW4pIHtcclxuICAgICAgICBvcHRJbi5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi50b3VybmFtZW50cy5lbnRlcjtcclxuICAgICAgICBvcHRJbi5wYXJlbnROb2RlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG9wdEluLnBhcmVudE5vZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb3B0SW4ucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIGNsZWFudXAvcmVjb3ZlciBhY3Rpdml0eVxyXG4gIHRoaXMucHJlTG9hZGVyUmVydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5wcmVMb2FkZXIucHJlTG9hZGVyQWN0aXZlICYmIF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVsb2FkZXJDYWxsYmFja1JlY292ZXJ5ICE9PSBudWxsICYmXHJcbiAgICAgIF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVMb2FkZXJsYXN0QXR0ZW1wdCAhPT0gbnVsbCAmJiB0eXBlb2YgX3RoaXMuc2V0dGluZ3MucHJlTG9hZGVyLnByZUxvYWRlcmxhc3RBdHRlbXB0ID09PSAnbnVtYmVyJyAmJlxyXG4gICAgICAoX3RoaXMuc2V0dGluZ3MucHJlTG9hZGVyLnByZUxvYWRlcmxhc3RBdHRlbXB0ICsgODAwMCkgPCBuZXcgRGF0ZSgpLmdldFRpbWUoKSkge1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5wcmVMb2FkZXIucHJlbG9hZGVyQ2FsbGJhY2tSZWNvdmVyeSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMucHJlbG9hZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBwcmVMb2FkZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5zZWN0aW9uLCAnLmNsLW1haW4td2lkZ2V0LXByZS1sb2FkZXInKTtcclxuICAgIC8vIHZhciBjb250ZW50ID0gcXVlcnkoX3RoaXMuc2V0dGluZ3Muc2VjdGlvbiwgJy5jbC1tYWluLXdpZGdldC1wcmUtbG9hZGVyLWNvbnRlbnQnKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzaG93OiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5wcmVMb2FkZXIucHJlTG9hZGVyQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5wcmVMb2FkZXIucHJlTG9hZGVybGFzdEF0dGVtcHQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICBwcmVMb2FkZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBwcmVMb2FkZXIuc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgfSwgMjApO1xyXG5cclxuICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MucHJlTG9hZGVyLnByZWxvYWRlckNhbGxiYWNrUmVjb3ZlcnkgPT09IG51bGwgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5wcmVMb2FkZXIucHJlbG9hZGVyQ2FsbGJhY2tSZWNvdmVyeSA9IGNhbGxiYWNrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgfSxcclxuICAgICAgaGlkZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVMb2FkZXJBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5wcmVMb2FkZXIucHJlTG9hZGVybGFzdEF0dGVtcHQgPSBudWxsO1xyXG4gICAgICAgIHByZUxvYWRlci5zdHlsZS5vcGFjaXR5ID0gMDtcclxuXHJcbiAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVsb2FkZXJDYWxsYmFja1JlY292ZXJ5ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5wcmVMb2FkZXIucHJlbG9hZGVyQ2FsbGJhY2tSZWNvdmVyeSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHByZUxvYWRlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH0sIDIwMCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5sb2FkTGVhZGVyYm9hcmQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciA9PT0gbnVsbCkge1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5jb250YWluZXIgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5iaW5kQ29udGFpbmVyLmFwcGVuZENoaWxkKF90aGlzLmxheW91dCgpKTtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvbiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWNvbnRhaW5lcicpO1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5zZWN0aW9uID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LXNlY3Rpb24tY29udGFpbmVyJyk7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmNvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLnNlY3Rpb24sICcuY2wtbWFpbi13aWRnZXQtbGItbGVhZGVyYm9hcmQnKTtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuaGVhZGVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWxiLWxlYWRlcmJvYXJkLWhlYWRlci1sYWJlbHMnKTtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQubGlzdCA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1sYi1sZWFkZXJib2FyZC1ib2R5LXJlcycpO1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC50b3BSZXN1bHRzID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWxiLWxlYWRlcmJvYXJkLWhlYWRlci10b3AtcmVzJyk7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLmRldGFpbHNDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1jb250YWluZXInKTtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudExpc3RDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtdG91cm5hbWVudHMtbGlzdCcpO1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyRGF0ZSA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWhlYWRlci1kYXRlJyk7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLmhlYWRlckRhdGUgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbGItaGVhZGVyLWRhdGUnKTtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnQuY29udGFpbmVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LXNlY3Rpb24tYWNoJyk7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLmFjaGlldmVtZW50LmRldGFpbHNDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtY29udGFpbmVyJyk7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLnJld2FyZC5jb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1yZXdhcmQnKTtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MucmV3YXJkLmRldGFpbHNDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtY29udGFpbmVyJyk7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLm1lc3NhZ2VzLmNvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1zZWN0aW9uLWluYm94Jyk7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLm1lc3NhZ2VzLmRldGFpbHNDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtaW5ib3gtZGV0YWlscy1jb250YWluZXInKTtcclxuXHJcbiAgICAgIF90aGlzLmxlYWRlcmJvYXJkSGVhZGVyKCk7XHJcbiAgICAgIF90aGlzLmV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX3RoaXMubGVhZGVyYm9hcmRPcHRJbkNoZWNrKCk7XHJcbiAgICBfdGhpcy5sZWFkZXJib2FyZERldGFpbHNVcGRhdGUoKTtcclxuICAgIF90aGlzLnVwZGF0ZUxlYWRlcmJvYXJkKCk7XHJcblxyXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwpIHtcclxuICAgICAgX3RoaXMudXBkYXRlTGVhZGVyYm9hcmRUaW1lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBjYWxsYmFjaygpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMuY2xlYXJBbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLnNldHRpbmdzLmFjdGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC50aW1lckludGVydmFsKSB7XHJcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC50aW1lckludGVydmFsKTtcclxuICAgIH1cclxuXHJcbiAgICBfdGhpcy5zZXR0aW5ncy5wcmVMb2FkZXIucHJlTG9hZGVyQWN0aXZlID0gZmFsc2U7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5oaWRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLmNsZWFyQWxsKCk7XHJcblxyXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciAhPT0gbnVsbCkge1xyXG4gICAgICByZW1vdmVDbGFzcyhfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICdjbC1zaG93Jyk7XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICAgICAgX3RoaXMuaGlkZUNvbXBldGl0aW9uRGV0YWlscygpO1xyXG4gICAgICAgIF90aGlzLmhpZGVBY2hpZXZlbWVudERldGFpbHMoKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIDMwKTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5taXNzaW5nTWVtYmVyID0gZnVuY3Rpb24gKGlzVmlzaWJsZSkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBhcmVhID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWxiLW1pc3NpbmctbWVtYmVyJyk7XHJcblxyXG4gICAgaWYgKCFpc1Zpc2libGUpIHtcclxuICAgICAgdmFyIG1lbWJlciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxpc3QsICcuY2wtbGItbWVtYmVyLXJvdycpO1xyXG5cclxuICAgICAgaWYgKGFyZWEgIT09IG51bGwgJiYgbWVtYmVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgYXJlYS5pbm5lckhUTUwgPSBtZW1iZXIuaW5uZXJIVE1MO1xyXG5cclxuICAgICAgICBhcmVhLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFyZWEuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXJlYS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMuaXNFbGVtZW50VmlzaWJsZUluVmlldyA9IGZ1bmN0aW9uIChlbCwgY29udGFpbmVyKSB7XHJcbiAgICB2YXIgcG9zaXRpb24gPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIHZhciBlbGVtQ29udGFpbmVyID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgdmFyIGVsZW1Ub3AgPSBwb3NpdGlvbi50b3A7XHJcbiAgICB2YXIgZWxlbUJvdHRvbSA9IHBvc2l0aW9uLmJvdHRvbTtcclxuICAgIHZhciBlbGVtSGVpZ2h0ID0gcG9zaXRpb24uaGVpZ2h0O1xyXG5cclxuICAgIHJldHVybiBlbGVtVG9wIDw9IGVsZW1Db250YWluZXIudG9wXHJcbiAgICAgID8gZWxlbUNvbnRhaW5lci50b3AgLSBlbGVtVG9wIDw9IGVsZW1IZWlnaHQgOiBlbGVtQm90dG9tIC0gZWxlbUNvbnRhaW5lci5ib3R0b20gPD0gZWxlbUhlaWdodDtcclxuICB9O1xyXG5cclxuICB0aGlzLmV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5saXN0LnBhcmVudE5vZGUub25zY3JvbGwgPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB2YXIgbWVtYmVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQubGlzdCwgJy5jbC1sYi1tZW1iZXItcm93Jyk7XHJcblxyXG4gICAgICBpZiAobWVtYmVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgX3RoaXMubWlzc2luZ01lbWJlcihfdGhpcy5pc0VsZW1lbnRWaXNpYmxlSW5WaWV3KG1lbWJlciwgZXZ0LnRhcmdldCkpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgdmFyIG1lbWJlciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxpc3QsICcuY2wtbGItbWVtYmVyLXJvdycpO1xyXG5cclxuICAgICAgaWYgKG1lbWJlciAhPT0gbnVsbCkge1xyXG4gICAgICAgIF90aGlzLm1pc3NpbmdNZW1iZXIoX3RoaXMuaXNFbGVtZW50VmlzaWJsZUluVmlldyhtZW1iZXIsIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxpc3QucGFyZW50Tm9kZSkpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIC8vIHRoaXMuY2hlY2tMZWFkZXJib2FyZFNjcm9sbENvbnRhaW5lciA9IGZ1bmN0aW9uKCl7XHJcbiAgLy8gIHZhciBfdGhpcyA9IHRoaXMsXHJcbiAgLy8gICAgbGJTY3JvbGxDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5jb250YWluZXIsIFwiLmNsLW1haW4td2lkZ2V0LWxiLWxlYWRlcmJvYXJkLWJvZHlcIik7XHJcbiAgLy9cclxuICAvLyAgaWYoIHNjcm9sbEVuYWJsZWQobGJTY3JvbGxDb250YWluZXIpICl7XHJcbiAgLy8gICAgYWRkQ2xhc3MobGJTY3JvbGxDb250YWluZXIsIFwiY2wtZWxlbWVudC1zY3JvbGxhYmxlXCIpO1xyXG4gIC8vICB9ZWxzZXtcclxuICAvLyAgICByZW1vdmVDbGFzcyhsYlNjcm9sbENvbnRhaW5lciwgXCJjbC1lbGVtZW50LXNjcm9sbGFibGVcIik7XHJcbiAgLy8gIH1cclxuICAvLyB9O1xyXG5cclxuICB0aGlzLmNvbXBldGl0aW9uRGV0YWlsc09wdEluQnV0dG9uU3RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIG9wdEluID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLW9wdGluLWFjdGlvbicpO1xyXG5cclxuICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ub3B0aW5SZXF1aXJlZCA9PT0gJ2Jvb2xlYW4nICYmIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLm9wdGluUmVxdWlyZWQpIHtcclxuICAgICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpbiA9PT0gJ2Jvb2xlYW4nICYmICFfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpbikge1xyXG4gICAgICAgIG9wdEluLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnRvdXJuYW1lbnRzLmVudGVyO1xyXG4gICAgICAgIHJlbW92ZUNsYXNzKG9wdEluLCAnY2wtZGlzYWJsZWQnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvcHRJbi5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi50b3VybmFtZW50cy5yZWdpc3RlcmVkO1xyXG4gICAgICAgIGFkZENsYXNzKG9wdEluLCAnY2wtZGlzYWJsZWQnKTtcclxuICAgICAgfVxyXG4gICAgICBvcHRJbi5wYXJlbnROb2RlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb3B0SW4ucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMubG9hZENvbXBldGl0aW9uRGV0YWlscyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBsYWJlbCA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmRldGFpbHNDb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1oZWFkZXItbGFiZWwnKTtcclxuICAgIC8vIHZhciBkYXRlID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWhlYWRlci1kYXRlJyk7XHJcbiAgICB2YXIgYm9keSA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmRldGFpbHNDb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1ib2R5Jyk7XHJcbiAgICB2YXIgaW1hZ2UgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtYm9keS1pbWFnZS1jb250Jyk7XHJcblxyXG4gICAgaW1hZ2UuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBsYWJlbC5pbm5lckhUTUwgPSAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5sYWJlbC5sZW5ndGggPiAwKSA/IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QubGFiZWwgOiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5sYWJlbDtcclxuICAgIGJvZHkuaW5uZXJIVE1MID0gKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QuZGVzY3JpcHRpb24ubGVuZ3RoID4gMCkgPyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LmRlc2NyaXB0aW9uIDogX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24uZGVzY3JpcHRpb247XHJcbiAgICBfdGhpcy5jb21wZXRpdGlvbkRldGFpbHNPcHRJbkJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgX3RoaXMuc2V0dGluZ3MuZGV0YWlsc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIF90aGlzLnNldHRpbmdzLmhlYWRlckRhdGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uZXh0cmFjdEltYWdlSGVhZGVyKSB7XHJcbiAgICAgIG9iamVjdEl0ZXJhdG9yKHF1ZXJ5KGJvZHksICdpbWcnKSwgZnVuY3Rpb24gKGltZywga2V5LCBjb3VudCkge1xyXG4gICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xyXG4gICAgICAgICAgdmFyIG5ld0ltZyA9IGltZy5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgICBpbWFnZS5hcHBlbmRDaGlsZChuZXdJbWcpO1xyXG5cclxuICAgICAgICAgIHJlbW92ZShpbWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGFkZENsYXNzKF90aGlzLnNldHRpbmdzLmRldGFpbHNDb250YWluZXIsICdjbC1zaG93Jyk7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xyXG4gICAgfSwgNTApO1xyXG4gIH07XHJcblxyXG4gIHRoaXMubG9hZENvbXBldGl0aW9uTGlzdCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgYWpheEluc3RhbmNlKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIGxpc3RSZXNDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50TGlzdENvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC10b3VybmFtZW50cy1saXN0LWJvZHktcmVzJyk7XHJcbiAgICB2YXIgcHJlTG9hZGVyID0gX3RoaXMucHJlbG9hZGVyKCk7XHJcblxyXG4gICAgcHJlTG9hZGVyLnNob3coZnVuY3Rpb24gKCkge1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5jaGVja0ZvckF2YWlsYWJsZUNvbXBldGl0aW9ucyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFjY29yZGlvbk9iaiA9IF90aGlzLmFjY29yZGlvblN0eWxlKF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzU2VjdGlvbi5hY2NvcmRpb25MYXlvdXQsIGZ1bmN0aW9uIChhY2NvcmRpb25TZWN0aW9uLCBsaXN0Q29udGFpbmVyLCB0b3BFbnRyeUNvbnRhaW5lciwgbGF5b3V0KSB7XHJcbiAgICAgICAgICB2YXIgdG91cm5hbWVudERhdGEgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50b3VybmFtZW50c1tsYXlvdXQudHlwZV07XHJcblxyXG4gICAgICAgICAgaWYgKHR5cGVvZiB0b3VybmFtZW50RGF0YSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgaWYgKHRvdXJuYW1lbnREYXRhLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgIGFjY29yZGlvblNlY3Rpb24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aW5kb3cubWFwT2JqZWN0KHRvdXJuYW1lbnREYXRhLCBmdW5jdGlvbiAodG91cm5hbWVudCwga2V5LCBjb3VudCkge1xyXG4gICAgICAgICAgICAgIGlmICgoY291bnQgKyAxKSA8PSBsYXlvdXQuc2hvd1RvcFJlc3VsdHMgJiYgcXVlcnkodG9wRW50cnlDb250YWluZXIsICcuY2wtdG91cm5hbWVudC0nICsgdG91cm5hbWVudC5pZCkgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0b3BFbnRyeUNvbnRhaW5lUmxpc3RJdGVtID0gX3RoaXMudG91cm5hbWVudEl0ZW0odG91cm5hbWVudCk7XHJcbiAgICAgICAgICAgICAgICB0b3BFbnRyeUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0b3BFbnRyeUNvbnRhaW5lUmxpc3RJdGVtKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGlmIChxdWVyeShsaXN0Q29udGFpbmVyLCAnLmNsLXRvdXJuYW1lbnQtJyArIHRvdXJuYW1lbnQuaWQpID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSBfdGhpcy50b3VybmFtZW50SXRlbSh0b3VybmFtZW50KTtcclxuICAgICAgICAgICAgICAgIGxpc3RDb250YWluZXIuYXBwZW5kQ2hpbGQobGlzdEl0ZW0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxpc3RSZXNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgbGlzdFJlc0NvbnRhaW5lci5hcHBlbmRDaGlsZChhY2NvcmRpb25PYmopO1xyXG5cclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50TGlzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGFkZENsYXNzKF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRMaXN0Q29udGFpbmVyLCAnY2wtc2hvdycpO1xyXG5cclxuICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XHJcblxyXG4gICAgICAgICAgcHJlTG9hZGVyLmhpZGUoKTtcclxuICAgICAgICB9LCA1MCk7XHJcbiAgICAgIH0sIGFqYXhJbnN0YW5jZSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICB0aGlzLmhpZGVDb21wZXRpdGlvbkxpc3QgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgcmVtb3ZlQ2xhc3MoX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudExpc3RDb250YWluZXIsICdjbC1zaG93Jyk7XHJcblxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRMaXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xyXG4gICAgfSwgMjAwKTtcclxuICB9O1xyXG5cclxuICB0aGlzLmhpZGVDb21wZXRpdGlvbkRldGFpbHMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgcmVtb3ZlQ2xhc3MoX3RoaXMuc2V0dGluZ3MuZGV0YWlsc0NvbnRhaW5lciwgJ2NsLXNob3cnKTtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLmhlYWRlckRhdGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xyXG4gICAgfSwgMjAwKTtcclxuICB9O1xyXG5cclxuICB0aGlzLmFjaGlldmVtZW50SXRlbSA9IGZ1bmN0aW9uIChhY2gsIGFjaGlldmVkLCBwZXJjKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIGxpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgZGV0YWlsc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGRldGFpbHNXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBjYXRlZ29yeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgcHJvZ3Jlc3Npb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgcHJvZ3Jlc3Npb25Cb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgLy8gYm94IHdpdGggY29udGFpbmVyICYgYmFyICYgcGVyY2VudGFnZVxyXG4gICAgdmFyIHByb2dyZXNzaW9uQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyAvLyBjb250YWluZXJcclxuICAgIHZhciBwcm9ncmVzc2lvbkJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIHByb2dyZXNzaW9uUGVyY2VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGlzc3VlZEJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGlzc3VlZEJveENvdW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgaXNzdWVkQm94Q2hlY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgIHZhciBpc3N1ZWRCb3hOb3RDaGVjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgdmFyIGlzc3VlZEJveEdpZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgIHZhciBtb3JlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgdmFyIHJld2FyZE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBjcG9tbnRhaW5zSW1hZ2UgPSAodHlwZW9mIGFjaC5pY29uICE9PSAndW5kZWZpbmVkJyAmJiBhY2guaWNvbi5sZW5ndGggPiAwKTtcclxuXHJcbiAgICBsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LWl0ZW0gY2wtYWNoLScgKyBhY2guaWQgKyAoY3BvbW50YWluc0ltYWdlID8gJyBjbC1hY2gtd2l0aC1pbWFnZScgOiAnJykpO1xyXG4gICAgZGV0YWlsc0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LWRldGFpbHMtY29udCcpO1xyXG4gICAgZGV0YWlsc1dyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2gtbGlzdC1kZXRhaWxzLXdyYXAnKTtcclxuICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNoLWxpc3QtZGV0YWlscy1sYWJlbCcpO1xyXG4gICAgY2F0ZWdvcnkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2gtbGlzdC1kZXRhaWxzLWNhdGVnb3J5Jyk7XHJcbiAgICBkZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LWRldGFpbHMtZGVzY3JpcHRpb24nKTtcclxuICAgIHByb2dyZXNzaW9uV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LXByb2dyZXNzaW9uJyk7XHJcbiAgICBwcm9ncmVzc2lvbkJveC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LXByb2dyZXNzaW9uLWJveCcpO1xyXG4gICAgcHJvZ3Jlc3Npb25Db250LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNoLWxpc3QtcHJvZ3Jlc3Npb24tY29udCcpO1xyXG4gICAgcHJvZ3Jlc3Npb25CYXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2gtbGlzdC1wcm9ncmVzc2lvbi1iYXInKTtcclxuICAgIHByb2dyZXNzaW9uUGVyY2VudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LXBlcmNlbnQtbnVtYmVyJyk7XHJcbiAgICBpc3N1ZWRCb3guc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2gtbGlzdC1pc3N1ZWQtYm94Jyk7XHJcbiAgICBpc3N1ZWRCb3hDb3VudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LWlzc3VlZC1ib3gtY291bnQnKTtcclxuICAgIGlzc3VlZEJveENoZWNrLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNoLWxpc3QtaXNzdWVkLWJveC1jaGVjaycpO1xyXG4gICAgaXNzdWVkQm94Tm90Q2hlY2suc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2gtbGlzdC1pc3N1ZWQtYm94LW5vdC1jaGVjaycpO1xyXG4gICAgaXNzdWVkQm94R2lmdC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LWlzc3VlZC1ib3gtbm90LWdpZnQnKTtcclxuICAgIG1vcmVCdXR0b24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2gtbGlzdC1tb3JlJyk7XHJcbiAgICByZXdhcmROYW1lLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNoLWxpc3QtZGV0YWlscy1yZXdhcmQnKTtcclxuICAgIC8vIHN0YXJ0IHdpdGggMFxyXG4gICAgcHJvZ3Jlc3Npb25QZXJjZW50LmlubmVySFRNTCA9ICcwJSc7XHJcbiAgICAvLyBjb3VudCBudW1iZXJcclxuICAgIGlzc3VlZEJveENvdW50LmlubmVySFRNTCA9ICcwJztcclxuICAgIHJld2FyZE5hbWUuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBtb3JlQnV0dG9uLmRhdGFzZXQuaWQgPSBhY2guaWQ7XHJcbiAgICBtb3JlQnV0dG9uLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmFjaGlldmVtZW50cy5tb3JlO1xyXG4gICAgbW9yZUJ1dHRvbi5ocmVmID0gJ2phdmFzY3JpcHQ6dm9pZCgwKTsnO1xyXG5cclxuICAgIGxpc3RJdGVtLmRhdGFzZXQuaWQgPSBhY2guaWQ7XHJcblxyXG4gICAgbGFiZWwuaW5uZXJIVE1MID0gYWNoLm5hbWU7XHJcbiAgICBjYXRlZ29yeS5pbm5lckhUTUwgPSBhY2guY2F0ZWdvcnkuam9pbignLCAnKTtcclxuXHJcbiAgICBkZXRhaWxzV3JhcHBlci5hcHBlbmRDaGlsZChsYWJlbCk7XHJcbiAgICBkZXRhaWxzV3JhcHBlci5hcHBlbmRDaGlsZChjYXRlZ29yeSk7XHJcbiAgICBkZXRhaWxzV3JhcHBlci5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XHJcblxyXG4gICAgaWYgKGNwb21udGFpbnNJbWFnZSkge1xyXG4gICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgdmFyIGltYWdlSWNvbldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgaW1hZ2VJY29uV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LWl0ZW0taW1nLXdyYXBwZXInKTtcclxuICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2gtbGlzdC1pdGVtLWltZycpO1xyXG5cclxuICAgICAgaW1hZ2Uuc3JjID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy51cmkuYXNzZXRzLnJlcGxhY2UoJzphdHRhY2htZW50SWQnLCBhY2guaWNvbik7XHJcbiAgICAgIGltYWdlLmFsdCA9IGFjaC5uYW1lO1xyXG5cclxuICAgICAgLy8gaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKXtcclxuICAgICAgLy8gfTtcclxuXHJcbiAgICAgIGltYWdlSWNvbldyYXBwZXIuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xyXG4gICAgICBkZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKGltYWdlSWNvbldyYXBwZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGRldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoZGV0YWlsc1dyYXBwZXIpO1xyXG5cclxuICAgIC8vIHByb2dyZXNzaW9uIGNvbnRhaW5lciBoYXMgYmFyIGluc2lkZVxyXG4gICAgcHJvZ3Jlc3Npb25Db250LmFwcGVuZENoaWxkKHByb2dyZXNzaW9uQmFyKTtcclxuXHJcbiAgICAvLyBwcm9ncmVzc2lvbiBib3ggaGFzIGNvbnRhaW5lciArIHBlcmNlbnQgbnVtYmVyXHJcbiAgICBwcm9ncmVzc2lvbkJveC5hcHBlbmRDaGlsZChwcm9ncmVzc2lvbkNvbnQpO1xyXG4gICAgcHJvZ3Jlc3Npb25Cb3guYXBwZW5kQ2hpbGQocHJvZ3Jlc3Npb25QZXJjZW50KTtcclxuXHJcbiAgICAvLyBpc3N1ZWQgYm94IGhhcyBudW1iZXIsIHVuY2hlY2tlZCBvciBjaGVja2VkIGJveFxyXG4gICAgaXNzdWVkQm94LmFwcGVuZENoaWxkKGlzc3VlZEJveENvdW50KTtcclxuXHJcbiAgICAvLyB3cmFwcGVyIGhhcyBib3gsIGNvdW50ZXIgYW5kIGJ1dHRvblxyXG4gICAgcHJvZ3Jlc3Npb25XcmFwcGVyLmFwcGVuZENoaWxkKHByb2dyZXNzaW9uQm94KTtcclxuICAgIHByb2dyZXNzaW9uV3JhcHBlci5hcHBlbmRDaGlsZChpc3N1ZWRCb3gpO1xyXG4gICAgcHJvZ3Jlc3Npb25XcmFwcGVyLmFwcGVuZENoaWxkKG1vcmVCdXR0b24pO1xyXG4gICAgcHJvZ3Jlc3Npb25XcmFwcGVyLmFwcGVuZENoaWxkKHJld2FyZE5hbWUpO1xyXG5cclxuICAgIGxpc3RJdGVtLmFwcGVuZENoaWxkKGRldGFpbHNDb250YWluZXIpO1xyXG4gICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQocHJvZ3Jlc3Npb25XcmFwcGVyKTtcclxuXHJcbiAgICByZXR1cm4gbGlzdEl0ZW07XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5hY2hpZXZlbWVudExpc3RMYXlvdXQgPSBmdW5jdGlvbiAoYWNoaWV2ZW1lbnREYXRhKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIGFjaExpc3QgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5zZWN0aW9uLCAnLmNsLW1haW4td2lkZ2V0LXNlY3Rpb24tYWNoIC5jbC1tYWluLXdpZGdldC1hY2gtbGlzdC1ib2R5LXJlcycpO1xyXG5cclxuICAgIHdpbmRvdy5tYXBPYmplY3QoYWNoaWV2ZW1lbnREYXRhLCBmdW5jdGlvbiAoYWNoKSB7XHJcbiAgICAgIGlmIChxdWVyeShhY2hMaXN0LCAnLmNsLWFjaC0nICsgYWNoLmlkKSA9PT0gbnVsbCkge1xyXG4gICAgICAgIHZhciBsaXN0SXRlbSA9IF90aGlzLmFjaGlldmVtZW50SXRlbShhY2gpO1xyXG5cclxuICAgICAgICBhY2hMaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5sb2FkQWNoaWV2ZW1lbnREZXRhaWxzID0gZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIGxhYmVsID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnQuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1hY2gtZGV0YWlscy1oZWFkZXItbGFiZWwnKTtcclxuICAgIHZhciBib2R5ID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnQuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1hY2gtZGV0YWlscy1ib2R5Jyk7XHJcbiAgICB2YXIgaW1hZ2UgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5hY2hpZXZlbWVudC5kZXRhaWxzQ29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzLWJvZHktaW1hZ2UtY29udCcpO1xyXG5cclxuICAgIGltYWdlLmlubmVySFRNTCA9ICcnO1xyXG5cclxuICAgIGxhYmVsLmlubmVySFRNTCA9IGRhdGEuZGF0YS5uYW1lO1xyXG4gICAgYm9keS5pbm5lckhUTUwgPSBkYXRhLmRhdGEuZGVzY3JpcHRpb247XHJcblxyXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmFjaGlldmVtZW50cy5leHRyYWN0SW1hZ2VIZWFkZXIpIHtcclxuICAgICAgdmFyIGltYWdlTG9va3VwID0gcXVlcnkoYm9keSwgJ2ltZycpO1xyXG4gICAgICBvYmplY3RJdGVyYXRvcihpbWFnZUxvb2t1cCwgZnVuY3Rpb24gKGltZywga2V5LCBjb3VudCkge1xyXG4gICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xyXG4gICAgICAgICAgdmFyIG5ld0ltZyA9IGltZy5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgICBpbWFnZS5hcHBlbmRDaGlsZChuZXdJbWcpO1xyXG5cclxuICAgICAgICAgIHJlbW92ZShpbWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnQuZGV0YWlsc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBhZGRDbGFzcyhfdGhpcy5zZXR0aW5ncy5hY2hpZXZlbWVudC5kZXRhaWxzQ29udGFpbmVyLCAnY2wtc2hvdycpO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcclxuICAgIH0sIDUwKTtcclxuICB9O1xyXG5cclxuICB0aGlzLmhpZGVBY2hpZXZlbWVudERldGFpbHMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgcmVtb3ZlQ2xhc3MoX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnQuZGV0YWlsc0NvbnRhaW5lciwgJ2NsLXNob3cnKTtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5hY2hpZXZlbWVudC5kZXRhaWxzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xyXG4gICAgfSwgMjAwKTtcclxuICB9O1xyXG5cclxuICB0aGlzLmxvYWRSZXdhcmREZXRhaWxzID0gZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIGxhYmVsID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MucmV3YXJkLmRldGFpbHNDb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtaGVhZGVyLWxhYmVsJyk7XHJcbiAgICB2YXIgYm9keSA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLnJld2FyZC5kZXRhaWxzQ29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LXJld2FyZC1kZXRhaWxzLWJvZHknKTtcclxuICAgIHZhciBpbWFnZSA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLnJld2FyZC5kZXRhaWxzQ29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LXJld2FyZC1kZXRhaWxzLWJvZHktaW1hZ2UtY29udCcpO1xyXG4gICAgdmFyIGNsYWltQnRuID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MucmV3YXJkLmRldGFpbHNDb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtcmV3YXJkLWNsYWltLWJ0bicpO1xyXG4gICAgdmFyIGljb24gPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5yZXdhcmQuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1yZXdhcmQtd2lubmluZ3MtaWNvbicpO1xyXG4gICAgdmFyIHZhbHVlID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MucmV3YXJkLmRldGFpbHNDb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtcmV3YXJkLXdpbm5pbmdzLXZhbHVlJyk7XHJcblxyXG4gICAgbGFiZWwuaW5uZXJIVE1MID0gZGF0YS5kYXRhLnJld2FyZC5yZXdhcmROYW1lO1xyXG4gICAgYm9keS5pbm5lckhUTUwgPSBkYXRhLmRhdGEucmV3YXJkLmRlc2NyaXB0aW9uO1xyXG4gICAgdmFsdWUuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MucmV3YXJkcy5yZXdhcmRGb3JtYXR0ZXIoZGF0YS5kYXRhLnJld2FyZCk7XHJcbiAgICBjbGFpbUJ0bi5kYXRhc2V0LmlkID0gZGF0YS5kYXRhLmlkO1xyXG5cclxuICAgIGlmIChkYXRhLmRhdGEuY2xhaW1lZCkge1xyXG4gICAgICBhZGRDbGFzcyhjbGFpbUJ0biwgJ2NsLWNsYWltZWQnKTtcclxuICAgICAgY2xhaW1CdG4uaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ucmV3YXJkcy5jbGFpbWVkO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVtb3ZlQ2xhc3MoY2xhaW1CdG4sICdjbC1jbGFpbWVkJyk7XHJcbiAgICAgIGNsYWltQnRuLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnJld2FyZHMuY2xhaW07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBkYXRhLmRhdGEucmV3YXJkLmljb24gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIGljb24uaW5uZXJIVE1MID0gJyc7XHJcblxyXG4gICAgICB2YXIgX2ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgIHZhciBpbWFnZUljb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIGltYWdlSWNvbldyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1yZXdhcmQtbGlzdC1pdGVtLWltZy13cmFwcGVyJyk7XHJcbiAgICAgIF9pbWFnZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXJld2FyZC1saXN0LWl0ZW0taW1nJyk7XHJcblxyXG4gICAgICBfaW1hZ2Uuc3JjID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy51cmkuYXNzZXRzLnJlcGxhY2UoJzphdHRhY2htZW50SWQnLCBkYXRhLmRhdGEucmV3YXJkLmljb24pO1xyXG4gICAgICBfaW1hZ2UuYWx0ID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MucmV3YXJkcy5yZXdhcmRGb3JtYXR0ZXIoZGF0YS5kYXRhLnJld2FyZCk7XHJcblxyXG4gICAgICBpY29uLmFwcGVuZENoaWxkKF9pbWFnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpY29uLmlubmVySFRNTCA9IFwiPHNwYW4gY2xhc3M9J2NsLXBsYWNlLWhvbGRlci1yZXdhcmQtaW1hZ2UnPjwvc3Bhbj5cIjtcclxuICAgIH1cclxuXHJcbiAgICBvYmplY3RJdGVyYXRvcihxdWVyeShib2R5LCAnaW1nJyksIGZ1bmN0aW9uIChpbWcsIGtleSwgY291bnQpIHtcclxuICAgICAgaWYgKGNvdW50ID09PSAwKSB7XHJcbiAgICAgICAgdmFyIG5ld0ltZyA9IGltZy5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgaW1hZ2UuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgaW1hZ2UuYXBwZW5kQ2hpbGQobmV3SW1nKTtcclxuXHJcbiAgICAgICAgcmVtb3ZlKGltZyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIF90aGlzLnNldHRpbmdzLnJld2FyZC5kZXRhaWxzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGFkZENsYXNzKF90aGlzLnNldHRpbmdzLnJld2FyZC5kZXRhaWxzQ29udGFpbmVyLCAnY2wtc2hvdycpO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcclxuICAgIH0sIDUwKTtcclxuICB9O1xyXG5cclxuICB0aGlzLmxvYWRNZXNzYWdlRGV0YWlscyA9IGZ1bmN0aW9uIChkYXRhLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBsYWJlbCA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLm1lc3NhZ2VzLmRldGFpbHNDb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtaW5ib3gtZGV0YWlscy1oZWFkZXItbGFiZWwnKTtcclxuICAgIHZhciBib2R5ID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MubWVzc2FnZXMuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1pbmJveC1kZXRhaWxzLWJvZHknKTtcclxuXHJcbiAgICBsYWJlbC5pbm5lckhUTUwgPSBkYXRhLmRhdGEuc3ViamVjdDtcclxuICAgIGJvZHkuaW5uZXJIVE1MID0gZGF0YS5kYXRhLmJvZHk7XHJcblxyXG4gICAgX3RoaXMuc2V0dGluZ3MubWVzc2FnZXMuZGV0YWlsc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBhZGRDbGFzcyhfdGhpcy5zZXR0aW5ncy5tZXNzYWdlcy5kZXRhaWxzQ29udGFpbmVyLCAnY2wtc2hvdycpO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcclxuICAgIH0sIDUwKTtcclxuICB9O1xyXG5cclxuICB0aGlzLmhpZGVSZXdhcmREZXRhaWxzID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIHJlbW92ZUNsYXNzKF90aGlzLnNldHRpbmdzLnJld2FyZC5kZXRhaWxzQ29udGFpbmVyLCAnY2wtc2hvdycpO1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLnJld2FyZC5kZXRhaWxzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xyXG4gICAgfSwgMjAwKTtcclxuICB9O1xyXG5cclxuICB0aGlzLmhpZGVNZXNzYWdlRGV0YWlscyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICByZW1vdmVDbGFzcyhfdGhpcy5zZXR0aW5ncy5tZXNzYWdlcy5kZXRhaWxzQ29udGFpbmVyLCAnY2wtc2hvdycpO1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLm1lc3NhZ2VzLmRldGFpbHNDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XHJcbiAgICB9LCAyMDApO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuZ2V0QWNoaWV2ZW1lbnRJbmZvID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgZm9yICh2YXIgYWNoIG9mIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmFjaGlldmVtZW50cy5saXN0KSB7XHJcbiAgICAgIGlmIChhY2guaWQgPT09IGlkKSByZXR1cm4gYWNoO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMudXBkYXRlQWNoaWV2ZW1lbnRQcm9ncmVzc2lvbkFuZElzc3VlZCA9IGZ1bmN0aW9uIChpc3N1ZWQsIHByb2dyZXNzaW9uKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIGFjaExpc3QgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5zZWN0aW9uLCAnLmNsLW1haW4td2lkZ2V0LXNlY3Rpb24tYWNoIC5jbC1tYWluLXdpZGdldC1hY2gtbGlzdC1ib2R5LXJlcycpO1xyXG5cclxuICAgIG9iamVjdEl0ZXJhdG9yKHF1ZXJ5KGFjaExpc3QsICcuY2wtYWNoLWxpc3QtaXRlbScpLCBmdW5jdGlvbiAoYWNoKSB7XHJcbiAgICAgIHZhciBpZCA9IGFjaC5kYXRhc2V0LmlkO1xyXG4gICAgICAvLyB2YXIgaXNzdWVkU3RhdHVzID0gKGlzc3VlZC5pbmRleE9mKGlkKSAhPT0gLTEpO1xyXG4gICAgICB2YXIgYWNoSW5mbyA9IF90aGlzLmdldEFjaGlldmVtZW50SW5mbyhpZCk7XHJcbiAgICAgIHZhciBwZXJjID0gMDtcclxuICAgICAgdmFyIGlzc3VlZENudCA9ICcnO1xyXG4gICAgICB2YXIgaXNzdWVkQ2hjayA9IF90aGlzLmlzc3VlZEJveC5hcHBlbmRDaGlsZChfdGhpcy5pc3N1ZWRCb3hDaGVja0dpZnQpO1xyXG4gICAgICB2YXIgcmV3YXJkID0gJyc7XHJcblxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShhY2hJbmZvLnJld2FyZHMpICYmIGFjaEluZm8ucmV3YXJkcy5sZW5ndGggPj4gMCkge1xyXG4gICAgICAgIHJld2FyZCA9IGFjaEluZm8ucmV3YXJkc1swXS5yZXdhcmROYW1lLnRvU3RyaW5nKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHdpbmRvdy5tYXBPYmplY3QocHJvZ3Jlc3Npb24sIGZ1bmN0aW9uIChwcikge1xyXG4gICAgICAgIGlmIChwci5hY2hpZXZlbWVudElkID09PSBpZCkge1xyXG4gICAgICAgICAgLy8gcHJvZ3Jlc3MgYmFyXHJcbiAgICAgICAgICBpZiAoYWNoSW5mby5zY2hlZHVsaW5nLnNjaGVkdWxlVHlwZSA9PT0gJ09uY2UnICYmIHByLmlzc3VlZCA+IDApIHtcclxuICAgICAgICAgICAgcGVyYyA9IDEwMDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBlcmMgPSAocGFyc2VGbG9hdChwci5nb2FsUGVyY2VudGFnZUNvbXBsZXRlKSAqIDEwMCkudG9GaXhlZCgxKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIGlzc3VlIGNvdW50XHJcbiAgICAgICAgICBpZiAoYWNoSW5mby5zY2hlZHVsaW5nLnNjaGVkdWxlVHlwZSA9PT0gJ1JlcGVhdGVkbHknKSB7XHJcbiAgICAgICAgICAgIGlzc3VlZENudCA9IHByLmlzc3VlZC50b1N0cmluZygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGFjaEluZm8uc2NoZWR1bGluZy5zY2hlZHVsZVR5cGUgPT09ICdPbmNlJykge1xyXG4gICAgICAgICAgICBpc3N1ZWRDaGNrID0gKHByLmlzc3VlZCA+IDApID8gdGhpcy5pc3N1ZWRCb3guYXBwZW5kQ2hpbGQodGhpcy5pc3N1ZWRCb3hDaGVjaykgOiB0aGlzLmlzc3VlZEJveC5hcHBlbmRDaGlsZCh0aGlzLmlzc3VlZEJveE5vdENoZWNrKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGFjaCAhPT0gbnVsbCkge1xyXG4gICAgICAgIHZhciBiYXIgPSBxdWVyeShhY2gsICcuY2wtYWNoLWxpc3QtcHJvZ3Jlc3Npb24tYmFyJyk7XHJcbiAgICAgICAgdmFyIHBlcmNlbnROdW0gPSBxdWVyeShhY2gsICcuY2wtYWNoLWxpc3QtcGVyY2VudC1udW1iZXInKTtcclxuICAgICAgICB2YXIgaXNzdWVkQ291bnQgPSBxdWVyeShhY2gsICcuY2wtYWNoLWxpc3QtaXNzdWVkLWJveC1jb3VudCcpO1xyXG4gICAgICAgIHZhciBpc3N1ZWRDaGVjayA9IHF1ZXJ5KGFjaCwgJy5jbC1hY2gtbGlzdC1pc3N1ZWQtYm94LWNoZWNrJyk7XHJcbiAgICAgICAgdmFyIHJld2FyZE5hbWUgPSBxdWVyeShhY2gsICcuY2wtYWNoLWxpc3QtZGV0YWlscy1yZXdhcmQnKTtcclxuICAgICAgICBiYXIuc3R5bGUud2lkdGggPSAoKHBlcmMgPiAxIHx8IHBlcmMgPT09IDApID8gcGVyYyA6IDEpICsgJyUnO1xyXG4gICAgICAgIHBlcmNlbnROdW0uaW5uZXJIVE1MID0gKChwZXJjID4gMSB8fCBwZXJjID09PSAwKSA/IE1hdGgucm91bmQocGVyYykgOiAxKSArICclJztcclxuICAgICAgICBpc3N1ZWRDb3VudC5pbm5lckhUTUwgPSBpc3N1ZWRDbnQ7XHJcbiAgICAgICAgaXNzdWVkQ2hlY2sgPSBpc3N1ZWRDaGNrO1xyXG4gICAgICAgIHJld2FyZE5hbWUuaW5uZXJIVE1MID0gcmV3YXJkO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGlzc3VlZENoZWNrKTtcclxuICAgICAgICAvKlxyXG4gICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHZhciBpbWFnZUljb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2gtbGlzdC1pc3N1ZWQtYm94Jyk7XHJcbiAgICAgICAgaW1hZ2Uuc3JjID0gJ0M6L1Byb2dyYW1pcmFuamUvanVyZXBldHJvdmljL2xlYWRlcmJvYXJkX3YzL3NyYy9pbWFnZXMvYWNoLWlzc3VlZC5wbmcnO1xyXG4gICAgICAgIGltYWdlSWNvbldyYXBwZXIuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xyXG4gICAgICAgIC8vICBkZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKGltYWdlSWNvbldyYXBwZXIpO1xyXG4gICAgICAgICovXHJcbiAgICAgICAgLypcclxuICAgICAgICBpZiAoaXNzdWVkU3RhdHVzKSB7XHJcbiAgICAgICAgICBhZGRDbGFzcyhiYXIsICdjbC1hY2gtY29tcGxldGUnKTtcclxuICAgICAgICAgIGJhci5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5hY2hpZXZlbWVudHMuY29tcGxldGU7XHJcbiAgICAgICAgICBiYXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGJhci5zdHlsZS53aWR0aCA9ICgocGVyYyA+IDEgfHwgcGVyYyA9PT0gMCkgPyBwZXJjIDogMSkgKyAnJSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHRoaXMubG9hZEFjaGlldmVtZW50cyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5jaGVja0ZvckF2YWlsYWJsZUFjaGlldmVtZW50cyhmdW5jdGlvbiAoYWNoaWV2ZW1lbnREYXRhKSB7XHJcbiAgICAgIF90aGlzLmFjaGlldmVtZW50TGlzdExheW91dChhY2hpZXZlbWVudERhdGEpO1xyXG5cclxuICAgICAgdmFyIGlkTGlzdCA9IFtdO1xyXG4gICAgICB3aW5kb3cubWFwT2JqZWN0KF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmFjaGlldmVtZW50cy5saXN0LCBmdW5jdGlvbiAoYWNoKSB7XHJcbiAgICAgICAgaWRMaXN0LnB1c2goYWNoLmlkKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5jaGVja0Zvck1lbWJlckFjaGlldmVtZW50c0lzc3VlZChmdW5jdGlvbiAoaXNzdWVkKSB7XHJcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5jaGVja0Zvck1lbWJlckFjaGlldmVtZW50c1Byb2dyZXNzaW9uKGlkTGlzdCwgZnVuY3Rpb24gKHByb2dyZXNzaW9uKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUFjaGlldmVtZW50UHJvZ3Jlc3Npb25BbmRJc3N1ZWQoaXNzdWVkLCBwcm9ncmVzc2lvbik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSwgNDAwKTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICB0aGlzLnJld2FyZEl0ZW0gPSBmdW5jdGlvbiAocmV3KSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIGxpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgZGV0YWlsc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGRldGFpbHNXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgIGxpc3RJdGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtcmV3LWxpc3QtaXRlbSBjbC1yZXctJyArIHJldy5pZCk7XHJcbiAgICBkZXRhaWxzQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtcmV3LWxpc3QtZGV0YWlscy1jb250Jyk7XHJcbiAgICBkZXRhaWxzV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXJldy1saXN0LWRldGFpbHMtd3JhcCcpO1xyXG4gICAgbGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1yZXctbGlzdC1kZXRhaWxzLWxhYmVsJyk7XHJcbiAgICBkZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXJldy1saXN0LWRldGFpbHMtZGVzY3JpcHRpb24nKTtcclxuXHJcbiAgICBsaXN0SXRlbS5kYXRhc2V0LmlkID0gcmV3LmlkO1xyXG4gICAgdmFyIGxhYmVsVGV4dCA9IHN0cmlwSHRtbChyZXcuc3ViamVjdCk7XHJcbiAgICB2YXIgZGVzY3JpcHRpb25UZXh0ID0gc3RyaXBIdG1sKHJldy5ib2R5KTtcclxuXHJcbiAgICBpZiAodHlwZW9mIHJldy5wcml6ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgbGlzdEl0ZW0uZGF0YXNldC5yZXdhcmRJZCA9IHJldy5wcml6ZS5pZDtcclxuICAgICAgbGFiZWxUZXh0ID0gc3RyaXBIdG1sKHJldy5zdWJqZWN0ICsgJyAtICcgKyByZXcucHJpemUucmV3YXJkLnJld2FyZE5hbWUgKyAnICgnICsgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MucmV3YXJkcy5yZXdhcmRGb3JtYXR0ZXIocmV3LnByaXplLnJld2FyZCkgKyAnKScpO1xyXG4gICAgICBkZXNjcmlwdGlvblRleHQgPSBzdHJpcEh0bWwoKHR5cGVvZiByZXcucHJpemUucmV3YXJkLmRlc2NyaXB0aW9uICE9PSAndW5kZWZpbmVkJyAmJiByZXcucHJpemUucmV3YXJkLmRlc2NyaXB0aW9uLmxlbmd0aCA+IDApID8gcmV3LnByaXplLnJld2FyZC5kZXNjcmlwdGlvbiA6IHJldy5ib2R5KTtcclxuICAgIH1cclxuXHJcbiAgICBsYWJlbC5pbm5lckhUTUwgPSAobGFiZWxUZXh0Lmxlbmd0aCA+IDgwKSA/IChsYWJlbFRleHQuc3Vic3RyKDAsIDgwKSArICcuLi4nKSA6IGxhYmVsVGV4dDtcclxuICAgIGRlc2NyaXB0aW9uLmlubmVySFRNTCA9IChkZXNjcmlwdGlvblRleHQubGVuZ3RoID4gMjAwKSA/IChkZXNjcmlwdGlvblRleHQuc3Vic3RyKDAsIDIwMCkgKyAnLi4uJykgOiBkZXNjcmlwdGlvblRleHQ7XHJcblxyXG4gICAgZGV0YWlsc1dyYXBwZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gICAgZGV0YWlsc1dyYXBwZXIuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xyXG4gICAgZGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChkZXRhaWxzV3JhcHBlcik7XHJcbiAgICBsaXN0SXRlbS5hcHBlbmRDaGlsZChkZXRhaWxzQ29udGFpbmVyKTtcclxuXHJcbiAgICByZXR1cm4gbGlzdEl0ZW07XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5tZXNzYWdlSXRlbSA9IGZ1bmN0aW9uIChpbmJveCkge1xyXG4gICAgLy8gdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBsaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGRldGFpbHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBkZXRhaWxzV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBjb250ZW50ID0gc3RyaXBIdG1sKGluYm94LmJvZHkpO1xyXG5cclxuICAgIGxpc3RJdGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtaW5ib3gtbGlzdC1pdGVtIGNsLWluYm94LScgKyBpbmJveC5pZCk7XHJcbiAgICBkZXRhaWxzQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtaW5ib3gtbGlzdC1kZXRhaWxzLWNvbnQnKTtcclxuICAgIGRldGFpbHNXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtaW5ib3gtbGlzdC1kZXRhaWxzLXdyYXAnKTtcclxuICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtaW5ib3gtbGlzdC1kZXRhaWxzLWxhYmVsJyk7XHJcbiAgICBkZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWluYm94LWxpc3QtZGV0YWlscy1kZXNjcmlwdGlvbicpO1xyXG5cclxuICAgIGxpc3RJdGVtLmRhdGFzZXQuaWQgPSBpbmJveC5pZDtcclxuICAgIGxhYmVsLmlubmVySFRNTCA9IChpbmJveC5zdWJqZWN0Lmxlbmd0aCA+IDM2KSA/IGluYm94LnN1YmplY3Quc3Vic3RyKDAsIDM2KSArICcuLi4nIDogaW5ib3guc3ViamVjdDtcclxuICAgIGRlc2NyaXB0aW9uLmlubmVySFRNTCA9IChjb250ZW50Lmxlbmd0aCA+IDYwKSA/IGNvbnRlbnQuc3Vic3RyKDAsIDYwKSArICcuLi4nIDogY29udGVudDtcclxuXHJcbiAgICBkZXRhaWxzV3JhcHBlci5hcHBlbmRDaGlsZChsYWJlbCk7XHJcbiAgICBkZXRhaWxzV3JhcHBlci5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XHJcbiAgICBkZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKGRldGFpbHNXcmFwcGVyKTtcclxuICAgIGxpc3RJdGVtLmFwcGVuZENoaWxkKGRldGFpbHNDb250YWluZXIpO1xyXG5cclxuICAgIHJldHVybiBsaXN0SXRlbTtcclxuICB9O1xyXG5cclxuICB0aGlzLnRvdXJuYW1lbnRJdGVtID0gZnVuY3Rpb24gKHRvdXJuYW1lbnQpIHtcclxuICAgIC8vIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB2YXIgbGlzdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBkZXRhaWxzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgZGV0YWlsc1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgZGVzY3JpcHRpb25Db250ZW50ID0gc3RyaXBIdG1sKHRvdXJuYW1lbnQuZGVzY3JpcHRpb24pO1xyXG5cclxuICAgIGxpc3RJdGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtdG91ci1saXN0LWl0ZW0gY2wtdG91ci0nICsgdG91cm5hbWVudC5pZCk7XHJcbiAgICBkZXRhaWxzQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtdG91ci1saXN0LWRldGFpbHMtY29udCcpO1xyXG4gICAgZGV0YWlsc1dyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC10b3VyLWxpc3QtZGV0YWlscy13cmFwJyk7XHJcbiAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXRvdXItbGlzdC1kZXRhaWxzLWxhYmVsJyk7XHJcbiAgICBkZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXRvdXItbGlzdC1kZXRhaWxzLWRlc2NyaXB0aW9uJyk7XHJcblxyXG4gICAgbGlzdEl0ZW0uZGF0YXNldC5pZCA9IHRvdXJuYW1lbnQuaWQ7XHJcbiAgICBsYWJlbC5pbm5lckhUTUwgPSB0b3VybmFtZW50LmxhYmVsO1xyXG4gICAgZGVzY3JpcHRpb24uaW5uZXJIVE1MID0gKGRlc2NyaXB0aW9uQ29udGVudC5sZW5ndGggPiAxMDApID8gZGVzY3JpcHRpb25Db250ZW50LnN1YnN0cigwLCAxMDApICsgJy4uLicgOiBkZXNjcmlwdGlvbkNvbnRlbnQ7XHJcblxyXG4gICAgZGV0YWlsc1dyYXBwZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gICAgZGV0YWlsc1dyYXBwZXIuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xyXG4gICAgZGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChkZXRhaWxzV3JhcHBlcik7XHJcbiAgICBsaXN0SXRlbS5hcHBlbmRDaGlsZChkZXRhaWxzQ29udGFpbmVyKTtcclxuXHJcbiAgICByZXR1cm4gbGlzdEl0ZW07XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5yZXdhcmRzTGlzdExheW91dCA9IGZ1bmN0aW9uIChyZXdhcmRzLCBhdmFpbGFibGVSZXdhcmRzLCBleHBpcmVkUmV3YXJkcykge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciByZXdhcmRMaXN0ID0gcXVlcnkoX3RoaXMuc2V0dGluZ3Muc2VjdGlvbiwgJy5jbC1tYWluLXdpZGdldC1zZWN0aW9uLXJld2FyZCAuY2wtbWFpbi13aWRnZXQtcmV3YXJkLWxpc3QtYm9keS1yZXMnKTtcclxuXHJcbiAgICB2YXIgYWNjb3JkaW9uT2JqID0gX3RoaXMuYWNjb3JkaW9uU3R5bGUoX3RoaXMuc2V0dGluZ3MucmV3YXJkc1NlY3Rpb24uYWNjb3JkaW9uTGF5b3V0LCBmdW5jdGlvbiAoYWNjb3JkaW9uU2VjdGlvbiwgbGlzdENvbnRhaW5lciwgdG9wRW50cnlDb250YWluZXIsIGxheW91dCkge1xyXG4gICAgICB2YXIgcmV3YXJkRGF0YSA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnJld2FyZHNbbGF5b3V0LnR5cGVdO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiByZXdhcmREYXRhICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGlmIChyZXdhcmREYXRhLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgYWNjb3JkaW9uU2VjdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aW5kb3cubWFwT2JqZWN0KHJld2FyZERhdGEsIGZ1bmN0aW9uIChyZXcsIGtleSwgY291bnQpIHtcclxuICAgICAgICAgIGlmICgoY291bnQgKyAxKSA8PSBsYXlvdXQuc2hvd1RvcFJlc3VsdHMgJiYgcXVlcnkodG9wRW50cnlDb250YWluZXIsICcuY2wtcmV3YXJkLScgKyByZXcuaWQpID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHZhciB0b3BFbnRyeUNvbnRhaW5lUmxpc3RJdGVtID0gX3RoaXMucmV3YXJkSXRlbShyZXcpO1xyXG4gICAgICAgICAgICB0b3BFbnRyeUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0b3BFbnRyeUNvbnRhaW5lUmxpc3RJdGVtKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAocXVlcnkobGlzdENvbnRhaW5lciwgJy5jbC1yZXdhcmQtJyArIHJldy5pZCkgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gX3RoaXMucmV3YXJkSXRlbShyZXcpO1xyXG4gICAgICAgICAgICBsaXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV3YXJkTGlzdC5pbm5lckhUTUwgPSAnJztcclxuICAgIHJld2FyZExpc3QuYXBwZW5kQ2hpbGQoYWNjb3JkaW9uT2JqKTtcclxuXHJcbiAgICAvLyBtYXBPYmplY3QocmV3YXJkRGF0YSwgZnVuY3Rpb24ocmV3KXtcclxuICAgIC8vICAgaWYoIHF1ZXJ5KHJld2FyZExpc3QsIFwiLmNsLXJld2FyZC1cIiArIHJldy5pZCkgPT09IG51bGwgKSB7XHJcbiAgICAvLyAgICAgdmFyIGxpc3RJdGVtID0gX3RoaXMucmV3YXJkSXRlbShyZXcpO1xyXG4gICAgLy9cclxuICAgIC8vICAgICByZXdhcmRMaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5tZXNzYWdlc0xpc3RMYXlvdXQgPSBmdW5jdGlvbiAocmV3YXJkcywgYXZhaWxhYmxlUmV3YXJkcywgZXhwaXJlZFJld2FyZHMpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB2YXIgbWVzc2FnZUxpc3QgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5zZWN0aW9uLCAnLmNsLW1haW4td2lkZ2V0LXNlY3Rpb24taW5ib3ggLmNsLW1haW4td2lkZ2V0LWluYm94LWxpc3QtYm9keS1yZXMnKTtcclxuXHJcbiAgICBtZXNzYWdlTGlzdC5pbm5lckhUTUwgPSAnJztcclxuXHJcbiAgICB3aW5kb3cubWFwT2JqZWN0KF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lc3NhZ2VzLm1lc3NhZ2VzLCBmdW5jdGlvbiAoaW5ib3hJdGVtLCBrZXksIGNvdW50KSB7XHJcbiAgICAgIHZhciBsaXN0SXRlbSA9IF90aGlzLm1lc3NhZ2VJdGVtKGluYm94SXRlbSk7XHJcbiAgICAgIG1lc3NhZ2VMaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHRoaXMubG9hZFJld2FyZHMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuY2hlY2tGb3JBdmFpbGFibGVSZXdhcmRzKGZ1bmN0aW9uIChyZXdhcmRzLCBhdmFpbGFibGVSZXdhcmRzLCBleHBpcmVkUmV3YXJkcykge1xyXG4gICAgICBfdGhpcy5yZXdhcmRzTGlzdExheW91dChyZXdhcmRzLCBhdmFpbGFibGVSZXdhcmRzLCBleHBpcmVkUmV3YXJkcyk7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5sb2FkTWVzc2FnZXMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuY2hlY2tGb3JBdmFpbGFibGVNZXNzYWdlcyhmdW5jdGlvbiAocmV3YXJkcywgYXZhaWxhYmxlUmV3YXJkcywgZXhwaXJlZFJld2FyZHMpIHtcclxuICAgICAgX3RoaXMubWVzc2FnZXNMaXN0TGF5b3V0KHJld2FyZHMsIGF2YWlsYWJsZVJld2FyZHMsIGV4cGlyZWRSZXdhcmRzKTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICB2YXIgY2hhbmdlSW50ZXJ2YWw7XHJcbiAgdmFyIGNoYW5nZUNvbnRhaW5lckludGVydmFsO1xyXG4gIHRoaXMubmF2aWdhdGlvblN3aXRjaCA9IGZ1bmN0aW9uICh0YXJnZXQsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIHByZUxvYWRlciA9IF90aGlzLnByZWxvYWRlcigpO1xyXG5cclxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5uYXZpZ2F0aW9uU3dpdGNoSW5Qcm9ncmVzcyAmJiBfdGhpcy5zZXR0aW5ncy5uYXZpZ2F0aW9uU3dpdGNoTGFzdEF0ZW1wdCArIDMwMDAgPCBuZXcgRGF0ZSgpLmdldFRpbWUoKSkge1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5uYXZpZ2F0aW9uU3dpdGNoSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvblN3aXRjaEluUHJvZ3Jlc3MpIHtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvblN3aXRjaEluUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5uYXZpZ2F0aW9uU3dpdGNoTGFzdEF0ZW1wdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cclxuICAgICAgaWYgKCFoYXNDbGFzcyh0YXJnZXQucGFyZW50Tm9kZSwgJ2NsLWFjdGl2ZS1uYXYnKSkge1xyXG4gICAgICAgIHByZUxvYWRlci5zaG93KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGlmIChjaGFuZ2VJbnRlcnZhbCkgY2xlYXJUaW1lb3V0KGNoYW5nZUludGVydmFsKTtcclxuICAgICAgICAgIGlmIChjaGFuZ2VDb250YWluZXJJbnRlcnZhbCkgY2xlYXJUaW1lb3V0KGNoYW5nZUNvbnRhaW5lckludGVydmFsKTtcclxuXHJcbiAgICAgICAgICBvYmplY3RJdGVyYXRvcihxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1pdGVtcyAuY2wtYWN0aXZlLW5hdicpLCBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKG9iaiwgJ2NsLWFjdGl2ZS1uYXYnKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIG9iamVjdEl0ZXJhdG9yKHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1zZWN0aW9uLWNvbnRhaW5lciAuY2wtbWFpbi1hY3RpdmUtc2VjdGlvbicpLCBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKG9iaiwgJ2NsLW1haW4tYWN0aXZlLXNlY3Rpb24nKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgb2JqLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH0sIDE1MCk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBjaGFuZ2VDb250YWluZXJJbnRlcnZhbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoaGFzQ2xhc3ModGFyZ2V0LCAnY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1sYi1pY29uJykpIHtcclxuICAgICAgICAgICAgICBfdGhpcy5sb2FkTGVhZGVyYm9hcmQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxiQ29udGFpbmVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LXNlY3Rpb24tY29udGFpbmVyIC5jbC1tYWluLXdpZGdldC1sYicpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxiQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MobGJDb250YWluZXIsICdjbC1tYWluLWFjdGl2ZS1zZWN0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICB9LCAzMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHByZUxvYWRlci5oaWRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvblN3aXRjaEluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNDbGFzcyh0YXJnZXQsICdjbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWFjaC1pY29uJykpIHtcclxuICAgICAgICAgICAgICBfdGhpcy5sb2FkQWNoaWV2ZW1lbnRzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhY2hDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1jb250YWluZXIgLmNsLW1haW4td2lkZ2V0LXNlY3Rpb24tYWNoJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnQuZGV0YWlsc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICAgICAgICAgIGFjaENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgICAgIGNoYW5nZUludGVydmFsID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgIGFkZENsYXNzKGFjaENvbnRhaW5lciwgJ2NsLW1haW4tYWN0aXZlLXNlY3Rpb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCAzMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcHJlTG9hZGVyLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5uYXZpZ2F0aW9uU3dpdGNoSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKHRhcmdldCwgJ2NsLW1haW4td2lkZ2V0LW5hdmlnYXRpb24tcmV3YXJkcy1pY29uJykpIHtcclxuICAgICAgICAgICAgICBfdGhpcy5sb2FkUmV3YXJkcyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmV3YXJkc0NvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1zZWN0aW9uLWNvbnRhaW5lciAuY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1yZXdhcmQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXdhcmRzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MocmV3YXJkc0NvbnRhaW5lciwgJ2NsLW1haW4tYWN0aXZlLXNlY3Rpb24nKTtcclxuICAgICAgICAgICAgICAgIH0sIDMwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcHJlTG9hZGVyLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5uYXZpZ2F0aW9uU3dpdGNoSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKHRhcmdldCwgJ2NsLW1haW4td2lkZ2V0LW5hdmlnYXRpb24taW5ib3gtaWNvbicpKSB7XHJcbiAgICAgICAgICAgICAgX3RoaXMubG9hZE1lc3NhZ2VzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmJveENvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1zZWN0aW9uLWNvbnRhaW5lciAuY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1pbmJveCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGluYm94Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5ib3hDb250YWluZXIsICdjbC1tYWluLWFjdGl2ZS1zZWN0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICB9LCAzMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcHJlTG9hZGVyLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5uYXZpZ2F0aW9uU3dpdGNoSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LCAyNTApO1xyXG5cclxuICAgICAgICAgIGFkZENsYXNzKHRhcmdldC5wYXJlbnROb2RlLCAnY2wtYWN0aXZlLW5hdicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzLm5hdmlnYXRpb25Td2l0Y2hJblByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMucmVzZXROYXZpZ2F0aW9uID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIGxiQ29udGFpbmVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LXNlY3Rpb24tY29udGFpbmVyIC5jbC1tYWluLXdpZGdldC1sYicpO1xyXG5cclxuICAgIG9iamVjdEl0ZXJhdG9yKHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWl0ZW1zIC5jbC1hY3RpdmUtbmF2JyksIGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgcmVtb3ZlQ2xhc3Mob2JqLCAnY2wtYWN0aXZlLW5hdicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgb2JqZWN0SXRlcmF0b3IocXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LXNlY3Rpb24tY29udGFpbmVyIC5jbC1tYWluLWFjdGl2ZS1zZWN0aW9uJyksIGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgb2JqLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgIHJlbW92ZUNsYXNzKG9iaiwgJ2NsLW1haW4tYWN0aXZlLXNlY3Rpb24nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFkZENsYXNzKHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWl0ZW1zIC5jbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWxiJyksICdjbC1hY3RpdmUtbmF2Jyk7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgbGJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGFkZENsYXNzKGxiQ29udGFpbmVyLCAnY2wtbWFpbi1hY3RpdmUtc2VjdGlvbicpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAndW5kZWZpbmVkJykgY2FsbGJhY2soKTtcclxuICAgICAgfSwgMzApO1xyXG4gICAgfSwgNDApO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuaW5pdExheW91dCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5zZXR0aW5ncy5hY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgIF90aGlzLmxvYWRMZWFkZXJib2FyZCgpO1xyXG5cclxuICAgIF90aGlzLnNldHRpbmdzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBhZGRDbGFzcyhfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICdjbC1zaG93Jyk7XHJcblxyXG4gICAgICB2YXIgbWVtYmVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQubGlzdCwgJy5jbC1sYi1tZW1iZXItcm93Jyk7XHJcbiAgICAgIGlmIChtZW1iZXIgIT09IG51bGwpIHtcclxuICAgICAgICBfdGhpcy5taXNzaW5nTWVtYmVyKF90aGlzLmlzRWxlbWVudFZpc2libGVJblZpZXcobWVtYmVyLCBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5saXN0LnBhcmVudE5vZGUpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgX3RoaXMucmVzZXROYXZpZ2F0aW9uKGNhbGxiYWNrKTtcclxuICAgIH0sIDMwKTtcclxuICB9O1xyXG59O1xyXG4iLCJpbXBvcnQgY0xhYnMgZnJvbSAnLi9jTGFicyc7XHJcblxyXG4vKipcclxuICogU1NFIE1lc3NhZ2luZ1xyXG4gKiBAcGFyYW0gb3B0aW9uc1xyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbmV4cG9ydCBjb25zdCBNZXNzYWdpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gIHRoaXMuc2V0dGluZ3MgPSB7XHJcbiAgICBzb3VyY2U6IG51bGwsXHJcbiAgICBhamF4OiB7XHJcbiAgICAgIHVybDogbnVsbCxcclxuICAgICAgYXBpS2V5OiB1bmRlZmluZWQsXHJcbiAgICAgIGVycm9yQ2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNzZVVybDogbnVsbCxcclxuICAgIGhlYXJ0YmVhdDogbnVsbCxcclxuICAgIGxhc3RIZWFydGJlYXQ6IG51bGwsXHJcbiAgICBtYWluQWpheDogbmV3IGNMYWJzLkFqYXgoKSxcclxuICAgIGhlYXJ0QmVhdEFqYXg6IG5ldyBjTGFicy5BamF4KCksXHJcbiAgICBoZWFydFdhaXRUaW1lOiAyNTAwMCxcclxuICAgIG1lc3NhZ2VRdWV1ZTogW10sXHJcbiAgICBtZXNzYWdlSW50ZXJ2YWw6IDEwMDAsXHJcbiAgICBzdGFydHVwQ2hlY2s6IHRydWUsXHJcbiAgICBhY3RpdmU6IGZhbHNlLFxyXG4gICAgZGVidWc6IGZhbHNlLFxyXG4gICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICB9LFxyXG4gICAgb25TdGFydHVwRXJyb3I6IGZ1bmN0aW9uICgpIHtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICBmb3IgKHZhciBvcHQgaW4gb3B0aW9ucykge1xyXG4gICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHQpKSB7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc1tvcHRdID0gb3B0aW9uc1tvcHRdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0aGlzLmludGVydmFsSW5zdGFuY2UgPSBudWxsO1xyXG4gIHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWxJbnN0YW5jZSA9IG51bGw7XHJcblxyXG4gIHRoaXMubG9va3VwRGF0YSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLm1lc3NhZ2VRdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHZhciBkYXRhID0gX3RoaXMuc2V0dGluZ3MubWVzc2FnZVF1ZXVlWzBdO1xyXG5cclxuICAgICAgdmFyIGluZGV4ID0gX3RoaXMuc2V0dGluZ3MubWVzc2FnZVF1ZXVlLmluZGV4T2YoZGF0YSk7XHJcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MubWVzc2FnZVF1ZXVlLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MuYWpheC51cmwgPT09ICdzdHJpbmcnICYmIF90aGlzLnNldHRpbmdzLmFqYXgudXJsLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBfdGhpcy5nZXREYXRhKGRhdGEpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzLmNhbGxiYWNrKGRhdGEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMuaW50ZXJ2YWxJbnN0YW5jZSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgX3RoaXMubG9va3VwRGF0YSgpO1xyXG4gICAgfSwgX3RoaXMuc2V0dGluZ3MubWVzc2FnZUludGVydmFsKTtcclxuXHJcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MuaGVhcnRiZWF0ICE9PSBudWxsKSB7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLmxhc3RIZWFydGJlYXQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICBfdGhpcy5oZWFydGJlYXRJbnRlcnZhbEluc3RhbmNlID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgdmFyIGRpZmYgPSBfdGhpcy5zZXR0aW5ncy5sYXN0SGVhcnRiZWF0LmdldFRpbWUoKSAtIGN1cnJlbnRUaW1lLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLnNvdXJjZS5yZWFkeVN0YXRlID09PSAwICYmIGRpZmYgPiBfdGhpcy5zZXR0aW5ncy5oZWFydFdhaXRUaW1lKSB7XHJcbiAgICAgICAgICBfdGhpcy5jbG9zZUNoYW5lbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgX3RoaXMuaGVhckJlYXRDaGVjaygpO1xyXG4gICAgICB9LCBfdGhpcy5zZXR0aW5ncy5oZWFydFdhaXRUaW1lKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBSZXF1ZXN0IGEgaGVhcnRiZWF0XHJcbiAgICogLSBpZiB0aGUgcmVxdWVzdCBpcyBmYWlsaW5nIGNsb3NlIHRoZSBjb25uZWN0aW9uXHJcbiAgICogLSBpZiB0aGUgcmVxdWVzdCBpcyBzdWNjZXNzZnVsIGJ1dCB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWQgcmVvcGVuIGFuZCBjYWxsIGZvciBhIGhlYXJ0YmVhdCBhZ2FpblxyXG4gICAqL1xyXG4gIHRoaXMuaGVhckJlYXRDaGVjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgdmFyIGRhdGFPYmogPSB7XHJcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MuaGVhcnRiZWF0LFxyXG4gICAgICBoZWFkZXJzOiBfdGhpcy5zZXR0aW5ncy5hamF4LmFwaUtleSxcclxuICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iamVjdCwgeGhyKSB7XHJcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgIT09IDIwMCAmJiBfdGhpcy5zZXR0aW5ncy5zb3VyY2UucmVhZHlTdGF0ZSA9PT0gMCkge1xyXG4gICAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmRlYnVnKSBjb25zb2xlLmxvZygnW01zZ10gU1NFIENsb3NpbmcgY29ubmVjdGlvbicpO1xyXG4gICAgICAgICAgX3RoaXMuY2xvc2VDaGFuZWwoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHhoci5zdGF0dXMgPT09IDIwMCAmJiBfdGhpcy5zZXR0aW5ncy5zb3VyY2UucmVhZHlTdGF0ZSA9PT0gMikge1xyXG4gICAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmRlYnVnKSBjb25zb2xlLmxvZygnW01zZ10gU1NFIFRyeWluZyB0byByZS1vcGVuIHRoZSBjb25uZWN0aW9uJyk7XHJcbiAgICAgICAgICBfdGhpcy5vcGVuQ2hhbmVsKCk7XHJcblxyXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmhlYXJCZWF0Q2hlY2soKTtcclxuICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MuYWpheC5hcGlLZXkgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIGRhdGFPYmouaGVhZGVycyA9IF90aGlzLnNldHRpbmdzLmFqYXguYXBpS2V5O1xyXG4gICAgfVxyXG5cclxuICAgIF90aGlzLnNldHRpbmdzLmhlYXJ0QmVhdEFqYXguYWJvcnQoKS5nZXREYXRhKGRhdGFPYmopO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuZ2V0RGF0YSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgdmFyIGRhdGFPYmogPSB7XHJcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MuYWpheC51cmwsXHJcbiAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIGRhdGFPYmplY3QsIHhocikge1xyXG4gICAgICAgIHZhciBqc29uID0ge307XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZGVidWcpIGNvbnNvbGUubG9nKGUsIF90aGlzLnNldHRpbmdzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MuY2FsbGJhY2soanNvbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLmFqYXguZXJyb3JDYWxsYmFjayhqc29uKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5hamF4LmFwaUtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgZGF0YU9iai5oZWFkZXJzID0gX3RoaXMuc2V0dGluZ3MuYWpheC5hcGlLZXk7XHJcbiAgICB9XHJcblxyXG4gICAgX3RoaXMuc2V0dGluZ3MubWFpbkFqYXguYWJvcnQoKS5nZXREYXRhKGRhdGFPYmopO1xyXG4gIH07XHJcblxyXG4gIHRoaXMub3BlbkNoYW5lbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMuc2V0dGluZ3Muc291cmNlID0gbmV3IEV2ZW50U291cmNlKF90aGlzLnNldHRpbmdzLnNzZVVybCwgeyB3aXRoQ3JlZGVudGlhbHM6IHRydWUgfSk7XHJcblxyXG4gICAgX3RoaXMuc2VydmVyU2lkZUV2ZW50TGlzdGVuZXJzKF90aGlzLnNldHRpbmdzLnNvdXJjZSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5zZXJ2ZXJTaWRlRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoc291cmNlKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmRlYnVnKSBjb25zb2xlLmxvZygnW01zZ10gY29ubmVjdGlvbiBvcGVuZWQnLCBlKTtcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5kZWJ1Zykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbTXNnXSBtZXNzYWdlIGNoZWNrJywgX3RoaXMuc2V0dGluZ3Muc3NlVXJsKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhlLmRhdGEpO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBkYXRhID0gZS5kYXRhO1xyXG4gICAgICB2YXIganNvbiA9IG51bGw7XHJcblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGpzb24gPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5oZWFydGJlYXQgIT09IG51bGwpIHtcclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5sYXN0SGVhcnRiZWF0ID0gbmV3IERhdGUoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGpzb24gIT09IG51bGwgJiYgdHlwZW9mIGpzb24uaGVhcnRiZWF0ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzLm1lc3NhZ2VRdWV1ZS5wdXNoKGpzb24pO1xyXG4gICAgICB9XHJcbiAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmRlYnVnKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tNc2ddIGVycm9yIGNoZWNrJywgX3RoaXMuc2V0dGluZ3Muc3NlVXJsKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyogZXNsaW50IGVxZXFlcTogXCJvZmZcIiAqL1xyXG4gICAgICBpZiAoZS5yZWFkeVN0YXRlID09IEV2ZW50U291cmNlLkNMT1NFRCkge1xyXG4gICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5kZWJ1ZykgY29uc29sZS53YXJuKCdbTXNnXSBjb25uZWN0aW9uIGNsb3NlZCcsIGUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5kZWJ1ZykgY29uc29sZS5sb2coZSwgZS5yZWFkeVN0YXRlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgX3RoaXMuY2xvc2VDaGFuZWwoKTtcclxuXHJcbiAgICAgIF90aGlzLnNldHRpbmdzLnN0YXJ0dXBDaGVjayA9IGZhbHNlO1xyXG4gICAgfSwgZmFsc2UpO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuY2xvc2VDaGFuZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLnNldHRpbmdzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5zZXR0aW5ncy5zb3VyY2UuY2xvc2UoKTtcclxuICB9O1xyXG5cclxuICB0aGlzLnNzZUZhaWxlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMuc2V0dGluZ3MuaGVhcnRiZWF0ID0gbnVsbDtcclxuICAgIF90aGlzLnNldHRpbmdzLmFjdGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgIGlmIChfdGhpcy5oZWFydGJlYXRJbnRlcnZhbEluc3RhbmNlICE9PSBudWxsKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMuaGVhcnRiZWF0SW50ZXJ2YWxJbnN0YW5jZSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3RoaXMuc2V0dGluZ3Mub25TdGFydHVwRXJyb3IoX3RoaXMuc2V0dGluZ3MpO1xyXG4gIH07XHJcblxyXG4gIHRoaXMud2luZG93QWN0aXZpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBoaWRkZW4gPSAnaGlkZGVuJztcclxuXHJcbiAgICAgIC8vIFN0YW5kYXJkczpcclxuICAgICAgaWYgKGhpZGRlbiBpbiBkb2N1bWVudCkge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBvbmNoYW5nZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoKGhpZGRlbiA9ICdtb3pIaWRkZW4nKSBpbiBkb2N1bWVudCkge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21venZpc2liaWxpdHljaGFuZ2UnLCBvbmNoYW5nZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoKGhpZGRlbiA9ICd3ZWJraXRIaWRkZW4nKSBpbiBkb2N1bWVudCkge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdHZpc2liaWxpdHljaGFuZ2UnLCBvbmNoYW5nZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoKGhpZGRlbiA9ICdtc0hpZGRlbicpIGluIGRvY3VtZW50KSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbXN2aXNpYmlsaXR5Y2hhbmdlJywgb25jaGFuZ2UpO1xyXG4gICAgICB9IGVsc2UgaWYgKCdvbmZvY3VzaW4nIGluIGRvY3VtZW50KSB7IC8vIElFIDkgYW5kIGxvd2VyOlxyXG4gICAgICAgIGRvY3VtZW50Lm9uZm9jdXNpbiA9IGRvY3VtZW50Lm9uZm9jdXNvdXQgPSBvbmNoYW5nZTtcclxuICAgICAgfSBlbHNlIHsgLy8gQWxsIG90aGVyczpcclxuICAgICAgICB3aW5kb3cub25wYWdlc2hvdyA9IHdpbmRvdy5vbnBhZ2VoaWRlID0gd2luZG93Lm9uZm9jdXMgPSB3aW5kb3cub25ibHVyID0gb25jaGFuZ2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIG9uY2hhbmdlIChldnQpIHtcclxuICAgICAgICB2YXIgc3RhdHVzID0gJyc7XHJcbiAgICAgICAgdmFyIHYgPSAndmlzaWJsZSc7XHJcbiAgICAgICAgdmFyIGggPSAnaGlkZGVuJztcclxuICAgICAgICB2YXIgZXZ0TWFwID0ge1xyXG4gICAgICAgICAgZm9jdXM6IHYsIGZvY3VzaW46IHYsIHBhZ2VzaG93OiB2LCBibHVyOiBoLCBmb2N1c291dDogaCwgcGFnZWhpZGU6IGhcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBldnQgPSBldnQgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgICAgIGlmIChldnQudHlwZSBpbiBldnRNYXApIHtcclxuICAgICAgICAgIHN0YXR1cyA9IGV2dE1hcFtldnQudHlwZV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHN0YXR1cyA9IHRoaXNbaGlkZGVuXSA/ICdoaWRkZW4nIDogJ3Zpc2libGUnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ3Zpc2libGUnICYmIChfdGhpcy5zZXR0aW5ncy5zb3VyY2UucmVhZHlTdGF0ZSAhPT0gMCAmJiBfdGhpcy5zZXR0aW5ncy5zb3VyY2UucmVhZHlTdGF0ZSAhPT0gMSkpIHtcclxuICAgICAgICAgIF90aGlzLm9wZW5DaGFuZWwoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ2hpZGRlbicgJiYgKF90aGlzLnNldHRpbmdzLnNvdXJjZS5yZWFkeVN0YXRlID09PSAwIHx8IF90aGlzLnNldHRpbmdzLnNvdXJjZS5yZWFkeVN0YXRlID09PSAxKSkge1xyXG4gICAgICAgICAgX3RoaXMuY2xvc2VDaGFuZWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHNldCB0aGUgaW5pdGlhbCBzdGF0ZSAoYnV0IG9ubHkgaWYgYnJvd3NlciBzdXBwb3J0cyB0aGUgUGFnZSBWaXNpYmlsaXR5IEFQSSlcclxuICAgICAgaWYgKGRvY3VtZW50W2hpZGRlbl0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIG9uY2hhbmdlKHsgdHlwZTogZG9jdW1lbnRbaGlkZGVuXSA/ICdibHVyJyA6ICdmb2N1cycgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pKCk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZGVidWcpIGNvbnNvbGUubG9nKCdbTXNnXSBTU0Ugc3RhcnRpbmcnLCBfdGhpcy5zZXR0aW5ncy5zc2VVcmwsIG5ldyBEYXRlKCkpO1xyXG5cclxuICAgICAgX3RoaXMub3BlbkNoYW5lbCgpO1xyXG5cclxuICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmRlYnVnKSBjb25zb2xlLmxvZygnW01zZ10gU1NFIHN0YXJ0ZWQnLCBfdGhpcy5zZXR0aW5ncy5zc2VVcmwsIG5ldyBEYXRlKCksIF90aGlzLnNldHRpbmdzLnNvdXJjZS5yZWFkeVN0YXRlKTtcclxuXHJcbiAgICAgIF90aGlzLnNldEludGVydmFsKCk7XHJcbiAgICAgIF90aGlzLndpbmRvd0FjdGl2aXR5KCk7XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIV90aGlzLnNldHRpbmdzLnN0YXJ0dXBDaGVjaykge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ3NzZSBmYWlsZWQnKTtcclxuICAgICAgICAgIF90aGlzLnNzZUZhaWxlZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgMjAwMCk7XHJcblxyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndW5sb2FkJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmRlYnVnKSBjb25zb2xlLmxvZygnW01zZ10gY2xvc2luZyBtZXNzYWdpbmcgc2VydmljZScsIG5ldyBEYXRlKCkpO1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzLnNvdXJjZS5jbG9zZSgpO1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzLmFjdGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5oZWFydEJlYXRBamF4LmFib3J0KCk7XHJcblxyXG4gICAgICAgIGlmIChfdGhpcy5pbnRlcnZhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICBjbGVhckludGVydmFsKF90aGlzLmludGVydmFsSW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZGVidWcpIGNvbnNvbGUubG9nKCdbTXNnXSBjbG9zaW5nIG1lc3NhZ2luZyBzZXJ2aWNlJyk7XHJcbiAgICAgICAgX3RoaXMuc2V0dGluZ3Muc291cmNlLmNsb3NlKCk7XHJcblxyXG4gICAgICAgIF90aGlzLnNldHRpbmdzLmhlYXJ0QmVhdEFqYXguYWJvcnQoKTtcclxuXHJcbiAgICAgICAgaWYgKF90aGlzLmludGVydmFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMuaW50ZXJ2YWxJbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmRlYnVnKSBjb25zb2xlLmxvZygnRXZlbnRTb3VyY2UgZmFpbGVkJyk7XHJcbiAgICAgIF90aGlzLnNzZUZhaWxlZCgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMuaW5pdCgpO1xyXG59O1xyXG4iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XHJcbmltcG9ydCBxdWVyeSBmcm9tICcuLi91dGlscy9xdWVyeSc7XHJcbmltcG9ydCBhZGRDbGFzcyBmcm9tICcuLi91dGlscy9hZGRDbGFzcyc7XHJcbmltcG9ydCBoYXNDbGFzcyBmcm9tICcuLi91dGlscy9oYXNDbGFzcyc7XHJcbmltcG9ydCByZW1vdmVDbGFzcyBmcm9tICcuLi91dGlscy9yZW1vdmVDbGFzcyc7XHJcbmltcG9ydCByZW1vdmUgZnJvbSAnLi4vdXRpbHMvcmVtb3ZlJztcclxuaW1wb3J0IGRyYWdFbGVtZW50IGZyb20gJy4vZHJhZ0VsZW1lbnQnO1xyXG5cclxuZXhwb3J0IGNvbnN0IE1pbmlTY29yZUJvYXJkID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICB0aGlzLnNldHRpbmdzID0ge1xyXG4gICAgbGJXaWRnZXQ6IG51bGwsXHJcbiAgICBjb250YWluZXI6IG51bGwsXHJcbiAgICBvdmVybGF5Q29udGFpbmVyOiBudWxsLFxyXG4gICAgaW5mb0NvbnRhaW5lcjogbnVsbCxcclxuICAgIHVwZGF0ZUludGVydmFsOiBudWxsLFxyXG4gICAgdXBkYXRlSW50ZXJ2YWxUaW1lOiAxMDAwLFxyXG4gICAgYWN0aXZlOiBmYWxzZSxcclxuICAgIGVuYWJsZURyYWdnaW5nOiB0cnVlLFxyXG4gICAgZHJhZ2dpbmc6IGZhbHNlXHJcbiAgfTtcclxuXHJcbiAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgZm9yICh2YXIgb3B0IGluIG9wdGlvbnMpIHtcclxuICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0KSkge1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3Nbb3B0XSA9IG9wdGlvbnNbb3B0XTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdGhpcy5sYXlvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGljb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgIHZhciBpbmZvcm1hdGlvbldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBpbmZvcm1hdGlvblRvcFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBpbmZvcm1hdGlvbldyYXBwZXJDbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGluZm9ybWF0aW9uQ2xvc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblxyXG4gICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy13cmFwcGVyJyk7XHJcbiAgICBpY29uV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1pY29uLXdyYXBwZXInKTtcclxuICAgIGljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtaWNvbicpO1xyXG4gICAgaW5mb3JtYXRpb25Ub3BXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWluZm9ybWF0aW9uLXRvcC13cmFwcGVyJyk7XHJcbiAgICBpbmZvcm1hdGlvbldyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtaW5mb3JtYXRpb24td3JhcHBlcicpO1xyXG4gICAgaW5mb3JtYXRpb25XcmFwcGVyQ2xvc2Uuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtaW5mb3JtYXRpb24tY2xvc2Utd3JhcHBlcicpO1xyXG4gICAgaW5mb3JtYXRpb25DbG9zZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1pbmZvcm1hdGlvbi1jbG9zZScpO1xyXG5cclxuICAgIGluZm9ybWF0aW9uQ2xvc2UuaHJlZiA9ICdqYXZhc2NyaXB0OnZvaWQoMCk7JztcclxuICAgIGluZm9ybWF0aW9uQ2xvc2UuaW5uZXJIVE1MID0gJ3gnO1xyXG5cclxuICAgIGluZm9ybWF0aW9uV3JhcHBlckNsb3NlLmFwcGVuZENoaWxkKGluZm9ybWF0aW9uQ2xvc2UpO1xyXG4gICAgaW5mb3JtYXRpb25XcmFwcGVyLmFwcGVuZENoaWxkKGluZm9ybWF0aW9uV3JhcHBlckNsb3NlKTtcclxuICAgIGluZm9ybWF0aW9uVG9wV3JhcHBlci5hcHBlbmRDaGlsZChpbmZvcm1hdGlvbldyYXBwZXIpO1xyXG4gICAgaWNvbldyYXBwZXIuYXBwZW5kQ2hpbGQoaWNvbik7XHJcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGljb25XcmFwcGVyKTtcclxuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5mb3JtYXRpb25Ub3BXcmFwcGVyKTtcclxuXHJcbiAgICByZXR1cm4gd3JhcHBlcjtcclxuICB9O1xyXG5cclxuICB0aGlzLm92ZXJsYXlMYXlvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtb3ZlcmxheS13cmFwcGVyJyk7XHJcblxyXG4gICAgcmV0dXJuIHdyYXBwZXI7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy50aW1lTWFuYWdlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB2YXIgZGlmZiA9IDA7XHJcbiAgICB2YXIgbGFiZWwgPSAnJztcclxuICAgIHZhciBkYXRlID0gJyc7XHJcbiAgICB2YXIgZGF0ZU9iaiA9ICcnO1xyXG4gICAgdmFyIGludmVyc2UgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCAhPT0gbnVsbCkge1xyXG4gICAgICBkaWZmID0gbW9tZW50KF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3Quc2NoZWR1bGVkU3RhcnQpLmRpZmYobW9tZW50KCkpO1xyXG4gICAgICBsYWJlbCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLm1pbmlMZWFkZXJib2FyZC5zdGFydHNJbjtcclxuICAgICAgZGF0ZSA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LmZvcm1hdERhdGVUaW1lKG1vbWVudC5kdXJhdGlvbihkaWZmKSk7XHJcbiAgICAgIGRhdGVPYmogPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5mb3JtYXREYXRlVGltZShtb21lbnQuZHVyYXRpb24oZGlmZikpO1xyXG4gICAgICBpbnZlcnNlID0gZmFsc2U7XHJcblxyXG4gICAgICBpZiAoZGlmZiA8IDAgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdGF0dXNDb2RlID09PSAwKSB7XHJcbiAgICAgICAgbGFiZWwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5taW5pTGVhZGVyYm9hcmQuc3RhcnRpbmc7XHJcbiAgICAgICAgZGF0ZSA9ICcnO1xyXG4gICAgICB9IGVsc2UgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3Quc3RhdHVzQ29kZSA+IDAgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdGF0dXNDb2RlIDwgMykge1xyXG4gICAgICAgIGRpZmYgPSBtb21lbnQoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zY2hlZHVsZWRFbmQpLmRpZmYobW9tZW50KCkpO1xyXG4gICAgICAgIGRhdGVPYmogPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5mb3JtYXREYXRlVGltZShtb21lbnQuZHVyYXRpb24oZGlmZikpO1xyXG4gICAgICAgIGxhYmVsID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuZm9ybWF0RGF0ZVRpbWUobW9tZW50LmR1cmF0aW9uKGRpZmYpKTtcclxuICAgICAgICBkYXRlID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubWluaUxlYWRlcmJvYXJkLnJhbms7XHJcbiAgICAgICAgaW52ZXJzZSA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdGF0dXNDb2RlID09PSAzKSB7XHJcbiAgICAgICAgbGFiZWwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5taW5pTGVhZGVyYm9hcmQuZmluaXNoaW5nO1xyXG4gICAgICAgIGRhdGUgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5taW5pTGVhZGVyYm9hcmQucmFuaztcclxuICAgICAgICBpbnZlcnNlID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIGlmIChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0YXR1c0NvZGUgPj0gNCkge1xyXG4gICAgICAgIGxhYmVsID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubWluaUxlYWRlcmJvYXJkLmZpbmlzaGVkO1xyXG4gICAgICAgIGRhdGUgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5taW5pTGVhZGVyYm9hcmQucmFuaztcclxuICAgICAgICBpbnZlcnNlID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGxhYmVsOiBsYWJlbCxcclxuICAgICAgZGlmZjogZGlmZixcclxuICAgICAgZGF0ZTogZGF0ZSxcclxuICAgICAgZGF0ZU9iajogZGF0ZU9iaixcclxuICAgICAgaW52ZXJzZTogaW52ZXJzZVxyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICB0aGlzLmxheW91dERlZmF1bHRPckVtcHR5RW50cnkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbGJSZXN1bHRzTWVtRW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBsYlJlc3VsdHNNZW1MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGxiUmVzdWx0c01lbVJhbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBsYlJlc3VsdHNNZW1JY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgbGJSZXN1bHRzTWVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICB2YXIgbGJSZXN1bHRzTWVtUG9pbnRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgbGJSZXN1bHRzTWVtRW50cnkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tZW50cnknKTtcclxuICAgIGxiUmVzdWx0c01lbUxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWRlZmF1bHQtbWVtLWxhYmVsJyk7XHJcbiAgICBsYlJlc3VsdHNNZW1SYW5rLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWRlZmF1bHQtbWVtLXJhbmsnKTtcclxuICAgIGxiUmVzdWx0c01lbUljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0taWNvbicpO1xyXG4gICAgbGJSZXN1bHRzTWVtSW1nLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWRlZmF1bHQtbWVtLWltZycpO1xyXG4gICAgbGJSZXN1bHRzTWVtSW1nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICBsYlJlc3VsdHNNZW1Qb2ludHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tcG9pbnRzJyk7XHJcblxyXG4gICAgbGJSZXN1bHRzTWVtRW50cnkuYXBwZW5kQ2hpbGQobGJSZXN1bHRzTWVtTGFiZWwpO1xyXG4gICAgbGJSZXN1bHRzTWVtRW50cnkuYXBwZW5kQ2hpbGQobGJSZXN1bHRzTWVtUmFuayk7XHJcbiAgICBsYlJlc3VsdHNNZW1JY29uLmFwcGVuZENoaWxkKGxiUmVzdWx0c01lbUltZyk7XHJcbiAgICBsYlJlc3VsdHNNZW1FbnRyeS5hcHBlbmRDaGlsZChsYlJlc3VsdHNNZW1JY29uKTtcclxuICAgIGxiUmVzdWx0c01lbUVudHJ5LmFwcGVuZENoaWxkKGxiUmVzdWx0c01lbVBvaW50cyk7XHJcblxyXG4gICAgcmV0dXJuIGxiUmVzdWx0c01lbUVudHJ5O1xyXG4gIH07XHJcblxyXG4gIHRoaXMubGF5b3V0Rmlyc3RUb09yRW1wdHlFbnRyeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBsYlJlc3VsdHNNZW1FbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGxiUmVzdWx0c01lbUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgbGJSZXN1bHRzTWVtUmFuayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGxiUmVzdWx0c01lbUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBsYlJlc3VsdHNNZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgIHZhciBsYlJlc3VsdHNNZW1Qb2ludHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICBsYlJlc3VsdHNNZW1FbnRyeS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1tZW0tZW50cnknKTtcclxuICAgIGxiUmVzdWx0c01lbUxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLW1lbS1sYWJlbCcpO1xyXG4gICAgbGJSZXN1bHRzTWVtUmFuay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1tZW0tcmFuaycpO1xyXG4gICAgbGJSZXN1bHRzTWVtSWNvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1tZW0taWNvbicpO1xyXG4gICAgbGJSZXN1bHRzTWVtSW1nLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLW1lbS1pbWcnKTtcclxuICAgIGxiUmVzdWx0c01lbUltZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgbGJSZXN1bHRzTWVtUG9pbnRzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLW1lbS1wb2ludHMnKTtcclxuXHJcbiAgICBsYlJlc3VsdHNNZW1FbnRyeS5hcHBlbmRDaGlsZChsYlJlc3VsdHNNZW1MYWJlbCk7XHJcbiAgICBsYlJlc3VsdHNNZW1FbnRyeS5hcHBlbmRDaGlsZChsYlJlc3VsdHNNZW1SYW5rKTtcclxuICAgIGxiUmVzdWx0c01lbUljb24uYXBwZW5kQ2hpbGQobGJSZXN1bHRzTWVtSW1nKTtcclxuICAgIGxiUmVzdWx0c01lbUVudHJ5LmFwcGVuZENoaWxkKGxiUmVzdWx0c01lbUljb24pO1xyXG4gICAgbGJSZXN1bHRzTWVtRW50cnkuYXBwZW5kQ2hpbGQobGJSZXN1bHRzTWVtUG9pbnRzKTtcclxuXHJcbiAgICByZXR1cm4gbGJSZXN1bHRzTWVtRW50cnk7XHJcbiAgfTtcclxuXHJcbiAgLy8gbGV0IHRlc3RMaXZlID0gZmFsc2U7XHJcbiAgdGhpcy5sYXlvdXREZWZhdWx0T3JFbXB0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB2YXIgdGltZU1hbmFnZW1lbnQgPSBfdGhpcy50aW1lTWFuYWdlbWVudCgpO1xyXG4gICAgLy8gdmFyIGRpZmYgPSB0aW1lTWFuYWdlbWVudC5kaWZmO1xyXG4gICAgdmFyIGxhYmVsID0gdGltZU1hbmFnZW1lbnQubGFiZWw7XHJcbiAgICB2YXIgZGF0ZSA9IHRpbWVNYW5hZ2VtZW50LmRhdGU7XHJcbiAgICB2YXIgZGF0ZU9iaiA9IHRpbWVNYW5hZ2VtZW50LmRhdGVPYmo7XHJcbiAgICB2YXIgd3JhcHBlckRvbU9iaiA9IF90aGlzLnNldHRpbmdzLmluZm9Db250YWluZXI7XHJcbiAgICB2YXIgZGVmYXVsdERvbU9iaiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtZGVmYXVsdC13cmFwcGVyJyk7XHJcbiAgICB2YXIgaW52ZXJzZSA9IHRpbWVNYW5hZ2VtZW50LmludmVyc2U7XHJcblxyXG4gICAgaWYgKGRlZmF1bHREb21PYmogPT09IG51bGwpIHtcclxuICAgICAgX3RoaXMucmVtb3ZlVW51c2VkRWxlbWVudHMoKTtcclxuXHJcbiAgICAgIGFkZENsYXNzKF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJ2NsLW1zLWRlZmF1bHQtc3R5bGUnKTtcclxuXHJcbiAgICAgIHZhciBsYldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIGxiRGF0ZVdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIGxiRGF0ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHZhciBsYkRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIGxiUmVzdWx0c1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIGxiUmVzdWx0c0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIGxiSGVhZGVycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB2YXIgbGJIZWFkZXJzUmFuayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB2YXIgbGJIZWFkZXJzUG9pbnRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHZhciBsYlJlc3VsdHNNZW1FbnRyeSA9IF90aGlzLmxheW91dERlZmF1bHRPckVtcHR5RW50cnkoKTtcclxuICAgICAgdmFyIGltZyA9IHF1ZXJ5KGxiUmVzdWx0c01lbUVudHJ5LCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LW1lbS1pbWcnKTtcclxuXHJcbiAgICAgIGxiV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1kZWZhdWx0LXdyYXBwZXInKTtcclxuICAgICAgbGJEYXRlTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1kYXRlLWxhYmVsJyk7XHJcbiAgICAgIGxiRGF0ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1kZWZhdWx0LWRhdGUnKTtcclxuICAgICAgbGJEYXRlV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1kZWZhdWx0LWRhdGUtd3JhcHBlcicpO1xyXG4gICAgICBsYlJlc3VsdHNXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWRlZmF1bHQtcmVzdWx0cy13cmFwcGVyJyk7XHJcbiAgICAgIGxiUmVzdWx0c0xpc3Quc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1yZXN1bHRzLWxpc3QnKTtcclxuICAgICAgbGJIZWFkZXJzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWRlZmF1bHQtcmVzdWx0cy1oZWFkZXJzJyk7XHJcbiAgICAgIGxiSGVhZGVyc1Jhbmsuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1yZXN1bHRzLWhlYWRlci1yYW5rJyk7XHJcbiAgICAgIGxiSGVhZGVyc1BvaW50cy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1kZWZhdWx0LXJlc3VsdHMtaGVhZGVyLXBvaW50cycpO1xyXG5cclxuICAgICAgbGJSZXN1bHRzTWVtRW50cnkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tZW50cnknKTtcclxuXHJcbiAgICAgIC8vIGxiRGF0ZUxhYmVsLmlubmVySFRNTCA9IGxhYmVsO1xyXG4gICAgICBsYkRhdGUuaW5uZXJIVE1MID0gZGF0ZU9iajtcclxuXHJcbiAgICAgIGxiRGF0ZVdyYXBwZXIuYXBwZW5kQ2hpbGQobGJEYXRlTGFiZWwpO1xyXG4gICAgICBsYkRhdGVXcmFwcGVyLmFwcGVuZENoaWxkKGxiRGF0ZSk7XHJcblxyXG4gICAgICBxdWVyeShsYlJlc3VsdHNNZW1FbnRyeSwgJy5jbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tcmFuaycpLmlubmVySFRNTCA9ICctLSc7XHJcbiAgICAgIHF1ZXJ5KGxiUmVzdWx0c01lbUVudHJ5LCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LW1lbS1wb2ludHMnKS5pbm5lckhUTUwgPSAnLS0nO1xyXG5cclxuICAgICAgaW1nLnNyYyA9ICcnO1xyXG4gICAgICBpbWcuYWx0ID0gJyc7XHJcbiAgICAgIGltZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHJcbiAgICAgIGxiSGVhZGVyc1JhbmsuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubGVhZGVyYm9hcmQucmFuaztcclxuICAgICAgbGJIZWFkZXJzUG9pbnRzLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmxlYWRlcmJvYXJkLnBvaW50cztcclxuXHJcbiAgICAgIGxiSGVhZGVycy5hcHBlbmRDaGlsZChsYkhlYWRlcnNSYW5rKTtcclxuICAgICAgbGJIZWFkZXJzLmFwcGVuZENoaWxkKGxiSGVhZGVyc1BvaW50cyk7XHJcbiAgICAgIGxiUmVzdWx0c0xpc3QuYXBwZW5kQ2hpbGQobGJSZXN1bHRzTWVtRW50cnkpO1xyXG4gICAgICBsYlJlc3VsdHNXcmFwcGVyLmFwcGVuZENoaWxkKGxiSGVhZGVycyk7XHJcbiAgICAgIGxiUmVzdWx0c1dyYXBwZXIuYXBwZW5kQ2hpbGQobGJSZXN1bHRzTGlzdCk7XHJcblxyXG4gICAgICBsYldyYXBwZXIuYXBwZW5kQ2hpbGQobGJEYXRlV3JhcHBlcik7XHJcbiAgICAgIGxiV3JhcHBlci5hcHBlbmRDaGlsZChsYlJlc3VsdHNXcmFwcGVyKTtcclxuXHJcbiAgICAgIGRlZmF1bHREb21PYmogPSB3cmFwcGVyRG9tT2JqLmFwcGVuZENoaWxkKGxiV3JhcHBlcik7XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBhZGRDbGFzcyh3cmFwcGVyRG9tT2JqLCAnY2wtc2hvdycpO1xyXG4gICAgICB9LCAyMDApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKCFoYXNDbGFzcyh3cmFwcGVyRG9tT2JqLCAnY2wtc2hvdycpKSB7XHJcbiAgICAgICAgYWRkQ2xhc3Mod3JhcHBlckRvbU9iaiwgJ2NsLXNob3cnKTtcclxuICAgICAgfVxyXG4gICAgICBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWRlZmF1bHQtZGF0ZS1sYWJlbCcpLmlubmVySFRNTCA9IGxhYmVsO1xyXG4gICAgICBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWRlZmF1bHQtZGF0ZScpLmlubmVySFRNTCA9IGRhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93Lm1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5sZWFkZXJib2FyZC5sZWFkZXJib2FyZERhdGEsIGZ1bmN0aW9uIChsYkVudHJ5KSB7XHJcbiAgICAgIGlmICgobGJFbnRyeS5tZW1iZXJSZWZJZCA9PT0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubWVtYmVySWQgfHwgbGJFbnRyeS5tZW1iZXJJZCA9PT0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubWVtYmVySWQpICYmIHR5cGVvZiBsYkVudHJ5LnJhbmtpbmdzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHZhciBzY29yZUFyZWEgPSBxdWVyeShkZWZhdWx0RG9tT2JqLCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LXJlc3VsdHMtbGlzdCcpO1xyXG4gICAgICAgIHNjb3JlQXJlYS5pbm5lckhUTUwgPSAnJztcclxuXHJcbiAgICAgICAgcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LWRhdGUtbGFiZWwnKS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWRlZmF1bHQtZGF0ZScpLmlubmVySFRNTCA9IGRhdGVPYmo7XHJcbiAgICAgICAgYWRkQ2xhc3MocXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LWRhdGUtd3JhcHBlcicpLCAnY2wtd2lkZ2V0LW1zLWRlZmF1bHQtZGF0ZS1vbmx5Jyk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5tYXBPYmplY3QobGJFbnRyeS5yYW5raW5ncywgZnVuY3Rpb24gKGxiUmFua2luZ0VudHJ5KSB7XHJcbiAgICAgICAgICB2YXIgaWNvbiA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnBvcHVsYXRlSWRlbnRpY29uQmFzZTY0SW1hZ2UobGJSYW5raW5nRW50cnkubWVtYmVySWQpO1xyXG4gICAgICAgICAgdmFyIGxiV3JhcHBlciA9IF90aGlzLmxheW91dERlZmF1bHRPckVtcHR5RW50cnkoKTtcclxuICAgICAgICAgIHZhciBpbWcgPSBxdWVyeShsYldyYXBwZXIsICcuY2wtd2lkZ2V0LW1zLWRlZmF1bHQtbWVtLWltZycpO1xyXG4gICAgICAgICAgdmFyIHNlbGZNZW1iZXIgPSAoKGxiUmFua2luZ0VudHJ5Lm1lbWJlclJlZklkID09PSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCB8fCBsYlJhbmtpbmdFbnRyeS5tZW1iZXJJZCA9PT0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubWVtYmVySWQpKTtcclxuXHJcbiAgICAgICAgICBpbWcuc3JjID0gaWNvbjtcclxuICAgICAgICAgIGltZy5hbHQgPSAnJztcclxuICAgICAgICAgIGltZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHJcbiAgICAgICAgICBpZiAoc2VsZk1lbWJlcikge1xyXG4gICAgICAgICAgICBhZGRDbGFzcyhsYldyYXBwZXIsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tc2VsZicpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHF1ZXJ5KGxiV3JhcHBlciwgJy5jbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tbGFiZWwnKS5pbm5lckhUTUwgPSBzZWxmTWVtYmVyID8gJ1lPVScgOiAnJztcclxuICAgICAgICAgIHF1ZXJ5KGxiV3JhcHBlciwgJy5jbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tcmFuaycpLmlubmVySFRNTCA9IFwiPHNwYW4gY2xhc3M9J2NsLW1lbS1yYW5rLWxhYmVsJz5cIiArIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmxlYWRlcmJvYXJkLnJhbmsgKyBcIjwvc3Bhbj48c3BhbiBjbGFzcz0nY2wtbWVtLXJhbmsnPlwiICsgbGJSYW5raW5nRW50cnkucmFuayArICc8L3NwYW4+JztcclxuICAgICAgICAgIHF1ZXJ5KGxiV3JhcHBlciwgJy5jbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tcG9pbnRzJykuaW5uZXJIVE1MID0gXCI8c3BhbiBjbGFzcz0nY2wtbWVtLXBvaW50cy1sYWJlbCc+XCIgKyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5sZWFkZXJib2FyZC5wb2ludHMgKyBcIjwvc3Bhbj48c3BhbiBjbGFzcz0nY2wtbWVtLXBvaW50cyc+XCIgKyBsYlJhbmtpbmdFbnRyeS5wb2ludHMgKyAnPC9zcGFuPic7XHJcblxyXG4gICAgICAgICAgc2NvcmVBcmVhLmFwcGVuZENoaWxkKGxiV3JhcHBlcik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHRlc3RMaXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gIHZhciBsYXN0U2NvcmUgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsIFwiLmNsLXdpZGdldC1tcy1kZWZhdWx0LWxhc3Qtc2NvcmVcIikuaW5uZXJIVE1MLFxyXG4gICAgICAgIC8vICBoaWdoU2NvcmUgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsIFwiLmNsLXdpZGdldC1tcy1kZWZhdWx0LWhpZ2gtc2NvcmVcIikuaW5uZXJIVE1MLFxyXG4gICAgICAgIC8vICByYW5rID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCBcIi5jbC13aWRnZXQtbXMtZGVmYXVsdC1yYW5rLXZhbHVlXCIpLFxyXG4gICAgICAgIC8vICBjaGFuZ2UgPSAobGJFbnRyeS5jaGFuZ2UgPCAwKSA/IFwiZG93blwiIDogKCBsYkVudHJ5LmNoYW5nZSA+IDAgPyBcInVwXCIgOiBcInNhbWVcIiApLFxyXG4gICAgICAgIC8vICByYW5rVmFsdWUgPSBsYkVudHJ5LnJhbms7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBpZiggbGFzdFNjb3JlICE9PSBTdHJpbmcobGJFbnRyeS5wb2ludHMpICYmIFN0cmluZyhsYkVudHJ5LnBvaW50cykgIT09IGhpZ2hTY29yZSApe1xyXG4gICAgICAgIC8vICBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsIFwiLmNsLXdpZGdldC1tcy1kZWZhdWx0LWxhc3Qtc2NvcmVcIikuaW5uZXJIVE1MID0gaGlnaFNjb3JlO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgXCIuY2wtd2lkZ2V0LW1zLWRlZmF1bHQtaGlnaC1zY29yZVwiKS5pbm5lckhUTUwgPSBsYkVudHJ5LnBvaW50cztcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIHJlbW92ZUNsYXNzKHJhbmssIFwiY2wtbXMtcmFuay11cFwiKTtcclxuICAgICAgICAvLyByZW1vdmVDbGFzcyhyYW5rLCBcImNsLW1zLXJhbmstZG93blwiKTtcclxuICAgICAgICAvLyByZW1vdmVDbGFzcyhyYW5rLCBcImNsLW1zLXJhbmstc2FtZVwiKTtcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIGFkZENsYXNzKHJhbmssIFwiY2wtbXMtcmFuay1cIiArIGNoYW5nZSk7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyByYW5rLmlubmVySFRNTCA9IHJhbmtWYWx1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGludmVyc2UgJiYgIWhhc0NsYXNzKGRlZmF1bHREb21PYmosICdjbC1pbnZlcnNlJykpIHtcclxuICAgICAgYWRkQ2xhc3MoZGVmYXVsdERvbU9iaiwgJ2NsLWludmVyc2UnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB0aGlzLmxheW91dEZpcnN0VG9PckVtcHR5ID0gZnVuY3Rpb24gKHN0cmF0ZWd5KSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIHRpbWVNYW5hZ2VtZW50ID0gX3RoaXMudGltZU1hbmFnZW1lbnQoKTtcclxuICAgIC8vIHZhciBkaWZmID0gdGltZU1hbmFnZW1lbnQuZGlmZjtcclxuICAgIHZhciBsYWJlbCA9IHRpbWVNYW5hZ2VtZW50LmxhYmVsO1xyXG4gICAgdmFyIGRhdGUgPSB0aW1lTWFuYWdlbWVudC5kYXRlO1xyXG4gICAgdmFyIGRhdGVPYmogPSB0aW1lTWFuYWdlbWVudC5kYXRlT2JqO1xyXG4gICAgdmFyIHdyYXBwZXJEb21PYmogPSBfdGhpcy5zZXR0aW5ncy5pbmZvQ29udGFpbmVyO1xyXG4gICAgdmFyIGRlZmF1bHREb21PYmogPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLXdyYXBwZXInKTtcclxuICAgIHZhciBpbnZlcnNlID0gdGltZU1hbmFnZW1lbnQuaW52ZXJzZTtcclxuXHJcbiAgICBpZiAoZGVmYXVsdERvbU9iaiA9PT0gbnVsbCkge1xyXG4gICAgICBfdGhpcy5yZW1vdmVVbnVzZWRFbGVtZW50cygpO1xyXG5cclxuICAgICAgYWRkQ2xhc3MoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnY2wtbXMtZmlyc3QtdG8tc3R5bGUnKTtcclxuXHJcbiAgICAgIHZhciBsYldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIGxiRGF0ZVdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIGxiRGF0ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHZhciBsYkRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIGxiUmVzdWx0c1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIGxiUmVzdWx0c0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIGxiSGVhZGVycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB2YXIgbGJIZWFkZXJzUmFuayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB2YXIgbGJIZWFkZXJzUG9pbnRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHZhciBsYlJlc3VsdHNNZW1FbnRyeSA9IF90aGlzLmxheW91dEZpcnN0VG9PckVtcHR5RW50cnkoKTtcclxuICAgICAgdmFyIGltZyA9IHF1ZXJ5KGxiUmVzdWx0c01lbUVudHJ5LCAnLmNsLXdpZGdldC1tcy1maXJzdC10by1tZW0taW1nJyk7XHJcblxyXG4gICAgICBsYldyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8td3JhcHBlcicpO1xyXG4gICAgICBsYkRhdGVMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1kYXRlLWxhYmVsJyk7XHJcbiAgICAgIGxiRGF0ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1kYXRlJyk7XHJcbiAgICAgIGxiRGF0ZVdyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tZGF0ZS13cmFwcGVyJyk7XHJcbiAgICAgIGxiUmVzdWx0c1dyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tcmVzdWx0cy13cmFwcGVyJyk7XHJcbiAgICAgIGxiUmVzdWx0c0xpc3Quc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tcmVzdWx0cy1saXN0Jyk7XHJcbiAgICAgIGxiSGVhZGVycy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1yZXN1bHRzLWhlYWRlcnMnKTtcclxuICAgICAgbGJIZWFkZXJzUmFuay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1yZXN1bHRzLWhlYWRlci1yYW5rJyk7XHJcbiAgICAgIGxiSGVhZGVyc1BvaW50cy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1yZXN1bHRzLWhlYWRlci1wb2ludHMnKTtcclxuXHJcbiAgICAgIGxiUmVzdWx0c01lbUVudHJ5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLW1lbS1lbnRyeScpO1xyXG5cclxuICAgICAgLy8gbGJEYXRlTGFiZWwuaW5uZXJIVE1MID0gbGFiZWw7XHJcbiAgICAgIGxiRGF0ZS5pbm5lckhUTUwgPSBkYXRlT2JqO1xyXG5cclxuICAgICAgbGJEYXRlV3JhcHBlci5hcHBlbmRDaGlsZChsYkRhdGVMYWJlbCk7XHJcbiAgICAgIGxiRGF0ZVdyYXBwZXIuYXBwZW5kQ2hpbGQobGJEYXRlKTtcclxuXHJcbiAgICAgIHF1ZXJ5KGxiUmVzdWx0c01lbUVudHJ5LCAnLmNsLXdpZGdldC1tcy1maXJzdC10by1tZW0tcmFuaycpLmlubmVySFRNTCA9ICctLSc7XHJcbiAgICAgIHF1ZXJ5KGxiUmVzdWx0c01lbUVudHJ5LCAnLmNsLXdpZGdldC1tcy1maXJzdC10by1tZW0tcG9pbnRzJykuaW5uZXJIVE1MID0gJy0tLycgKyBzdHJhdGVneS5yZWNvcmRUaW1lV2hlblN1bVJlYWNoZXM7XHJcblxyXG4gICAgICBpbWcuc3JjID0gJyc7XHJcbiAgICAgIGltZy5hbHQgPSAnJztcclxuICAgICAgaW1nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cclxuICAgICAgbGJIZWFkZXJzUmFuay5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5sZWFkZXJib2FyZC5yYW5rO1xyXG4gICAgICBsYkhlYWRlcnNQb2ludHMuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubGVhZGVyYm9hcmQucG9pbnRzO1xyXG5cclxuICAgICAgbGJIZWFkZXJzLmFwcGVuZENoaWxkKGxiSGVhZGVyc1JhbmspO1xyXG4gICAgICBsYkhlYWRlcnMuYXBwZW5kQ2hpbGQobGJIZWFkZXJzUG9pbnRzKTtcclxuICAgICAgbGJSZXN1bHRzTGlzdC5hcHBlbmRDaGlsZChsYlJlc3VsdHNNZW1FbnRyeSk7XHJcbiAgICAgIGxiUmVzdWx0c1dyYXBwZXIuYXBwZW5kQ2hpbGQobGJIZWFkZXJzKTtcclxuICAgICAgbGJSZXN1bHRzV3JhcHBlci5hcHBlbmRDaGlsZChsYlJlc3VsdHNMaXN0KTtcclxuXHJcbiAgICAgIGxiV3JhcHBlci5hcHBlbmRDaGlsZChsYkRhdGVXcmFwcGVyKTtcclxuICAgICAgbGJXcmFwcGVyLmFwcGVuZENoaWxkKGxiUmVzdWx0c1dyYXBwZXIpO1xyXG5cclxuICAgICAgZGVmYXVsdERvbU9iaiA9IHdyYXBwZXJEb21PYmouYXBwZW5kQ2hpbGQobGJXcmFwcGVyKTtcclxuXHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGFkZENsYXNzKHdyYXBwZXJEb21PYmosICdjbC1zaG93Jyk7XHJcbiAgICAgIH0sIDIwMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoIWhhc0NsYXNzKHdyYXBwZXJEb21PYmosICdjbC1zaG93JykpIHtcclxuICAgICAgICBhZGRDbGFzcyh3cmFwcGVyRG9tT2JqLCAnY2wtc2hvdycpO1xyXG4gICAgICB9XHJcbiAgICAgIHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtZmlyc3QtdG8tZGF0ZS1sYWJlbCcpLmlubmVySFRNTCA9IGxhYmVsO1xyXG4gICAgICBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLWRhdGUnKS5pbm5lckhUTUwgPSBkYXRlO1xyXG4gICAgfVxyXG5cclxuICAgIHdpbmRvdy5tYXBPYmplY3QoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubGVhZGVyYm9hcmQubGVhZGVyYm9hcmREYXRhLCBmdW5jdGlvbiAobGJFbnRyeSkge1xyXG4gICAgICBpZiAoKGxiRW50cnkubWVtYmVyUmVmSWQgPT09IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkIHx8IGxiRW50cnkubWVtYmVySWQgPT09IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkKSAmJiB0eXBlb2YgbGJFbnRyeS5yYW5raW5ncyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICB2YXIgc2NvcmVBcmVhID0gcXVlcnkoZGVmYXVsdERvbU9iaiwgJy5jbC13aWRnZXQtbXMtZmlyc3QtdG8tcmVzdWx0cy1saXN0Jyk7XHJcbiAgICAgICAgc2NvcmVBcmVhLmlubmVySFRNTCA9ICcnO1xyXG5cclxuICAgICAgICBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLWRhdGUtbGFiZWwnKS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLWRhdGUnKS5pbm5lckhUTUwgPSBkYXRlT2JqO1xyXG4gICAgICAgIGFkZENsYXNzKHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtZmlyc3QtdG8tZGF0ZS13cmFwcGVyJyksICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tZGF0ZS1vbmx5Jyk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5tYXBPYmplY3QobGJFbnRyeS5yYW5raW5ncywgZnVuY3Rpb24gKGxiUmFua2luZ0VudHJ5KSB7XHJcbiAgICAgICAgICB2YXIgaWNvbiA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnBvcHVsYXRlSWRlbnRpY29uQmFzZTY0SW1hZ2UobGJSYW5raW5nRW50cnkubWVtYmVySWQpO1xyXG4gICAgICAgICAgdmFyIGxiV3JhcHBlciA9IF90aGlzLmxheW91dEZpcnN0VG9PckVtcHR5RW50cnkoKTtcclxuICAgICAgICAgIHZhciBpbWcgPSBxdWVyeShsYldyYXBwZXIsICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLW1lbS1pbWcnKTtcclxuICAgICAgICAgIHZhciBzZWxmTWVtYmVyID0gKChsYlJhbmtpbmdFbnRyeS5tZW1iZXJSZWZJZCA9PT0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubWVtYmVySWQgfHwgbGJSYW5raW5nRW50cnkubWVtYmVySWQgPT09IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkKSk7XHJcblxyXG4gICAgICAgICAgaWYgKHNlbGZNZW1iZXIpIHtcclxuICAgICAgICAgICAgYWRkQ2xhc3MobGJXcmFwcGVyLCAnY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLW1lbS1zZWxmJyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaW1nLnNyYyA9IGljb247XHJcbiAgICAgICAgICBpbWcuYWx0ID0gJyc7XHJcbiAgICAgICAgICBpbWcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblxyXG4gICAgICAgICAgcXVlcnkobGJXcmFwcGVyLCAnLmNsLXdpZGdldC1tcy1maXJzdC10by1tZW0tbGFiZWwnKS5pbm5lckhUTUwgPSBzZWxmTWVtYmVyID8gJ1lPVScgOiAnJztcclxuICAgICAgICAgIHF1ZXJ5KGxiV3JhcHBlciwgJy5jbC13aWRnZXQtbXMtZmlyc3QtdG8tbWVtLXJhbmsnKS5pbm5lckhUTUwgPSBcIjxzcGFuIGNsYXNzPSdjbC1tZW0tcmFuay1sYWJlbCc+XCIgKyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5sZWFkZXJib2FyZC5yYW5rICsgXCI8L3NwYW4+PHNwYW4gY2xhc3M9J2NsLW1lbS1yYW5rJz5cIiArIGxiUmFua2luZ0VudHJ5LnJhbmsgKyAnPC9zcGFuPic7XHJcbiAgICAgICAgICBxdWVyeShsYldyYXBwZXIsICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLW1lbS1wb2ludHMnKS5pbm5lckhUTUwgPSBcIjxzcGFuIGNsYXNzPSdjbC1tZW0tcG9pbnRzLWxhYmVsJz5cIiArIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmxlYWRlcmJvYXJkLnBvaW50cyArIFwiPC9zcGFuPjxzcGFuIGNsYXNzPSdjbC1tZW0tcG9pbnRzJz5cIiArIGxiUmFua2luZ0VudHJ5LnBvaW50cyArICcvJyArIHN0cmF0ZWd5LnJlY29yZFRpbWVXaGVuU3VtUmVhY2hlcyArICc8L3NwYW4+JztcclxuXHJcbiAgICAgICAgICBzY29yZUFyZWEuYXBwZW5kQ2hpbGQobGJXcmFwcGVyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGludmVyc2UgJiYgIWhhc0NsYXNzKGRlZmF1bHREb21PYmosICdjbC1pbnZlcnNlJykpIHtcclxuICAgICAgYWRkQ2xhc3MoZGVmYXVsdERvbU9iaiwgJ2NsLWludmVyc2UnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB0aGlzLmxheW91dFN1bUJlc3RPZiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB2YXIgdGltZU1hbmFnZW1lbnQgPSBfdGhpcy50aW1lTWFuYWdlbWVudCgpO1xyXG4gICAgLy8gdmFyIGRpZmYgPSB0aW1lTWFuYWdlbWVudC5kaWZmO1xyXG4gICAgdmFyIGxhYmVsID0gdGltZU1hbmFnZW1lbnQubGFiZWw7XHJcbiAgICB2YXIgZGF0ZSA9IHRpbWVNYW5hZ2VtZW50LmRhdGU7XHJcbiAgICB2YXIgd3JhcHBlckRvbU9iaiA9IF90aGlzLnNldHRpbmdzLmluZm9Db250YWluZXI7XHJcbiAgICB2YXIgc3VtQmVzdERvbU9iaiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtc3VtLWJlc3Qtd3JhcHBlcicpO1xyXG4gICAgdmFyIGludmVyc2UgPSB0aW1lTWFuYWdlbWVudC5pbnZlcnNlO1xyXG5cclxuICAgIGlmIChzdW1CZXN0RG9tT2JqID09PSBudWxsKSB7XHJcbiAgICAgIF90aGlzLnJlbW92ZVVudXNlZEVsZW1lbnRzKCk7XHJcblxyXG4gICAgICB2YXIgbGJXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHZhciBsYkRhdGVXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHZhciBsYkRhdGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB2YXIgbGJEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHZhciBsYlJlc3VsdHNXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHZhciBsYlJlc3VsdHNTY29yZUFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIGxiUmVzdWx0c1Njb3JlQXJlYUhpZ2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIGxiUmVzdWx0c1Njb3JlQXJlYUhpZ2hMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB2YXIgbGJSZXN1bHRzU2NvcmVBcmVhSGlnaFNjb3JlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHZhciBsYlJlc3VsdHNTY29yZUFyZWFMYXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHZhciBsYlJlc3VsdHNTY29yZUFyZWFMYXN0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIGxiUmVzdWx0c1Njb3JlQXJlYUxhc3RTY29yZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB2YXIgbGJSZXN1bHRzUmFua0FyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIGxiUmVzdWx0c1JhbmtWYWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHJcbiAgICAgIGxiV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1zdW0tYmVzdC13cmFwcGVyJyk7XHJcbiAgICAgIGxiRGF0ZUxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LWRhdGUtbGFiZWwnKTtcclxuICAgICAgbGJEYXRlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LWRhdGUnKTtcclxuICAgICAgbGJEYXRlV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1zdW0tYmVzdC1kYXRlLXdyYXBwZXInKTtcclxuICAgICAgbGJSZXN1bHRzV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1zdW0tYmVzdC1yZXN1bHRzLXdyYXBwZXInKTtcclxuXHJcbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1zdW0tYmVzdC1hcmVhJyk7XHJcbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYUhpZ2guc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtc3VtLWJlc3QtaGlnaC1hcmVhJyk7XHJcbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYUhpZ2hMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1zdW0tYmVzdC1oaWdoLWxhYmVsJyk7XHJcbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYUhpZ2hTY29yZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1zdW0tYmVzdC1oaWdoLXNjb3JlJyk7XHJcblxyXG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWFMYXN0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LWxhc3QtYXJlYScpO1xyXG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWFMYXN0TGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtc3VtLWJlc3QtbGFzdC1sYWJlbCcpO1xyXG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWFMYXN0U2NvcmUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtc3VtLWJlc3QtbGFzdC1zY29yZScpO1xyXG5cclxuICAgICAgbGJSZXN1bHRzUmFua0FyZWEuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtc3VtLWJlc3QtcmFuay1hcmVhJyk7XHJcbiAgICAgIGxiUmVzdWx0c1JhbmtWYWx1ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1zdW0tYmVzdC1yYW5rLXZhbHVlJyk7XHJcblxyXG4gICAgICBsYkRhdGVMYWJlbC5pbm5lckhUTUwgPSBsYWJlbDtcclxuICAgICAgbGJEYXRlLmlubmVySFRNTCA9IGRhdGU7XHJcblxyXG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWFIaWdoTGFiZWwuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubWluaUxlYWRlcmJvYXJkLmhpZ2hTY29yZTtcclxuICAgICAgbGJSZXN1bHRzU2NvcmVBcmVhSGlnaFNjb3JlLmlubmVySFRNTCA9ICctLSc7XHJcbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYUhpZ2guYXBwZW5kQ2hpbGQobGJSZXN1bHRzU2NvcmVBcmVhSGlnaExhYmVsKTtcclxuICAgICAgbGJSZXN1bHRzU2NvcmVBcmVhSGlnaC5hcHBlbmRDaGlsZChsYlJlc3VsdHNTY29yZUFyZWFIaWdoU2NvcmUpO1xyXG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWEuYXBwZW5kQ2hpbGQobGJSZXN1bHRzU2NvcmVBcmVhSGlnaCk7XHJcblxyXG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWFMYXN0TGFiZWwuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubWluaUxlYWRlcmJvYXJkLmxhc3RTY29yZTtcclxuICAgICAgbGJSZXN1bHRzU2NvcmVBcmVhTGFzdFNjb3JlLmlubmVySFRNTCA9ICctLSc7XHJcbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYUxhc3QuYXBwZW5kQ2hpbGQobGJSZXN1bHRzU2NvcmVBcmVhTGFzdExhYmVsKTtcclxuICAgICAgbGJSZXN1bHRzU2NvcmVBcmVhTGFzdC5hcHBlbmRDaGlsZChsYlJlc3VsdHNTY29yZUFyZWFMYXN0U2NvcmUpO1xyXG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWEuYXBwZW5kQ2hpbGQobGJSZXN1bHRzU2NvcmVBcmVhTGFzdCk7XHJcblxyXG4gICAgICBsYlJlc3VsdHNSYW5rVmFsdWUuaW5uZXJIVE1MID0gJy0tJztcclxuICAgICAgbGJSZXN1bHRzUmFua0FyZWEuYXBwZW5kQ2hpbGQobGJSZXN1bHRzUmFua1ZhbHVlKTtcclxuXHJcbiAgICAgIGxiUmVzdWx0c1dyYXBwZXIuYXBwZW5kQ2hpbGQobGJSZXN1bHRzU2NvcmVBcmVhKTtcclxuICAgICAgbGJSZXN1bHRzV3JhcHBlci5hcHBlbmRDaGlsZChsYlJlc3VsdHNSYW5rQXJlYSk7XHJcblxyXG4gICAgICBsYkRhdGVXcmFwcGVyLmFwcGVuZENoaWxkKGxiRGF0ZUxhYmVsKTtcclxuICAgICAgbGJEYXRlV3JhcHBlci5hcHBlbmRDaGlsZChsYkRhdGUpO1xyXG5cclxuICAgICAgbGJXcmFwcGVyLmFwcGVuZENoaWxkKGxiRGF0ZVdyYXBwZXIpO1xyXG4gICAgICBsYldyYXBwZXIuYXBwZW5kQ2hpbGQobGJSZXN1bHRzV3JhcHBlcik7XHJcblxyXG4gICAgICBzdW1CZXN0RG9tT2JqID0gd3JhcHBlckRvbU9iai5hcHBlbmRDaGlsZChsYldyYXBwZXIpO1xyXG5cclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYWRkQ2xhc3Mod3JhcHBlckRvbU9iaiwgJ2NsLXNob3cnKTtcclxuICAgICAgfSwgMjAwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghaGFzQ2xhc3Mod3JhcHBlckRvbU9iaiwgJ2NsLXNob3cnKSkge1xyXG4gICAgICAgIGFkZENsYXNzKHdyYXBwZXJEb21PYmosICdjbC1zaG93Jyk7XHJcbiAgICAgIH1cclxuICAgICAgcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1zdW0tYmVzdC1kYXRlLWxhYmVsJykuaW5uZXJIVE1MID0gbGFiZWw7XHJcbiAgICAgIHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtc3VtLWJlc3QtZGF0ZScpLmlubmVySFRNTCA9IGRhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93Lm1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5sZWFkZXJib2FyZC5sZWFkZXJib2FyZERhdGEsIGZ1bmN0aW9uIChsYkVudHJ5KSB7XHJcbiAgICAgIGlmIChsYkVudHJ5Lm1lbWJlclJlZklkID09PSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCB8fCBsYkVudHJ5Lm1lbWJlcklkID09PSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCkge1xyXG4gICAgICAgIHZhciBsYXN0U2NvcmUgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LWxhc3Qtc2NvcmUnKS5pbm5lckhUTUw7XHJcbiAgICAgICAgdmFyIGhpZ2hTY29yZSA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtc3VtLWJlc3QtaGlnaC1zY29yZScpLmlubmVySFRNTDtcclxuICAgICAgICB2YXIgcmFuayA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtc3VtLWJlc3QtcmFuay12YWx1ZScpO1xyXG4gICAgICAgIHZhciBjaGFuZ2UgPSAobGJFbnRyeS5jaGFuZ2UgPCAwKSA/ICdkb3duJyA6IChsYkVudHJ5LmNoYW5nZSA+IDAgPyAndXAnIDogJ3NhbWUnKTtcclxuICAgICAgICB2YXIgcmFua1ZhbHVlID0gbGJFbnRyeS5yYW5rO1xyXG5cclxuICAgICAgICBpZiAobGFzdFNjb3JlICE9PSBTdHJpbmcobGJFbnRyeS5wb2ludHMpICYmIFN0cmluZyhsYkVudHJ5LnBvaW50cykgIT09IGhpZ2hTY29yZSkge1xyXG4gICAgICAgICAgcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1zdW0tYmVzdC1sYXN0LXNjb3JlJykuaW5uZXJIVE1MID0gaGlnaFNjb3JlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1zdW0tYmVzdC1oaWdoLXNjb3JlJykuaW5uZXJIVE1MID0gbGJFbnRyeS5wb2ludHM7XHJcblxyXG4gICAgICAgIHJlbW92ZUNsYXNzKHJhbmssICdjbC1tcy1yYW5rLXVwJyk7XHJcbiAgICAgICAgcmVtb3ZlQ2xhc3MocmFuaywgJ2NsLW1zLXJhbmstZG93bicpO1xyXG4gICAgICAgIHJlbW92ZUNsYXNzKHJhbmssICdjbC1tcy1yYW5rLXNhbWUnKTtcclxuXHJcbiAgICAgICAgYWRkQ2xhc3MocmFuaywgJ2NsLW1zLXJhbmstJyArIGNoYW5nZSk7XHJcblxyXG4gICAgICAgIHJhbmsuaW5uZXJIVE1MID0gcmFua1ZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoaW52ZXJzZSAmJiAhaGFzQ2xhc3Moc3VtQmVzdERvbU9iaiwgJ2NsLWludmVyc2UnKSkge1xyXG4gICAgICBhZGRDbGFzcyhzdW1CZXN0RG9tT2JqLCAnY2wtaW52ZXJzZScpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMubGF5b3V0UmVxdWlyZXNPcHRJbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB2YXIgZGlmZiA9IG1vbWVudChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5zY2hlZHVsZWRTdGFydCkuZGlmZihtb21lbnQoKSk7XHJcbiAgICB2YXIgbGFiZWwgPSAnU3RhcnRpbmcgSW4nO1xyXG4gICAgdmFyIHdyYXBwZXJEb21PYmogPSBfdGhpcy5zZXR0aW5ncy5pbmZvQ29udGFpbmVyO1xyXG4gICAgdmFyIGRhdGUgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5mb3JtYXREYXRlVGltZShtb21lbnQuZHVyYXRpb24oZGlmZikpO1xyXG5cclxuICAgIGlmIChkaWZmIDwgMCAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0YXR1c0NvZGUgPT09IDApIHtcclxuICAgICAgbGFiZWwgPSAnc3RhcnRpbmcnO1xyXG4gICAgICBkYXRlID0gJyc7XHJcbiAgICB9IGVsc2UgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3Quc3RhdHVzQ29kZSA+IDAgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdGF0dXNDb2RlIDwgMykge1xyXG4gICAgICBkaWZmID0gbW9tZW50KF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3Quc2NoZWR1bGVkRW5kKS5kaWZmKG1vbWVudCgpKTtcclxuICAgICAgbGFiZWwgPSAnc3RhcnRlZCc7XHJcbiAgICAgIGRhdGUgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5mb3JtYXREYXRlVGltZShtb21lbnQuZHVyYXRpb24oZGlmZikpO1xyXG4gICAgfSBlbHNlIGlmIChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0YXR1c0NvZGUgPT09IDMpIHtcclxuICAgICAgbGFiZWwgPSAnZmluaXNoaW5nJztcclxuICAgICAgZGF0ZSA9ICcnO1xyXG4gICAgfSBlbHNlIGlmIChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0YXR1c0NvZGUgPj0gNCkge1xyXG4gICAgICBsYWJlbCA9ICdmaW5pc2hlZCc7XHJcbiAgICAgIGRhdGUgPSAnJztcclxuICAgIH1cclxuXHJcbiAgICBpZiAocXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1vcHRpbi13cmFwcGVyJykgPT09IG51bGwpIHtcclxuICAgICAgX3RoaXMucmVtb3ZlVW51c2VkRWxlbWVudHMoKTtcclxuXHJcbiAgICAgIHZhciBvcHRJbldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIG9wdEluRGF0ZVdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIG9wdEluRGF0ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHZhciBvcHRJbkRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIG9wdEluRGF0ZUFjdGlvbldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdmFyIG9wdEluRGF0ZUFjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuXHJcbiAgICAgIG9wdEluV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1vcHRpbi13cmFwcGVyJyk7XHJcbiAgICAgIG9wdEluRGF0ZUxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLW9wdGluLWRhdGUtbGFiZWwnKTtcclxuICAgICAgb3B0SW5EYXRlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLW9wdGluLWRhdGUnKTtcclxuICAgICAgb3B0SW5EYXRlV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1vcHRpbi1kYXRlLXdyYXBwZXInKTtcclxuICAgICAgb3B0SW5EYXRlQWN0aW9uV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1vcHRpbi1hY3Rpb24td3JhcHBlcicpO1xyXG4gICAgICBvcHRJbkRhdGVBY3Rpb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtb3B0aW4tYWN0aW9uJyk7XHJcblxyXG4gICAgICBvcHRJbkRhdGVMYWJlbC5pbm5lckhUTUwgPSBsYWJlbDtcclxuICAgICAgb3B0SW5EYXRlLmlubmVySFRNTCA9IGRhdGU7XHJcbiAgICAgIG9wdEluRGF0ZUFjdGlvbi5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi50b3VybmFtZW50cy5lbnRlcjtcclxuXHJcbiAgICAgIG9wdEluRGF0ZVdyYXBwZXIuYXBwZW5kQ2hpbGQob3B0SW5EYXRlTGFiZWwpO1xyXG4gICAgICBvcHRJbkRhdGVXcmFwcGVyLmFwcGVuZENoaWxkKG9wdEluRGF0ZSk7XHJcblxyXG4gICAgICBvcHRJbkRhdGVBY3Rpb25XcmFwcGVyLmFwcGVuZENoaWxkKG9wdEluRGF0ZUFjdGlvbik7XHJcbiAgICAgIG9wdEluV3JhcHBlci5hcHBlbmRDaGlsZChvcHRJbkRhdGVXcmFwcGVyKTtcclxuICAgICAgb3B0SW5XcmFwcGVyLmFwcGVuZENoaWxkKG9wdEluRGF0ZUFjdGlvbldyYXBwZXIpO1xyXG5cclxuICAgICAgd3JhcHBlckRvbU9iai5hcHBlbmRDaGlsZChvcHRJbldyYXBwZXIpO1xyXG5cclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYWRkQ2xhc3Mod3JhcHBlckRvbU9iaiwgJ2NsLXNob3cnKTtcclxuICAgICAgfSwgMjAwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghaGFzQ2xhc3Mod3JhcHBlckRvbU9iaiwgJ2NsLXNob3cnKSkge1xyXG4gICAgICAgIGFkZENsYXNzKHdyYXBwZXJEb21PYmosICdjbC1zaG93Jyk7XHJcbiAgICAgIH1cclxuICAgICAgcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1vcHRpbi1kYXRlLWxhYmVsJykuaW5uZXJIVE1MID0gbGFiZWw7XHJcbiAgICAgIHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtb3B0aW4tZGF0ZScpLmlubmVySFRNTCA9IGRhdGU7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5yZW1vdmVVbnVzZWRFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB2YXIgZGVmYXVsdExheW91dFdyYXBwZXJEb21PYmogPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWRlZmF1bHQtd3JhcHBlcicpO1xyXG4gICAgdmFyIG9wdEluV3JhcHBlckRvbU9iaiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtb3B0aW4td3JhcHBlcicpO1xyXG4gICAgdmFyIHN1bUJlc3REb21PYmogPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LXdyYXBwZXInKTtcclxuICAgIHZhciBmaXJzdFRvRG9tT2JqID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1maXJzdC10by13cmFwcGVyJyk7XHJcblxyXG4gICAgcmVtb3ZlQ2xhc3MoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnY2wtbXMtZGVmYXVsdC1zdHlsZScpO1xyXG4gICAgcmVtb3ZlQ2xhc3MoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnY2wtbXMtb3B0aW4tc3R5bGUnKTtcclxuICAgIHJlbW92ZUNsYXNzKF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJ2NsLW1zLXN1bS1iZXN0LXN0eWxlJyk7XHJcbiAgICByZW1vdmVDbGFzcyhfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICdjbC1tcy1maXJzdC10by1zdHlsZScpO1xyXG5cclxuICAgIGlmIChkZWZhdWx0TGF5b3V0V3JhcHBlckRvbU9iaiAhPT0gbnVsbCkge1xyXG4gICAgICByZW1vdmUoZGVmYXVsdExheW91dFdyYXBwZXJEb21PYmopO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvcHRJbldyYXBwZXJEb21PYmogIT09IG51bGwpIHtcclxuICAgICAgcmVtb3ZlKG9wdEluV3JhcHBlckRvbU9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHN1bUJlc3REb21PYmogIT09IG51bGwpIHtcclxuICAgICAgcmVtb3ZlKHN1bUJlc3REb21PYmopO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChmaXJzdFRvRG9tT2JqICE9PSBudWxsKSB7XHJcbiAgICAgIHJlbW92ZShmaXJzdFRvRG9tT2JqKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB0aGlzLmNsZWFyQWxsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MudXBkYXRlSW50ZXJ2YWwpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnNldHRpbmdzLnVwZGF0ZUludGVydmFsKTtcclxuICAgIH1cclxuXHJcbiAgICBfdGhpcy5yZW1vdmVJbmZvQXJlYSgpO1xyXG5cclxuICAgIF90aGlzLnNldHRpbmdzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIHRoaXMucmVtb3ZlSW5mb0FyZWEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIHdyYXBwZXJEb21PYmogPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtc2hvdycpO1xyXG4gICAgdmFyIGxheW91dCA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtZGVmYXVsdC13cmFwcGVyJyk7XHJcblxyXG4gICAgaWYgKHdyYXBwZXJEb21PYmogIT09IG51bGwpIHJlbW92ZUNsYXNzKHdyYXBwZXJEb21PYmosICdjbC1zaG93Jyk7XHJcblxyXG4gICAgaWYgKGxheW91dCAhPT0gbnVsbCkge1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZW1vdmUobGF5b3V0KTtcclxuICAgICAgfSwgMzAwKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB0aGlzLnVwZGF0ZVNjb3JlQm9hcmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy51cGRhdGVJbnRlcnZhbCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMuc2V0dGluZ3MudXBkYXRlSW50ZXJ2YWwpO1xyXG4gICAgfVxyXG5cclxuICAgIF90aGlzLnNldHRpbmdzLnVwZGF0ZUludGVydmFsID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIF90aGlzLmxvYWRJbmZvQXJlYShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3RoaXMudXBkYXRlU2NvcmVCb2FyZCgpO1xyXG4gICAgICB9KTtcclxuICAgIH0sIF90aGlzLnNldHRpbmdzLnVwZGF0ZUludGVydmFsVGltZSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5sb2FkSW5mb0FyZWEgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmFjdGl2ZSAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbiAhPT0gbnVsbCAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5zdGF0dXNDb2RlIDwgNykge1xyXG4gICAgICBpZiAodHlwZW9mIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLm9wdGluID09PSAnYm9vbGVhbicgJiYgIV90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLm9wdGluKSB7XHJcbiAgICAgICAgX3RoaXMubGF5b3V0UmVxdWlyZXNPcHRJbigpO1xyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCAhPT0gbnVsbCAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0cmF0ZWd5LnR5cGUgPT09ICdTdW1CZXN0Jykge1xyXG4gICAgICAgIF90aGlzLmxheW91dFN1bUJlc3RPZigpO1xyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCAhPT0gbnVsbCAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0cmF0ZWd5LnR5cGUgPT09ICdGaXJzdFRvJykge1xyXG4gICAgICAgIF90aGlzLmxheW91dEZpcnN0VG9PckVtcHR5KF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3Quc3RyYXRlZ3kpO1xyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdElkICE9PSBudWxsKSB7XHJcbiAgICAgICAgX3RoaXMubGF5b3V0RGVmYXVsdE9yRW1wdHkoKTtcclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIF90aGlzLmxheW91dERlZmF1bHRPckVtcHR5KCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIF90aGlzLmNsZWFyQWxsKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5ldmVudExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgZHJhZ0VsZW1lbnQoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWljb24nKSwgX3RoaXMuc2V0dGluZ3Mub3ZlcmxheUNvbnRhaW5lciwgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuYmluZENvbnRhaW5lciwgZnVuY3Rpb24gKG5ld1RvcCwgbmV3TGVmdCkge1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zdG9wQWN0aXZpdHkoKTtcclxuICAgICAgaWYgKG5ld1RvcCA8PSA1KSB7XHJcbiAgICAgICAgYWRkQ2xhc3MoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnY2wtdmVydGljYWwtbWluaScpO1xyXG4gICAgICB9IGVsc2UgaWYgKG5ld0xlZnQgPD0gNSkge1xyXG4gICAgICAgIHJlbW92ZUNsYXNzKF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJ2NsLXZlcnRpY2FsLW1pbmknKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgX3RoaXMuc2V0dGluZ3MuZHJhZ2dpbmcgPSB0cnVlO1xyXG4gICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5yZXN0YXJ0QWN0aXZpdHkoKTtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MuZHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgICAgfSwgMjAwKTtcclxuICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuY2xpY2tlZE1pbmlTY29yZUJvYXJkKCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICB0aGlzLmluaXRMYXlvdXQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciA9PT0gbnVsbCkge1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5jb250YWluZXIgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5iaW5kQ29udGFpbmVyLmFwcGVuZENoaWxkKF90aGlzLmxheW91dCgpKTtcclxuICAgICAgX3RoaXMuc2V0dGluZ3Mub3ZlcmxheUNvbnRhaW5lciA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmJpbmRDb250YWluZXIuYXBwZW5kQ2hpbGQoX3RoaXMub3ZlcmxheUxheW91dCgpKTtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MuaW5mb0NvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtaW5mb3JtYXRpb24td3JhcHBlcicpO1xyXG5cclxuICAgICAgX3RoaXMuZXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5sb2FkU2NvcmVCb2FyZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMuaW5pdExheW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIF90aGlzLmxvYWRJbmZvQXJlYShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3RoaXMudXBkYXRlU2NvcmVCb2FyZCgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF90aGlzLnVwZGF0ZVNjb3JlQm9hcmQoKTtcclxuICAgICAgfSwgMTAwMCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG59O1xyXG4iLCJpbXBvcnQgeyBNZXNzYWdpbmcgfSBmcm9tICcuL01lc3NhZ2luZyc7XHJcbmltcG9ydCByZW1vdmVDbGFzcyBmcm9tICcuLi91dGlscy9yZW1vdmVDbGFzcyc7XHJcbmltcG9ydCBxdWVyeSBmcm9tICcuLi91dGlscy9xdWVyeSc7XHJcbmltcG9ydCBzdHJpcEh0bWwgZnJvbSAnLi4vdXRpbHMvc3RyaXBIdG1sJztcclxuaW1wb3J0IGFkZENsYXNzIGZyb20gJy4uL3V0aWxzL2FkZENsYXNzJztcclxuXHJcbmV4cG9ydCBjb25zdCBOb3RpZmljYXRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICB0aGlzLnNldHRpbmdzID0ge1xyXG4gICAgY29udGFpbmVyOiBudWxsLFxyXG4gICAgZGV0YWlsc0NvbnRhaW5lcjogbnVsbCxcclxuICAgIGxiV2lkZ2V0OiBudWxsLFxyXG4gICAgZXZlbnRTdHJlYW06IFtdLFxyXG4gICAgY2hlY2tUaW1lb3V0OiAyMDAwLFxyXG4gICAgb25EaXNwbGF5Q2hlY2tUaW1lb3V0OiAxMDAwMCxcclxuICAgIGNoZWNrSW50ZXJ2YWw6IG51bGwsXHJcbiAgICBhdXRvTm90aWZpY2F0aW9uSGlkZUludGVydmFsOiBudWxsLFxyXG4gICAgYXV0b05vdGlmaWNhdGlvbkhpZGVUaW1lOiAxMDAwMCxcclxuICAgIGRpc3BsYXlJblByb2dyZXNzOiBmYWxzZVxyXG4gIH07XHJcblxyXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIGZvciAodmFyIG9wdCBpbiBvcHRpb25zKSB7XHJcbiAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG9wdCkpIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzW29wdF0gPSBvcHRpb25zW29wdF07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRoaXMubGF5b3V0V3JhcHBlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgaWNvbldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgdmFyIGluZm9ybWF0aW9uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGluZm9ybWF0aW9uVG9wV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGluZm9ybWF0aW9uRGV0YWlsc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGluZm9ybWF0aW9uRGV0YWlsc0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgaW5mb3JtYXRpb25EZXRhaWxzRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBpbmZvcm1hdGlvbldyYXBwZXJDbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdmFyIGluZm9ybWF0aW9uQ2xvc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblxyXG4gICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1ub3RpZi13cmFwcGVyJyk7XHJcbiAgICBpY29uV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1ub3RpZi1pY29uLXdyYXBwZXInKTtcclxuICAgIGljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbm90aWYtaWNvbicpO1xyXG4gICAgaW5mb3JtYXRpb25Ub3BXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLXRvcC13cmFwcGVyJyk7XHJcbiAgICBpbmZvcm1hdGlvbldyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbm90aWYtaW5mb3JtYXRpb24td3JhcHBlcicpO1xyXG4gICAgaW5mb3JtYXRpb25EZXRhaWxzQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLWRldGFpbHMtd3JhcHBlcicpO1xyXG4gICAgaW5mb3JtYXRpb25EZXRhaWxzTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbm90aWYtaW5mb3JtYXRpb24tZGV0YWlscy1sYWJlbCcpO1xyXG4gICAgaW5mb3JtYXRpb25EZXRhaWxzRGVzY3JpcHRpb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbm90aWYtaW5mb3JtYXRpb24tZGV0YWlscy1kZXNjcmlwdGlvbicpO1xyXG4gICAgaW5mb3JtYXRpb25XcmFwcGVyQ2xvc2Uuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbm90aWYtaW5mb3JtYXRpb24tY2xvc2Utd3JhcHBlcicpO1xyXG4gICAgaW5mb3JtYXRpb25DbG9zZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1ub3RpZi1pbmZvcm1hdGlvbi1jbG9zZScpO1xyXG5cclxuICAgIGluZm9ybWF0aW9uQ2xvc2UuaHJlZiA9ICdqYXZhc2NyaXB0OnZvaWQoMCk7JztcclxuICAgIGluZm9ybWF0aW9uQ2xvc2UuaW5uZXJIVE1MID0gJ3gnO1xyXG5cclxuICAgIGluZm9ybWF0aW9uRGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvcm1hdGlvbkRldGFpbHNMYWJlbCk7XHJcbiAgICBpbmZvcm1hdGlvbkRldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoaW5mb3JtYXRpb25EZXRhaWxzRGVzY3JpcHRpb24pO1xyXG5cclxuICAgIGluZm9ybWF0aW9uV3JhcHBlckNsb3NlLmFwcGVuZENoaWxkKGluZm9ybWF0aW9uQ2xvc2UpO1xyXG4gICAgaW5mb3JtYXRpb25XcmFwcGVyLmFwcGVuZENoaWxkKGluZm9ybWF0aW9uV3JhcHBlckNsb3NlKTtcclxuICAgIGluZm9ybWF0aW9uV3JhcHBlci5hcHBlbmRDaGlsZChpbmZvcm1hdGlvbkRldGFpbHNDb250YWluZXIpO1xyXG4gICAgaW5mb3JtYXRpb25Ub3BXcmFwcGVyLmFwcGVuZENoaWxkKGluZm9ybWF0aW9uV3JhcHBlcik7XHJcbiAgICBpY29uV3JhcHBlci5hcHBlbmRDaGlsZChpY29uKTtcclxuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoaWNvbldyYXBwZXIpO1xyXG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChpbmZvcm1hdGlvblRvcFdyYXBwZXIpO1xyXG5cclxuICAgIHJldHVybiB3cmFwcGVyO1xyXG4gIH07XHJcblxyXG4gIHZhciBwcm9jZXNzZWQgPSB7fTtcclxuICB0aGlzLnN0YXJ0U1NFID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5zZXR0aW5ncy5zc2VJbnN0YW5jZSA9IG5ldyBNZXNzYWdpbmcoe1xyXG4gICAgICBzc2VVcmw6IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudXJpLm1lbWJlclNTRS5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkKSxcclxuICAgICAgaGVhcnRiZWF0OiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnVyaS5tZW1iZXJTU0VIZWFydGJlYXQucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCksXHJcbiAgICAgIGFqYXg6IHtcclxuICAgICAgICB1cmw6IG51bGwsXHJcbiAgICAgICAgYXBpS2V5OiB7XHJcbiAgICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuYXBpS2V5XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICB2YXIgZGF0YUtleSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHByb2Nlc3NlZFtkYXRhS2V5XSA9PT0gJ3VuZGVmaW5lZCcgfHwgKHR5cGVvZiBwcm9jZXNzZWRbZGF0YUtleV0gIT09ICd1bmRlZmluZWQnICYmIChwcm9jZXNzZWRbZGF0YUtleV0gKyAxMDAwMCkgPCBjdXJyZW50VGltZSkpIHtcclxuICAgICAgICAgIHByb2Nlc3NlZFtKU09OLnN0cmluZ2lmeShkYXRhKV0gPSBjdXJyZW50VGltZTtcclxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLmV2ZW50U3RyZWFtLnB1c2goZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBvblN0YXJ0dXBFcnJvcjogZnVuY3Rpb24gKHNldHRpbmdzKSB7XHJcbiAgICAgIH0sXHJcbiAgICAgIGRlYnVnOiB0cnVlXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICB0aGlzLmF1dG9Ob3RpZmljYXRpb25IaWRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MuYXV0b05vdGlmaWNhdGlvbkhpZGVJbnRlcnZhbCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMuc2V0dGluZ3MuYXV0b05vdGlmaWNhdGlvbkhpZGVJbnRlcnZhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgX3RoaXMuc2V0dGluZ3MuYXV0b05vdGlmaWNhdGlvbkhpZGVJbnRlcnZhbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBfdGhpcy5oaWRlTm90aWZpY2F0aW9uKCk7XHJcbiAgICB9LCBfdGhpcy5zZXR0aW5ncy5hdXRvTm90aWZpY2F0aW9uSGlkZVRpbWUpO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuaGlkZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmF1dG9Ob3RpZmljYXRpb25IaWRlSW50ZXJ2YWwpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnNldHRpbmdzLmF1dG9Ob3RpZmljYXRpb25IaWRlSW50ZXJ2YWwpO1xyXG4gICAgfVxyXG5cclxuICAgIF90aGlzLnNldHRpbmdzLmRpc3BsYXlJblByb2dyZXNzID0gZmFsc2U7XHJcbiAgICByZW1vdmVDbGFzcyhxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLXdyYXBwZXInKSwgJ2NsLXNob3cnKTtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH0sIDIwMCk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5zaG93QWNoaWV2ZW1lbnROb3RpZmljYXRpb24gPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBsYWJlbCA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmRldGFpbHNDb250YWluZXIsICcuY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLWRldGFpbHMtbGFiZWwnKTtcclxuICAgIHZhciBkZXNjcmlwdGlvbiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmRldGFpbHNDb250YWluZXIsICcuY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLWRldGFpbHMtZGVzY3JpcHRpb24nKTtcclxuICAgIHZhciBkZXNjcmlwdGlvblRleHQgPSBzdHJpcEh0bWwoZGF0YS5kYXRhLmRlc2NyaXB0aW9uKTtcclxuXHJcbiAgICBsYWJlbC5pbm5lckhUTUwgPSAoZGF0YS5kYXRhLm5hbWUubGVuZ3RoID4gMjMpID8gZGF0YS5kYXRhLm5hbWUuc3Vic3RyKDAsIDIzKSArICcuLi4nIDogZGF0YS5kYXRhLm5hbWU7XHJcbiAgICBkZXNjcmlwdGlvbi5pbm5lckhUTUwgPSAoZGVzY3JpcHRpb25UZXh0Lmxlbmd0aCA+IDYwKSA/IGRlc2NyaXB0aW9uVGV4dC5zdWJzdHIoMCwgNjApICsgJy4uLicgOiBkZXNjcmlwdGlvblRleHQ7XHJcblxyXG4gICAgX3RoaXMuc2V0dGluZ3MuZGV0YWlsc0NvbnRhaW5lci5kYXRhc2V0LmlkID0gZGF0YS5kYXRhLmlkO1xyXG5cclxuICAgIF90aGlzLnNldHRpbmdzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBhZGRDbGFzcyhxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLXdyYXBwZXInKSwgJ2NsLXNob3cnKTtcclxuICAgIH0sIDIwMCk7XHJcblxyXG4gICAgX3RoaXMuYXV0b05vdGlmaWNhdGlvbkhpZGUoKTtcclxuICB9O1xyXG5cclxuICB0aGlzLmV2ZW50U3RyZWFtQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5jaGVja0ludGVydmFsKSB7XHJcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5jaGVja0ludGVydmFsKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZXZlbnRTdHJlYW0ubGVuZ3RoID4gMCAmJiAhX3RoaXMuc2V0dGluZ3MuZGlzcGxheUluUHJvZ3Jlc3MpIHtcclxuICAgICAgdmFyIGRhdGEgPSBfdGhpcy5zZXR0aW5ncy5ldmVudFN0cmVhbVswXTtcclxuICAgICAgdmFyIGluZGV4ID0gX3RoaXMuc2V0dGluZ3MuZXZlbnRTdHJlYW0uaW5kZXhPZihkYXRhKTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgZGF0YS5hY2hpZXZlbWVudElkICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzLmRpc3BsYXlJblByb2dyZXNzID0gdHJ1ZTtcclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5nZXRBY2hpZXZlbWVudChkYXRhLmFjaGlldmVtZW50SWQsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICBfdGhpcy5zaG93QWNoaWV2ZW1lbnROb3RpZmljYXRpb24oZGF0YSk7XHJcblxyXG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MuY2hlY2tJbnRlcnZhbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5ldmVudFN0cmVhbUNoZWNrKCk7XHJcbiAgICAgICAgICB9LCBfdGhpcy5zZXR0aW5ncy5vbkRpc3BsYXlDaGVja1RpbWVvdXQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5ldmVudFN0cmVhbS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhLm5vdGlmaWNhdGlvbklkICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzLmNoZWNrSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIF90aGlzLmV2ZW50U3RyZWFtQ2hlY2soKTtcclxuICAgICAgICB9LCBfdGhpcy5zZXR0aW5ncy5jaGVja1RpbWVvdXQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzLmNoZWNrSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIF90aGlzLmV2ZW50U3RyZWFtQ2hlY2soKTtcclxuICAgICAgICB9LCBfdGhpcy5zZXR0aW5ncy5jaGVja1RpbWVvdXQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzLmV2ZW50U3RyZWFtLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLmNoZWNrSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfdGhpcy5ldmVudFN0cmVhbUNoZWNrKCk7XHJcbiAgICAgIH0sIF90aGlzLnNldHRpbmdzLmNoZWNrVGltZW91dCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyID09PSBudWxsKSB7XHJcbiAgICAgIF90aGlzLnN0YXJ0U1NFKCk7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmJpbmRDb250YWluZXIuYXBwZW5kQ2hpbGQoX3RoaXMubGF5b3V0V3JhcHBlcigpKTtcclxuICAgICAgX3RoaXMuc2V0dGluZ3MuZGV0YWlsc0NvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbm90aWYtaW5mb3JtYXRpb24tZGV0YWlscy13cmFwcGVyJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyB0ZXJtaW5hdGUgU1NFXHJcbiAgICAgIF90aGlzLnNldHRpbmdzLnNzZUluc3RhbmNlLmNsb3NlQ2hhbmVsKCk7XHJcblxyXG4gICAgICAvLyB1cGRhdGUgdGhlIG1lbWJlclxyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5zc2VJbnN0YW5jZS5zZXR0aW5ncy5zc2VVcmwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnVyaS5tZW1iZXJTU0UucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCk7XHJcbiAgICAgIF90aGlzLnNldHRpbmdzLnNzZUluc3RhbmNlLnNldHRpbmdzLmhlYXJ0YmVhdCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudXJpLm1lbWJlclNTRUhlYXJ0YmVhdC5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkKTtcclxuXHJcbiAgICAgIC8vIHJlLWluc3RhbnRpYXRlIFNTRVxyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5zc2VJbnN0YW5jZS5vcGVuQ2hhbmVsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX3RoaXMuZXZlbnRTdHJlYW1DaGVjaygpO1xyXG4gIH07XHJcbn07XHJcbiIsIi8vIGRlZmF1bHQgZG9tYWluXHJcblxyXG4vLyB2YXIgYXBpVVJMID0gXCJodHRwOi8vMTkyLjE2OC4xLjg6OTk5OFwiO1xyXG5cclxuY29uc3QgYXBpVVJMID0gJ2h0dHBzOi8vZ2F0ZXdheS5jb21wZXRpdGlvbmxhYnMuY29tJztcclxuXHJcbmNvbnN0IGNMYWJzID0ge1xyXG4gIGFwaToge1xyXG4gICAgdXJsOiBhcGlVUkxcclxuICB9LFxyXG4gIGNsYXNzU2VsZWN0b3I6IC9eXFwuKFtcXHctXSspJC8sIC8vIGNsYXNzIHN0cmluZyBleHByZXNzaW9uIGNoZWNrXHJcbiAgaWRTZWxlY3RvcjogL14jW1xcd1xcZFxcLVxcX1xcJlxcIVxcQFxcKl0rJC8sIC8vIElEIHN0cmluZyBleHByZXNzaW9uIGNoZWNrXHJcbiAgdGFnU2VsZWN0b3I6IC9eW1xcdy1dKyQvIC8vIFRBRyBzdHJpbmcgZXhwcmVzc2lvbiBjaGVja1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY0xhYnM7XHJcbiIsImltcG9ydCB7IGFkZENsYXNzLCBoYXNDbGFzcywgaXNpT1NEZXZpY2UsIGlzTW9iaWxlVGFibGV0LCByZW1vdmVDbGFzcyB9IGZyb20gJy4uL3V0aWxzJztcclxuXHJcbi8vIHZhciBzY3JvbGxPYmoyID0gbnVsbDtcclxubGV0IG1vdmVtZW50SW50ZXJ2YWw7XHJcblxyXG5jb25zdCBkcmFnRWxlbWVudCA9IGZ1bmN0aW9uIChlbG1udCwgZHJhZ2dhYmxlRWwsIG92ZXJsYXlDb250YWluZXIsIGNvbnRhaW5lciwgZHJhZ2dpbmcsIGZpbmlzaERyYWdnaW5nLCBtb2JpbGVUb3VjaCkge1xyXG4gIHZhciBwb3MxID0gMDtcclxuICB2YXIgcG9zMiA9IDA7XHJcbiAgdmFyIHBvczMgPSAwO1xyXG4gIHZhciBwb3M0ID0gMDtcclxuICB2YXIgaXNNb2JpbGUgPSBpc01vYmlsZVRhYmxldCgpO1xyXG4gIHZhciBpc2lPUyA9IGlzaU9TRGV2aWNlKCk7XHJcbiAgdmFyIGlzUGFyZW50V2luZG93ID0gZWxtbnQucGFyZW50Tm9kZS5ub2RlTmFtZSA9PT0gJ0JPRFknO1xyXG4gIHZhciBtYXhMZWZ0ID0gKGlzUGFyZW50V2luZG93ID8gd2luZG93LmlubmVyV2lkdGggOiBjb250YWluZXIub2Zmc2V0V2lkdGgpO1xyXG4gIHZhciBtYXhUb3AgPSAoaXNQYXJlbnRXaW5kb3cgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiBjb250YWluZXIub2Zmc2V0SGVpZ2h0KTtcclxuICB2YXIgdG91Y2hTdGFydDsgdmFyIG1vdmluZyA9IG51bGw7XHJcbiAgLy8gc2Nyb2xsT2JqMiA9IHF1ZXJ5KFwiLnNjcm9sbC1yZXNcIik7XHJcblxyXG4gIGlmIChtb3ZlbWVudEludGVydmFsKSB7XHJcbiAgICBjbGVhclRpbWVvdXQobW92ZW1lbnRJbnRlcnZhbCk7XHJcbiAgfVxyXG5cclxuICB2YXIgb25XaW5kb3dDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgaXNWZXJ0aWNhbCA9IGhhc0NsYXNzKGVsbW50LCAnY2wtdmVydGljYWwtbWluaScpO1xyXG4gICAgdmFyIG1heExlZnQgPSAoaXNQYXJlbnRXaW5kb3cgPyB3aW5kb3cuaW5uZXJXaWR0aCA6IGNvbnRhaW5lci5vZmZzZXRXaWR0aCk7XHJcbiAgICB2YXIgbWF4VG9wID0gKGlzUGFyZW50V2luZG93ID8gd2luZG93LmlubmVySGVpZ2h0IDogY29udGFpbmVyLm9mZnNldEhlaWdodCk7XHJcbiAgICB2YXIgb2Zmc2V0TWF4TGVmdCA9IG1heExlZnQgLSBwYXJzZUludChlbG1udC5vZmZzZXRXaWR0aCArIChpc1ZlcnRpY2FsID8gZHJhZ2dhYmxlRWwub2Zmc2V0V2lkdGggLyA3IDogZHJhZ2dhYmxlRWwub2Zmc2V0V2lkdGggLyAxLjYpKTtcclxuICAgIHZhciBvZmZzZXRNYXhUb3AgPSBtYXhUb3AgLSBwYXJzZUludChlbG1udC5vZmZzZXRIZWlnaHQgKyAoaXNWZXJ0aWNhbCA/IGRyYWdnYWJsZUVsLm9mZnNldEhlaWdodCAvIDEuMiA6IGRyYWdnYWJsZUVsLm9mZnNldEhlaWdodCAvIDQpKTtcclxuICAgIHZhciBlbFRvcCA9IHBhcnNlSW50KGVsbW50LnN0eWxlLnRvcCk7XHJcbiAgICB2YXIgZWxMZWZ0ID0gcGFyc2VJbnQoZWxtbnQuc3R5bGUubGVmdCk7XHJcblxyXG4gICAgaWYgKGVsVG9wID4gb2Zmc2V0TWF4VG9wICYmIG9mZnNldE1heFRvcCA+IDUpIHtcclxuICAgICAgZWxtbnQuc3R5bGUudG9wID0gb2Zmc2V0TWF4VG9wICsgJ3B4JztcclxuICAgIH1cclxuICAgIGlmIChlbExlZnQgPiBvZmZzZXRNYXhMZWZ0ICYmIG9mZnNldE1heExlZnQgPiA1KSB7XHJcbiAgICAgIGVsbW50LnN0eWxlLmxlZnQgPSBvZmZzZXRNYXhMZWZ0ICsgJ3B4JztcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBpZiAoaXNNb2JpbGUpIHtcclxuICAgIC8qIGxpc3RlbiB0byB0aGUgdG91Y2hNb3ZlIGV2ZW50LFxyXG4gICAgICBldmVyeSB0aW1lIGl0IGZpcmVzLCBncmFiIHRoZSBsb2NhdGlvblxyXG4gICAgICBvZiB0b3VjaCBhbmQgYXNzaWduIGl0IHRvIGJveCAqL1xyXG5cclxuICAgIHZhciBqdXN0QVRvdWNoID0gZmFsc2U7XHJcbiAgICBkcmFnZ2FibGVFbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAganVzdEFUb3VjaCA9IHRydWU7XHJcblxyXG4gICAgICBpZiAodG91Y2hTdGFydCkgY2xlYXJUaW1lb3V0KHRvdWNoU3RhcnQpO1xyXG5cclxuICAgICAgbWF4TGVmdCA9IChpc1BhcmVudFdpbmRvdyA/IHdpbmRvdy5pbm5lcldpZHRoIDogY29udGFpbmVyLm9mZnNldFdpZHRoKTtcclxuICAgICAgbWF4VG9wID0gKGlzUGFyZW50V2luZG93ID8gd2luZG93LmlubmVySGVpZ2h0IDogY29udGFpbmVyLm9mZnNldEhlaWdodCk7XHJcblxyXG4gICAgICB0b3VjaFN0YXJ0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAganVzdEFUb3VjaCA9IGZhbHNlO1xyXG4gICAgICB9LCAxMDApO1xyXG4gICAgfSwgeyBwYXNzaXZlOiBpc2lPUyB9KTtcclxuXHJcbiAgICBkcmFnZ2FibGVFbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHBvczMgPSBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVg7XHJcbiAgICAgIHBvczQgPSBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVk7XHJcbiAgICAgIC8vIG1vdmluZyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cclxuICAgICAgZWxlbWVudERyYWcoZSk7XHJcbiAgICB9LCB7IHBhc3NpdmU6IGlzaU9TIH0pO1xyXG5cclxuICAgIGRyYWdnYWJsZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgLy8gZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAvLyBjdXJyZW50IGJveCBwb3NpdGlvbi5cclxuICAgICAgY2xvc2VEcmFnRWxlbWVudChlKTtcclxuICAgICAgbW92aW5nID0gbnVsbDtcclxuXHJcbiAgICAgIGlmIChqdXN0QVRvdWNoICYmIHR5cGVvZiBtb2JpbGVUb3VjaCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIG1vYmlsZVRvdWNoKCk7XHJcbiAgICAgIH1cclxuICAgIH0sIHsgcGFzc2l2ZTogaXNpT1MgfSk7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgb25XaW5kb3dDaGFuZ2UoKTtcclxuICAgIH0sIHRydWUpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBpZiBwcmVzZW50LCB0aGUgaGVhZGVyIGlzIHdoZXJlIHlvdSBtb3ZlIHRoZSBESVYgZnJvbTpcclxuICAgIGRyYWdnYWJsZUVsLm9ubW91c2Vkb3duID0gZHJhZ01vdXNlRG93bjtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgb25XaW5kb3dDaGFuZ2UoKTtcclxuICAgIH0sIHRydWUpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZHJhZ01vdXNlRG93biAoZSkge1xyXG4gICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIG1heExlZnQgPSAoaXNQYXJlbnRXaW5kb3cgPyB3aW5kb3cuaW5uZXJXaWR0aCA6IGNvbnRhaW5lci5vZmZzZXRXaWR0aCk7XHJcbiAgICBtYXhUb3AgPSAoaXNQYXJlbnRXaW5kb3cgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiBjb250YWluZXIub2Zmc2V0SGVpZ2h0KTtcclxuXHJcbiAgICBvdmVybGF5Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cclxuICAgIC8vIGdldCB0aGUgbW91c2UgY3Vyc29yIHBvc2l0aW9uIGF0IHN0YXJ0dXA6XHJcbiAgICBwb3MzID0gZS5jbGllbnRYO1xyXG4gICAgcG9zNCA9IGUuY2xpZW50WTtcclxuICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IGNsb3NlRHJhZ0VsZW1lbnQ7XHJcbiAgICAvLyBjYWxsIGEgZnVuY3Rpb24gd2hlbmV2ZXIgdGhlIGN1cnNvciBtb3ZlczpcclxuICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gZWxlbWVudERyYWc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGRzIGFkZGl0aW9uYWwgb2Zmc2V0IHRvIG1heCBsZWZ0IGFuZCB0b3AgYmFzZWQgb24gb3JpZW50YXRpb24gYW5kIGNvbnRhaW5lciB3aWR0aCAod2lsbCBiZSBhZmZlY3RlZCBieSBDU1Mgc3R5bGluZyBzbyBuZWVkcyB0byBiZSBhZGp1c3RlZCBhY2NvcmRpbmdseSlcclxuICAgKiAtIGVsbW50ID0+IGlzIHRoZSBtYWluIGNvbnRhaW5lciB0aGF0IGhhcyB0aGUgcG9zaXRpb25pbmcgYXBwbGllZCB0b1xyXG4gICAqIC0gZHJhZ2dhYmxlRWwgPT4ga2V5IGVsZW1lbnQgdGhhdCBpcyBtZWFuIGZvciBkcmFnZ2luZ1xyXG4gICAqL1xyXG4gIHZhciBjaGVja01heE1pblJlc3RyYWludHMgPSBmdW5jdGlvbiAobmV3VG9wLCBuZXdMZWZ0LCBvZmZzZXRNYXhMZWZ0LCBvZmZzZXRNYXhUb3ApIHtcclxuICAgIHZhciAvLyBtaW5MZWZ0ID0gKGlzVmVydGljYWwgPyBlbG1udC5vZmZzZXRXaWR0aC80IDogMCApLCAvLyBhdHRlbXB0IHRvIHJlc3RyaWN0IHRoZSBjb250YWluZXIgdG8gZ28gb3V0IG9mIGJvdW5kcyBieSBhIGZldyBwaXhlbHMsIG5lZWRzIHNvbWUgd29ya1xyXG4gICAgICBtaW5MZWZ0ID0gMDtcclxuICAgIHZhciB0b3AgPSAobmV3VG9wIDw9IDAgPyAwIDogbmV3VG9wKTtcclxuICAgIHZhciBsZWZ0ID0gKG5ld0xlZnQgPD0gbWluTGVmdCA/IG1pbkxlZnQgOiBuZXdMZWZ0KTtcclxuXHJcbiAgICBpZiAobGVmdCA+PSBvZmZzZXRNYXhMZWZ0KSB7XHJcbiAgICAgIGxlZnQgPSBvZmZzZXRNYXhMZWZ0O1xyXG4gICAgfVxyXG4gICAgaWYgKHRvcCA+PSBvZmZzZXRNYXhUb3ApIHtcclxuICAgICAgdG9wID0gb2Zmc2V0TWF4VG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRvcDogdG9wLFxyXG4gICAgICBsZWZ0OiBsZWZ0XHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIGVsZW1lbnREcmFnIChlKSB7XHJcbiAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAvLyBjYWxjdWxhdGUgdGhlIG5ldyBjdXJzb3IgcG9zaXRpb246XHJcbiAgICB2YXIgcG9zWCA9IChpc01vYmlsZSkgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVggOiBlLmNsaWVudFg7XHJcbiAgICB2YXIgcG9zWSA9IChpc01vYmlsZSkgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVkgOiBlLmNsaWVudFk7XHJcbiAgICB2YXIgaXNWZXJ0aWNhbCA9IGhhc0NsYXNzKGVsbW50LCAnY2wtdmVydGljYWwtbWluaScpO1xyXG4gICAgdmFyIG9mZnNldE1heExlZnQgPSBtYXhMZWZ0IC0gcGFyc2VJbnQoZWxtbnQub2Zmc2V0V2lkdGggKyAoaXNWZXJ0aWNhbCA/IGRyYWdnYWJsZUVsLm9mZnNldFdpZHRoIC8gNyA6IGRyYWdnYWJsZUVsLm9mZnNldFdpZHRoIC8gMS42KSk7XHJcbiAgICB2YXIgb2Zmc2V0TWF4VG9wID0gbWF4VG9wIC0gcGFyc2VJbnQoZWxtbnQub2Zmc2V0SGVpZ2h0ICsgKGlzVmVydGljYWwgPyBkcmFnZ2FibGVFbC5vZmZzZXRIZWlnaHQgLyAxLjIgOiBkcmFnZ2FibGVFbC5vZmZzZXRIZWlnaHQgLyA0KSk7XHJcblxyXG4gICAgcG9zMSA9IHBvczMgLSBwb3NYO1xyXG4gICAgcG9zMiA9IHBvczQgLSBwb3NZO1xyXG4gICAgcG9zMyA9IHBhcnNlSW50KHBvc1gpO1xyXG4gICAgcG9zNCA9IHBhcnNlSW50KHBvc1kpO1xyXG4gICAgbW92aW5nID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblxyXG4gICAgY2hlY2tNb3ZlbWVudCgpO1xyXG5cclxuICAgIGlmICghaGFzQ2xhc3MoZWxtbnQsICdjbC1iZWluZy1tb3ZlZCcpKSBhZGRDbGFzcyhlbG1udCwgJ2NsLWJlaW5nLW1vdmVkJyk7XHJcblxyXG4gICAgdmFyIG5ld1RvcCA9IChpc01vYmlsZSkgPyAocG9zWSAtIHBhcnNlSW50KGRyYWdnYWJsZUVsLm9mZnNldEhlaWdodCAvIDIpKSA6IChlbG1udC5vZmZzZXRUb3AgLSBwb3MyKTtcclxuICAgIHZhciBuZXdMZWZ0ID0gKGlzTW9iaWxlKSA/IChwb3NYIC0gcGFyc2VJbnQoZHJhZ2dhYmxlRWwub2Zmc2V0V2lkdGggLyAyKSkgOiAoZWxtbnQub2Zmc2V0TGVmdCAtIHBvczEpO1xyXG4gICAgdmFyIGxlZnRUb3BDaGVjayA9IGNoZWNrTWF4TWluUmVzdHJhaW50cyhuZXdUb3AsIG5ld0xlZnQsIG9mZnNldE1heExlZnQsIG9mZnNldE1heFRvcCk7IC8vIHNldCB0aGUgZWxlbWVudCdzIG5ldyBwb3NpdGlvbjpcclxuXHJcbiAgICAvLyBzY3JvbGxPYmoyLmlubmVySFRNTCA9IGxlZnRUb3BDaGVjay50b3AgKyBcIi1cIiArIGxlZnRUb3BDaGVjay5sZWZ0ICsgXCIgOiBcIisgbmV3VG9wICsgXCItXCIgKyBuZXdMZWZ0ICsgXCIgOiBcIiArIChwb3NYIDwgMCB8fCBwb3NZIDwgMCB8fCBwb3NYID4gbWF4TGVmdCB8fCBwb3NZID4gbWF4VG9wKSArIFwiLVwiICsgKG5ld1RvcCA+IG9mZnNldE1heFRvcCB8fCBuZXdMZWZ0ID4gb2Zmc2V0TWF4TGVmdCk7XHJcbiAgICAvLyBzY3JvbGxPYmoyLmlubmVySFRNTCA9IGxlZnRUb3BDaGVjay50b3AgKyBcIi1cIiArIGxlZnRUb3BDaGVjay5sZWZ0ICsgXCIgOiBcIisgbmV3VG9wICtcIi1cIisgbmV3TGVmdCArIFwiIDogXCIgKyAocG9zWCA8IDAgfHwgcG9zWSA8IDAgfHwgcG9zWCA+IG1heExlZnQgfHwgcG9zWSA+IG1heFRvcCkgKyBcIi1cIiArIChuZXdUb3AgPiBvZmZzZXRNYXhUb3AgfHwgbmV3TGVmdCA+IG9mZnNldE1heExlZnQpO1xyXG5cclxuICAgIGlmIChwb3NYIDwgMCB8fCBwb3NZIDwgMCB8fCBwb3NYID4gbWF4TGVmdCB8fCBwb3NZID4gbWF4VG9wKSB7XHJcbiAgICAgIGNsb3NlRHJhZ0VsZW1lbnQoZSk7XHJcbiAgICB9IGVsc2UgaWYgKG5ld1RvcCA+IG9mZnNldE1heFRvcCB8fCBuZXdMZWZ0ID4gb2Zmc2V0TWF4TGVmdCkge1xyXG4gICAgICBjbG9zZURyYWdFbGVtZW50KGUpO1xyXG4gICAgfSBlbHNlIGlmIChsZWZ0VG9wQ2hlY2sudG9wID4gb2Zmc2V0TWF4VG9wIHx8IGxlZnRUb3BDaGVjay5sZWZ0ID4gb2Zmc2V0TWF4TGVmdCkge1xyXG4gICAgICBjbG9zZURyYWdFbGVtZW50KGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZWxtbnQuc3R5bGUudG9wID0gbGVmdFRvcENoZWNrLnRvcCArICdweCc7XHJcbiAgICAgIGVsbW50LnN0eWxlLmxlZnQgPSBsZWZ0VG9wQ2hlY2subGVmdCArICdweCc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBkcmFnZ2luZyA9PT0gJ2Z1bmN0aW9uJykgZHJhZ2dpbmcobmV3VG9wLCBuZXdMZWZ0KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNsb3NlRHJhZ0VsZW1lbnQgKGUpIHtcclxuICAgIG92ZXJsYXlDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIGlmIChpc01vYmlsZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBzdG9wIG1vdmluZyB3aGVuIG1vdXNlIGJ1dHRvbiBpcyByZWxlYXNlZDpcclxuICAgICAgZG9jdW1lbnQub25tb3VzZXVwID0gbnVsbDtcclxuICAgICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgbW92aW5nID0gbnVsbDtcclxuXHJcbiAgICByZW1vdmVDbGFzcyhlbG1udCwgJ2NsLWJlaW5nLW1vdmVkJyk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBmaW5pc2hEcmFnZ2luZyA9PT0gJ2Z1bmN0aW9uJykgZmluaXNoRHJhZ2dpbmcoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNoZWNrTW92ZW1lbnQgKCkge1xyXG4gICAgaWYgKG1vdmVtZW50SW50ZXJ2YWwpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KG1vdmVtZW50SW50ZXJ2YWwpO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmVtZW50SW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKG1vdmluZyAhPT0gbnVsbCAmJiBtb3ZpbmcgKyAzMDAwIDwgbmV3IERhdGUoKS5nZXRUaW1lKCkgJiYgIWlzTW9iaWxlKSB7XHJcbiAgICAgICAgY2xvc2VEcmFnRWxlbWVudCgpO1xyXG4gICAgICB9IGVsc2UgaWYgKG1vdmluZyAhPT0gbnVsbCkge1xyXG4gICAgICAgIGNoZWNrTW92ZW1lbnQoKTtcclxuICAgICAgfVxyXG4gICAgfSwgMzAwMCk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZHJhZ0VsZW1lbnQ7XHJcbiIsIi8vIGdsb2JhbCB0aW1lb3V0IGhhbmRsaW5nXHJcblxyXG50cnkge1xyXG4gIGlmICh0eXBlb2Ygc2V0VGltZW91dEdsb2JhbCAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgd2luZG93Ll9zZXRUaW1lb3V0R2xvYmFsUmVwb3NpdG9yeSA9IFtdO1xyXG4gICAgd2luZG93LnNldFRpbWVvdXRHbG9iYWwgPSBmdW5jdGlvbiAoaWQsIGZ1bmMsIHRpbWVyKSB7XHJcbiAgICAgIHZhciBleGlzdHMgPSBmYWxzZTtcclxuICAgICAgd2luZG93Lm1hcE9iamVjdCh3aW5kb3cuX3NldFRpbWVvdXRHbG9iYWxSZXBvc2l0b3J5LCBmdW5jdGlvbiAoaW5zdGFuY2UsIGtleSwgY291bnQpIHtcclxuICAgICAgICBpZiAoaWQgPT09IGluc3RhbmNlLmlkKSB7XHJcbiAgICAgICAgICBleGlzdHMgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIWV4aXN0cykge1xyXG4gICAgICAgIHZhciBpbnRlcnZhbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgd2luZG93Lm1hcE9iamVjdCh3aW5kb3cuX3NldFRpbWVvdXRHbG9iYWxSZXBvc2l0b3J5LCBmdW5jdGlvbiAoaW5zdGFuY2UsIGtleSwgY291bnQpIHtcclxuICAgICAgICAgICAgaWYgKGlkID09PSBpbnN0YW5jZS5pZCkge1xyXG4gICAgICAgICAgICAgIHdpbmRvdy5fc2V0VGltZW91dEdsb2JhbFJlcG9zaXRvcnkuc3BsaWNlKGtleSwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBmdW5jKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGltZXIpO1xyXG5cclxuICAgICAgICB3aW5kb3cuX3NldFRpbWVvdXRHbG9iYWxSZXBvc2l0b3J5LnB1c2goe1xyXG4gICAgICAgICAgaWQ6IGlkLFxyXG4gICAgICAgICAgZnVuYzogZnVuYyxcclxuICAgICAgICAgIHRpbWVyOiB0aW1lcixcclxuICAgICAgICAgIGludGVydmFsOiBpbnRlcnZhbFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gaW50ZXJ2YWw7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0R2xvYmFsIC0gSUQgWycgKyBpZCArICddIGFscmVhZHkgaW4gdXNlJyk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIGNsb3NlVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKHdpbmRvdy5fc2V0VGltZW91dEdsb2JhbFJlcG9zaXRvcnkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHdpbmRvdy5tYXBPYmplY3Qod2luZG93Ll9zZXRUaW1lb3V0R2xvYmFsUmVwb3NpdG9yeSwgZnVuY3Rpb24gKGluc3RhbmNlLCBrZXksIGNvdW50KSB7XHJcbiAgICAgICAgICBpZiAoaW5zdGFuY2UuaW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnN0YW5jZS5pbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmludGVydmFsID0gbnVsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgcmVFbmFibGVUaW1lb3V0cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKHdpbmRvdy5fc2V0VGltZW91dEdsb2JhbFJlcG9zaXRvcnkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciB0bXAgPSBbXTtcclxuICAgICAgICB3aW5kb3cubWFwT2JqZWN0KHdpbmRvdy5fc2V0VGltZW91dEdsb2JhbFJlcG9zaXRvcnksIGZ1bmN0aW9uIChpbnN0YW5jZSwga2V5LCBjb3VudCkge1xyXG4gICAgICAgICAgdG1wLnB1c2goaW5zdGFuY2UpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB3aW5kb3cuX3NldFRpbWVvdXRHbG9iYWxSZXBvc2l0b3J5ID0gW107XHJcbiAgICAgICAgd2luZG93Lm1hcE9iamVjdCh0bXAsIGZ1bmN0aW9uIChpbnN0YW5jZSwga2V5LCBjb3VudCkge1xyXG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXRHbG9iYWwoaW5zdGFuY2UuaWQsIGluc3RhbmNlLmZ1bmMsIGluc3RhbmNlLnRpbWVyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgd2luZG93QWN0aXZpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGhpZGRlbiA9ICdoaWRkZW4nO1xyXG5cclxuICAgICAgICAvLyBTdGFuZGFyZHM6XHJcbiAgICAgICAgaWYgKGhpZGRlbiBpbiBkb2N1bWVudCkge1xyXG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIG9uY2hhbmdlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKChoaWRkZW4gPSAnbW96SGlkZGVuJykgaW4gZG9jdW1lbnQpIHtcclxuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21venZpc2liaWxpdHljaGFuZ2UnLCBvbmNoYW5nZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICgoaGlkZGVuID0gJ3dlYmtpdEhpZGRlbicpIGluIGRvY3VtZW50KSB7XHJcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlJywgb25jaGFuZ2UpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoKGhpZGRlbiA9ICdtc0hpZGRlbicpIGluIGRvY3VtZW50KSB7XHJcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtc3Zpc2liaWxpdHljaGFuZ2UnLCBvbmNoYW5nZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICgnb25mb2N1c2luJyBpbiBkb2N1bWVudCkgeyAvLyBJRSA5IGFuZCBsb3dlcjpcclxuICAgICAgICAgIGRvY3VtZW50Lm9uZm9jdXNpbiA9IGRvY3VtZW50Lm9uZm9jdXNvdXQgPSBvbmNoYW5nZTtcclxuICAgICAgICB9IGVsc2UgeyAvLyBBbGwgb3RoZXJzOlxyXG4gICAgICAgICAgd2luZG93Lm9ucGFnZXNob3cgPSB3aW5kb3cub25wYWdlaGlkZSA9IHdpbmRvdy5vbmZvY3VzID0gd2luZG93Lm9uYmx1ciA9IG9uY2hhbmdlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gb25jaGFuZ2UgKGV2dCkge1xyXG4gICAgICAgICAgdmFyIHN0YXR1cyA9ICcnO1xyXG4gICAgICAgICAgdmFyIHYgPSAndmlzaWJsZSc7XHJcbiAgICAgICAgICB2YXIgaCA9ICdoaWRkZW4nO1xyXG4gICAgICAgICAgdmFyIGV2dE1hcCA9IHtcclxuICAgICAgICAgICAgZm9jdXM6IHYsIGZvY3VzaW46IHYsIHBhZ2VzaG93OiB2LCBibHVyOiBoLCBmb2N1c291dDogaCwgcGFnZWhpZGU6IGhcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgZXZ0ID0gZXZ0IHx8IHdpbmRvdy5ldmVudDtcclxuICAgICAgICAgIGlmIChldnQudHlwZSBpbiBldnRNYXApIHtcclxuICAgICAgICAgICAgc3RhdHVzID0gZXZ0TWFwW2V2dC50eXBlXTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0YXR1cyA9IHRoaXNbaGlkZGVuXSA/ICdoaWRkZW4nIDogJ3Zpc2libGUnO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChzdGF0dXMgPT09ICd2aXNpYmxlJykge1xyXG4gICAgICAgICAgICByZUVuYWJsZVRpbWVvdXRzKCk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ2hpZGRlbicpIHtcclxuICAgICAgICAgICAgY2xvc2VUaW1lb3V0KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzZXQgdGhlIGluaXRpYWwgc3RhdGUgKGJ1dCBvbmx5IGlmIGJyb3dzZXIgc3VwcG9ydHMgdGhlIFBhZ2UgVmlzaWJpbGl0eSBBUEkpXHJcbiAgICAgICAgaWYgKGRvY3VtZW50W2hpZGRlbl0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgb25jaGFuZ2UoeyB0eXBlOiBkb2N1bWVudFtoaWRkZW5dID8gJ2JsdXInIDogJ2ZvY3VzJyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvd0FjdGl2aXR5KCk7XHJcbiAgfVxyXG59IGNhdGNoIChlcnIpIHtcclxuICBjb25zb2xlLmxvZyhlcnIpO1xyXG59XHJcbiIsIi8vXHJcbmlmICghd2luZG93LmNvbnNvbGUpIHtcclxuICB3aW5kb3cuY29uc29sZSA9IGZ1bmN0aW9uICgpIHtcclxuICB9O1xyXG5cclxuICBpZiAodHlwZW9mIFhEb21haW5SZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgd2luZG93LmNvbnNvbGUucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGVycik7XHJcbiAgICB9O1xyXG4gICAgd2luZG93LmNvbnNvbGUucHJvdG90eXBlLndhcm4gPSBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihlcnIpO1xyXG4gICAgfTtcclxuICAgIHdpbmRvdy5jb25zb2xlLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGVycik7XHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuLy9cclxudHJ5IHtcclxuICBFdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQgfHwgKEV2ZW50LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMucmV0dXJuVmFsdWUgPSAhMTtcclxuICB9KTtcclxufSBjYXRjaCAoZXJyKSB7XHJcbiAgY29uc29sZS5sb2coZXJyKTtcclxufVxyXG5cclxuLy9cclxudHJ5IHtcclxuICBFdmVudC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uIHx8IChFdmVudC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5jYW5jZWxCdWJibGUgPSAhMDtcclxuICB9KTtcclxufSBjYXRjaCAoZXJyKSB7XHJcbiAgY29uc29sZS5sb2coZXJyKTtcclxufVxyXG5cclxuLy9cclxudHJ5IHtcclxuICB0eXBlb2YgbWFwT2JqZWN0ICE9PSAnZnVuY3Rpb24nICYmICh3aW5kb3cubWFwT2JqZWN0ID0gZnVuY3Rpb24gKGUsIHQpIHtcclxuICAgIGlmIChlICE9PSBudWxsKSB7XHJcbiAgICAgIHZhciBuID0gMDtcclxuICAgICAgZm9yICh2YXIgciBpbiBlKSBlLmhhc093blByb3BlcnR5KHIpICYmICh0KGVbcl0sIHIsIG4pLCBuKyspO1xyXG4gICAgICByZXR1cm4gITA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29uc29sZS5sb2coJ3JldHVybmVkIG9iamVjdCBpcyBudWxsJywgdHlwZW9mIGUpLCAhMTtcclxuICB9KTtcclxufSBjYXRjaCAoZXJyKSB7XHJcbiAgY29uc29sZS5sb2coZXJyKTtcclxufVxyXG5cclxuLy9cclxudHJ5IHtcclxuICBpZiAoIUVsZW1lbnQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIpIHtcclxuICAgIHZhciBldmVudExpc3RlbmVycyA9IFtdOyB2YXIgYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChlLCB0KSB7XHJcbiAgICAgIHZhciBuOyB2YXIgciA9IHRoaXM7XHJcbiAgICAgIGlmIChuID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnRhcmdldCA9IGUuc3JjRWxlbWVudCwgZS5jdXJyZW50VGFyZ2V0ID0gciwgZS5wYWdlWCA9IGV2ZW50LmNsaWVudFggKyBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQsIGUucGFnZVkgPSBldmVudC5jbGllbnRZICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AsIHQuaGFuZGxlRXZlbnQgPyB0LmhhbmRsZUV2ZW50KGUpIDogdC5jYWxsKHIsIGUpO1xyXG4gICAgICB9LCBlID09PSAnRE9NQ29udGVudExvYWRlZCcpIHtcclxuICAgICAgICB2YXIgbyA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICBkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnICYmIG4oZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQoJ29ucmVhZHlzdGF0ZWNoYW5nZScsIG8pLCBldmVudExpc3RlbmVycy5wdXNoKHtcclxuICAgICAgICAgIG9iamVjdDogdGhpcyxcclxuICAgICAgICAgIHR5cGU6IGUsXHJcbiAgICAgICAgICBsaXN0ZW5lcjogdCxcclxuICAgICAgICAgIHdyYXBwZXI6IG9cclxuICAgICAgICB9KSwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSAnY29tcGxldGUnKSB7XHJcbiAgICAgICAgICB2YXIgaSA9IG5ldyBFdmVudCgpO1xyXG4gICAgICAgICAgaS5zcmNFbGVtZW50ID0gd2luZG93LCBvKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHRoaXMuYXR0YWNoRXZlbnQoJ29uJyArIGUsIG4pLCBldmVudExpc3RlbmVycy5wdXNoKHsgb2JqZWN0OiB0aGlzLCB0eXBlOiBlLCBsaXN0ZW5lcjogdCwgd3JhcHBlcjogbiB9KTtcclxuICAgIH07IHZhciByZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGUsIHQpIHtcclxuICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBldmVudExpc3RlbmVycy5sZW5ndGg7KSB7XHJcbiAgICAgICAgdmFyIHIgPSBldmVudExpc3RlbmVyc1tuXTtcclxuICAgICAgICBpZiAoci5vYmplY3QgPT0gdGhpcyAmJiByLnR5cGUgPT0gZSAmJiByLmxpc3RlbmVyID09IHQpIHtcclxuICAgICAgICAgIGUgPT0gJ0RPTUNvbnRlbnRMb2FkZWQnID8gdGhpcy5kZXRhY2hFdmVudCgnb25yZWFkeXN0YXRlY2hhbmdlJywgci53cmFwcGVyKSA6IHRoaXMuZGV0YWNoRXZlbnQoJ29uJyArIGUsIHIud3JhcHBlcik7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgKytuO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgRWxlbWVudC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIsIEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSByZW1vdmVFdmVudExpc3RlbmVyLCBIVE1MRG9jdW1lbnQgJiYgKEhUTUxEb2N1bWVudC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIsIEhUTUxEb2N1bWVudC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHJlbW92ZUV2ZW50TGlzdGVuZXIpLCBXaW5kb3cgJiYgKFdpbmRvdy5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIsIFdpbmRvdy5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHJlbW92ZUV2ZW50TGlzdGVuZXIpO1xyXG4gIH1cclxuICBFbGVtZW50LnByb3RvdHlwZS5yZW1vdmUgfHwgKEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzKTtcclxuICB9LCBOb2RlTGlzdC5wcm90b3R5cGUucmVtb3ZlID0gSFRNTENvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGZvciAodmFyIGUgPSAwLCB0ID0gdGhpcy5sZW5ndGg7IHQgPiBlOyBlKyspIHRoaXNbZV0gJiYgdGhpc1tlXS5wYXJlbnRFbGVtZW50ICYmIHRoaXNbZV0ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzW2VdKTtcclxuICB9KTtcclxufSBjYXRjaCAoZXJyKSB7XHJcbiAgY29uc29sZS5sb2coZXJyKTtcclxufVxyXG50eXBlb2YgWERvbWFpblJlcXVlc3QgIT09ICd1bmRlZmluZWQnICYmICh0eXBlb2Ygd2luZG93LkpTT04gIT09ICdvYmplY3QnICYmICh3aW5kb3cuSlNPTiA9IHt9KSwgKGZ1bmN0aW9uICgpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGZ1bmN0aW9uIGYgKGUpIHtcclxuICAgIHJldHVybiBlIDwgMTAgPyAnMCcgKyBlIDogZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHF1b3RlIChlKSB7XHJcbiAgICByZXR1cm4gZXNjYXBhYmxlLmxhc3RJbmRleCA9IDAsIGVzY2FwYWJsZS50ZXN0KGUpID8gJ1wiJyArIGUucmVwbGFjZShlc2NhcGFibGUsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIHZhciB0ID0gbWV0YVtlXTtcclxuICAgICAgcmV0dXJuIHR5cGVvZiB0ID09PSAnc3RyaW5nJyA/IHQgOiAnXFxcXHUnICsgKCcwMDAwJyArIGUuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KTtcclxuICAgIH0pICsgJ1wiJyA6ICdcIicgKyBlICsgJ1wiJztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHN0ciAoZSwgdCkge1xyXG4gICAgdmFyIG47IHZhciByOyB2YXIgbzsgdmFyIGk7IHZhciBhOyB2YXIgcCA9IGdhcDsgdmFyIHUgPSB0W2VdO1xyXG4gICAgc3dpdGNoICh1ICYmIHR5cGVvZiB1ID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdS50b0pTT04gPT09ICdmdW5jdGlvbicgJiYgKHUgPSB1LnRvSlNPTihlKSksIHR5cGVvZiByZXAgPT09ICdmdW5jdGlvbicgJiYgKHUgPSByZXAuY2FsbCh0LCBlLCB1KSksIHR5cGVvZiB1KSB7XHJcbiAgICAgIGNhc2UgJ3N0cmluZyc6XHJcbiAgICAgICAgcmV0dXJuIHF1b3RlKHUpO1xyXG4gICAgICBjYXNlICdudW1iZXInOlxyXG4gICAgICAgIHJldHVybiBpc0Zpbml0ZSh1KSA/IFN0cmluZyh1KSA6ICdudWxsJztcclxuICAgICAgY2FzZSAnYm9vbGVhbic6XHJcbiAgICAgIGNhc2UgJ251bGwnOlxyXG4gICAgICAgIHJldHVybiBTdHJpbmcodSk7XHJcbiAgICAgIGNhc2UgJ29iamVjdCc6XHJcbiAgICAgICAgaWYgKCF1KSByZXR1cm4gJ251bGwnO1xyXG4gICAgICAgIGlmIChnYXAgKz0gaW5kZW50LCBhID0gW10sIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkodSkgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcclxuICAgICAgICAgIGZvciAoaSA9IHUubGVuZ3RoLCBuID0gMDsgaSA+IG47IG4gKz0gMSkgYVtuXSA9IHN0cihuLCB1KSB8fCAnbnVsbCc7XHJcbiAgICAgICAgICByZXR1cm4gbyA9IGEubGVuZ3RoID09PSAwID8gJ1tdJyA6IGdhcCA/ICdbXFxuJyArIGdhcCArIGEuam9pbignLFxcbicgKyBnYXApICsgJ1xcbicgKyBwICsgJ10nIDogJ1snICsgYS5qb2luKCcsJykgKyAnXScsIGdhcCA9IHAsIG87XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXAgJiYgdHlwZW9mIHJlcCA9PT0gJ29iamVjdCcpIGZvciAoaSA9IHJlcC5sZW5ndGgsIG4gPSAwOyBpID4gbjsgbiArPSAxKSB0eXBlb2YgcmVwW25dID09PSAnc3RyaW5nJyAmJiAociA9IHJlcFtuXSwgbyA9IHN0cihyLCB1KSwgbyAmJiBhLnB1c2gocXVvdGUocikgKyAoZ2FwID8gJzogJyA6ICc6JykgKyBvKSk7IGVsc2UgZm9yIChyIGluIHUpIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh1LCByKSAmJiAobyA9IHN0cihyLCB1KSwgbyAmJiBhLnB1c2gocXVvdGUocikgKyAoZ2FwID8gJzogJyA6ICc6JykgKyBvKSk7XHJcbiAgICAgICAgcmV0dXJuIG8gPSBhLmxlbmd0aCA9PT0gMCA/ICd7fScgOiBnYXAgPyAne1xcbicgKyBnYXAgKyBhLmpvaW4oJyxcXG4nICsgZ2FwKSArICdcXG4nICsgcCArICd9JyA6ICd7JyArIGEuam9pbignLCcpICsgJ30nLCBnYXAgPSBwLCBvO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdHlwZW9mIERhdGUucHJvdG90eXBlLnRvSlNPTiAhPT0gJ2Z1bmN0aW9uJyAmJiAoRGF0ZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIGlzRmluaXRlKHRoaXMudmFsdWVPZigpKSA/IHRoaXMuZ2V0VVRDRnVsbFllYXIoKSArICctJyArIGYodGhpcy5nZXRVVENNb250aCgpICsgMSkgKyAnLScgKyBmKHRoaXMuZ2V0VVRDRGF0ZSgpKSArICdUJyArIGYodGhpcy5nZXRVVENIb3VycygpKSArICc6JyArIGYodGhpcy5nZXRVVENNaW51dGVzKCkpICsgJzonICsgZih0aGlzLmdldFVUQ1NlY29uZHMoKSkgKyAnWicgOiBudWxsO1xyXG4gIH0sIFN0cmluZy5wcm90b3R5cGUudG9KU09OID0gTnVtYmVyLnByb3RvdHlwZS50b0pTT04gPSBCb29sZWFuLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCk7XHJcbiAgfSk7XHJcbiAgdmFyIGN4LCBlc2NhcGFibGUsIGdhcCwgaW5kZW50LCBtZXRhLCByZXA7XHJcbiAgdHlwZW9mIHdpbmRvdy5KU09OLnN0cmluZ2lmeSAhPT0gJ2Z1bmN0aW9uJyAmJiAoZXNjYXBhYmxlID0gL1tcXFxcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx4OWZcXHUwMGFkXFx1MDYwMC1cXHUwNjA0XFx1MDcwZlxcdTE3YjRcXHUxN2I1XFx1MjAwYy1cXHUyMDBmXFx1MjAyOC1cXHUyMDJmXFx1MjA2MC1cXHUyMDZmXFx1ZmVmZlxcdWZmZjAtXFx1ZmZmZl0vZywgbWV0YSA9IHtcclxuICAgICdcXGInOiAnXFxcXGInLFxyXG4gICAgJ1x0JzogJ1xcXFx0JyxcclxuICAgICdcXG4nOiAnXFxcXG4nLFxyXG4gICAgJ1xcZic6ICdcXFxcZicsXHJcbiAgICAnXFxyJzogJ1xcXFxyJyxcclxuICAgICdcIic6ICdcXFxcXCInLFxyXG4gICAgJ1xcXFwnOiAnXFxcXFxcXFwnXHJcbiAgfSwgd2luZG93LkpTT04uc3RyaW5naWZ5ID0gZnVuY3Rpb24gKGUsIHQsIG4pIHtcclxuICAgIHZhciByO1xyXG4gICAgaWYgKGdhcCA9ICcnLCBpbmRlbnQgPSAnJywgdHlwZW9mIG4gPT09ICdudW1iZXInKSBmb3IgKHIgPSAwOyBuID4gcjsgciArPSAxKSBpbmRlbnQgKz0gJyAnOyBlbHNlIHR5cGVvZiBuID09PSAnc3RyaW5nJyAmJiAoaW5kZW50ID0gbik7XHJcbiAgICBpZiAocmVwID0gdCwgdCAmJiB0eXBlb2YgdCAhPT0gJ2Z1bmN0aW9uJyAmJiAodHlwZW9mIHQgIT09ICdvYmplY3QnIHx8IHR5cGVvZiB0Lmxlbmd0aCAhPT0gJ251bWJlcicpKSB0aHJvdyBuZXcgRXJyb3IoJ0pTT04uc3RyaW5naWZ5Jyk7XHJcbiAgICByZXR1cm4gc3RyKCcnLCB7ICcnOiBlIH0pO1xyXG4gIH0pLCB0eXBlb2Ygd2luZG93LkpTT04ucGFyc2UgIT09ICdmdW5jdGlvbicgJiYgKGN4ID0gL1tcXHUwMDAwXFx1MDBhZFxcdTA2MDAtXFx1MDYwNFxcdTA3MGZcXHUxN2I0XFx1MTdiNVxcdTIwMGMtXFx1MjAwZlxcdTIwMjgtXFx1MjAyZlxcdTIwNjAtXFx1MjA2ZlxcdWZlZmZcXHVmZmYwLVxcdWZmZmZdL2csIHdpbmRvdy5KU09OLnBhcnNlID0gZnVuY3Rpb24gKHRleHQsIHJldml2ZXIpIHtcclxuICAgIGZ1bmN0aW9uIHdhbGsgKGUsIHQpIHtcclxuICAgICAgdmFyIG47IHZhciByOyB2YXIgbyA9IGVbdF07XHJcbiAgICAgIGlmIChvICYmIHR5cGVvZiBvID09PSAnb2JqZWN0JykgZm9yIChuIGluIG8pIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBuKSAmJiAociA9IHdhbGsobywgbiksIHZvaWQgMCAhPT0gciA/IG9bbl0gPSByIDogZGVsZXRlIG9bbl0pO1xyXG4gICAgICByZXR1cm4gcmV2aXZlci5jYWxsKGUsIHQsIG8pO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBqO1xyXG4gICAgaWYgKHRleHQgPSBTdHJpbmcodGV4dCksIGN4Lmxhc3RJbmRleCA9IDAsIGN4LnRlc3QodGV4dCkgJiYgKHRleHQgPSB0ZXh0LnJlcGxhY2UoY3gsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIHJldHVybiAnXFxcXHUnICsgKCcwMDAwJyArIGUuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KTtcclxuICAgIH0pKSwgL15bXFxdLDp7fVxcc10qJC8udGVzdCh0ZXh0LnJlcGxhY2UoL1xcXFwoPzpbXCJcXFxcXFwvYmZucnRdfHVbMC05YS1mQS1GXXs0fSkvZywgJ0AnKS5yZXBsYWNlKC9cIlteXCJcXFxcXFxuXFxyXSpcInx0cnVlfGZhbHNlfG51bGx8LT9cXGQrKD86XFwuXFxkKik/KD86W2VFXVsrXFwtXT9cXGQrKT8vZywgJ10nKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpcXHMqXFxbKSsvZywgJycpKSkgcmV0dXJuIGogPSBldmFsKCcoJyArIHRleHQgKyAnKScpLCB0eXBlb2YgcmV2aXZlciA9PT0gJ2Z1bmN0aW9uJyA/IHdhbGsoeyAnJzogaiB9LCAnJykgOiBqO1xyXG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdKU09OLnBhcnNlJyk7XHJcbiAgfSk7XHJcbn0oKSkpO1xyXG5cclxuLy9cclxudmFyIF9zbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcclxuXHJcbnRyeSB7XHJcbiAgX3NsaWNlLmNhbGwoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcclxufSBjYXRjaCAoZSkge1xyXG4gIEFycmF5LnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uICh0LCBlKSB7XHJcbiAgICBpZiAoZSA9IHR5cGVvZiBlICE9PSAndW5kZWZpbmVkJyA/IGUgOiB0aGlzLmxlbmd0aCwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMpID09PSAnW29iamVjdCBBcnJheV0nKSByZXR1cm4gX3NsaWNlLmNhbGwodGhpcywgdCwgZSk7XHJcbiAgICB2YXIgcjsgdmFyIGk7IHZhciBjID0gW107IHZhciBsID0gdGhpcy5sZW5ndGg7IHZhciBvID0gdCB8fCAwO1xyXG4gICAgbyA9IG8gPj0gMCA/IG8gOiBsICsgbztcclxuICAgIHZhciBhID0gZSB8fCBsO1xyXG4gICAgaWYgKGUgPCAwICYmIChhID0gbCArIGUpLCBpID0gYSAtIG8sIGkgPiAwKSBpZiAoYyA9IG5ldyBBcnJheShpKSwgdGhpcy5jaGFyQXQpIGZvciAociA9IDA7IGkgPiByOyByKyspIGNbcl0gPSB0aGlzLmNoYXJBdChvICsgcik7IGVsc2UgZm9yIChyID0gMDsgaSA+IHI7IHIrKykgY1tyXSA9IHRoaXNbbyArIHJdO1xyXG4gICAgcmV0dXJuIGM7XHJcbiAgfTtcclxufVxyXG5cclxuLy8gW0V2ZW50U291cmNlXSBQb2x5ZmlsbCBmaXg6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZW15L3BvbHlmaWxscy9ibG9iL21hc3Rlci9FdmVudFNvdXJjZS5qc1xyXG5cclxuKGZ1bmN0aW9uIChnbG9iYWwpIHtcclxuICBpZiAoJ0V2ZW50U291cmNlJyBpbiBnbG9iYWwpIHJldHVybjtcclxuICB2YXIgcmVUcmltID0gL14oXFxzfFxcdTAwQTApK3woXFxzfFxcdTAwQTApKyQvZztcclxuICB2YXIgRXZlbnRTb3VyY2UgPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICB2YXIgZXZlbnRzb3VyY2UgPSB0aGlzOyB2YXIgaW50ZXJ2YWwgPSA1MDA7IC8qIHBvbGxpbmcgaW50ZXJ2YWwgICovIHZhciBsYXN0RXZlbnRJZCA9IG51bGw7IHZhciBjYWNoZSA9ICcnO1xyXG4gICAgaWYgKCF1cmwgfHwgdHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdOb3QgZW5vdWdoIGFyZ3VtZW50cycpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5VUkwgPSB1cmw7XHJcbiAgICB0aGlzLnJlYWR5U3RhdGUgPSB0aGlzLkNPTk5FQ1RJTkc7XHJcbiAgICB0aGlzLl9wb2xsVGltZXIgPSBudWxsO1xyXG4gICAgdGhpcy5feGhyID0gbnVsbDtcclxuXHJcbiAgICBmdW5jdGlvbiBwb2xsQWdhaW4gKGludGVydmFsKSB7XHJcbiAgICAgIGV2ZW50c291cmNlLl9wb2xsVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwb2xsLmNhbGwoZXZlbnRzb3VyY2UpO1xyXG4gICAgICB9LCBpbnRlcnZhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcG9sbCAoKSB7XHJcbiAgICAgIHRyeSB7IC8qIGZvcmNlIGhpZGluZyBvZiB0aGUgZXJyb3IgbWVzc2FnZS4uLiBpbnNhbmU/ICovXHJcbiAgICAgICAgaWYgKGV2ZW50c291cmNlLnJlYWR5U3RhdGUgPT09IGV2ZW50c291cmNlLkNMT1NFRCkgcmV0dXJuOyAvKiBOT1RFOiBJRTcgYW5kIHVwd2FyZHMgc3VwcG9ydCAqL1xyXG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICB4aHIub3BlbignR0VUJywgZXZlbnRzb3VyY2UuVVJMLCB0cnVlKTtcclxuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ3RleHQvZXZlbnQtc3RyZWFtJyk7XHJcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAnbm8tY2FjaGUnKTsgLyogd2UgbXVzdCBtYWtlIHVzZSBvZiB0aGlzIG9uIHRoZSBzZXJ2ZXIgc2lkZSBpZiB3ZSdyZSB3b3JraW5nIHdpdGggQW5kcm9pZCAtIGJlY2F1c2UgdGhleSBkb24ndCB0cmlnZ2VyIHJlYWR5Y2hhbmdlIHVudGlsIHRoZSBzZXJ2ZXIgY29ubmVjdGlvbiBpcyBjbG9zZWQgKi9cclxuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignWC1SZXF1ZXN0ZWQtV2l0aCcsICdYTUxIdHRwUmVxdWVzdCcpO1xyXG4gICAgICAgIGlmIChsYXN0RXZlbnRJZCAhPSBudWxsKSB4aHIuc2V0UmVxdWVzdEhlYWRlcignTGFzdC1FdmVudC1JRCcsIGxhc3RFdmVudElkKTtcclxuICAgICAgICBjYWNoZSA9ICcnO1xyXG4gICAgICAgIHhoci50aW1lb3V0ID0gNTAwMDA7XHJcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT0gMyB8fCAodGhpcy5yZWFkeVN0YXRlID09IDQgJiYgdGhpcy5zdGF0dXMgPT0gMjAwKSkgeyAvKiBvbiBzdWNjZXNzICovXHJcbiAgICAgICAgICAgIGlmIChldmVudHNvdXJjZS5yZWFkeVN0YXRlID09IGV2ZW50c291cmNlLkNPTk5FQ1RJTkcpIHtcclxuICAgICAgICAgICAgICBldmVudHNvdXJjZS5yZWFkeVN0YXRlID0gZXZlbnRzb3VyY2UuT1BFTjtcclxuICAgICAgICAgICAgICBldmVudHNvdXJjZS5kaXNwYXRjaEV2ZW50KCdvcGVuJywgeyB0eXBlOiAnb3BlbicgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHJlc3BvbnNlVGV4dCA9ICcnO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIHJlc3BvbnNlVGV4dCA9IHRoaXMucmVzcG9uc2VUZXh0IHx8ICcnO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIH0gLyogcHJvY2VzcyB0aGlzLnJlc3BvbnNlVGV4dCAqL1xyXG4gICAgICAgICAgICB2YXIgcGFydHMgPSByZXNwb25zZVRleHQuc3Vic3RyKGNhY2hlLmxlbmd0aCkuc3BsaXQoJ1xcbicpOyB2YXIgZXZlbnRUeXBlID0gJ21lc3NhZ2UnOyB2YXIgZGF0YSA9IFtdOyB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgIHZhciBsaW5lID0gJyc7XHJcbiAgICAgICAgICAgIGNhY2hlID0gcmVzcG9uc2VUZXh0OyAvKiBUT0RPIGhhbmRsZSAnZXZlbnQnIChmb3IgYnVmZmVyIG5hbWUpLCByZXRyeSAqL1xyXG4gICAgICAgICAgICBmb3IgKDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgbGluZSA9IHBhcnRzW2ldLnJlcGxhY2UocmVUcmltLCAnJyk7XHJcbiAgICAgICAgICAgICAgaWYgKGxpbmUuaW5kZXhPZignZXZlbnQnKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlID0gbGluZS5yZXBsYWNlKC9ldmVudDo/XFxzKi8sICcnKTtcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmUuaW5kZXhPZigncmV0cnknKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJldHJ5ID0gcGFyc2VJbnQobGluZS5yZXBsYWNlKC9yZXRyeTo/XFxzKi8sICcnKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHJldHJ5KSkge1xyXG4gICAgICAgICAgICAgICAgICBpbnRlcnZhbCA9IHJldHJ5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS5pbmRleE9mKCdkYXRhJykgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGRhdGEucHVzaChsaW5lLnJlcGxhY2UoL2RhdGE6P1xccyovLCAnJykpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS5pbmRleE9mKCdpZDonKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgbGFzdEV2ZW50SWQgPSBsaW5lLnJlcGxhY2UoL2lkOj9cXHMqLywgJycpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS5pbmRleE9mKCdpZCcpID09PSAwKSB7IC8qIHRoaXMgcmVzZXRzIHRoZSBpZCAqL1xyXG4gICAgICAgICAgICAgICAgbGFzdEV2ZW50SWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgTWVzc2FnZUV2ZW50KGRhdGEuam9pbignXFxuJyksIGV2ZW50c291cmNlLnVybCwgbGFzdEV2ZW50SWQpO1xyXG4gICAgICAgICAgICAgICAgICBldmVudHNvdXJjZS5kaXNwYXRjaEV2ZW50KGV2ZW50VHlwZSwgZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICBkYXRhID0gW107XHJcbiAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9ICdtZXNzYWdlJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gNCkgcG9sbEFnYWluKGludGVydmFsKTsgLyogZG9uJ3QgbmVlZCB0byBwb2xsIGFnYWluLCBiZWNhdXNlIHdlJ3JlIGxvbmctbG9hZGluZyAqL1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChldmVudHNvdXJjZS5yZWFkeVN0YXRlICE9PSBldmVudHNvdXJjZS5DTE9TRUQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gNCkgeyAvKiBhbmQgc29tZSBvdGhlciBzdGF0dXMgZGlzcGF0Y2ggZXJyb3IgKi9cclxuICAgICAgICAgICAgICBldmVudHNvdXJjZS5yZWFkeVN0YXRlID0gZXZlbnRzb3VyY2UuQ09OTkVDVElORztcclxuICAgICAgICAgICAgICBldmVudHNvdXJjZS5kaXNwYXRjaEV2ZW50KCdlcnJvcicsIHsgdHlwZTogJ2Vycm9yJyB9KTtcclxuICAgICAgICAgICAgICBwb2xsQWdhaW4oaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gMCkgeyAvKiBsaWtlbHkgYWJvcnRlZCAqL1xyXG4gICAgICAgICAgICAgIHBvbGxBZ2FpbihpbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBpZiAodHJ1ZSB8fCB4aHIucmVhZHlTdGF0ZSA9PT0gMykgeGhyLmFib3J0KCk7XHJcbiAgICAgICAgfSwgeGhyLnRpbWVvdXQpO1xyXG4gICAgICAgIGV2ZW50c291cmNlLl94aHIgPSB4aHI7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHsgLyogaW4gYW4gYXR0ZW1wdCB0byBzaWxlbmNlIHRoZSBlcnJvcnMgKi9cclxuICAgICAgICBldmVudHNvdXJjZS5kaXNwYXRjaEV2ZW50KCdlcnJvcicsIHsgdHlwZTogJ2Vycm9yJywgZGF0YTogZS5tZXNzYWdlIH0pOyAvKiA/Pz8gKi9cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwb2xsKCk7IC8qIGluaXQgbm93ICovXHJcbiAgfTtcclxuICBFdmVudFNvdXJjZS5wcm90b3R5cGUgPSB7XHJcbiAgICBjbG9zZTogZnVuY3Rpb24gKCkgeyAvKiBjbG9zZXMgdGhlIGNvbm5lY3Rpb24gLSBkaXNhYmxpbmcgdGhlIHBvbGxpbmcgKi9cclxuICAgICAgdGhpcy5yZWFkeVN0YXRlID0gdGhpcy5DTE9TRUQ7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fcG9sbFRpbWVyKTtcclxuICAgICAgdGhpcy5feGhyLmFib3J0KCk7XHJcbiAgICB9LFxyXG4gICAgQ09OTkVDVElORzogMCxcclxuICAgIE9QRU46IDEsXHJcbiAgICBDTE9TRUQ6IDIsXHJcbiAgICBkaXNwYXRjaEV2ZW50OiBmdW5jdGlvbiAodHlwZSwgZXZlbnQpIHtcclxuICAgICAgdmFyIGhhbmRsZXJzID0gdGhpc1snXycgKyB0eXBlICsgJ0hhbmRsZXJzJ107XHJcbiAgICAgIGlmIChoYW5kbGVycykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGhhbmRsZXJzW2ldLmNhbGwodGhpcywgZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpc1snb24nICsgdHlwZV0pIHtcclxuICAgICAgICB0aGlzWydvbicgKyB0eXBlXS5jYWxsKHRoaXMsIGV2ZW50KTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICh0eXBlLCBoYW5kbGVyKSB7XHJcbiAgICAgIGlmICghdGhpc1snXycgKyB0eXBlICsgJ0hhbmRsZXJzJ10pIHtcclxuICAgICAgICB0aGlzWydfJyArIHR5cGUgKyAnSGFuZGxlcnMnXSA9IFtdO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXNbJ18nICsgdHlwZSArICdIYW5kbGVycyddLnB1c2goaGFuZGxlcik7XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKHR5cGUsIGhhbmRsZXIpIHtcclxuICAgICAgdmFyIGhhbmRsZXJzID0gdGhpc1snXycgKyB0eXBlICsgJ0hhbmRsZXJzJ107XHJcbiAgICAgIGlmICghaGFuZGxlcnMpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgZm9yICh2YXIgaSA9IGhhbmRsZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XHJcbiAgICAgICAgaWYgKGhhbmRsZXJzW2ldID09PSBoYW5kbGVyKSB7XHJcbiAgICAgICAgICBoYW5kbGVycy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBvbmVycm9yOiBudWxsLFxyXG4gICAgb25tZXNzYWdlOiBudWxsLFxyXG4gICAgb25vcGVuOiBudWxsLFxyXG4gICAgcmVhZHlTdGF0ZTogMCxcclxuICAgIFVSTDogJydcclxuICB9O1xyXG4gIHZhciBNZXNzYWdlRXZlbnQgPSBmdW5jdGlvbiAoZGF0YSwgb3JpZ2luLCBsYXN0RXZlbnRJZCkge1xyXG4gICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgIHRoaXMub3JpZ2luID0gb3JpZ2luO1xyXG4gICAgdGhpcy5sYXN0RXZlbnRJZCA9IGxhc3RFdmVudElkIHx8ICcnO1xyXG4gIH07XHJcbiAgTWVzc2FnZUV2ZW50LnByb3RvdHlwZSA9IHsgZGF0YTogbnVsbCwgdHlwZTogJ21lc3NhZ2UnLCBsYXN0RXZlbnRJZDogJycsIG9yaWdpbjogJycgfTtcclxuICBpZiAoJ21vZHVsZScgaW4gZ2xvYmFsKSBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50U291cmNlO1xyXG4gIGdsb2JhbC5FdmVudFNvdXJjZSA9IEV2ZW50U291cmNlO1xyXG59KSh3aW5kb3cpO1xyXG4iLCIvKipcclxuICogQXBwL0FwcGVuZCBuZXcgY2xhc3Mgc3RyaW5nIHRvIHRoZSBwcm92aWRlZCBET00gZWxlbWVudFxyXG4gKiBAcGFyYW0gZWxlbWVudFxyXG4gKiBAcGFyYW0gY2xhc3NOYW1lXHJcbiAqIEByZXR1cm5zIHt7Y2xhc3NMaXN0fXwqfVxyXG4gKi9cclxuY29uc3QgYWRkQ2xhc3MgPSBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgdHJ5IHtcclxuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xyXG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVsZW1lbnQuY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLnRyYWNlKCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZWxlbWVudDtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFkZENsYXNzO1xyXG4iLCJjb25zdCBhcHBlbmROZXh0ID0gZnVuY3Rpb24gKGVsLCBuZXdOb2RlKSB7XHJcbiAgaWYgKGVsLm5leHRTaWJsaW5nKSB7XHJcbiAgICBlbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCBlbC5uZXh0U2libGluZyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGVsLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobmV3Tm9kZSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXBwZW5kTmV4dDtcclxuIiwiaW1wb3J0IGNMYWJzIGZyb20gJy4uL21vZHVsZXMvY0xhYnMnO1xyXG5pbXBvcnQgaGFzQ2xhc3MgZnJvbSAnLi9oYXNDbGFzcyc7XHJcblxyXG4vKipcclxuICogSXRlcmF0ZSB1cCB0aGUgdHJlZSBvZiBET00gZWxlbWVudHMgdG8gZmluZCB0aGUgY2xvc2VzIG1hdGNoXHJcbiAqIEBwYXJhbSBlbGVtZW50XHJcbiAqIEBwYXJhbSBzZWxlY3RvclxyXG4gKiBAcmV0dXJucyB7bnVsbCB8IFBhcmVudE5vZGV9XHJcbiAqL1xyXG5jb25zdCBjbG9zZXN0ID0gZnVuY3Rpb24gKGVsZW1lbnQsIHNlbGVjdG9yKSB7XHJcbiAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ29iamVjdCcpIHtcclxuICAgIHZhciBzZWxlY3RvckNsYXNzU3RyaW5nID0gc2VsZWN0b3IuZ2V0QXR0cmlidXRlKCdjbGFzcycpO1xyXG4gICAgdmFyIHNlbGVjdG9ySWRTdHJpbmcgPSBzZWxlY3Rvci5pZDtcclxuXHJcbiAgICBpZiAoc2VsZWN0b3JJZFN0cmluZyAhPT0gbnVsbCAmJiBzZWxlY3RvcklkU3RyaW5nLmxlbmd0aCA+IDApIHtcclxuICAgICAgc2VsZWN0b3IgPSAnIycgKyBzZWxlY3RvcklkU3RyaW5nO1xyXG4gICAgfSBlbHNlIGlmIChzZWxlY3RvckNsYXNzU3RyaW5nICE9PSBudWxsICYmIHNlbGVjdG9yQ2xhc3NTdHJpbmcubGVuZ3RoID4gMCkge1xyXG4gICAgICBzZWxlY3RvciA9ICcuJyArIHNlbGVjdG9yQ2xhc3NTdHJpbmcuc3BsaXQoJyAnKVswXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3Iubm9kZU5hbWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjbG9zZXN0IChlbGVtZW50LCBzZWxlY3Rvcikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coZWxlbWVudCwgc2VsZWN0b3IpO1xyXG4gICAgICBjb25zb2xlLnRyYWNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVsZW1lbnQgIT09IG51bGwgJiYgdHlwZW9mIGVsZW1lbnQgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgIGlmIChzZWxlY3Rvci5tYXRjaChjTGFicy5jbGFzc1NlbGVjdG9yKSAmJiBoYXNDbGFzcyhlbGVtZW50LCBzZWxlY3RvcikpIHtcclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgfSBlbHNlIGlmIChzZWxlY3Rvci5tYXRjaChjTGFicy5pZFNlbGVjdG9yKSAmJiBlbGVtZW50LmlkID09PSBzZWxlY3Rvci5yZXBsYWNlKCcjJywgJycpKSB7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgIH0gZWxzZSBpZiAoc2VsZWN0b3IubWF0Y2goY0xhYnMudGFnU2VsZWN0b3IpICYmIGVsZW1lbnQubm9kZU5hbWUgPT09IHNlbGVjdG9yLnRvVXBwZXJDYXNlKCkpIHtcclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gY2xvc2VzdChlbGVtZW50LCBzZWxlY3Rvcik7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKHR5cGVvZiBlbGVtZW50ID09PSAnb2JqZWN0Jykge1xyXG4gICAgcmV0dXJuIGNsb3Nlc3QoZWxlbWVudCwgc2VsZWN0b3IpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbG9zZXN0O1xyXG4iLCIvKipcclxuICogUHJlcGVuZHMgMCB0aGUgcHJvdmlkZWQgbnVtYmVyIGFuZCByZXR1cm5zIHRoZSBmb3JtYXRlZCBlbGVtZW50IGFzIGEgc3RyaW5nXHJcbiAqIEBwYXJhbSBudW1cclxuICogQHBhcmFtIHNpemUge251bWJlcn1cclxuICogQHJldHVybnMge3N0cmluZ30gMSA9PiAwMDFcclxuICovXHJcbmNvbnN0IGZvcm1hdE51bWJlckxlYWRpbmdaZXJvcyA9IGZ1bmN0aW9uIChudW0sIHNpemUpIHtcclxuICB2YXIgcyA9IFN0cmluZyhudW0pO1xyXG4gIHdoaWxlIChzLmxlbmd0aCA8IHNpemUpIHMgPSAnMCcgKyBzO1xyXG4gIHJldHVybiBzO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zO1xyXG4iLCJjb25zdCBnZXRPZmZzZXQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICB2YXIgX3ggPSAwO1xyXG4gIHZhciBfeSA9IDA7XHJcbiAgd2hpbGUgKGVsICYmICFpc05hTihlbC5vZmZzZXRMZWZ0KSAmJiAhaXNOYU4oZWwub2Zmc2V0VG9wKSkge1xyXG4gICAgX3ggKz0gZWwub2Zmc2V0TGVmdCAtIGVsLnNjcm9sbExlZnQ7XHJcbiAgICBfeSArPSBlbC5vZmZzZXRUb3AgLSBlbC5zY3JvbGxUb3A7XHJcbiAgICBlbCA9IGVsLm9mZnNldFBhcmVudDtcclxuICB9XHJcbiAgcmV0dXJuIHsgdG9wOiBfeSwgbGVmdDogX3ggfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGdldE9mZnNldDtcclxuIiwiLyoqXHJcbiAqIFByb3ZpZGVzIGFuIGFiaWxpdHkgdG8gY2hlY2sgaWYgYSBET00gZWxlbWVudCBjb250YWlucyBhIGNsYXNzIHN0cmluZ1xyXG4gKiBAcGFyYW0gZWxlbWVudFxyXG4gKiBAcGFyYW0gY2xhc3NOYW1lXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIF9oYXNDbGFzcyAoZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnJlcGxhY2UoJy4nLCAnJyk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcclxuICAgICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cCgnKF58ICknICsgY2xhc3NOYW1lICsgJyggfCQpJywgJ2dpJykudGVzdChlbGVtZW50LmNsYXNzTmFtZSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgaWYgKHR5cGVvZiBlLnN0YWNrICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBjb25zb2xlLmxvZyhlLnN0YWNrKTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKGUsIGVsZW1lbnQsIGNsYXNzTmFtZSk7XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgaGFzQ2xhc3MgPSBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgaWYgKHR5cGVvZiBjbGFzc05hbWUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICByZXR1cm4gX2hhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XHJcbiAgfSBlbHNlIGlmIChjbGFzc05hbWUgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgdmFyIGhhc0NsYXNzID0gZmFsc2U7XHJcbiAgICBmb3IgKHZhciBpIGluIGNsYXNzTmFtZSkge1xyXG4gICAgICBpZiAodHlwZW9mIGNsYXNzTmFtZVtpXSA9PT0gJ3N0cmluZycgJiYgX2hhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZVtpXSkpIHtcclxuICAgICAgICBoYXNDbGFzcyA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBoYXNDbGFzcztcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBoYXNDbGFzcztcclxuIiwiZXhwb3J0IHsgZGVmYXVsdCBhcyBzaXplb2YgfSBmcm9tICcuL3NpemVvZic7XHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNFbGVtZW50IH0gZnJvbSAnLi9pc0VsZW1lbnQnO1xyXG5leHBvcnQgeyBkZWZhdWx0IGFzIG9iamVjdENvdW50IH0gZnJvbSAnLi9vYmplY3RDb3VudCc7XHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcmVtb3ZlIH0gZnJvbSAnLi9yZW1vdmUnO1xyXG5leHBvcnQgeyBkZWZhdWx0IGFzIG9iamVjdEl0ZXJhdG9yIH0gZnJvbSAnLi9vYmplY3RJdGVyYXRvcic7XHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgYWRkQ2xhc3MgfSBmcm9tICcuL2FkZENsYXNzJztcclxuZXhwb3J0IHsgZGVmYXVsdCBhcyByZW1vdmVDbGFzcyB9IGZyb20gJy4vcmVtb3ZlQ2xhc3MnO1xyXG5leHBvcnQgeyBkZWZhdWx0IGFzIGhhc0NsYXNzIH0gZnJvbSAnLi9oYXNDbGFzcyc7XHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc3RyaW5nQ29udGFpbnMgfSBmcm9tICcuL3N0cmluZ0NvbnRhaW5zJztcclxuZXhwb3J0IHsgZGVmYXVsdCBhcyBmb3JtYXROdW1iZXJMZWFkaW5nWmVyb3MgfSBmcm9tICcuL2Zvcm1hdE51bWJlckxlYWRpbmdaZXJvcyc7XHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc3RyaXBIdG1sIH0gZnJvbSAnLi9zdHJpcEh0bWwnO1xyXG5leHBvcnQgeyBkZWZhdWx0IGFzIGNsb3Nlc3QgfSBmcm9tICcuL2Nsb3Nlc3QnO1xyXG5leHBvcnQgeyBkZWZhdWx0IGFzIGlzTW9iaWxlVGFibGV0IH0gZnJvbSAnLi9pc01vYmlsZVRhYmxldCc7XHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZ2V0T2Zmc2V0IH0gZnJvbSAnLi9nZXRPZmZzZXQnO1xyXG5leHBvcnQgeyBkZWZhdWx0IGFzIGlzaU9TRGV2aWNlIH0gZnJvbSAnLi9pc2lPU0RldmljZSc7XHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgYXBwZW5kTmV4dCB9IGZyb20gJy4vYXBwZW5kTmV4dCc7XHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcXVlcnkgfSBmcm9tICcuL3F1ZXJ5JztcclxuZXhwb3J0IHsgZGVmYXVsdCBhcyB0cmltIH0gZnJvbSAnLi90cmltJztcclxuZXhwb3J0IHsgZGVmYXVsdCBhcyBtZXJnZU9iamVjdHMgfSBmcm9tICcuL21lcmdlT2JqZWN0cyc7XHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc2Nyb2xsRW5hYmxlZCB9IGZyb20gJy4vc2Nyb2xsRW5hYmxlZCc7XHJcbiIsIi8qKlxyXG4gKiBSZXR1cm5zIHRydWUgaWYgaXQgaXMgYSBET00gZWxlbWVudFxyXG4gKlxyXG4gKiBAcGFyYW0gbyB7T2JqZWN0fVxyXG4gKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gKi9cclxuY29uc3QgaXNFbGVtZW50ID0gZnVuY3Rpb24gKG8pIHtcclxuICByZXR1cm4gKFxyXG4gICAgdHlwZW9mIEhUTUxFbGVtZW50ID09PSAnb2JqZWN0J1xyXG4gICAgICA/IG8gaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxyXG4gICAgICA6IC8qIERPTTIgKi8gbyAmJiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgbyAhPT0gbnVsbCAmJiBvLm5vZGVUeXBlID09PSAxICYmIHR5cGVvZiBvLm5vZGVOYW1lID09PSAnc3RyaW5nJ1xyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBpc0VsZW1lbnQ7XHJcbiIsIi8vIGEgY2hlY2sgdG8gdGVzdCBpZiB0aGUgZGV2aWNlIGlzIGEgbW9iaWxlIG9yIHRhYmxldFxyXG5pbXBvcnQgc3RyaW5nQ29udGFpbnMgZnJvbSAnLi9zdHJpbmdDb250YWlucyc7XHJcblxyXG5jb25zdCBpc01vYmlsZVRhYmxldCA9IGZ1bmN0aW9uICgpIHtcclxuICBsZXQgY2hlY2sgPSBmYWxzZTtcclxuXHJcbiAgKGZ1bmN0aW9uIChhKSB7XHJcbiAgICBpZiAoLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWlub3xhbmRyb2lkfGlwYWR8cGxheWJvb2t8c2lsay9pLnRlc3QoYSkgfHwgLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdChhLnN1YnN0cigwLCA0KSkpIGNoZWNrID0gdHJ1ZTtcclxuICB9KShuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgd2luZG93Lm9wZXJhKTtcclxuXHJcbiAgLy8gY3VzdG9tIHNvbHV0aW9uIGJlY2F1c2UgbGF0ZXN0IGlPUyAxMyB1c2VyQWdlbnQgZG9lc24ndCByZXR1cm4gY29ycmVjdCBtb2JpbGUgaW5mb3JtYXRpb25cclxuICBpZiAoIWNoZWNrKSB7XHJcbiAgICBjaGVjayA9IHN0cmluZ0NvbnRhaW5zKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCksICdtYWNpbnRvc2gnKSAmJiAoJ29udG91Y2hlbmQnIGluIGRvY3VtZW50KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBjaGVjaztcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGlzTW9iaWxlVGFibGV0O1xyXG4iLCIvLyBjaGVjayBpZiBpT1NcclxuY29uc3QgaXNpT1NEZXZpY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuICEhbmF2aWdhdG9yLnBsYXRmb3JtICYmIC9pUChhZHxob25lfG9kKS8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgaXNpT1NEZXZpY2U7XHJcbiIsImltcG9ydCBzaXplb2YgZnJvbSAnLi9zaXplb2YnO1xyXG5cclxuY29uc3QgbWVyZ2VPYmplY3RzID0gZnVuY3Rpb24gKG9iajEsIG9iajIsIGFycmF5VHlwZSkge1xyXG4gIHZhciBvYmozID0gKHR5cGVvZiBhcnJheVR5cGUgPT09ICd1bmRlZmluZWQnIHx8IGFycmF5VHlwZSA9PT0gZmFsc2UpID8ge30gOiBbXTtcclxuXHJcbiAgZm9yIChjb25zdCBpIGluIG9iajEpIHtcclxuICAgIG9iajNbaV0gPSBvYmoxW2ldO1xyXG4gIH1cclxuXHJcbiAgZm9yIChjb25zdCBrIGluIG9iajIpIHtcclxuICAgIGlmICh0eXBlb2Ygb2JqMVtrXSAhPT0gJ29iamVjdCcpIHtcclxuICAgICAgb2JqM1trXSA9IG9iajJba107XHJcbiAgICB9IGVsc2UgaWYgKG9iajFba10gaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICBvYmozW2tdID0gb2JqMltrXTsgLy8gYXJyYXlzIGdldCBvdmVyd3JpdHRlbiBhbmQgbm90IGV4dGVuZGVkXHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmoxW2tdICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygb2JqMVtrXSA9PT0gJ29iamVjdCcgJiYgb2JqMVtrXSAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqMVtrXS5ub2RlVHlwZSA9PT0gJ3VuZGVmaW5lZCcgJiYgc2l6ZW9mKG9iajFba10pID4gMCkge1xyXG4gICAgICBvYmozW2tdID0gbWVyZ2VPYmplY3RzKG9iajFba10sIG9iajJba10pO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqMVtrXSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG9iajFba10gPT09ICdvYmplY3QnKSB7XHJcbiAgICAgIG9iajNba10gPSBvYmoyW2tdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coJ2ZhaWwnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAob2JqM1trXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGRlbGV0ZSBvYmozW2tdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG9iajM7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtZXJnZU9iamVjdHM7XHJcbiIsIi8qKlxyXG4gKiBSZXR1cm5zIGEgY291bnQgb2Ygb2JqZWN0IGZyb20gYSBxdWVyeSByZXN1bHRcclxuICogQHBhcmFtb2JqICB7T2JqZWN0fSBhbnl0aGluZyBvciBBcnJheSBvYmplY3RcclxuICovXHJcbmNvbnN0IG9iamVjdENvdW50ID0gZnVuY3Rpb24gKG9iaikge1xyXG4gIGlmIChvYmogIT09IG51bGwgJiYgb2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkICYmIG9iaiBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICByZXR1cm4gb2JqLmxlbmd0aDtcclxuICB9IGVsc2UgaWYgKG9iaiAhPT0gbnVsbCkge1xyXG4gICAgcmV0dXJuIDE7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG9iamVjdENvdW50O1xyXG4iLCJcclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiBpdCBpcyBhIERPTSBlbGVtZW50XHJcbiAqXHJcbiAqIEBwYXJhbSBvIHtPYmplY3R9XHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqL1xyXG52YXIgaXNFbGVtZW50ID0gZnVuY3Rpb24gKG8pIHsgcmV0dXJuICh0eXBlb2YgSFRNTEVsZW1lbnQgPT09ICdvYmplY3QnID8gbyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IDogLyogRE9NMiAqLyBvICYmIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJiBvICE9PSBudWxsICYmIG8ubm9kZVR5cGUgPT09IDEgJiYgdHlwZW9mIG8ubm9kZU5hbWUgPT09ICdzdHJpbmcnKTsgfTtcclxuXHJcbi8qKlxyXG4gKiBPYmplY3QgaXRlcmF0b3IgLSBiZXN0IHVzYWdlIGlzIGZvciBhIGxpc3Qgb2YgRE9NIGVsZW1lbnRzXHJcbiAqIEBwYXJhbSBvYmpcclxuICogQHBhcmFtIGNhbGxiYWNrXHJcbiAqL1xyXG5jb25zdCBvYmplY3RJdGVyYXRvciA9IGZ1bmN0aW9uIChvYmosIGNhbGxiYWNrKSB7XHJcbiAgaWYgKHR5cGVvZiBvYmogIT09ICd1bmRlZmluZWQnICYmIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgb2JqIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcclxuICAgICAgLy8gYWRkaW5nIGFkZGl0aW9uYWwgY2hlY2sgdG8gc2VlIGlmIG9iamVjdCBpcyBlbGVtZW50IG9yIGFycmF5XHJcbiAgICAgIGlmIChpc0VsZW1lbnQob2JqW2tleV0pKSB7XHJcbiAgICAgICAgY2FsbGJhY2sob2JqW2tleV0sIGtleSwgY291bnQsIG9iai5sZW5ndGgpO1xyXG4gICAgICB9XHJcbiAgICAgIGNvdW50Kys7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqICE9PSAndW5kZWZpbmVkJyAmJiBvYmogIT09IG51bGwpIHtcclxuICAgIC8vIGFkZGluZyBhZGRpdGlvbmFsIGNoZWNrIHRvIHNlZSBpZiBvYmplY3QgaXMgZWxlbWVudCBvciBhcnJheVxyXG4gICAgaWYgKGlzRWxlbWVudChvYmopKSB7XHJcbiAgICAgIGNhbGxiYWNrKG9iaiwgMCwgMCwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgb2JqZWN0SXRlcmF0b3I7XHJcbiIsImltcG9ydCBjTGFicyBmcm9tICcuLi9tb2R1bGVzL2NMYWJzJztcclxuaW1wb3J0IHRyaW0gZnJvbSAnLi90cmltJztcclxuXHJcbi8qKlxyXG4gKiBRdWVyeSBzZWxlY3Rvciwgc3VwcG9ydHMgQ1NTIGVsZW1lbnQgc2VsZWN0aW9uXHJcbiAqXHJcbiAqIFN1cHBvcnRzOlxyXG4gKiAgLSBDbGFzcyBzZWxlY3Rpb246IFwiLmVsZW1lbnRcIlxyXG4gKiAgLSBJRCBzZWxlY3Rpb246IFwiI2VsZW1lbnRcIlxyXG4gKiAgLSBUYWcgc2VsZWN0aW9uOiBcImRpdlwiXHJcbiAqICAtIE11bHRpIGRlcHRoIHNlbGVjdGlvbjogJy5lbGVtZW50IHVsIGxpJ1xyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gXCJvcHRpb25hbFwiXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBDU1MgZWxlbWVudCBzZWxlY3RvclxyXG4gKiBAcmV0dXJucyB7KE9iamVjdHxudWxsfEFycmF5KX0gZGVwZW5kaW5nIG9uIHRoZSBwcm92aWRlZCBzZWxlY3RvciByZXN1bHRzIGNhbiB2YXJ5IChudWxsLCBub2RlLCBOb2RlTGlzdCBhcnJheSlcclxuICovXHJcbmNvbnN0IHF1ZXJ5ID0gZnVuY3Rpb24gKGRvYywgc2VsZWN0b3IpIHtcclxuICB2YXIgcmVzdWx0O1xyXG5cclxuICB2YXIgdG1wRG9jID0gZG9jOyB2YXIgdG1wU2VsZWN0b3IgPSBzZWxlY3RvcjsgLy8gdXNlZCBmb3IgZGVidWcgb25seVxyXG5cclxuICBpZiAodHlwZW9mIGRvYyA9PT0gJ3N0cmluZycgJiYgc2VsZWN0b3IgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgc2VsZWN0b3IgPSBkb2M7XHJcbiAgICBkb2MgPSBkb2N1bWVudDtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBpZiAoZG9jICE9PSBudWxsKSB7XHJcbiAgICAgIHNlbGVjdG9yID0gdHJpbShzZWxlY3Rvcik7IC8vXHJcblxyXG4gICAgICBpZiAoc2VsZWN0b3IubWF0Y2goY0xhYnMuY2xhc3NTZWxlY3RvcikpIHtcclxuICAgICAgICByZXN1bHQgPSBkb2MuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShzZWxlY3Rvci5yZXBsYWNlKCcuJywgJycpKTtcclxuICAgICAgfSBlbHNlIGlmIChzZWxlY3Rvci5tYXRjaChjTGFicy5pZFNlbGVjdG9yKSkge1xyXG4gICAgICAgIHJlc3VsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGVjdG9yLnJlcGxhY2UoJyMnLCAnJykpO1xyXG4gICAgICB9IGVsc2UgaWYgKHNlbGVjdG9yLm1hdGNoKGNMYWJzLnRhZ1NlbGVjdG9yKSkge1xyXG4gICAgICAgIHJlc3VsdCA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShzZWxlY3Rvcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzdWx0ID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJlc3VsdCAhPT0gbnVsbCAmJiByZXN1bHQgIT09IHVuZGVmaW5lZCAmJiByZXN1bHQubm9kZVR5cGUpIHtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0gZWxzZSBpZiAocmVzdWx0ICE9PSBudWxsICYmIHJlc3VsdCAhPT0gdW5kZWZpbmVkICYmIHJlc3VsdC5sZW5ndGggPT09IDEpIHtcclxuICAgICAgcmV0dXJuIHJlc3VsdFswXTtcclxuICAgIH0gZWxzZSBpZiAocmVzdWx0ICE9PSBudWxsICYmIHJlc3VsdCAhPT0gdW5kZWZpbmVkICYmIHJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChyZXN1bHQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5sb2coZSk7XHJcbiAgICBjb25zb2xlLmxvZyh0bXBTZWxlY3Rvcik7XHJcbiAgICBjb25zb2xlLmxvZyh0bXBEb2MpO1xyXG4gICAgY29uc29sZS5sb2coZG9jLCBzZWxlY3Rvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcXVlcnk7XHJcbiIsIi8qKlxyXG4gKiBSZW1vdmVzIGFuIEhUTUwgRE9NIGVsZW1lbnRcclxuICogQHBhcmFtb2JqIGVsIHtPYmplY3R9IERPTSBlbGVtZW50XHJcbiAqL1xyXG5jb25zdCByZW1vdmUgPSBmdW5jdGlvbiAoZWwpIHtcclxuICBpZiAoZWwgIT09IG51bGwpIHtcclxuICAgIGVsLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWwpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJlbW92ZTtcclxuIiwiLyoqXHJcbiAqIFJlbW92ZSBjbGFzcyBzdHJpbmcgZnJvbSBwcm92aWRlZCBET00gZWxlbWVudFxyXG4gKiBAcGFyYW0gZWxlbWVudFxyXG4gKiBAcGFyYW0gY2xhc3NOYW1lXHJcbiAqIEByZXR1cm5zIHt7Y2xhc3NMaXN0fXwqfVxyXG4gKi9cclxuY29uc3QgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgdHJ5IHtcclxuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xyXG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXFxcYiknICsgY2xhc3NOYW1lLnNwbGl0KCcgJykuam9pbignfCcpICsgJyhcXFxcYnwkKScsICdnaScpLCAnICcpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKGVsZW1lbnQsIGNsYXNzTmFtZSk7XHJcbiAgICAvLyBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgLy8gY29uc29sZS50cmFjZSgpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGVsZW1lbnQ7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCByZW1vdmVDbGFzcztcclxuIiwiY29uc3Qgc2Nyb2xsRW5hYmxlZCA9IGZ1bmN0aW9uIChkb2MpIHtcclxuICByZXR1cm4gKGRvYyAhPT0gbnVsbCkgPyAoZG9jLnNjcm9sbEhlaWdodCA+IGRvYy5vZmZzZXRIZWlnaHQpIDogZmFsc2U7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBzY3JvbGxFbmFibGVkO1xyXG4iLCJpbXBvcnQgaXNFbGVtZW50IGZyb20gJy4vaXNFbGVtZW50JztcclxuXHJcbi8qKlxyXG4gKiByZXR1cm5zIHRoZSBzaXplIG9mIGFuIE9iamVjdCBvciBhcnJheVxyXG4gKlxyXG4gKiBAcGFyYW0gb2JqIHtPYmplY3R9XHJcbiAqIEByZXR1cm4ge051bWJlcn1cclxuICovXHJcbmNvbnN0IHNpemVvZiA9IGZ1bmN0aW9uIChvYmopIHtcclxuICBsZXQgc2l6ZSA9IDA7IGxldCBrZXk7XHJcbiAgZm9yIChrZXkgaW4gb2JqKSB7XHJcbiAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHNpemUrKztcclxuICB9XHJcblxyXG4gIGlmIChzaXplID09PSAwICYmIGlzRWxlbWVudChvYmopKSB7XHJcbiAgICBzaXplID0gMTtcclxuICB9XHJcblxyXG4gIHJldHVybiBzaXplO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgc2l6ZW9mO1xyXG4iLCIvKipcclxuICogQSBjaGVjayBpZiBhIHN0cmluZyBjb250YWlucyBhbiBlbnRyeSBvZiBzZWFyY2hlZCBmb3IgdGVybVxyXG4gKiBAcGFyYW0gc3RyIHtzdHJpbmd9XHJcbiAqIEBwYXJhbSBwYXJ0aWFsIHtzdHJpbmd9XHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuY29uc3Qgc3RyaW5nQ29udGFpbnMgPSBmdW5jdGlvbiAoc3RyLCBwYXJ0aWFsKSB7XHJcbiAgcmV0dXJuIChzdHIuaW5kZXhPZihwYXJ0aWFsKSA+IC0xKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHN0cmluZ0NvbnRhaW5zO1xyXG4iLCIvKipcclxuICogUmVtb3ZlcyBIVE1MIHRhZ3MgZnJvbSB0aGUgcHJvdmlkZWQgaW5wdXQgYW5kIHJldHVybnMgb25seSB0aGUgdGV4dFxyXG4gKiAtIHRoaXMgaXMgYSB2ZXJ5IGJhc2ljIGltcGxlbWVudGF0aW9uIGFuZCBzaG91bGQgYmUgdXNlZCBjYXJlZnVsbHlcclxuICogQHBhcmFtIGh0bWwge3N0cmluZ31cclxuICogQHJldHVybnMge3N0cmluZyB8IHN0cmluZ31cclxuICovXHJcbmNvbnN0IHN0cmlwSHRtbCA9IGZ1bmN0aW9uIChodG1sKSB7XHJcbiAgdmFyIHRtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG4gIHRtcC5pbm5lckhUTUwgPSBodG1sO1xyXG4gIHJldHVybiB0bXAudGV4dENvbnRlbnQgfHwgdG1wLmlubmVyVGV4dCB8fCAnJztcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHN0cmlwSHRtbDtcclxuIiwiY29uc3QgdHJpbSA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcclxuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHRyaW07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=